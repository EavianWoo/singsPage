var zP=Object.defineProperty;var $P=(t,e,n)=>e in t?zP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mt=(t,e,n)=>$P(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Ey(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const kn={},hc=[],Zt=()=>{},HP=()=>!1,VP=/^on[^a-z]/,Nh=t=>VP.test(t),Ty=t=>t.startsWith("onUpdate:"),os=Object.assign,My=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},WP=Object.prototype.hasOwnProperty,$t=(t,e)=>WP.call(t,e),Ue=Array.isArray,mc=t=>Hd(t)==="[object Map]",Uh=t=>Hd(t)==="[object Set]",ri=t=>Hd(t)==="[object Date]",ct=t=>typeof t=="function",ot=t=>typeof t=="string",od=t=>typeof t=="symbol",Mt=t=>t!==null&&typeof t=="object",ad=t=>Mt(t)&&ct(t.then)&&ct(t.catch),DA=Object.prototype.toString,Hd=t=>DA.call(t),GP=t=>Hd(t).slice(8,-1),id=t=>Hd(t)==="[object Object]",Iy=t=>ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hp=Ey(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},KP=/-(\w)/g,wr=zh(t=>t.replace(KP,(e,n)=>n?n.toUpperCase():"")),jP=/\B([A-Z])/g,gi=zh(t=>t.replace(jP,"-$1").toLowerCase()),Vd=zh(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hu=zh(t=>t?`on${Vd(t)}`:""),ld=(t,e)=>!Object.is(t,e),mp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Qp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ag=t=>{const e=parseFloat(t);return isNaN(e)?t:e},qP=t=>{const e=ot(t)?Number(t):NaN;return isNaN(e)?t:e};let c_;const ig=()=>c_||(c_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rt(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ot(s)?ZP(s):rt(s);if(r)for(const o in r)e[o]=r[o]}return e}else{if(ot(t))return t;if(Mt(t))return t}}const YP=/;(?![^(]*\))/g,XP=/:([^]+)/,QP=/\/\*[^]*?\*\//g;function ZP(t){const e={};return t.replace(QP,"").split(YP).forEach(n=>{if(n){const s=n.split(XP);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function F(t){let e="";if(ot(t))e=t;else if(Ue(t))for(let n=0;n<t.length;n++){const s=F(t[n]);s&&(e+=s+" ")}else if(Mt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function lo(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ot(e)&&(t.class=F(e)),n&&(t.style=rt(n)),t}const JP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eD=Ey(JP);function kA(t){return!!t||t===""}function tD(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ic(t[s],e[s]);return n}function Ic(t,e){if(t===e)return!0;let n=ri(t),s=ri(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=od(t),s=od(e),n||s)return t===e;if(n=Ue(t),s=Ue(e),n||s)return n&&s?tD(t,e):!1;if(n=Mt(t),s=Mt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const a in t){const i=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(i&&!l||!i&&l||!Ic(t[a],e[a]))return!1}}return String(t)===String(e)}function LA(t,e){return t.findIndex(n=>Ic(n,e))}const Ne=t=>ot(t)?t:t==null?"":Ue(t)||Mt(t)&&(t.toString===DA||!ct(t.toString))?JSON.stringify(t,OA,2):String(t),OA=(t,e)=>e&&e.__v_isRef?OA(t,e.value):mc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Uh(e)?{[`Set(${e.size})`]:[...e.values()]}:Mt(e)&&!Ue(e)&&!id(e)?String(e):e;let fr;class BA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fr,!e&&fr&&(this.index=(fr.scopes||(fr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=fr;try{return fr=this,e()}finally{fr=n}}}on(){fr=this}off(){fr=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function nD(t){return new BA(t)}function sD(t,e=fr){e&&e.active&&e.effects.push(t)}function FA(){return fr}function NA(t){fr&&fr.cleanups.push(t)}const Ry=t=>{const e=new Set(t);return e.w=0,e.n=0,e},UA=t=>(t.w&oi)>0,zA=t=>(t.n&oi)>0,rD=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=oi},oD=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];UA(r)&&!zA(r)?r.delete(t):e[n++]=r,r.w&=~oi,r.n&=~oi}e.length=n}},Zp=new WeakMap;let Bu=0,oi=1;const lg=30;let ao;const tl=Symbol(""),cg=Symbol("");class Py{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,sD(this,s)}run(){if(!this.active)return this.fn();let e=ao,n=Xa;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ao,ao=this,Xa=!0,oi=1<<++Bu,Bu<=lg?rD(this):u_(this),this.fn()}finally{Bu<=lg&&oD(this),oi=1<<--Bu,ao=this.parent,Xa=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ao===this?this.deferStop=!0:this.active&&(u_(this),this.onStop&&this.onStop(),this.active=!1)}}function u_(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Xa=!0;const $A=[];function ru(){$A.push(Xa),Xa=!1}function ou(){const t=$A.pop();Xa=t===void 0?!0:t}function ar(t,e,n){if(Xa&&ao){let s=Zp.get(t);s||Zp.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Ry()),HA(r)}}function HA(t,e){let n=!1;Bu<=lg?zA(t)||(t.n|=oi,n=!UA(t)):n=!t.has(ao),n&&(t.add(ao),ao.deps.push(t))}function ua(t,e,n,s,r,o){const a=Zp.get(t);if(!a)return;let i=[];if(e==="clear")i=[...a.values()];else if(n==="length"&&Ue(t)){const l=Number(s);a.forEach((c,u)=>{(u==="length"||u>=l)&&i.push(c)})}else switch(n!==void 0&&i.push(a.get(n)),e){case"add":Ue(t)?Iy(n)&&i.push(a.get("length")):(i.push(a.get(tl)),mc(t)&&i.push(a.get(cg)));break;case"delete":Ue(t)||(i.push(a.get(tl)),mc(t)&&i.push(a.get(cg)));break;case"set":mc(t)&&i.push(a.get(tl));break}if(i.length===1)i[0]&&ug(i[0]);else{const l=[];for(const c of i)c&&l.push(...c);ug(Ry(l))}}function ug(t,e){const n=Ue(t)?t:[...t];for(const s of n)s.computed&&d_(s);for(const s of n)s.computed||d_(s)}function d_(t,e){(t!==ao||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function aD(t,e){var n;return(n=Zp.get(t))==null?void 0:n.get(e)}const iD=Ey("__proto__,__v_isRef,__isVue"),VA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(od)),lD=Dy(),cD=Dy(!1,!0),uD=Dy(!0),f_=dD();function dD(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=rn(this);for(let o=0,a=this.length;o<a;o++)ar(s,"get",o+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(rn)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ru();const s=rn(this)[e].apply(this,n);return ou(),s}}),t}function fD(t){const e=rn(this);return ar(e,"has",t),e.hasOwnProperty(t)}function Dy(t=!1,e=!1){return function(s,r,o){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&o===(t?e?MD:qA:e?jA:KA).get(s))return s;const a=Ue(s);if(!t){if(a&&$t(f_,r))return Reflect.get(f_,r,o);if(r==="hasOwnProperty")return fD}const i=Reflect.get(s,r,o);return(od(r)?VA.has(r):iD(r))||(t||ar(s,"get",r),e)?i:fn(i)?a&&Iy(r)?i:i.value:Mt(i)?t?au(i):qt(i):i}}const pD=WA(),hD=WA(!0);function WA(t=!1){return function(n,s,r,o){let a=n[s];if(Rc(a)&&fn(a)&&!fn(r))return!1;if(!t&&(!Jp(r)&&!Rc(r)&&(a=rn(a),r=rn(r)),!Ue(n)&&fn(a)&&!fn(r)))return a.value=r,!0;const i=Ue(n)&&Iy(s)?Number(s)<n.length:$t(n,s),l=Reflect.set(n,s,r,o);return n===rn(o)&&(i?ld(r,a)&&ua(n,"set",s,r):ua(n,"add",s,r)),l}}function mD(t,e){const n=$t(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&ua(t,"delete",e,void 0),s}function vD(t,e){const n=Reflect.has(t,e);return(!od(e)||!VA.has(e))&&ar(t,"has",e),n}function gD(t){return ar(t,"iterate",Ue(t)?"length":tl),Reflect.ownKeys(t)}const GA={get:lD,set:pD,deleteProperty:mD,has:vD,ownKeys:gD},yD={get:uD,set(t,e){return!0},deleteProperty(t,e){return!0}},bD=os({},GA,{get:cD,set:hD}),ky=t=>t,$h=t=>Reflect.getPrototypeOf(t);function uf(t,e,n=!1,s=!1){t=t.__v_raw;const r=rn(t),o=rn(e);n||(e!==o&&ar(r,"get",e),ar(r,"get",o));const{has:a}=$h(r),i=s?ky:n?By:cd;if(a.call(r,e))return i(t.get(e));if(a.call(r,o))return i(t.get(o));t!==r&&t.get(e)}function df(t,e=!1){const n=this.__v_raw,s=rn(n),r=rn(t);return e||(t!==r&&ar(s,"has",t),ar(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function ff(t,e=!1){return t=t.__v_raw,!e&&ar(rn(t),"iterate",tl),Reflect.get(t,"size",t)}function p_(t){t=rn(t);const e=rn(this);return $h(e).has.call(e,t)||(e.add(t),ua(e,"add",t,t)),this}function h_(t,e){e=rn(e);const n=rn(this),{has:s,get:r}=$h(n);let o=s.call(n,t);o||(t=rn(t),o=s.call(n,t));const a=r.call(n,t);return n.set(t,e),o?ld(e,a)&&ua(n,"set",t,e):ua(n,"add",t,e),this}function m_(t){const e=rn(this),{has:n,get:s}=$h(e);let r=n.call(e,t);r||(t=rn(t),r=n.call(e,t)),s&&s.call(e,t);const o=e.delete(t);return r&&ua(e,"delete",t,void 0),o}function v_(){const t=rn(this),e=t.size!==0,n=t.clear();return e&&ua(t,"clear",void 0,void 0),n}function pf(t,e){return function(s,r){const o=this,a=o.__v_raw,i=rn(a),l=e?ky:t?By:cd;return!t&&ar(i,"iterate",tl),a.forEach((c,u)=>s.call(r,l(c),l(u),o))}}function hf(t,e,n){return function(...s){const r=this.__v_raw,o=rn(r),a=mc(o),i=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=r[t](...s),u=n?ky:e?By:cd;return!e&&ar(o,"iterate",l?cg:tl),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:i?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Ma(t){return function(...e){return t==="delete"?!1:this}}function SD(){const t={get(o){return uf(this,o)},get size(){return ff(this)},has:df,add:p_,set:h_,delete:m_,clear:v_,forEach:pf(!1,!1)},e={get(o){return uf(this,o,!1,!0)},get size(){return ff(this)},has:df,add:p_,set:h_,delete:m_,clear:v_,forEach:pf(!1,!0)},n={get(o){return uf(this,o,!0)},get size(){return ff(this,!0)},has(o){return df.call(this,o,!0)},add:Ma("add"),set:Ma("set"),delete:Ma("delete"),clear:Ma("clear"),forEach:pf(!0,!1)},s={get(o){return uf(this,o,!0,!0)},get size(){return ff(this,!0)},has(o){return df.call(this,o,!0)},add:Ma("add"),set:Ma("set"),delete:Ma("delete"),clear:Ma("clear"),forEach:pf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=hf(o,!1,!1),n[o]=hf(o,!0,!1),e[o]=hf(o,!1,!0),s[o]=hf(o,!0,!0)}),[t,n,e,s]}const[_D,wD,CD,xD]=SD();function Ly(t,e){const n=e?t?xD:CD:t?wD:_D;return(s,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get($t(n,r)&&r in s?n:s,r,o)}const AD={get:Ly(!1,!1)},ED={get:Ly(!1,!0)},TD={get:Ly(!0,!1)},KA=new WeakMap,jA=new WeakMap,qA=new WeakMap,MD=new WeakMap;function ID(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function RD(t){return t.__v_skip||!Object.isExtensible(t)?0:ID(GP(t))}function qt(t){return Rc(t)?t:Oy(t,!1,GA,AD,KA)}function YA(t){return Oy(t,!1,bD,ED,jA)}function au(t){return Oy(t,!0,yD,TD,qA)}function Oy(t,e,n,s,r){if(!Mt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const a=RD(t);if(a===0)return t;const i=new Proxy(t,a===2?s:n);return r.set(t,i),i}function vc(t){return Rc(t)?vc(t.__v_raw):!!(t&&t.__v_isReactive)}function Rc(t){return!!(t&&t.__v_isReadonly)}function Jp(t){return!!(t&&t.__v_isShallow)}function XA(t){return vc(t)||Rc(t)}function rn(t){const e=t&&t.__v_raw;return e?rn(e):t}function ia(t){return Qp(t,"__v_skip",!0),t}const cd=t=>Mt(t)?qt(t):t,By=t=>Mt(t)?au(t):t;function Fy(t){Xa&&ao&&(t=rn(t),HA(t.dep||(t.dep=Ry())))}function Ny(t,e){t=rn(t);const n=t.dep;n&&ug(n)}function fn(t){return!!(t&&t.__v_isRef===!0)}function z(t){return QA(t,!1)}function dn(t){return QA(t,!0)}function QA(t,e){return fn(t)?t:new PD(t,e)}class PD{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:rn(e),this._value=n?e:cd(e)}get value(){return Fy(this),this._value}set value(e){const n=this.__v_isShallow||Jp(e)||Rc(e);e=n?e:rn(e),ld(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:cd(e),Ny(this))}}function f(t){return fn(t)?t.value:t}const DD={get:(t,e,n)=>f(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return fn(r)&&!fn(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function ZA(t){return vc(t)?t:new Proxy(t,DD)}class kD{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=e(()=>Fy(this),()=>Ny(this));this._get=n,this._set=s}get value(){return this._get()}set value(e){this._set(e)}}function LD(t){return new kD(t)}function as(t){const e=Ue(t)?new Array(t.length):{};for(const n in t)e[n]=JA(t,n);return e}class OD{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return aD(rn(this._object),this._key)}}class BD{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Yt(t,e,n){return fn(t)?t:ct(t)?new BD(t):Mt(t)&&arguments.length>1?JA(t,e,n):z(t)}function JA(t,e,n){const s=t[e];return fn(s)?s:new OD(t,e,n)}class FD{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Py(e,()=>{this._dirty||(this._dirty=!0,Ny(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=rn(this);return Fy(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ND(t,e,n=!1){let s,r;const o=ct(t);return o?(s=t,r=Zt):(s=t.get,r=t.set),new FD(s,r,o||!r,n)}function UD(t,...e){}function Qa(t,e,n,s){let r;try{r=s?t(...s):t()}catch(o){Hh(o,e,n)}return r}function Ur(t,e,n,s){if(ct(t)){const o=Qa(t,e,n,s);return o&&ad(o)&&o.catch(a=>{Hh(a,e,n)}),o}const r=[];for(let o=0;o<t.length;o++)r.push(Ur(t[o],e,n,s));return r}function Hh(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,i=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,a,i)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Qa(l,null,10,[t,a,i]);return}}zD(t,n,r,s)}function zD(t,e,n,s=!0){console.error(t)}let ud=!1,dg=!1;const Rs=[];let xo=0;const gc=[];let Jo=null,Bi=0;const eE=Promise.resolve();let Uy=null;function lt(t){const e=Uy||eE;return t?e.then(this?t.bind(this):t):e}function $D(t){let e=xo+1,n=Rs.length;for(;e<n;){const s=e+n>>>1;dd(Rs[s])<t?e=s+1:n=s}return e}function zy(t){(!Rs.length||!Rs.includes(t,ud&&t.allowRecurse?xo+1:xo))&&(t.id==null?Rs.push(t):Rs.splice($D(t.id),0,t),tE())}function tE(){!ud&&!dg&&(dg=!0,Uy=eE.then(sE))}function HD(t){const e=Rs.indexOf(t);e>xo&&Rs.splice(e,1)}function VD(t){Ue(t)?gc.push(...t):(!Jo||!Jo.includes(t,t.allowRecurse?Bi+1:Bi))&&gc.push(t),tE()}function g_(t,e=ud?xo+1:0){for(;e<Rs.length;e++){const n=Rs[e];n&&n.pre&&(Rs.splice(e,1),e--,n())}}function nE(t){if(gc.length){const e=[...new Set(gc)];if(gc.length=0,Jo){Jo.push(...e);return}for(Jo=e,Jo.sort((n,s)=>dd(n)-dd(s)),Bi=0;Bi<Jo.length;Bi++)Jo[Bi]();Jo=null,Bi=0}}const dd=t=>t.id==null?1/0:t.id,WD=(t,e)=>{const n=dd(t)-dd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function sE(t){dg=!1,ud=!0,Rs.sort(WD);try{for(xo=0;xo<Rs.length;xo++){const e=Rs[xo];e&&e.active!==!1&&Qa(e,null,14)}}finally{xo=0,Rs.length=0,nE(),ud=!1,Uy=null,(Rs.length||gc.length)&&sE()}}function GD(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||kn;let r=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in s){const u=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:h}=s[u]||kn;h&&(r=n.map(p=>ot(p)?p.trim():p)),d&&(r=n.map(ag))}let i,l=s[i=Hu(e)]||s[i=Hu(wr(e))];!l&&o&&(l=s[i=Hu(gi(e))]),l&&Ur(l,t,6,r);const c=s[i+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[i])return;t.emitted[i]=!0,Ur(c,t,6,r)}}function rE(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const o=t.emits;let a={},i=!1;if(!ct(t)){const l=c=>{const u=rE(c,e,!0);u&&(i=!0,os(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!i?(Mt(t)&&s.set(t,null),null):(Ue(o)?o.forEach(l=>a[l]=null):os(a,o),Mt(t)&&s.set(t,a),a)}function Vh(t,e){return!t||!Nh(e)?!1:(e=e.slice(2).replace(/Once$/,""),$t(t,e[0].toLowerCase()+e.slice(1))||$t(t,gi(e))||$t(t,e))}let Ss=null,Wh=null;function eh(t){const e=Ss;return Ss=t,Wh=t&&t.type.__scopeId||null,e}function bl(t){Wh=t}function Sl(){Wh=null}function te(t,e=Ss,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&P_(-1);const o=eh(e);let a;try{a=t(...r)}finally{eh(o),s._d&&P_(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function y_(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[a],slots:i,attrs:l,emit:c,render:u,renderCache:d,data:h,setupState:p,ctx:v,inheritAttrs:m}=t;let y,g;const _=eh(t);try{if(n.shapeFlag&4){const S=r||s;y=wo(u.call(S,S,d,o,p,h,v)),g=l}else{const S=e;y=wo(S.length>1?S(o,{attrs:l,slots:i,emit:c}):S(o,null)),g=e.props?l:KD(l)}}catch(S){Ku.length=0,Hh(S,t,1),y=j(Ls)}let b=y;if(g&&m!==!1){const S=Object.keys(g),{shapeFlag:w}=b;S.length&&w&7&&(a&&S.some(Ty)&&(g=jD(g,a)),b=da(b,g))}return n.dirs&&(b=da(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),y=b,eh(_),y}const KD=t=>{let e;for(const n in t)(n==="class"||n==="style"||Nh(n))&&((e||(e={}))[n]=t[n]);return e},jD=(t,e)=>{const n={};for(const s in t)(!Ty(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function qD(t,e,n){const{props:s,children:r,component:o}=t,{props:a,children:i,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?b_(s,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(a[h]!==s[h]&&!Vh(c,h))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:s===a?!1:s?a?b_(s,a,c):!0:!!a;return!1}function b_(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(e[o]!==t[o]&&!Vh(n,o))return!0}return!1}function YD({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const XD=t=>t.__isSuspense;function QD(t,e){e&&e.pendingBranch?Ue(t)?e.effects.push(...t):e.effects.push(t):VD(t)}function _s(t,e){return $y(t,null,e)}const mf={};function De(t,e,n){return $y(t,e,n)}function $y(t,e,{immediate:n,deep:s,flush:r,onTrack:o,onTrigger:a}=kn){var i;const l=FA()===((i=fs)==null?void 0:i.scope)?fs:null;let c,u=!1,d=!1;if(fn(t)?(c=()=>t.value,u=Jp(t)):vc(t)?(c=()=>t,s=!0):Ue(t)?(d=!0,u=t.some(S=>vc(S)||Jp(S)),c=()=>t.map(S=>{if(fn(S))return S.value;if(vc(S))return Gi(S);if(ct(S))return Qa(S,l,2)})):ct(t)?e?c=()=>Qa(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),Ur(t,l,3,[p])}:c=Zt,e&&s){const S=c;c=()=>Gi(S())}let h,p=S=>{h=_.onStop=()=>{Qa(S,l,4)}},v;if(md)if(p=Zt,e?n&&Ur(e,l,3,[c(),d?[]:void 0,p]):c(),r==="sync"){const S=Uk();v=S.__watcherHandles||(S.__watcherHandles=[])}else return Zt;let m=d?new Array(t.length).fill(mf):mf;const y=()=>{if(_.active)if(e){const S=_.run();(s||u||(d?S.some((w,C)=>ld(w,m[C])):ld(S,m)))&&(h&&h(),Ur(e,l,3,[S,m===mf?void 0:d&&m[0]===mf?[]:m,p]),m=S)}else _.run()};y.allowRecurse=!!e;let g;r==="sync"?g=y:r==="post"?g=()=>er(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),g=()=>zy(y));const _=new Py(c,g);e?n?y():m=_.run():r==="post"?er(_.run.bind(_),l&&l.suspense):_.run();const b=()=>{_.stop(),l&&l.scope&&My(l.scope.effects,_)};return v&&v.push(b),b}function ZD(t,e,n){const s=this.proxy,r=ot(t)?t.includes(".")?oE(s,t):()=>s[t]:t.bind(s,s);let o;ct(e)?o=e:(o=e.handler,n=e);const a=fs;Pc(this);const i=$y(r,o.bind(s),n);return a?Pc(a):nl(),i}function oE(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Gi(t,e){if(!Mt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),fn(t))Gi(t.value,e);else if(Ue(t))for(let n=0;n<t.length;n++)Gi(t[n],e);else if(Uh(t)||mc(t))t.forEach(n=>{Gi(n,e)});else if(id(t))for(const n in t)Gi(t[n],e);return t}function Ct(t,e){const n=Ss;if(n===null)return t;const s=Xh(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[a,i,l,c=kn]=e[o];a&&(ct(a)&&(a={mounted:a,updated:a}),a.deep&&Gi(i),r.push({dir:a,instance:s,value:i,oldValue:void 0,arg:l,modifiers:c}))}return t}function xi(t,e,n,s){const r=t.dirs,o=e&&e.dirs;for(let a=0;a<r.length;a++){const i=r[a];o&&(i.oldValue=o[a].value);let l=i.dir[s];l&&(ru(),Ur(l,n,8,[t.el,i,t,e]),ou())}}function aE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return wt(()=>{t.isMounted=!0}),Qt(()=>{t.isUnmounting=!0}),t}const Tr=[Function,Array],iE={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tr,onEnter:Tr,onAfterEnter:Tr,onEnterCancelled:Tr,onBeforeLeave:Tr,onLeave:Tr,onAfterLeave:Tr,onLeaveCancelled:Tr,onBeforeAppear:Tr,onAppear:Tr,onAfterAppear:Tr,onAppearCancelled:Tr},JD={name:"BaseTransition",props:iE,setup(t,{slots:e}){const n=It(),s=aE();let r;return()=>{const o=e.default&&Hy(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const m of o)if(m.type!==Ls){a=m;break}}const i=rn(t),{mode:l}=i;if(s.isLeaving)return km(a);const c=S_(a);if(!c)return km(a);const u=fd(c,i,s,n);pd(c,u);const d=n.subTree,h=d&&S_(d);let p=!1;const{getTransitionKey:v}=c.type;if(v){const m=v();r===void 0?r=m:m!==r&&(r=m,p=!0)}if(h&&h.type!==Ls&&(!Fi(c,h)||p)){const m=fd(h,i,s,n);if(pd(h,m),l==="out-in")return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},km(a);l==="in-out"&&c.type!==Ls&&(m.delayLeave=(y,g,_)=>{const b=lE(s,h);b[String(h.key)]=h,y._leaveCb=()=>{g(),y._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=_})}return a}}},ek=JD;function lE(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function fd(t,e,n,s){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:i,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:m,onAppear:y,onAfterAppear:g,onAppearCancelled:_}=e,b=String(t.key),S=lE(n,t),w=(T,x)=>{T&&Ur(T,s,9,x)},C=(T,x)=>{const E=x[1];w(T,x),Ue(T)?T.every(M=>M.length<=1)&&E():T.length<=1&&E()},A={mode:o,persisted:a,beforeEnter(T){let x=i;if(!n.isMounted)if(r)x=m||i;else return;T._leaveCb&&T._leaveCb(!0);const E=S[b];E&&Fi(t,E)&&E.el._leaveCb&&E.el._leaveCb(),w(x,[T])},enter(T){let x=l,E=c,M=u;if(!n.isMounted)if(r)x=y||l,E=g||c,M=_||u;else return;let I=!1;const k=T._enterCb=U=>{I||(I=!0,U?w(M,[T]):w(E,[T]),A.delayedLeave&&A.delayedLeave(),T._enterCb=void 0)};x?C(x,[T,k]):k()},leave(T,x){const E=String(t.key);if(T._enterCb&&T._enterCb(!0),n.isUnmounting)return x();w(d,[T]);let M=!1;const I=T._leaveCb=k=>{M||(M=!0,x(),k?w(v,[T]):w(p,[T]),T._leaveCb=void 0,S[E]===t&&delete S[E])};S[E]=t,h?C(h,[T,I]):I()},clone(T){return fd(T,e,n,s)}};return A}function km(t){if(Gh(t))return t=da(t),t.children=null,t}function S_(t){return Gh(t)?t.children?t.children[0]:void 0:t}function pd(t,e){t.shapeFlag&6&&t.component?pd(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Hy(t,e=!1,n){let s=[],r=0;for(let o=0;o<t.length;o++){let a=t[o];const i=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===Ze?(a.patchFlag&128&&r++,s=s.concat(Hy(a.children,e,i))):(e||a.type!==Ls)&&s.push(i!=null?da(a,{key:i}):a)}if(r>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function se(t,e){return ct(t)?os({name:t.name},e,{setup:t}):t}const Vu=t=>!!t.type.__asyncLoader,Gh=t=>t.type.__isKeepAlive;function Vy(t,e){uE(t,"a",e)}function cE(t,e){uE(t,"da",e)}function uE(t,e,n=fs){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Kh(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Gh(r.parent.vnode)&&tk(s,e,n,r),r=r.parent}}function tk(t,e,n,s){const r=Kh(e,t,s,!0);ya(()=>{My(s[e],r)},n)}function Kh(t,e,n=fs,s=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;ru(),Pc(n);const i=Ur(e,n,t,a);return nl(),ou(),i});return s?r.unshift(o):r.push(o),o}}const ga=t=>(e,n=fs)=>(!md||t==="sp")&&Kh(t,(...s)=>e(...s),n),jh=ga("bm"),wt=ga("m"),Wy=ga("bu"),qr=ga("u"),Qt=ga("bum"),ya=ga("um"),nk=ga("sp"),sk=ga("rtg"),rk=ga("rtc");function ok(t,e=fs){Kh("ec",t,e)}const Gy="components",ak="directives";function et(t,e){return Ky(Gy,t,!0,e)||t}const dE=Symbol.for("v-ndc");function Rt(t){return ot(t)?Ky(Gy,t,!1)||t:t||dE}function qh(t){return Ky(ak,t)}function Ky(t,e,n=!0,s=!1){const r=Ss||fs;if(r){const o=r.type;if(t===Gy){const i=Bk(o,!1);if(i&&(i===e||i===wr(e)||i===Vd(wr(e))))return o}const a=__(r[t]||o[t],e)||__(r.appContext[t],e);return!a&&s?o:a}}function __(t,e){return t&&(t[e]||t[wr(e)]||t[Vd(wr(e))])}function Tt(t,e,n,s){let r;const o=n;if(Ue(t)||ot(t)){r=new Array(t.length);for(let a=0,i=t.length;a<i;a++)r[a]=e(t[a],a,void 0,o)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o)}else if(Mt(t))if(t[Symbol.iterator])r=Array.from(t,(a,i)=>e(a,i,void 0,o));else{const a=Object.keys(t);r=new Array(a.length);for(let i=0,l=a.length;i<l;i++){const c=a[i];r[i]=e(t[c],c,i,o)}}else r=[];return r}function Hr(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(Ue(s))for(let r=0;r<s.length;r++)t[s[r].name]=s[r].fn;else s&&(t[s.name]=s.key?(...r)=>{const o=s.fn(...r);return o&&(o.key=s.key),o}:s.fn)}return t}function pe(t,e,n={},s,r){if(Ss.isCE||Ss.parent&&Vu(Ss.parent)&&Ss.parent.isCE)return e!=="default"&&(n.name=e),j("slot",n,s&&s());let o=t[e];o&&o._c&&(o._d=!1),D();const a=o&&fE(o(n)),i=_e(Ze,{key:n.key||a&&a.key||`_${e}`},a||(s?s():[]),a&&t._===1?64:-2);return i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),o&&o._c&&(o._d=!0),i}function fE(t){return t.some(e=>Cn(e)?!(e.type===Ls||e.type===Ze&&!fE(e.children)):!0)?t:null}function ik(t,e){const n={};for(const s in t)n[Hu(s)]=t[s];return n}const fg=t=>t?AE(t)?Xh(t)||t.proxy:fg(t.parent):null,Wu=os(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fg(t.parent),$root:t=>fg(t.root),$emit:t=>t.emit,$options:t=>mE(t),$forceUpdate:t=>t.f||(t.f=()=>zy(t.update)),$nextTick:t=>t.n||(t.n=lt.bind(t.proxy)),$watch:t=>ZD.bind(t)}),Lm=(t,e)=>t!==kn&&!t.__isScriptSetup&&$t(t,e),lk={get({_:t},e){const{ctx:n,setupState:s,data:r,props:o,accessCache:a,type:i,appContext:l}=t;let c;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(Lm(s,e))return a[e]=1,s[e];if(r!==kn&&$t(r,e))return a[e]=2,r[e];if((c=t.propsOptions[0])&&$t(c,e))return a[e]=3,o[e];if(n!==kn&&$t(n,e))return a[e]=4,n[e];pg&&(a[e]=0)}}const u=Wu[e];let d,h;if(u)return e==="$attrs"&&ar(t,"get",e),u(t);if((d=i.__cssModules)&&(d=d[e]))return d;if(n!==kn&&$t(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,$t(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:o}=t;return Lm(r,e)?(r[e]=n,!0):s!==kn&&$t(s,e)?(s[e]=n,!0):$t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:o}},a){let i;return!!n[a]||t!==kn&&$t(t,a)||Lm(e,a)||(i=o[0])&&$t(i,a)||$t(s,a)||$t(Wu,a)||$t(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:$t(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Gn(){return pE().slots}function yi(){return pE().attrs}function pE(){const t=It();return t.setupContext||(t.setupContext=TE(t))}function w_(t){return Ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let pg=!0;function ck(t){const e=mE(t),n=t.proxy,s=t.ctx;pg=!1,e.beforeCreate&&C_(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:a,watch:i,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:v,activated:m,deactivated:y,beforeDestroy:g,beforeUnmount:_,destroyed:b,unmounted:S,render:w,renderTracked:C,renderTriggered:A,errorCaptured:T,serverPrefetch:x,expose:E,inheritAttrs:M,components:I,directives:k,filters:U}=e;if(c&&uk(c,s,null),a)for(const N in a){const L=a[N];ct(L)&&(s[N]=L.bind(n))}if(r){const N=r.call(n,n);Mt(N)&&(t.data=qt(N))}if(pg=!0,o)for(const N in o){const L=o[N],O=ct(L)?L.bind(n,n):ct(L.get)?L.get.bind(n,n):Zt,$=!ct(L)&&ct(L.set)?L.set.bind(n):Zt,W=R({get:O,set:$});Object.defineProperty(s,N,{enumerable:!0,configurable:!0,get:()=>W.value,set:ee=>W.value=ee})}if(i)for(const N in i)hE(i[N],s,n,N);if(l){const N=ct(l)?l.call(n):l;Reflect.ownKeys(N).forEach(L=>{Bt(L,N[L])})}u&&C_(u,t,"c");function P(N,L){Ue(L)?L.forEach(O=>N(O.bind(n))):L&&N(L.bind(n))}if(P(jh,d),P(wt,h),P(Wy,p),P(qr,v),P(Vy,m),P(cE,y),P(ok,T),P(rk,C),P(sk,A),P(Qt,_),P(ya,S),P(nk,x),Ue(E))if(E.length){const N=t.exposed||(t.exposed={});E.forEach(L=>{Object.defineProperty(N,L,{get:()=>n[L],set:O=>n[L]=O})})}else t.exposed||(t.exposed={});w&&t.render===Zt&&(t.render=w),M!=null&&(t.inheritAttrs=M),I&&(t.components=I),k&&(t.directives=k)}function uk(t,e,n=Zt){Ue(t)&&(t=hg(t));for(const s in t){const r=t[s];let o;Mt(r)?"default"in r?o=Qe(r.from||s,r.default,!0):o=Qe(r.from||s):o=Qe(r),fn(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[s]=o}}function C_(t,e,n){Ur(Ue(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function hE(t,e,n,s){const r=s.includes(".")?oE(n,s):()=>n[s];if(ot(t)){const o=e[t];ct(o)&&De(r,o)}else if(ct(t))De(r,t.bind(n));else if(Mt(t))if(Ue(t))t.forEach(o=>hE(o,e,n,s));else{const o=ct(t.handler)?t.handler.bind(n):e[t.handler];ct(o)&&De(r,o,t)}}function mE(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,i=o.get(e);let l;return i?l=i:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>th(l,c,a,!0)),th(l,e,a)),Mt(e)&&o.set(e,l),l}function th(t,e,n,s=!1){const{mixins:r,extends:o}=e;o&&th(t,o,n,!0),r&&r.forEach(a=>th(t,a,n,!0));for(const a in e)if(!(s&&a==="expose")){const i=dk[a]||n&&n[a];t[a]=i?i(t[a],e[a]):e[a]}return t}const dk={data:x_,props:A_,emits:A_,methods:Fu,computed:Fu,beforeCreate:Ns,created:Ns,beforeMount:Ns,mounted:Ns,beforeUpdate:Ns,updated:Ns,beforeDestroy:Ns,beforeUnmount:Ns,destroyed:Ns,unmounted:Ns,activated:Ns,deactivated:Ns,errorCaptured:Ns,serverPrefetch:Ns,components:Fu,directives:Fu,watch:pk,provide:x_,inject:fk};function x_(t,e){return e?t?function(){return os(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function fk(t,e){return Fu(hg(t),hg(e))}function hg(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ns(t,e){return t?[...new Set([].concat(t,e))]:e}function Fu(t,e){return t?os(Object.create(null),t,e):e}function A_(t,e){return t?Ue(t)&&Ue(e)?[...new Set([...t,...e])]:os(Object.create(null),w_(t),w_(e??{})):e}function pk(t,e){if(!t)return e;if(!e)return t;const n=os(Object.create(null),t);for(const s in e)n[s]=Ns(t[s],e[s]);return n}function vE(){return{app:null,config:{isNativeTag:HP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hk=0;function mk(t,e){return function(s,r=null){ct(s)||(s=os({},s)),r!=null&&!Mt(r)&&(r=null);const o=vE(),a=new Set;let i=!1;const l=o.app={_uid:hk++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:zk,get config(){return o.config},set config(c){},use(c,...u){return a.has(c)||(c&&ct(c.install)?(a.add(c),c.install(l,...u)):ct(c)&&(a.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,d){if(!i){const h=j(s,r);return h.appContext=o,t(h,c,d),i=!0,l._container=c,c.__vue_app__=l,Xh(h.component)||h.component.proxy}},unmount(){i&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){nh=l;try{return c()}finally{nh=null}}};return l}}let nh=null;function Bt(t,e){if(fs){let n=fs.provides;const s=fs.parent&&fs.parent.provides;s===n&&(n=fs.provides=Object.create(s)),n[t]=e}}function Qe(t,e,n=!1){const s=fs||Ss;if(s||nh){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:nh._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ct(e)?e.call(s&&s.proxy):e}}function vk(t,e,n,s=!1){const r={},o={};Qp(o,Yh,1),t.propsDefaults=Object.create(null),gE(t,e,r,o);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=s?r:YA(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function gk(t,e,n,s){const{props:r,attrs:o,vnode:{patchFlag:a}}=t,i=rn(r),[l]=t.propsOptions;let c=!1;if((s||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Vh(t.emitsOptions,h))continue;const p=e[h];if(l)if($t(o,h))p!==o[h]&&(o[h]=p,c=!0);else{const v=wr(h);r[v]=mg(l,i,v,p,t,!1)}else p!==o[h]&&(o[h]=p,c=!0)}}}else{gE(t,e,r,o)&&(c=!0);let u;for(const d in i)(!e||!$t(e,d)&&((u=gi(d))===d||!$t(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=mg(l,i,d,void 0,t,!0)):delete r[d]);if(o!==i)for(const d in o)(!e||!$t(e,d))&&(delete o[d],c=!0)}c&&ua(t,"set","$attrs")}function gE(t,e,n,s){const[r,o]=t.propsOptions;let a=!1,i;if(e)for(let l in e){if(hp(l))continue;const c=e[l];let u;r&&$t(r,u=wr(l))?!o||!o.includes(u)?n[u]=c:(i||(i={}))[u]=c:Vh(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,a=!0)}if(o){const l=rn(n),c=i||kn;for(let u=0;u<o.length;u++){const d=o[u];n[d]=mg(r,l,d,c[d],t,!$t(c,d))}}return a}function mg(t,e,n,s,r,o){const a=t[n];if(a!=null){const i=$t(a,"default");if(i&&s===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ct(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(Pc(r),s=c[n]=l.call(null,e),nl())}else s=l}a[0]&&(o&&!i?s=!1:a[1]&&(s===""||s===gi(n))&&(s=!0))}return s}function yE(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const o=t.props,a={},i=[];let l=!1;if(!ct(t)){const u=d=>{l=!0;const[h,p]=yE(d,e,!0);os(a,h),p&&i.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Mt(t)&&s.set(t,hc),hc;if(Ue(o))for(let u=0;u<o.length;u++){const d=wr(o[u]);E_(d)&&(a[d]=kn)}else if(o)for(const u in o){const d=wr(u);if(E_(d)){const h=o[u],p=a[d]=Ue(h)||ct(h)?{type:h}:os({},h);if(p){const v=I_(Boolean,p.type),m=I_(String,p.type);p[0]=v>-1,p[1]=m<0||v<m,(v>-1||$t(p,"default"))&&i.push(d)}}}const c=[a,i];return Mt(t)&&s.set(t,c),c}function E_(t){return t[0]!=="$"}function T_(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function M_(t,e){return T_(t)===T_(e)}function I_(t,e){return Ue(e)?e.findIndex(n=>M_(n,t)):ct(e)&&M_(e,t)?0:-1}const bE=t=>t[0]==="_"||t==="$stable",jy=t=>Ue(t)?t.map(wo):[wo(t)],yk=(t,e,n)=>{if(e._n)return e;const s=te((...r)=>jy(e(...r)),n);return s._c=!1,s},SE=(t,e,n)=>{const s=t._ctx;for(const r in t){if(bE(r))continue;const o=t[r];if(ct(o))e[r]=yk(r,o,s);else if(o!=null){const a=jy(o);e[r]=()=>a}}},_E=(t,e)=>{const n=jy(e);t.slots.default=()=>n},bk=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=rn(e),Qp(e,"_",n)):SE(e,t.slots={})}else t.slots={},e&&_E(t,e);Qp(t.slots,Yh,1)},Sk=(t,e,n)=>{const{vnode:s,slots:r}=t;let o=!0,a=kn;if(s.shapeFlag&32){const i=e._;i?n&&i===1?o=!1:(os(r,e),!n&&i===1&&delete r._):(o=!e.$stable,SE(e,r)),a=e}else e&&(_E(t,e),a={default:1});if(o)for(const i in r)!bE(i)&&!(i in a)&&delete r[i]};function vg(t,e,n,s,r=!1){if(Ue(t)){t.forEach((h,p)=>vg(h,e&&(Ue(e)?e[p]:e),n,s,r));return}if(Vu(s)&&!r)return;const o=s.shapeFlag&4?Xh(s.component)||s.component.proxy:s.el,a=r?null:o,{i,r:l}=t,c=e&&e.r,u=i.refs===kn?i.refs={}:i.refs,d=i.setupState;if(c!=null&&c!==l&&(ot(c)?(u[c]=null,$t(d,c)&&(d[c]=null)):fn(c)&&(c.value=null)),ct(l))Qa(l,i,12,[a,u]);else{const h=ot(l),p=fn(l);if(h||p){const v=()=>{if(t.f){const m=h?$t(d,l)?d[l]:u[l]:l.value;r?Ue(m)&&My(m,o):Ue(m)?m.includes(o)||m.push(o):h?(u[l]=[o],$t(d,l)&&(d[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else h?(u[l]=a,$t(d,l)&&(d[l]=a)):p&&(l.value=a,t.k&&(u[t.k]=a))};a?(v.id=-1,er(v,n)):v()}}}const er=QD;function _k(t){return wk(t)}function wk(t,e){const n=ig();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:a,createText:i,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=Zt,insertStaticContent:v}=t,m=(X,V,ce,Q=null,Me=null,Pe=null,Te=!1,ve=null,xe=!!V.dynamicChildren)=>{if(X===V)return;X&&!Fi(X,V)&&(Q=re(X),ee(X,Me,Pe,!0),X=null),V.patchFlag===-2&&(xe=!1,V.dynamicChildren=null);const{type:we,ref:J,shapeFlag:G}=V;switch(we){case iu:y(X,V,ce,Q);break;case Ls:g(X,V,ce,Q);break;case Om:X==null&&_(V,ce,Q,Te);break;case Ze:I(X,V,ce,Q,Me,Pe,Te,ve,xe);break;default:G&1?w(X,V,ce,Q,Me,Pe,Te,ve,xe):G&6?k(X,V,ce,Q,Me,Pe,Te,ve,xe):(G&64||G&128)&&we.process(X,V,ce,Q,Me,Pe,Te,ve,xe,ye)}J!=null&&Me&&vg(J,X&&X.ref,Pe,V||X,!V)},y=(X,V,ce,Q)=>{if(X==null)s(V.el=i(V.children),ce,Q);else{const Me=V.el=X.el;V.children!==X.children&&c(Me,V.children)}},g=(X,V,ce,Q)=>{X==null?s(V.el=l(V.children||""),ce,Q):V.el=X.el},_=(X,V,ce,Q)=>{[X.el,X.anchor]=v(X.children,V,ce,Q,X.el,X.anchor)},b=({el:X,anchor:V},ce,Q)=>{let Me;for(;X&&X!==V;)Me=h(X),s(X,ce,Q),X=Me;s(V,ce,Q)},S=({el:X,anchor:V})=>{let ce;for(;X&&X!==V;)ce=h(X),r(X),X=ce;r(V)},w=(X,V,ce,Q,Me,Pe,Te,ve,xe)=>{Te=Te||V.type==="svg",X==null?C(V,ce,Q,Me,Pe,Te,ve,xe):x(X,V,Me,Pe,Te,ve,xe)},C=(X,V,ce,Q,Me,Pe,Te,ve)=>{let xe,we;const{type:J,props:G,shapeFlag:me,transition:de,dirs:Re}=X;if(xe=X.el=a(X.type,Pe,G&&G.is,G),me&8?u(xe,X.children):me&16&&T(X.children,xe,null,Q,Me,Pe&&J!=="foreignObject",Te,ve),Re&&xi(X,null,Q,"created"),A(xe,X,X.scopeId,Te,Q),G){for(const Je in G)Je!=="value"&&!hp(Je)&&o(xe,Je,null,G[Je],Pe,X.children,Q,Me,ue);"value"in G&&o(xe,"value",null,G.value),(we=G.onVnodeBeforeMount)&&_o(we,Q,X)}Re&&xi(X,null,Q,"beforeMount");const ke=(!Me||Me&&!Me.pendingBranch)&&de&&!de.persisted;ke&&de.beforeEnter(xe),s(xe,V,ce),((we=G&&G.onVnodeMounted)||ke||Re)&&er(()=>{we&&_o(we,Q,X),ke&&de.enter(xe),Re&&xi(X,null,Q,"mounted")},Me)},A=(X,V,ce,Q,Me)=>{if(ce&&p(X,ce),Q)for(let Pe=0;Pe<Q.length;Pe++)p(X,Q[Pe]);if(Me){let Pe=Me.subTree;if(V===Pe){const Te=Me.vnode;A(X,Te,Te.scopeId,Te.slotScopeIds,Me.parent)}}},T=(X,V,ce,Q,Me,Pe,Te,ve,xe=0)=>{for(let we=xe;we<X.length;we++){const J=X[we]=ve?Ha(X[we]):wo(X[we]);m(null,J,V,ce,Q,Me,Pe,Te,ve)}},x=(X,V,ce,Q,Me,Pe,Te)=>{const ve=V.el=X.el;let{patchFlag:xe,dynamicChildren:we,dirs:J}=V;xe|=X.patchFlag&16;const G=X.props||kn,me=V.props||kn;let de;ce&&Ai(ce,!1),(de=me.onVnodeBeforeUpdate)&&_o(de,ce,V,X),J&&xi(V,X,ce,"beforeUpdate"),ce&&Ai(ce,!0);const Re=Me&&V.type!=="foreignObject";if(we?E(X.dynamicChildren,we,ve,ce,Q,Re,Pe):Te||L(X,V,ve,null,ce,Q,Re,Pe,!1),xe>0){if(xe&16)M(ve,V,G,me,ce,Q,Me);else if(xe&2&&G.class!==me.class&&o(ve,"class",null,me.class,Me),xe&4&&o(ve,"style",G.style,me.style,Me),xe&8){const ke=V.dynamicProps;for(let Je=0;Je<ke.length;Je++){const je=ke[Je],at=G[je],gt=me[je];(gt!==at||je==="value")&&o(ve,je,at,gt,Me,X.children,ce,Q,ue)}}xe&1&&X.children!==V.children&&u(ve,V.children)}else!Te&&we==null&&M(ve,V,G,me,ce,Q,Me);((de=me.onVnodeUpdated)||J)&&er(()=>{de&&_o(de,ce,V,X),J&&xi(V,X,ce,"updated")},Q)},E=(X,V,ce,Q,Me,Pe,Te)=>{for(let ve=0;ve<V.length;ve++){const xe=X[ve],we=V[ve],J=xe.el&&(xe.type===Ze||!Fi(xe,we)||xe.shapeFlag&70)?d(xe.el):ce;m(xe,we,J,null,Q,Me,Pe,Te,!0)}},M=(X,V,ce,Q,Me,Pe,Te)=>{if(ce!==Q){if(ce!==kn)for(const ve in ce)!hp(ve)&&!(ve in Q)&&o(X,ve,ce[ve],null,Te,V.children,Me,Pe,ue);for(const ve in Q){if(hp(ve))continue;const xe=Q[ve],we=ce[ve];xe!==we&&ve!=="value"&&o(X,ve,we,xe,Te,V.children,Me,Pe,ue)}"value"in Q&&o(X,"value",ce.value,Q.value)}},I=(X,V,ce,Q,Me,Pe,Te,ve,xe)=>{const we=V.el=X?X.el:i(""),J=V.anchor=X?X.anchor:i("");let{patchFlag:G,dynamicChildren:me,slotScopeIds:de}=V;de&&(ve=ve?ve.concat(de):de),X==null?(s(we,ce,Q),s(J,ce,Q),T(V.children,ce,J,Me,Pe,Te,ve,xe)):G>0&&G&64&&me&&X.dynamicChildren?(E(X.dynamicChildren,me,ce,Me,Pe,Te,ve),(V.key!=null||Me&&V===Me.subTree)&&qy(X,V,!0)):L(X,V,ce,J,Me,Pe,Te,ve,xe)},k=(X,V,ce,Q,Me,Pe,Te,ve,xe)=>{V.slotScopeIds=ve,X==null?V.shapeFlag&512?Me.ctx.activate(V,ce,Q,Te,xe):U(V,ce,Q,Me,Pe,Te,xe):B(X,V,xe)},U=(X,V,ce,Q,Me,Pe,Te)=>{const ve=X.component=Dk(X,Q,Me);if(Gh(X)&&(ve.ctx.renderer=ye),kk(ve),ve.asyncDep){if(Me&&Me.registerDep(ve,P),!X.el){const xe=ve.subTree=j(Ls);g(null,xe,V,ce)}return}P(ve,X,V,ce,Me,Pe,Te)},B=(X,V,ce)=>{const Q=V.component=X.component;if(qD(X,V,ce))if(Q.asyncDep&&!Q.asyncResolved){N(Q,V,ce);return}else Q.next=V,HD(Q.update),Q.update();else V.el=X.el,Q.vnode=V},P=(X,V,ce,Q,Me,Pe,Te)=>{const ve=()=>{if(X.isMounted){let{next:J,bu:G,u:me,parent:de,vnode:Re}=X,ke=J,Je;Ai(X,!1),J?(J.el=Re.el,N(X,J,Te)):J=Re,G&&mp(G),(Je=J.props&&J.props.onVnodeBeforeUpdate)&&_o(Je,de,J,Re),Ai(X,!0);const je=y_(X),at=X.subTree;X.subTree=je,m(at,je,d(at.el),re(at),X,Me,Pe),J.el=je.el,ke===null&&YD(X,je.el),me&&er(me,Me),(Je=J.props&&J.props.onVnodeUpdated)&&er(()=>_o(Je,de,J,Re),Me)}else{let J;const{el:G,props:me}=V,{bm:de,m:Re,parent:ke}=X,Je=Vu(V);Ai(X,!1),de&&mp(de),!Je&&(J=me&&me.onVnodeBeforeMount)&&_o(J,ke,V),Ai(X,!0);{const je=X.subTree=y_(X);m(null,je,ce,Q,X,Me,Pe),V.el=je.el}if(Re&&er(Re,Me),!Je&&(J=me&&me.onVnodeMounted)){const je=V;er(()=>_o(J,ke,je),Me)}(V.shapeFlag&256||ke&&Vu(ke.vnode)&&ke.vnode.shapeFlag&256)&&X.a&&er(X.a,Me),X.isMounted=!0,V=ce=Q=null}},xe=X.effect=new Py(ve,()=>zy(we),X.scope),we=X.update=()=>xe.run();we.id=X.uid,Ai(X,!0),we()},N=(X,V,ce)=>{V.component=X;const Q=X.vnode.props;X.vnode=V,X.next=null,gk(X,V.props,Q,ce),Sk(X,V.children,ce),ru(),g_(),ou()},L=(X,V,ce,Q,Me,Pe,Te,ve,xe=!1)=>{const we=X&&X.children,J=X?X.shapeFlag:0,G=V.children,{patchFlag:me,shapeFlag:de}=V;if(me>0){if(me&128){$(we,G,ce,Q,Me,Pe,Te,ve,xe);return}else if(me&256){O(we,G,ce,Q,Me,Pe,Te,ve,xe);return}}de&8?(J&16&&ue(we,Me,Pe),G!==we&&u(ce,G)):J&16?de&16?$(we,G,ce,Q,Me,Pe,Te,ve,xe):ue(we,Me,Pe,!0):(J&8&&u(ce,""),de&16&&T(G,ce,Q,Me,Pe,Te,ve,xe))},O=(X,V,ce,Q,Me,Pe,Te,ve,xe)=>{X=X||hc,V=V||hc;const we=X.length,J=V.length,G=Math.min(we,J);let me;for(me=0;me<G;me++){const de=V[me]=xe?Ha(V[me]):wo(V[me]);m(X[me],de,ce,null,Me,Pe,Te,ve,xe)}we>J?ue(X,Me,Pe,!0,!1,G):T(V,ce,Q,Me,Pe,Te,ve,xe,G)},$=(X,V,ce,Q,Me,Pe,Te,ve,xe)=>{let we=0;const J=V.length;let G=X.length-1,me=J-1;for(;we<=G&&we<=me;){const de=X[we],Re=V[we]=xe?Ha(V[we]):wo(V[we]);if(Fi(de,Re))m(de,Re,ce,null,Me,Pe,Te,ve,xe);else break;we++}for(;we<=G&&we<=me;){const de=X[G],Re=V[me]=xe?Ha(V[me]):wo(V[me]);if(Fi(de,Re))m(de,Re,ce,null,Me,Pe,Te,ve,xe);else break;G--,me--}if(we>G){if(we<=me){const de=me+1,Re=de<J?V[de].el:Q;for(;we<=me;)m(null,V[we]=xe?Ha(V[we]):wo(V[we]),ce,Re,Me,Pe,Te,ve,xe),we++}}else if(we>me)for(;we<=G;)ee(X[we],Me,Pe,!0),we++;else{const de=we,Re=we,ke=new Map;for(we=Re;we<=me;we++){const oe=V[we]=xe?Ha(V[we]):wo(V[we]);oe.key!=null&&ke.set(oe.key,we)}let Je,je=0;const at=me-Re+1;let gt=!1,nt=0;const q=new Array(at);for(we=0;we<at;we++)q[we]=0;for(we=de;we<=G;we++){const oe=X[we];if(je>=at){ee(oe,Me,Pe,!0);continue}let be;if(oe.key!=null)be=ke.get(oe.key);else for(Je=Re;Je<=me;Je++)if(q[Je-Re]===0&&Fi(oe,V[Je])){be=Je;break}be===void 0?ee(oe,Me,Pe,!0):(q[be-Re]=we+1,be>=nt?nt=be:gt=!0,m(oe,V[be],ce,null,Me,Pe,Te,ve,xe),je++)}const Ae=gt?Ck(q):hc;for(Je=Ae.length-1,we=at-1;we>=0;we--){const oe=Re+we,be=V[oe],ne=oe+1<J?V[oe+1].el:Q;q[we]===0?m(null,be,ce,ne,Me,Pe,Te,ve,xe):gt&&(Je<0||we!==Ae[Je]?W(be,ce,ne,2):Je--)}}},W=(X,V,ce,Q,Me=null)=>{const{el:Pe,type:Te,transition:ve,children:xe,shapeFlag:we}=X;if(we&6){W(X.component.subTree,V,ce,Q);return}if(we&128){X.suspense.move(V,ce,Q);return}if(we&64){Te.move(X,V,ce,ye);return}if(Te===Ze){s(Pe,V,ce);for(let G=0;G<xe.length;G++)W(xe[G],V,ce,Q);s(X.anchor,V,ce);return}if(Te===Om){b(X,V,ce);return}if(Q!==2&&we&1&&ve)if(Q===0)ve.beforeEnter(Pe),s(Pe,V,ce),er(()=>ve.enter(Pe),Me);else{const{leave:G,delayLeave:me,afterLeave:de}=ve,Re=()=>s(Pe,V,ce),ke=()=>{G(Pe,()=>{Re(),de&&de()})};me?me(Pe,Re,ke):ke()}else s(Pe,V,ce)},ee=(X,V,ce,Q=!1,Me=!1)=>{const{type:Pe,props:Te,ref:ve,children:xe,dynamicChildren:we,shapeFlag:J,patchFlag:G,dirs:me}=X;if(ve!=null&&vg(ve,null,ce,X,!0),J&256){V.ctx.deactivate(X);return}const de=J&1&&me,Re=!Vu(X);let ke;if(Re&&(ke=Te&&Te.onVnodeBeforeUnmount)&&_o(ke,V,X),J&6)ae(X.component,ce,Q);else{if(J&128){X.suspense.unmount(ce,Q);return}de&&xi(X,null,V,"beforeUnmount"),J&64?X.type.remove(X,V,ce,Me,ye,Q):we&&(Pe!==Ze||G>0&&G&64)?ue(we,V,ce,!1,!0):(Pe===Ze&&G&384||!Me&&J&16)&&ue(xe,V,ce),Q&&Y(X)}(Re&&(ke=Te&&Te.onVnodeUnmounted)||de)&&er(()=>{ke&&_o(ke,V,X),de&&xi(X,null,V,"unmounted")},ce)},Y=X=>{const{type:V,el:ce,anchor:Q,transition:Me}=X;if(V===Ze){Z(ce,Q);return}if(V===Om){S(X);return}const Pe=()=>{r(ce),Me&&!Me.persisted&&Me.afterLeave&&Me.afterLeave()};if(X.shapeFlag&1&&Me&&!Me.persisted){const{leave:Te,delayLeave:ve}=Me,xe=()=>Te(ce,Pe);ve?ve(X.el,Pe,xe):xe()}else Pe()},Z=(X,V)=>{let ce;for(;X!==V;)ce=h(X),r(X),X=ce;r(V)},ae=(X,V,ce)=>{const{bum:Q,scope:Me,update:Pe,subTree:Te,um:ve}=X;Q&&mp(Q),Me.stop(),Pe&&(Pe.active=!1,ee(Te,X,V,ce)),ve&&er(ve,V),er(()=>{X.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&X.asyncDep&&!X.asyncResolved&&X.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},ue=(X,V,ce,Q=!1,Me=!1,Pe=0)=>{for(let Te=Pe;Te<X.length;Te++)ee(X[Te],V,ce,Q,Me)},re=X=>X.shapeFlag&6?re(X.component.subTree):X.shapeFlag&128?X.suspense.next():h(X.anchor||X.el),ge=(X,V,ce)=>{X==null?V._vnode&&ee(V._vnode,null,null,!0):m(V._vnode||null,X,V,null,null,null,ce),g_(),nE(),V._vnode=X},ye={p:m,um:ee,m:W,r:Y,mt:U,mc:T,pc:L,pbc:E,n:re,o:t};return{render:ge,hydrate:void 0,createApp:mk(ge)}}function Ai({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function qy(t,e,n=!1){const s=t.children,r=e.children;if(Ue(s)&&Ue(r))for(let o=0;o<s.length;o++){const a=s[o];let i=r[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[o]=Ha(r[o]),i.el=a.el),n||qy(a,i)),i.type===iu&&(i.el=a.el)}}function Ck(t){const e=t.slice(),n=[0];let s,r,o,a,i;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(o=0,a=n.length-1;o<a;)i=o+a>>1,t[n[i]]<c?o=i+1:a=i;c<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}const xk=t=>t.__isTeleport,Gu=t=>t&&(t.disabled||t.disabled===""),R_=t=>typeof SVGElement<"u"&&t instanceof SVGElement,gg=(t,e)=>{const n=t&&t.to;return ot(n)?e?e(n):null:n},Ak={__isTeleport:!0,process(t,e,n,s,r,o,a,i,l,c){const{mc:u,pc:d,pbc:h,o:{insert:p,querySelector:v,createText:m,createComment:y}}=c,g=Gu(e.props);let{shapeFlag:_,children:b,dynamicChildren:S}=e;if(t==null){const w=e.el=m(""),C=e.anchor=m("");p(w,n,s),p(C,n,s);const A=e.target=gg(e.props,v),T=e.targetAnchor=m("");A&&(p(T,A),a=a||R_(A));const x=(E,M)=>{_&16&&u(b,E,M,r,o,a,i,l)};g?x(n,C):A&&x(A,T)}else{e.el=t.el;const w=e.anchor=t.anchor,C=e.target=t.target,A=e.targetAnchor=t.targetAnchor,T=Gu(t.props),x=T?n:C,E=T?w:A;if(a=a||R_(C),S?(h(t.dynamicChildren,S,x,r,o,a,i),qy(t,e,!0)):l||d(t,e,x,E,r,o,a,i,!1),g)T||vf(e,n,w,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=gg(e.props,v);M&&vf(e,M,null,c,0)}else T&&vf(e,C,A,c,1)}wE(e)},remove(t,e,n,s,{um:r,o:{remove:o}},a){const{shapeFlag:i,children:l,anchor:c,targetAnchor:u,target:d,props:h}=t;if(d&&o(u),(a||!Gu(h))&&(o(c),i&16))for(let p=0;p<l.length;p++){const v=l[p];r(v,e,n,!0,!!v.dynamicChildren)}},move:vf,hydrate:Ek};function vf(t,e,n,{o:{insert:s},m:r},o=2){o===0&&s(t.targetAnchor,e,n);const{el:a,anchor:i,shapeFlag:l,children:c,props:u}=t,d=o===2;if(d&&s(a,e,n),(!d||Gu(u))&&l&16)for(let h=0;h<c.length;h++)r(c[h],e,n,2);d&&s(i,e,n)}function Ek(t,e,n,s,r,o,{o:{nextSibling:a,parentNode:i,querySelector:l}},c){const u=e.target=gg(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Gu(e.props))e.anchor=c(a(t),e,i(t),n,s,r,o),e.targetAnchor=d;else{e.anchor=a(t);let h=d;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&a(e.targetAnchor);break}c(d,e,u,n,s,r,o)}wE(e)}return e.anchor&&a(e.anchor)}const Tk=Ak;function wE(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ze=Symbol.for("v-fgt"),iu=Symbol.for("v-txt"),Ls=Symbol.for("v-cmt"),Om=Symbol.for("v-stc"),Ku=[];let co=null;function D(t=!1){Ku.push(co=t?null:[])}function Mk(){Ku.pop(),co=Ku[Ku.length-1]||null}let hd=1;function P_(t){hd+=t}function CE(t){return t.dynamicChildren=hd>0?co||hc:null,Mk(),hd>0&&co&&co.push(t),t}function H(t,e,n,s,r,o){return CE(K(t,e,n,s,r,o,!0))}function _e(t,e,n,s,r){return CE(j(t,e,n,s,r,!0))}function Cn(t){return t?t.__v_isVNode===!0:!1}function Fi(t,e){return t.type===e.type&&t.key===e.key}const Yh="__vInternal",xE=({key:t})=>t??null,vp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ot(t)||fn(t)||ct(t)?{i:Ss,r:t,k:e,f:!!n}:t:null);function K(t,e=null,n=null,s=0,r=null,o=t===Ze?0:1,a=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xE(e),ref:e&&vp(e),scopeId:Wh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ss};return i?(Yy(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=ot(n)?8:16),hd>0&&!a&&co&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&co.push(l),l}const j=Ik;function Ik(t,e=null,n=null,s=0,r=null,o=!1){if((!t||t===dE)&&(t=Ls),Cn(t)){const i=da(t,e,!0);return n&&Yy(i,n),hd>0&&!o&&co&&(i.shapeFlag&6?co[co.indexOf(t)]=i:co.push(i)),i.patchFlag|=-2,i}if(Fk(t)&&(t=t.__vccOpts),e){e=ai(e);let{class:i,style:l}=e;i&&!ot(i)&&(e.class=F(i)),Mt(l)&&(XA(l)&&!Ue(l)&&(l=os({},l)),e.style=rt(l))}const a=ot(t)?1:XD(t)?128:xk(t)?64:Mt(t)?4:ct(t)?2:0;return K(t,e,n,s,r,a,o,!0)}function ai(t){return t?XA(t)||Yh in t?os({},t):t:null}function da(t,e,n=!1){const{props:s,ref:r,patchFlag:o,children:a}=t,i=e?Dt(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:i,key:i&&xE(i),ref:e&&e.ref?n&&r?Ue(r)?r.concat(vp(e)):[r,vp(e)]:vp(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&da(t.ssContent),ssFallback:t.ssFallback&&da(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function St(t=" ",e=0){return j(iu,null,t,e)}function he(t="",e=!1){return e?(D(),_e(Ls,null,t)):j(Ls,null,t)}function wo(t){return t==null||typeof t=="boolean"?j(Ls):Ue(t)?j(Ze,null,t.slice()):typeof t=="object"?Ha(t):j(iu,null,String(t))}function Ha(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:da(t)}function Yy(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Ue(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Yy(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Yh in e)?e._ctx=Ss:r===3&&Ss&&(Ss.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:Ss},n=32):(e=String(e),s&64?(n=16,e=[St(e)]):n=8);t.children=e,t.shapeFlag|=n}function Dt(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=F([e.class,s.class]));else if(r==="style")e.style=rt([e.style,s.style]);else if(Nh(r)){const o=e[r],a=s[r];a&&o!==a&&!(Ue(o)&&o.includes(a))&&(e[r]=o?[].concat(o,a):a)}else r!==""&&(e[r]=s[r])}return e}function _o(t,e,n,s=null){Ur(t,e,7,[n,s])}const Rk=vE();let Pk=0;function Dk(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Rk,o={uid:Pk++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new BA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yE(s,r),emitsOptions:rE(s,r),emit:null,emitted:null,propsDefaults:kn,inheritAttrs:s.inheritAttrs,ctx:kn,data:kn,props:kn,attrs:kn,slots:kn,refs:kn,setupState:kn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=GD.bind(null,o),t.ce&&t.ce(o),o}let fs=null;const It=()=>fs||Ss;let Xy,Pl,D_="__VUE_INSTANCE_SETTERS__";(Pl=ig()[D_])||(Pl=ig()[D_]=[]),Pl.push(t=>fs=t),Xy=t=>{Pl.length>1?Pl.forEach(e=>e(t)):Pl[0](t)};const Pc=t=>{Xy(t),t.scope.on()},nl=()=>{fs&&fs.scope.off(),Xy(null)};function AE(t){return t.vnode.shapeFlag&4}let md=!1;function kk(t,e=!1){md=e;const{props:n,children:s}=t.vnode,r=AE(t);vk(t,n,r,e),bk(t,s);const o=r?Lk(t,e):void 0;return md=!1,o}function Lk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ia(new Proxy(t.ctx,lk));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?TE(t):null;Pc(t),ru();const o=Qa(s,t,0,[t.props,r]);if(ou(),nl(),ad(o)){if(o.then(nl,nl),e)return o.then(a=>{k_(t,a)}).catch(a=>{Hh(a,t,0)});t.asyncDep=o}else k_(t,o)}else EE(t)}function k_(t,e,n){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Mt(e)&&(t.setupState=ZA(e)),EE(t)}function EE(t,e,n){const s=t.type;t.render||(t.render=s.render||Zt),Pc(t),ru(),ck(t),ou(),nl()}function Ok(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ar(t,"get","$attrs"),e[n]}}))}function TE(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Ok(t)},slots:t.slots,emit:t.emit,expose:e}}function Xh(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ZA(ia(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Wu)return Wu[n](t)},has(e,n){return n in e||n in Wu}}))}function Bk(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function Fk(t){return ct(t)&&"__vccOpts"in t}const R=(t,e)=>ND(t,e,md);function st(t,e,n){const s=arguments.length;return s===2?Mt(e)&&!Ue(e)?Cn(e)?j(t,null,[e]):j(t,e):j(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Cn(n)&&(n=[n]),j(t,e,n))}const Nk=Symbol.for("v-scx"),Uk=()=>Qe(Nk),zk="3.3.4",$k="http://www.w3.org/2000/svg",Ni=typeof document<"u"?document:null,L_=Ni&&Ni.createElement("template"),Hk={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Ni.createElementNS($k,t):Ni.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Ni.createTextNode(t),createComment:t=>Ni.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ni.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,o){const a=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{L_.innerHTML=s?`<svg>${t}</svg>`:t;const i=L_.content;if(s){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}e.insertBefore(i,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Vk(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Wk(t,e,n){const s=t.style,r=ot(n);if(n&&!r){if(e&&!ot(e))for(const o in e)n[o]==null&&yg(s,o,"");for(const o in n)yg(s,o,n[o])}else{const o=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=o)}}const O_=/\s*!important$/;function yg(t,e,n){if(Ue(n))n.forEach(s=>yg(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Gk(t,e);O_.test(n)?t.setProperty(gi(s),n.replace(O_,""),"important"):t[s]=n}}const B_=["Webkit","Moz","ms"],Bm={};function Gk(t,e){const n=Bm[e];if(n)return n;let s=wr(e);if(s!=="filter"&&s in t)return Bm[e]=s;s=Vd(s);for(let r=0;r<B_.length;r++){const o=B_[r]+s;if(o in t)return Bm[e]=o}return e}const F_="http://www.w3.org/1999/xlink";function Kk(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(F_,e.slice(6,e.length)):t.setAttributeNS(F_,e,n);else{const o=eD(e);n==null||o&&!kA(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function jk(t,e,n,s,r,o,a){if(e==="innerHTML"||e==="textContent"){s&&a(s,r,o),t[e]=n??"";return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){t._value=n;const c=i==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=kA(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ga(t,e,n,s){t.addEventListener(e,n,s)}function qk(t,e,n,s){t.removeEventListener(e,n,s)}function Yk(t,e,n,s,r=null){const o=t._vei||(t._vei={}),a=o[e];if(s&&a)a.value=s;else{const[i,l]=Xk(e);if(s){const c=o[e]=Jk(s,r);Ga(t,i,c,l)}else a&&(qk(t,i,a,l),o[e]=void 0)}}const N_=/(?:Once|Passive|Capture)$/;function Xk(t){let e;if(N_.test(t)){e={};let s;for(;s=t.match(N_);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gi(t.slice(2)),e]}let Fm=0;const Qk=Promise.resolve(),Zk=()=>Fm||(Qk.then(()=>Fm=0),Fm=Date.now());function Jk(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ur(eL(s,n.value),e,5,[s])};return n.value=t,n.attached=Zk(),n}function eL(t,e){if(Ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const U_=/^on[a-z]/,tL=(t,e,n,s,r=!1,o,a,i,l)=>{e==="class"?Vk(t,s,r):e==="style"?Wk(t,n,s):Nh(e)?Ty(e)||Yk(t,e,n,s,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nL(t,e,s,r))?jk(t,e,s,o,a,i,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Kk(t,e,s,r))};function nL(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&U_.test(e)&&ct(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||U_.test(e)&&ot(n)?!1:e in t}const Ia="transition",Cu="animation",Xn=(t,{slots:e})=>st(ek,IE(t),e);Xn.displayName="Transition";const ME={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},sL=Xn.props=os({},iE,ME),Ei=(t,e=[])=>{Ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},z_=t=>t?Ue(t)?t.some(e=>e.length>1):t.length>1:!1;function IE(t){const e={};for(const I in t)I in ME||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:i=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=a,appearToClass:u=i,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,v=rL(r),m=v&&v[0],y=v&&v[1],{onBeforeEnter:g,onEnter:_,onEnterCancelled:b,onLeave:S,onLeaveCancelled:w,onBeforeAppear:C=g,onAppear:A=_,onAppearCancelled:T=b}=e,x=(I,k,U)=>{Na(I,k?u:i),Na(I,k?c:a),U&&U()},E=(I,k)=>{I._isLeaving=!1,Na(I,d),Na(I,p),Na(I,h),k&&k()},M=I=>(k,U)=>{const B=I?A:_,P=()=>x(k,I,U);Ei(B,[k,P]),$_(()=>{Na(k,I?l:o),Xo(k,I?u:i),z_(B)||H_(k,s,m,P)})};return os(e,{onBeforeEnter(I){Ei(g,[I]),Xo(I,o),Xo(I,a)},onBeforeAppear(I){Ei(C,[I]),Xo(I,l),Xo(I,c)},onEnter:M(!1),onAppear:M(!0),onLeave(I,k){I._isLeaving=!0;const U=()=>E(I,k);Xo(I,d),PE(),Xo(I,h),$_(()=>{I._isLeaving&&(Na(I,d),Xo(I,p),z_(S)||H_(I,s,y,U))}),Ei(S,[I,U])},onEnterCancelled(I){x(I,!1),Ei(b,[I])},onAppearCancelled(I){x(I,!0),Ei(T,[I])},onLeaveCancelled(I){E(I),Ei(w,[I])}})}function rL(t){if(t==null)return null;if(Mt(t))return[Nm(t.enter),Nm(t.leave)];{const e=Nm(t);return[e,e]}}function Nm(t){return qP(t)}function Xo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Na(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function $_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let oL=0;function H_(t,e,n,s){const r=t._endId=++oL,o=()=>{r===t._endId&&s()};if(n)return setTimeout(o,n);const{type:a,timeout:i,propCount:l}=RE(t,e);if(!a)return s();const c=a+"end";let u=0;const d=()=>{t.removeEventListener(c,h),o()},h=p=>{p.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},i+1),t.addEventListener(c,h)}function RE(t,e){const n=window.getComputedStyle(t),s=v=>(n[v]||"").split(", "),r=s(`${Ia}Delay`),o=s(`${Ia}Duration`),a=V_(r,o),i=s(`${Cu}Delay`),l=s(`${Cu}Duration`),c=V_(i,l);let u=null,d=0,h=0;e===Ia?a>0&&(u=Ia,d=a,h=o.length):e===Cu?c>0&&(u=Cu,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?Ia:Cu:null,h=u?u===Ia?o.length:l.length:0);const p=u===Ia&&/\b(transform|all)(,|$)/.test(s(`${Ia}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:p}}function V_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>W_(n)+W_(t[s])))}function W_(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function PE(){return document.body.offsetHeight}const DE=new WeakMap,kE=new WeakMap,LE={name:"TransitionGroup",props:os({},sL,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=It(),s=aE();let r,o;return qr(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!uL(r[0].el,n.vnode.el,a))return;r.forEach(iL),r.forEach(lL);const i=r.filter(cL);PE(),i.forEach(l=>{const c=l.el,u=c.style;Xo(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,Na(c,a))};c.addEventListener("transitionend",d)})}),()=>{const a=rn(t),i=IE(a);let l=a.tag||Ze;r=o,o=e.default?Hy(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&pd(u,fd(u,i,s,n))}if(r)for(let c=0;c<r.length;c++){const u=r[c];pd(u,fd(u,i,s,n)),DE.set(u,u.el.getBoundingClientRect())}return j(l,null,o)}}},aL=t=>delete t.mode;LE.props;const OE=LE;function iL(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function lL(t){kE.set(t,t.el.getBoundingClientRect())}function cL(t){const e=DE.get(t),n=kE.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${s}px,${r}px)`,o.transitionDuration="0s",t}}function uL(t,e,n){const s=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(i=>i&&s.classList.remove(i))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=RE(s);return r.removeChild(s),o}const Dc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ue(e)?n=>mp(e,n):e};function dL(t){t.target.composing=!0}function G_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qh={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=Dc(r);const o=s||r.props&&r.props.type==="number";Ga(t,e?"change":"input",a=>{if(a.target.composing)return;let i=t.value;n&&(i=i.trim()),o&&(i=ag(i)),t._assign(i)}),n&&Ga(t,"change",()=>{t.value=t.value.trim()}),e||(Ga(t,"compositionstart",dL),Ga(t,"compositionend",G_),Ga(t,"change",G_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},o){if(t._assign=Dc(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&ag(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},sh={deep:!0,created(t,e,n){t._assign=Dc(n),Ga(t,"change",()=>{const s=t._modelValue,r=FE(t),o=t.checked,a=t._assign;if(Ue(s)){const i=LA(s,r),l=i!==-1;if(o&&!l)a(s.concat(r));else if(!o&&l){const c=[...s];c.splice(i,1),a(c)}}else if(Uh(s)){const i=new Set(s);o?i.add(r):i.delete(r),a(i)}else a(NE(t,o))})},mounted:K_,beforeUpdate(t,e,n){t._assign=Dc(n),K_(t,e,n)}};function K_(t,{value:e,oldValue:n},s){t._modelValue=e,Ue(e)?t.checked=LA(e,s.props.value)>-1:Uh(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Ic(e,NE(t,!0)))}const BE={created(t,{value:e},n){t.checked=Ic(e,n.props.value),t._assign=Dc(n),Ga(t,"change",()=>{t._assign(FE(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t._assign=Dc(s),e!==n&&(t.checked=Ic(e,s.props.value))}};function FE(t){return"_value"in t?t._value:t.value}function NE(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const fL=["ctrl","shift","alt","meta"],pL={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>fL.some(n=>t[`${n}Key`]&&!e.includes(n))},pt=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const o=pL[e[r]];if(o&&o(n,e))return}return t(n,...s)},hL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},on=(t,e)=>n=>{if(!("key"in n))return;const s=gi(n.key);if(e.some(r=>r===s||hL[r]===s))return t(n)},Vt={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):xu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),xu(t,!0),s.enter(t)):s.leave(t,()=>{xu(t,!1)}):xu(t,e))},beforeUnmount(t,{value:e}){xu(t,e)}};function xu(t,e){t.style.display=e?t._vod:"none"}const mL=os({patchProp:tL},Hk);let j_;function UE(){return j_||(j_=_k(mL))}const ii=(...t)=>{UE().render(...t)},zE=(...t)=>{const e=UE().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=vL(s);if(!r)return;const o=e._component;!ct(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function vL(t){return ot(t)?document.querySelector(t):t}const gL="2.9.1",q_=Symbol("INSTALLED_KEY"),$E=Symbol(),ju="el",yL="is-",Ti=(t,e,n,s,r)=>{let o=`${t}-${e}`;return n&&(o+=`-${n}`),s&&(o+=`__${s}`),r&&(o+=`--${r}`),o},HE=Symbol("namespaceContextKey"),Qy=t=>{const e=t||(It()?Qe(HE,z(ju)):z(ju));return R(()=>f(e)||ju)},Le=(t,e)=>{const n=Qy(e);return{namespace:n,b:(m="")=>Ti(n.value,t,m,"",""),e:m=>m?Ti(n.value,t,"",m,""):"",m:m=>m?Ti(n.value,t,"","",m):"",be:(m,y)=>m&&y?Ti(n.value,t,m,y,""):"",em:(m,y)=>m&&y?Ti(n.value,t,"",m,y):"",bm:(m,y)=>m&&y?Ti(n.value,t,m,"",y):"",bem:(m,y,g)=>m&&y&&g?Ti(n.value,t,m,y,g):"",is:(m,...y)=>{const g=y.length>=1?y[0]:!0;return m&&g?`${yL}${m}`:""},cssVar:m=>{const y={};for(const g in m)m[g]&&(y[`--${n.value}-${g}`]=m[g]);return y},cssVarName:m=>`--${n.value}-${m}`,cssVarBlock:m=>{const y={};for(const g in m)m[g]&&(y[`--${n.value}-${t}-${g}`]=m[g]);return y},cssVarBlockName:m=>`--${n.value}-${t}-${m}`}};var VE=typeof global=="object"&&global&&global.Object===Object&&global,bL=typeof self=="object"&&self&&self.Object===Object&&self,vo=VE||bL||Function("return this")(),Vr=vo.Symbol,WE=Object.prototype,SL=WE.hasOwnProperty,_L=WE.toString,Au=Vr?Vr.toStringTag:void 0;function wL(t){var e=SL.call(t,Au),n=t[Au];try{t[Au]=void 0;var s=!0}catch{}var r=_L.call(t);return s&&(e?t[Au]=n:delete t[Au]),r}var CL=Object.prototype,xL=CL.toString;function AL(t){return xL.call(t)}var EL="[object Null]",TL="[object Undefined]",Y_=Vr?Vr.toStringTag:void 0;function _l(t){return t==null?t===void 0?TL:EL:Y_&&Y_ in Object(t)?wL(t):AL(t)}function ko(t){return t!=null&&typeof t=="object"}var ML="[object Symbol]";function Zh(t){return typeof t=="symbol"||ko(t)&&_l(t)==ML}function Zy(t,e){for(var n=-1,s=t==null?0:t.length,r=Array(s);++n<s;)r[n]=e(t[n],n,t);return r}var Ks=Array.isArray,X_=Vr?Vr.prototype:void 0,Q_=X_?X_.toString:void 0;function GE(t){if(typeof t=="string")return t;if(Ks(t))return Zy(t,GE)+"";if(Zh(t))return Q_?Q_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var IL=/\s/;function RL(t){for(var e=t.length;e--&&IL.test(t.charAt(e)););return e}var PL=/^\s+/;function DL(t){return t&&t.slice(0,RL(t)+1).replace(PL,"")}function js(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Z_=NaN,kL=/^[-+]0x[0-9a-f]+$/i,LL=/^0b[01]+$/i,OL=/^0o[0-7]+$/i,BL=parseInt;function J_(t){if(typeof t=="number")return t;if(Zh(t))return Z_;if(js(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=js(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=DL(t);var n=LL.test(t);return n||OL.test(t)?BL(t.slice(2),n?2:8):kL.test(t)?Z_:+t}function Jy(t){return t}var FL="[object AsyncFunction]",NL="[object Function]",UL="[object GeneratorFunction]",zL="[object Proxy]";function eb(t){if(!js(t))return!1;var e=_l(t);return e==NL||e==UL||e==FL||e==zL}var Um=vo["__core-js_shared__"],ew=function(){var t=/[^.]+$/.exec(Um&&Um.keys&&Um.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $L(t){return!!ew&&ew in t}var HL=Function.prototype,VL=HL.toString;function wl(t){if(t!=null){try{return VL.call(t)}catch{}try{return t+""}catch{}}return""}var WL=/[\\^$.*+?()[\]{}|]/g,GL=/^\[object .+?Constructor\]$/,KL=Function.prototype,jL=Object.prototype,qL=KL.toString,YL=jL.hasOwnProperty,XL=RegExp("^"+qL.call(YL).replace(WL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QL(t){if(!js(t)||$L(t))return!1;var e=eb(t)?XL:GL;return e.test(wl(t))}function ZL(t,e){return t==null?void 0:t[e]}function Cl(t,e){var n=ZL(t,e);return QL(n)?n:void 0}var bg=Cl(vo,"WeakMap"),tw=Object.create,JL=function(){function t(){}return function(e){if(!js(e))return{};if(tw)return tw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function eO(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function tO(){}function KE(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var nO=800,sO=16,rO=Date.now;function oO(t){var e=0,n=0;return function(){var s=rO(),r=sO-(s-n);if(n=s,r>0){if(++e>=nO)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function aO(t){return function(){return t}}var rh=function(){try{var t=Cl(Object,"defineProperty");return t({},"",{}),t}catch{}}(),iO=rh?function(t,e){return rh(t,"toString",{configurable:!0,enumerable:!1,value:aO(e),writable:!0})}:Jy,jE=oO(iO);function lO(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}function qE(t,e,n,s){for(var r=t.length,o=n+(s?1:-1);s?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function cO(t){return t!==t}function uO(t,e,n){for(var s=n-1,r=t.length;++s<r;)if(t[s]===e)return s;return-1}function dO(t,e,n){return e===e?uO(t,e,n):qE(t,cO,n)}function fO(t,e){var n=t==null?0:t.length;return!!n&&dO(t,e,0)>-1}var pO=9007199254740991,hO=/^(?:0|[1-9]\d*)$/;function Jh(t,e){var n=typeof t;return e=e??pO,!!e&&(n=="number"||n!="symbol"&&hO.test(t))&&t>-1&&t%1==0&&t<e}function tb(t,e,n){e=="__proto__"&&rh?rh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Wd(t,e){return t===e||t!==t&&e!==e}var mO=Object.prototype,vO=mO.hasOwnProperty;function nb(t,e,n){var s=t[e];(!(vO.call(t,e)&&Wd(s,n))||n===void 0&&!(e in t))&&tb(t,e,n)}function lu(t,e,n,s){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var i=e[o],l=void 0;l===void 0&&(l=t[i]),r?tb(n,i,l):nb(n,i,l)}return n}var nw=Math.max;function YE(t,e,n){return e=nw(e===void 0?t.length-1:e,0),function(){for(var s=arguments,r=-1,o=nw(s.length-e,0),a=Array(o);++r<o;)a[r]=s[e+r];r=-1;for(var i=Array(e+1);++r<e;)i[r]=s[r];return i[e]=n(a),eO(t,this,i)}}function XE(t,e){return jE(YE(t,e,Jy),t+"")}var gO=9007199254740991;function sb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gO}function cu(t){return t!=null&&sb(t.length)&&!eb(t)}function yO(t,e,n){if(!js(n))return!1;var s=typeof e;return(s=="number"?cu(n)&&Jh(e,n.length):s=="string"&&e in n)?Wd(n[e],t):!1}function bO(t){return XE(function(e,n){var s=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,a&&yO(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++s<r;){var i=n[s];i&&t(e,i,s,o)}return e})}var SO=Object.prototype;function rb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||SO;return t===n}function _O(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var wO="[object Arguments]";function sw(t){return ko(t)&&_l(t)==wO}var QE=Object.prototype,CO=QE.hasOwnProperty,xO=QE.propertyIsEnumerable,vd=sw(function(){return arguments}())?sw:function(t){return ko(t)&&CO.call(t,"callee")&&!xO.call(t,"callee")};function AO(){return!1}var ZE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rw=ZE&&typeof module=="object"&&module&&!module.nodeType&&module,EO=rw&&rw.exports===ZE,ow=EO?vo.Buffer:void 0,TO=ow?ow.isBuffer:void 0,gd=TO||AO,MO="[object Arguments]",IO="[object Array]",RO="[object Boolean]",PO="[object Date]",DO="[object Error]",kO="[object Function]",LO="[object Map]",OO="[object Number]",BO="[object Object]",FO="[object RegExp]",NO="[object Set]",UO="[object String]",zO="[object WeakMap]",$O="[object ArrayBuffer]",HO="[object DataView]",VO="[object Float32Array]",WO="[object Float64Array]",GO="[object Int8Array]",KO="[object Int16Array]",jO="[object Int32Array]",qO="[object Uint8Array]",YO="[object Uint8ClampedArray]",XO="[object Uint16Array]",QO="[object Uint32Array]",Pn={};Pn[VO]=Pn[WO]=Pn[GO]=Pn[KO]=Pn[jO]=Pn[qO]=Pn[YO]=Pn[XO]=Pn[QO]=!0;Pn[MO]=Pn[IO]=Pn[$O]=Pn[RO]=Pn[HO]=Pn[PO]=Pn[DO]=Pn[kO]=Pn[LO]=Pn[OO]=Pn[BO]=Pn[FO]=Pn[NO]=Pn[UO]=Pn[zO]=!1;function ZO(t){return ko(t)&&sb(t.length)&&!!Pn[_l(t)]}function ob(t){return function(e){return t(e)}}var JE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qu=JE&&typeof module=="object"&&module&&!module.nodeType&&module,JO=qu&&qu.exports===JE,zm=JO&&VE.process,kc=function(){try{var t=qu&&qu.require&&qu.require("util").types;return t||zm&&zm.binding&&zm.binding("util")}catch{}}(),aw=kc&&kc.isTypedArray,ab=aw?ob(aw):ZO,e3=Object.prototype,t3=e3.hasOwnProperty;function eT(t,e){var n=Ks(t),s=!n&&vd(t),r=!n&&!s&&gd(t),o=!n&&!s&&!r&&ab(t),a=n||s||r||o,i=a?_O(t.length,String):[],l=i.length;for(var c in t)(e||t3.call(t,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Jh(c,l)))&&i.push(c);return i}function tT(t,e){return function(n){return t(e(n))}}var n3=tT(Object.keys,Object),s3=Object.prototype,r3=s3.hasOwnProperty;function o3(t){if(!rb(t))return n3(t);var e=[];for(var n in Object(t))r3.call(t,n)&&n!="constructor"&&e.push(n);return e}function Gd(t){return cu(t)?eT(t):o3(t)}function a3(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var i3=Object.prototype,l3=i3.hasOwnProperty;function c3(t){if(!js(t))return a3(t);var e=rb(t),n=[];for(var s in t)s=="constructor"&&(e||!l3.call(t,s))||n.push(s);return n}function Kd(t){return cu(t)?eT(t,!0):c3(t)}var u3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d3=/^\w*$/;function ib(t,e){if(Ks(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Zh(t)?!0:d3.test(t)||!u3.test(t)||e!=null&&t in Object(e)}var yd=Cl(Object,"create");function f3(){this.__data__=yd?yd(null):{},this.size=0}function p3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var h3="__lodash_hash_undefined__",m3=Object.prototype,v3=m3.hasOwnProperty;function g3(t){var e=this.__data__;if(yd){var n=e[t];return n===h3?void 0:n}return v3.call(e,t)?e[t]:void 0}var y3=Object.prototype,b3=y3.hasOwnProperty;function S3(t){var e=this.__data__;return yd?e[t]!==void 0:b3.call(e,t)}var _3="__lodash_hash_undefined__";function w3(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yd&&e===void 0?_3:e,this}function cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}cl.prototype.clear=f3;cl.prototype.delete=p3;cl.prototype.get=g3;cl.prototype.has=S3;cl.prototype.set=w3;function C3(){this.__data__=[],this.size=0}function em(t,e){for(var n=t.length;n--;)if(Wd(t[n][0],e))return n;return-1}var x3=Array.prototype,A3=x3.splice;function E3(t){var e=this.__data__,n=em(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():A3.call(e,n,1),--this.size,!0}function T3(t){var e=this.__data__,n=em(e,t);return n<0?void 0:e[n][1]}function M3(t){return em(this.__data__,t)>-1}function I3(t,e){var n=this.__data__,s=em(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}ba.prototype.clear=C3;ba.prototype.delete=E3;ba.prototype.get=T3;ba.prototype.has=M3;ba.prototype.set=I3;var bd=Cl(vo,"Map");function R3(){this.size=0,this.__data__={hash:new cl,map:new(bd||ba),string:new cl}}function P3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function tm(t,e){var n=t.__data__;return P3(e)?n[typeof e=="string"?"string":"hash"]:n.map}function D3(t){var e=tm(this,t).delete(t);return this.size-=e?1:0,e}function k3(t){return tm(this,t).get(t)}function L3(t){return tm(this,t).has(t)}function O3(t,e){var n=tm(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function Sa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Sa.prototype.clear=R3;Sa.prototype.delete=D3;Sa.prototype.get=k3;Sa.prototype.has=L3;Sa.prototype.set=O3;var B3="Expected a function";function nm(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(B3);var n=function(){var s=arguments,r=e?e.apply(this,s):s[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,s);return n.cache=o.set(r,a)||o,a};return n.cache=new(nm.Cache||Sa),n}nm.Cache=Sa;var F3=500;function N3(t){var e=nm(t,function(s){return n.size===F3&&n.clear(),s}),n=e.cache;return e}var U3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z3=/\\(\\)?/g,$3=N3(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(U3,function(n,s,r,o){e.push(r?o.replace(z3,"$1"):s||n)}),e});function H3(t){return t==null?"":GE(t)}function uu(t,e){return Ks(t)?t:ib(t,e)?[t]:$3(H3(t))}function du(t){if(typeof t=="string"||Zh(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function sm(t,e){e=uu(e,t);for(var n=0,s=e.length;t!=null&&n<s;)t=t[du(e[n++])];return n&&n==s?t:void 0}function Un(t,e,n){var s=t==null?void 0:sm(t,e);return s===void 0?n:s}function lb(t,e){for(var n=-1,s=e.length,r=t.length;++n<s;)t[r+n]=e[n];return t}var iw=Vr?Vr.isConcatSpreadable:void 0;function V3(t){return Ks(t)||vd(t)||!!(iw&&t&&t[iw])}function jd(t,e,n,s,r){var o=-1,a=t.length;for(n||(n=V3),r||(r=[]);++o<a;){var i=t[o];e>0&&n(i)?e>1?jd(i,e-1,n,s,r):lb(r,i):s||(r[r.length]=i)}return r}function nT(t){var e=t==null?0:t.length;return e?jd(t,1):[]}function sT(t){return jE(YE(t,void 0,nT),t+"")}var cb=tT(Object.getPrototypeOf,Object),W3="[object Object]",G3=Function.prototype,K3=Object.prototype,rT=G3.toString,j3=K3.hasOwnProperty,q3=rT.call(Object);function oT(t){if(!ko(t)||_l(t)!=W3)return!1;var e=cb(t);if(e===null)return!0;var n=j3.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&rT.call(n)==q3}function Y3(t,e,n){var s=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++s<r;)o[s]=t[s+e];return o}function Ps(){if(!arguments.length)return[];var t=arguments[0];return Ks(t)?t:[t]}function X3(){this.__data__=new ba,this.size=0}function Q3(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Z3(t){return this.__data__.get(t)}function J3(t){return this.__data__.has(t)}var eB=200;function tB(t,e){var n=this.__data__;if(n instanceof ba){var s=n.__data__;if(!bd||s.length<eB-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new Sa(s)}return n.set(t,e),this.size=n.size,this}function ho(t){var e=this.__data__=new ba(t);this.size=e.size}ho.prototype.clear=X3;ho.prototype.delete=Q3;ho.prototype.get=Z3;ho.prototype.has=J3;ho.prototype.set=tB;function nB(t,e){return t&&lu(e,Gd(e),t)}function sB(t,e){return t&&lu(e,Kd(e),t)}var aT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lw=aT&&typeof module=="object"&&module&&!module.nodeType&&module,rB=lw&&lw.exports===aT,cw=rB?vo.Buffer:void 0,uw=cw?cw.allocUnsafe:void 0;function iT(t,e){if(e)return t.slice();var n=t.length,s=uw?uw(n):new t.constructor(n);return t.copy(s),s}function oB(t,e){for(var n=-1,s=t==null?0:t.length,r=0,o=[];++n<s;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function lT(){return[]}var aB=Object.prototype,iB=aB.propertyIsEnumerable,dw=Object.getOwnPropertySymbols,ub=dw?function(t){return t==null?[]:(t=Object(t),oB(dw(t),function(e){return iB.call(t,e)}))}:lT;function lB(t,e){return lu(t,ub(t),e)}var cB=Object.getOwnPropertySymbols,cT=cB?function(t){for(var e=[];t;)lb(e,ub(t)),t=cb(t);return e}:lT;function uB(t,e){return lu(t,cT(t),e)}function uT(t,e,n){var s=e(t);return Ks(t)?s:lb(s,n(t))}function Sg(t){return uT(t,Gd,ub)}function dT(t){return uT(t,Kd,cT)}var _g=Cl(vo,"DataView"),wg=Cl(vo,"Promise"),yc=Cl(vo,"Set"),fw="[object Map]",dB="[object Object]",pw="[object Promise]",hw="[object Set]",mw="[object WeakMap]",vw="[object DataView]",fB=wl(_g),pB=wl(bd),hB=wl(wg),mB=wl(yc),vB=wl(bg),oo=_l;(_g&&oo(new _g(new ArrayBuffer(1)))!=vw||bd&&oo(new bd)!=fw||wg&&oo(wg.resolve())!=pw||yc&&oo(new yc)!=hw||bg&&oo(new bg)!=mw)&&(oo=function(t){var e=_l(t),n=e==dB?t.constructor:void 0,s=n?wl(n):"";if(s)switch(s){case fB:return vw;case pB:return fw;case hB:return pw;case mB:return hw;case vB:return mw}return e});var gB=Object.prototype,yB=gB.hasOwnProperty;function bB(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&yB.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var oh=vo.Uint8Array;function db(t){var e=new t.constructor(t.byteLength);return new oh(e).set(new oh(t)),e}function SB(t,e){var n=e?db(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var _B=/\w*$/;function wB(t){var e=new t.constructor(t.source,_B.exec(t));return e.lastIndex=t.lastIndex,e}var gw=Vr?Vr.prototype:void 0,yw=gw?gw.valueOf:void 0;function CB(t){return yw?Object(yw.call(t)):{}}function fT(t,e){var n=e?db(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var xB="[object Boolean]",AB="[object Date]",EB="[object Map]",TB="[object Number]",MB="[object RegExp]",IB="[object Set]",RB="[object String]",PB="[object Symbol]",DB="[object ArrayBuffer]",kB="[object DataView]",LB="[object Float32Array]",OB="[object Float64Array]",BB="[object Int8Array]",FB="[object Int16Array]",NB="[object Int32Array]",UB="[object Uint8Array]",zB="[object Uint8ClampedArray]",$B="[object Uint16Array]",HB="[object Uint32Array]";function VB(t,e,n){var s=t.constructor;switch(e){case DB:return db(t);case xB:case AB:return new s(+t);case kB:return SB(t,n);case LB:case OB:case BB:case FB:case NB:case UB:case zB:case $B:case HB:return fT(t,n);case EB:return new s;case TB:case RB:return new s(t);case MB:return wB(t);case IB:return new s;case PB:return CB(t)}}function pT(t){return typeof t.constructor=="function"&&!rb(t)?JL(cb(t)):{}}var WB="[object Map]";function GB(t){return ko(t)&&oo(t)==WB}var bw=kc&&kc.isMap,KB=bw?ob(bw):GB,jB="[object Set]";function qB(t){return ko(t)&&oo(t)==jB}var Sw=kc&&kc.isSet,YB=Sw?ob(Sw):qB,XB=1,QB=2,ZB=4,hT="[object Arguments]",JB="[object Array]",eF="[object Boolean]",tF="[object Date]",nF="[object Error]",mT="[object Function]",sF="[object GeneratorFunction]",rF="[object Map]",oF="[object Number]",vT="[object Object]",aF="[object RegExp]",iF="[object Set]",lF="[object String]",cF="[object Symbol]",uF="[object WeakMap]",dF="[object ArrayBuffer]",fF="[object DataView]",pF="[object Float32Array]",hF="[object Float64Array]",mF="[object Int8Array]",vF="[object Int16Array]",gF="[object Int32Array]",yF="[object Uint8Array]",bF="[object Uint8ClampedArray]",SF="[object Uint16Array]",_F="[object Uint32Array]",Mn={};Mn[hT]=Mn[JB]=Mn[dF]=Mn[fF]=Mn[eF]=Mn[tF]=Mn[pF]=Mn[hF]=Mn[mF]=Mn[vF]=Mn[gF]=Mn[rF]=Mn[oF]=Mn[vT]=Mn[aF]=Mn[iF]=Mn[lF]=Mn[cF]=Mn[yF]=Mn[bF]=Mn[SF]=Mn[_F]=!0;Mn[nF]=Mn[mT]=Mn[uF]=!1;function bc(t,e,n,s,r,o){var a,i=e&XB,l=e&QB,c=e&ZB;if(n&&(a=r?n(t,s,r,o):n(t)),a!==void 0)return a;if(!js(t))return t;var u=Ks(t);if(u){if(a=bB(t),!i)return KE(t,a)}else{var d=oo(t),h=d==mT||d==sF;if(gd(t))return iT(t,i);if(d==vT||d==hT||h&&!r){if(a=l||h?{}:pT(t),!i)return l?uB(t,sB(a,t)):lB(t,nB(a,t))}else{if(!Mn[d])return r?t:{};a=VB(t,d,i)}}o||(o=new ho);var p=o.get(t);if(p)return p;o.set(t,a),YB(t)?t.forEach(function(y){a.add(bc(y,e,n,y,t,o))}):KB(t)&&t.forEach(function(y,g){a.set(g,bc(y,e,n,g,t,o))});var v=c?l?dT:Sg:l?Kd:Gd,m=u?void 0:v(t);return lO(m||t,function(y,g){m&&(g=y,y=t[g]),nb(a,g,bc(y,e,n,g,t,o))}),a}var wF=4;function _w(t){return bc(t,wF)}var CF=1,xF=4;function ah(t){return bc(t,CF|xF)}var AF="__lodash_hash_undefined__";function EF(t){return this.__data__.set(t,AF),this}function TF(t){return this.__data__.has(t)}function Sd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Sa;++e<n;)this.add(t[e])}Sd.prototype.add=Sd.prototype.push=EF;Sd.prototype.has=TF;function MF(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function gT(t,e){return t.has(e)}var IF=1,RF=2;function yT(t,e,n,s,r,o){var a=n&IF,i=t.length,l=e.length;if(i!=l&&!(a&&l>i))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&RF?new Sd:void 0;for(o.set(t,e),o.set(e,t);++d<i;){var v=t[d],m=e[d];if(s)var y=a?s(m,v,d,e,t,o):s(v,m,d,t,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!MF(e,function(g,_){if(!gT(p,_)&&(v===g||r(v,g,n,s,o)))return p.push(_)})){h=!1;break}}else if(!(v===m||r(v,m,n,s,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function PF(t){var e=-1,n=Array(t.size);return t.forEach(function(s,r){n[++e]=[r,s]}),n}function fb(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var DF=1,kF=2,LF="[object Boolean]",OF="[object Date]",BF="[object Error]",FF="[object Map]",NF="[object Number]",UF="[object RegExp]",zF="[object Set]",$F="[object String]",HF="[object Symbol]",VF="[object ArrayBuffer]",WF="[object DataView]",ww=Vr?Vr.prototype:void 0,$m=ww?ww.valueOf:void 0;function GF(t,e,n,s,r,o,a){switch(n){case WF:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case VF:return!(t.byteLength!=e.byteLength||!o(new oh(t),new oh(e)));case LF:case OF:case NF:return Wd(+t,+e);case BF:return t.name==e.name&&t.message==e.message;case UF:case $F:return t==e+"";case FF:var i=PF;case zF:var l=s&DF;if(i||(i=fb),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;s|=kF,a.set(t,e);var u=yT(i(t),i(e),s,r,o,a);return a.delete(t),u;case HF:if($m)return $m.call(t)==$m.call(e)}return!1}var KF=1,jF=Object.prototype,qF=jF.hasOwnProperty;function YF(t,e,n,s,r,o){var a=n&KF,i=Sg(t),l=i.length,c=Sg(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var h=i[d];if(!(a?h in e:qF.call(e,h)))return!1}var p=o.get(t),v=o.get(e);if(p&&v)return p==e&&v==t;var m=!0;o.set(t,e),o.set(e,t);for(var y=a;++d<l;){h=i[d];var g=t[h],_=e[h];if(s)var b=a?s(_,g,h,e,t,o):s(g,_,h,t,e,o);if(!(b===void 0?g===_||r(g,_,n,s,o):b)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(m=!1)}return o.delete(t),o.delete(e),m}var XF=1,Cw="[object Arguments]",xw="[object Array]",gf="[object Object]",QF=Object.prototype,Aw=QF.hasOwnProperty;function ZF(t,e,n,s,r,o){var a=Ks(t),i=Ks(e),l=a?xw:oo(t),c=i?xw:oo(e);l=l==Cw?gf:l,c=c==Cw?gf:c;var u=l==gf,d=c==gf,h=l==c;if(h&&gd(t)){if(!gd(e))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new ho),a||ab(t)?yT(t,e,n,s,r,o):GF(t,e,l,n,s,r,o);if(!(n&XF)){var p=u&&Aw.call(t,"__wrapped__"),v=d&&Aw.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,y=v?e.value():e;return o||(o=new ho),r(m,y,n,s,o)}}return h?(o||(o=new ho),YF(t,e,n,s,r,o)):!1}function rm(t,e,n,s,r){return t===e?!0:t==null||e==null||!ko(t)&&!ko(e)?t!==t&&e!==e:ZF(t,e,n,s,rm,r)}var JF=1,eN=2;function tN(t,e,n,s){var r=n.length,o=r;if(t==null)return!o;for(t=Object(t);r--;){var a=n[r];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=n[r];var i=a[0],l=t[i],c=a[1];if(a[2]){if(l===void 0&&!(i in t))return!1}else{var u=new ho,d;if(!(d===void 0?rm(c,l,JF|eN,s,u):d))return!1}}return!0}function bT(t){return t===t&&!js(t)}function nN(t){for(var e=Gd(t),n=e.length;n--;){var s=e[n],r=t[s];e[n]=[s,r,bT(r)]}return e}function ST(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function sN(t){var e=nN(t);return e.length==1&&e[0][2]?ST(e[0][0],e[0][1]):function(n){return n===t||tN(n,t,e)}}function rN(t,e){return t!=null&&e in Object(t)}function oN(t,e,n){e=uu(e,t);for(var s=-1,r=e.length,o=!1;++s<r;){var a=du(e[s]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++s!=r?o:(r=t==null?0:t.length,!!r&&sb(r)&&Jh(a,r)&&(Ks(t)||vd(t)))}function _T(t,e){return t!=null&&oN(t,e,rN)}var aN=1,iN=2;function lN(t,e){return ib(t)&&bT(e)?ST(du(t),e):function(n){var s=Un(n,t);return s===void 0&&s===e?_T(n,t):rm(e,s,aN|iN)}}function cN(t){return function(e){return e==null?void 0:e[t]}}function uN(t){return function(e){return sm(e,t)}}function dN(t){return ib(t)?cN(du(t)):uN(t)}function wT(t){return typeof t=="function"?t:t==null?Jy:typeof t=="object"?Ks(t)?lN(t[0],t[1]):sN(t):dN(t)}function fN(t){return function(e,n,s){for(var r=-1,o=Object(e),a=s(e),i=a.length;i--;){var l=a[++r];if(n(o[l],l,o)===!1)break}return e}}var CT=fN();function pN(t,e){return t&&CT(t,e,Gd)}function hN(t,e){return function(n,s){if(n==null)return n;if(!cu(n))return t(n,s);for(var r=n.length,o=-1,a=Object(n);++o<r&&s(a[o],o,a)!==!1;);return n}}var mN=hN(pN),Hm=function(){return vo.Date.now()},vN="Expected a function",gN=Math.max,yN=Math.min;function ir(t,e,n){var s,r,o,a,i,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(vN);e=J_(e)||0,js(n)&&(u=!!n.leading,d="maxWait"in n,o=d?gN(J_(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(C){var A=s,T=r;return s=r=void 0,c=C,a=t.apply(T,A),a}function v(C){return c=C,i=setTimeout(g,e),u?p(C):a}function m(C){var A=C-l,T=C-c,x=e-A;return d?yN(x,o-T):x}function y(C){var A=C-l,T=C-c;return l===void 0||A>=e||A<0||d&&T>=o}function g(){var C=Hm();if(y(C))return _(C);i=setTimeout(g,m(C))}function _(C){return i=void 0,h&&s?p(C):(s=r=void 0,a)}function b(){i!==void 0&&clearTimeout(i),c=0,s=l=r=i=void 0}function S(){return i===void 0?a:_(Hm())}function w(){var C=Hm(),A=y(C);if(s=arguments,r=this,l=C,A){if(i===void 0)return v(l);if(d)return clearTimeout(i),i=setTimeout(g,e),p(l)}return i===void 0&&(i=setTimeout(g,e)),a}return w.cancel=b,w.flush=S,w}function Cg(t,e,n){(n!==void 0&&!Wd(t[e],n)||n===void 0&&!(e in t))&&tb(t,e,n)}function xT(t){return ko(t)&&cu(t)}function xg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function bN(t){return lu(t,Kd(t))}function SN(t,e,n,s,r,o,a){var i=xg(t,n),l=xg(e,n),c=a.get(l);if(c){Cg(t,n,c);return}var u=o?o(i,l,n+"",t,e,a):void 0,d=u===void 0;if(d){var h=Ks(l),p=!h&&gd(l),v=!h&&!p&&ab(l);u=l,h||p||v?Ks(i)?u=i:xT(i)?u=KE(i):p?(d=!1,u=iT(l,!0)):v?(d=!1,u=fT(l,!0)):u=[]:oT(l)||vd(l)?(u=i,vd(i)?u=bN(i):(!js(i)||eb(i))&&(u=pT(l))):d=!1}d&&(a.set(l,u),r(u,l,s,o,a),a.delete(l)),Cg(t,n,u)}function AT(t,e,n,s,r){t!==e&&CT(e,function(o,a){if(r||(r=new ho),js(o))SN(t,e,a,n,AT,s,r);else{var i=s?s(xg(t,a),o,a+"",t,e,r):void 0;i===void 0&&(i=o),Cg(t,a,i)}},Kd)}function _N(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function ET(t,e,n){var s=t==null?0:t.length;if(!s)return-1;var r=s-1;return qE(t,wT(e),r,!0)}function wN(t,e){var n=-1,s=cu(t)?Array(t.length):[];return mN(t,function(r,o,a){s[++n]=e(r,o,a)}),s}function CN(t,e){var n=Ks(t)?Zy:wN;return n(t,wT(e))}function xN(t,e){return jd(CN(t,e),1)}var AN=1/0;function EN(t){var e=t==null?0:t.length;return e?jd(t,AN):[]}function _d(t){for(var e=-1,n=t==null?0:t.length,s={};++e<n;){var r=t[e];s[r[0]]=r[1]}return s}function TN(t,e){return e.length<2?t:sm(t,Y3(e,0,-1))}function ps(t,e){return rm(t,e)}function es(t){return t==null}function TT(t){return t===void 0}var MT=bO(function(t,e,n){AT(t,e,n)});function MN(t,e){return e=uu(e,t),t=TN(t,e),t==null||delete t[du(_N(e))]}function IN(t){return oT(t)?void 0:t}var RN=1,PN=2,DN=4,kN=sT(function(t,e){var n={};if(t==null)return n;var s=!1;e=Zy(e,function(o){return o=uu(o,t),s||(s=o.length>1),o}),lu(t,dT(t),n),s&&(n=bc(n,RN|PN|DN,IN));for(var r=e.length;r--;)MN(n,e[r]);return n});function IT(t,e,n,s){if(!js(t))return t;e=uu(e,t);for(var r=-1,o=e.length,a=o-1,i=t;i!=null&&++r<o;){var l=du(e[r]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=a){var u=i[l];c=void 0,c===void 0&&(c=js(u)?u:Jh(e[r+1])?[]:{})}nb(i,l,c),i=i[l]}return t}function LN(t,e,n){for(var s=-1,r=e.length,o={};++s<r;){var a=e[s],i=sm(t,a);n(i,a)&&IT(o,uu(a,t),i)}return o}function ON(t,e){return LN(t,e,function(n,s){return _T(t,s)})}var uo=sT(function(t,e){return t==null?{}:ON(t,e)});function BN(t,e,n){return t==null?t:IT(t,e,n)}var FN="Expected a function";function sl(t,e,n){var s=!0,r=!0;if(typeof t!="function")throw new TypeError(FN);return js(n)&&(s="leading"in n?!!n.leading:s,r="trailing"in n?!!n.trailing:r),ir(t,e,{leading:s,maxWait:e,trailing:r})}var NN=1/0,UN=yc&&1/fb(new yc([,-0]))[1]==NN?function(t){return new yc(t)}:tO,zN=200;function $N(t,e,n){var s=-1,r=fO,o=t.length,a=!0,i=[],l=i;if(o>=zN){var c=UN(t);if(c)return fb(c);a=!1,r=gT,l=new Sd}else l=i;e:for(;++s<o;){var u=t[s],d=u;if(u=u!==0?u:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;i.push(u)}else r(l,d,n)||(l!==i&&l.push(d),i.push(u))}return i}var Vm=XE(function(t){return $N(jd(t,1,xT,!0))});const Jt=t=>t===void 0,ln=t=>typeof t=="boolean",ft=t=>typeof t=="number",hr=t=>!t&&t!==0||Ue(t)&&t.length===0||Mt(t)&&!Object.keys(t).length,gr=t=>typeof Element>"u"?!1:t instanceof Element,ul=t=>es(t),HN=t=>ot(t)?!Number.isNaN(Number(t)):!1,om=t=>t===window;var VN=Object.defineProperty,WN=Object.defineProperties,GN=Object.getOwnPropertyDescriptors,Ew=Object.getOwnPropertySymbols,KN=Object.prototype.hasOwnProperty,jN=Object.prototype.propertyIsEnumerable,Tw=(t,e,n)=>e in t?VN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qN=(t,e)=>{for(var n in e||(e={}))KN.call(e,n)&&Tw(t,n,e[n]);if(Ew)for(var n of Ew(e))jN.call(e,n)&&Tw(t,n,e[n]);return t},YN=(t,e)=>WN(t,GN(e));function Ag(t,e){var n;const s=dn();return _s(()=>{s.value=t()},YN(qN({},e),{flush:(n=void 0)!=null?n:"sync"})),au(s)}var Mw;const Nt=typeof window<"u",XN=t=>typeof t<"u",Eg=t=>typeof t=="function",QN=t=>typeof t=="string",Lc=()=>{},Tg=Nt&&((Mw=window==null?void 0:window.navigator)==null?void 0:Mw.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function li(t){return typeof t=="function"?t():f(t)}function RT(t,e){function n(...s){return new Promise((r,o)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(r).catch(o)})}return n}function ZN(t,e={}){let n,s,r=Lc;const o=i=>{clearTimeout(i),r(),r=Lc};return i=>{const l=li(t),c=li(e.maxWait);return n&&o(n),l<=0||c!==void 0&&c<=0?(s&&(o(s),s=null),Promise.resolve(i())):new Promise((u,d)=>{r=e.rejectOnCancel?d:u,c&&!s&&(s=setTimeout(()=>{n&&o(n),s=null,u(i())},c)),n=setTimeout(()=>{s&&o(s),s=null,u(i())},l)})}}function JN(t,e=!0,n=!0,s=!1){let r=0,o,a=!0,i=Lc,l;const c=()=>{o&&(clearTimeout(o),o=void 0,i(),i=Lc)};return d=>{const h=li(t),p=Date.now()-r,v=()=>l=d();return c(),h<=0?(r=Date.now(),v()):(p>h&&(n||!a)?(r=Date.now(),v()):e&&(l=new Promise((m,y)=>{i=s?y:m,o=setTimeout(()=>{r=Date.now(),a=!0,m(v()),c()},Math.max(0,h-p))})),!n&&!o&&(o=setTimeout(()=>a=!0,h)),a=!1,l)}}function e4(t){return t}function t4(t,e){let n,s,r;const o=z(!0),a=()=>{o.value=!0,r()};De(t,a,{flush:"sync"});const i=Eg(e)?e:e.get,l=Eg(e)?void 0:e.set,c=LD((u,d)=>(s=u,r=d,{get(){return o.value&&(n=i(),o.value=!1),s(),n},set(h){l==null||l(h)}}));return Object.isExtensible(c)&&(c.trigger=a),c}function qd(t){return FA()?(NA(t),!0):!1}function n4(t,e=200,n={}){return RT(ZN(e,n),t)}function s4(t,e=200,n={}){const s=z(t.value),r=n4(()=>{s.value=t.value},e,n);return De(t,()=>r()),s}function PT(t,e=200,n=!1,s=!0,r=!1){return RT(JN(e,n,s,r),t)}function pb(t,e=!0){It()?wt(t):e?t():lt(t)}function dl(t,e,n={}){const{immediate:s=!0}=n,r=z(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function i(){r.value=!1,a()}function l(...c){a(),r.value=!0,o=setTimeout(()=>{r.value=!1,o=null,t(...c)},li(e))}return s&&(r.value=!0,Nt&&l()),qd(i),{isPending:au(r),start:l,stop:i}}function Hs(t){var e;const n=li(t);return(e=n==null?void 0:n.$el)!=null?e:n}const bi=Nt?window:void 0,r4=Nt?window.document:void 0;function en(...t){let e,n,s,r;if(QN(t[0])||Array.isArray(t[0])?([n,s,r]=t,e=bi):[e,n,s,r]=t,!e)return Lc;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],a=()=>{o.forEach(u=>u()),o.length=0},i=(u,d,h,p)=>(u.addEventListener(d,h,p),()=>u.removeEventListener(d,h,p)),l=De(()=>[Hs(e),li(r)],([u,d])=>{a(),u&&o.push(...n.flatMap(h=>s.map(p=>i(u,h,p,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return qd(c),c}let Iw=!1;function hb(t,e,n={}){const{window:s=bi,ignore:r=[],capture:o=!0,detectIframe:a=!1}=n;if(!s)return;Tg&&!Iw&&(Iw=!0,Array.from(s.document.body.children).forEach(h=>h.addEventListener("click",Lc)));let i=!0;const l=h=>r.some(p=>{if(typeof p=="string")return Array.from(s.document.querySelectorAll(p)).some(v=>v===h.target||h.composedPath().includes(v));{const v=Hs(p);return v&&(h.target===v||h.composedPath().includes(v))}}),u=[en(s,"click",h=>{const p=Hs(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(i=!l(h)),!i){i=!0;return}e(h)}},{passive:!0,capture:o}),en(s,"pointerdown",h=>{const p=Hs(t);p&&(i=!h.composedPath().includes(p)&&!l(h))},{passive:!0}),a&&en(s,"blur",h=>{var p;const v=Hs(t);((p=s.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(v!=null&&v.contains(s.document.activeElement))&&e(h)})].filter(Boolean);return()=>u.forEach(h=>h())}function o4(t={}){var e;const{window:n=bi}=t,s=(e=t.document)!=null?e:n==null?void 0:n.document,r=t4(()=>null,()=>s==null?void 0:s.activeElement);return n&&(en(n,"blur",o=>{o.relatedTarget===null&&r.trigger()},!0),en(n,"focus",r.trigger,!0)),r}function DT(t,e=!1){const n=z(),s=()=>n.value=!!t();return s(),pb(s,e),n}function a4(t){return JSON.parse(JSON.stringify(t))}const Rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pw="__vueuse_ssr_handlers__";Rw[Pw]=Rw[Pw]||{};function i4(t,e,{window:n=bi,initialValue:s=""}={}){const r=z(s),o=R(()=>{var a;return Hs(e)||((a=n==null?void 0:n.document)==null?void 0:a.documentElement)});return De([o,()=>li(t)],([a,i])=>{var l;if(a&&n){const c=(l=n.getComputedStyle(a).getPropertyValue(i))==null?void 0:l.trim();r.value=c||s}},{immediate:!0}),De(r,a=>{var i;(i=o.value)!=null&&i.style&&o.value.style.setProperty(li(t),a)}),r}function l4({document:t=r4}={}){if(!t)return z("visible");const e=z(t.visibilityState);return en(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var Dw=Object.getOwnPropertySymbols,c4=Object.prototype.hasOwnProperty,u4=Object.prototype.propertyIsEnumerable,d4=(t,e)=>{var n={};for(var s in t)c4.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&Dw)for(var s of Dw(t))e.indexOf(s)<0&&u4.call(t,s)&&(n[s]=t[s]);return n};function _n(t,e,n={}){const s=n,{window:r=bi}=s,o=d4(s,["window"]);let a;const i=DT(()=>r&&"ResizeObserver"in r),l=()=>{a&&(a.disconnect(),a=void 0)},c=De(()=>Hs(t),d=>{l(),i.value&&r&&d&&(a=new ResizeObserver(e),a.observe(d,o))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return qd(u),{isSupported:i,stop:u}}function kw(t,e={}){const{reset:n=!0,windowResize:s=!0,windowScroll:r=!0,immediate:o=!0}=e,a=z(0),i=z(0),l=z(0),c=z(0),u=z(0),d=z(0),h=z(0),p=z(0);function v(){const m=Hs(t);if(!m){n&&(a.value=0,i.value=0,l.value=0,c.value=0,u.value=0,d.value=0,h.value=0,p.value=0);return}const y=m.getBoundingClientRect();a.value=y.height,i.value=y.bottom,l.value=y.left,c.value=y.right,u.value=y.top,d.value=y.width,h.value=y.x,p.value=y.y}return _n(t,v),De(()=>Hs(t),m=>!m&&v()),r&&en("scroll",v,{capture:!0,passive:!0}),s&&en("resize",v,{passive:!0}),pb(()=>{o&&v()}),{height:a,bottom:i,left:l,right:c,top:u,width:d,x:h,y:p,update:v}}var Lw=Object.getOwnPropertySymbols,f4=Object.prototype.hasOwnProperty,p4=Object.prototype.propertyIsEnumerable,h4=(t,e)=>{var n={};for(var s in t)f4.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&Lw)for(var s of Lw(t))e.indexOf(s)<0&&p4.call(t,s)&&(n[s]=t[s]);return n};function kT(t,e,n={}){const s=n,{window:r=bi}=s,o=h4(s,["window"]);let a;const i=DT(()=>r&&"MutationObserver"in r),l=()=>{a&&(a.disconnect(),a=void 0)},c=De(()=>Hs(t),d=>{l(),i.value&&r&&d&&(a=new MutationObserver(e),a.observe(d,o))},{immediate:!0}),u=()=>{l(),c()};return qd(u),{isSupported:i,stop:u}}var Ow;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Ow||(Ow={}));var m4=Object.defineProperty,Bw=Object.getOwnPropertySymbols,v4=Object.prototype.hasOwnProperty,g4=Object.prototype.propertyIsEnumerable,Fw=(t,e,n)=>e in t?m4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y4=(t,e)=>{for(var n in e||(e={}))v4.call(e,n)&&Fw(t,n,e[n]);if(Bw)for(var n of Bw(e))g4.call(e,n)&&Fw(t,n,e[n]);return t};const b4={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};y4({linear:e4},b4);function LT(t,e,n,s={}){var r,o,a;const{clone:i=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d}=s,h=It(),p=n||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((a=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let v=c;e||(e="modelValue"),v=c||v||`update:${e.toString()}`;const m=g=>i?Eg(i)?i(g):a4(g):g,y=()=>XN(t[e])?m(t[e]):d;if(l){const g=y(),_=z(g);return De(()=>t[e],b=>_.value=m(b)),De(_,b=>{(b!==t[e]||u)&&p(v,b)},{deep:u}),_}else return R({get(){return y()},set(g){p(v,g)}})}function S4({window:t=bi}={}){if(!t)return z(!1);const e=z(t.document.hasFocus());return en(t,"blur",()=>{e.value=!1}),en(t,"focus",()=>{e.value=!0}),e}function _4(t={}){const{window:e=bi,initialWidth:n=1/0,initialHeight:s=1/0,listenOrientation:r=!0,includeScrollbar:o=!0}=t,a=z(n),i=z(s),l=()=>{e&&(o?(a.value=e.innerWidth,i.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,i.value=e.document.documentElement.clientHeight))};return l(),pb(l),en("resize",l,{passive:!0}),r&&en("orientationchange",l,{passive:!0}),{width:a,height:i}}class w4 extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Qn(t,e){throw new w4(`[${t}] ${e}`)}const Nw={current:0},Uw=z(0),OT=2e3,zw=Symbol("elZIndexContextKey"),BT=Symbol("zIndexContextKey"),fu=t=>{const e=It()?Qe(zw,Nw):Nw,n=t||(It()?Qe(BT,void 0):void 0),s=R(()=>{const a=f(n);return ft(a)?a:OT}),r=R(()=>s.value+Uw.value),o=()=>(e.current++,Uw.value=e.current,r.value);return!Nt&&Qe(zw),{initialZIndex:s,currentZIndex:r,nextZIndex:o}};var C4={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const x4=t=>(e,n)=>A4(e,n,f(t)),A4=(t,e,n)=>Un(n,t,t).replace(/\{(\w+)\}/g,(s,r)=>{var o;return`${(o=e==null?void 0:e[r])!=null?o:`{${r}}`}`}),E4=t=>{const e=R(()=>f(t).name),n=fn(t)?t:z(t);return{lang:e,locale:n,t:x4(t)}},FT=Symbol("localeContextKey"),Ut=t=>{const e=t||Qe(FT,z());return E4(R(()=>e.value||C4))},NT="__epPropKey",le=t=>t,T4=t=>Mt(t)&&!!t[NT],go=(t,e)=>{if(!Mt(t)||T4(t))return t;const{values:n,required:s,default:r,type:o,validator:a}=t,l={type:o,required:!!s,validator:n||a?c=>{let u=!1,d=[];if(n&&(d=Array.from(n),$t(t,"default")&&d.push(r),u||(u=d.includes(c))),a&&(u||(u=a(c))),!u&&d.length>0){const h=[...new Set(d)].map(p=>JSON.stringify(p)).join(", ");UD(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[NT]:!0};return $t(t,"default")&&(l.default=r),l},$e=t=>_d(Object.entries(t).map(([e,n])=>[e,go(n,e)])),zo=["","default","small","large"],Wn=go({type:String,values:zo,required:!1}),UT=Symbol("size"),zT=()=>{const t=Qe(UT,{});return R(()=>f(t.size)||"")},$T=Symbol("emptyValuesContextKey"),M4=["",void 0,null],I4=void 0,pu=$e({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>ct(t)?!t():!t}}),am=(t,e)=>{const n=It()?Qe($T,z({})):z({}),s=R(()=>t.emptyValues||n.value.emptyValues||M4),r=R(()=>ct(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:ct(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:I4),o=a=>s.value.includes(a);return s.value.includes(r.value),{emptyValues:s,valueOnClear:r,isEmptyValue:o}},Oc=t=>Object.keys(t),HT=t=>Object.entries(t),gp=(t,e,n)=>({get value(){return Un(t,e,n)},set value(s){BN(t,e,s)}}),ih=z();function im(t,e=void 0){const n=It()?Qe($E,ih):ih;return t?R(()=>{var s,r;return(r=(s=n.value)==null?void 0:s[t])!=null?r:e}):n}function lm(t,e){const n=im(),s=Le(t,R(()=>{var i;return((i=n.value)==null?void 0:i.namespace)||ju})),r=Ut(R(()=>{var i;return(i=n.value)==null?void 0:i.locale})),o=fu(R(()=>{var i;return((i=n.value)==null?void 0:i.zIndex)||OT})),a=R(()=>{var i;return f(e)||((i=n.value)==null?void 0:i.size)||""});return mb(R(()=>f(n)||{})),{ns:s,locale:r,zIndex:o,size:a}}const mb=(t,e,n=!1)=>{var s;const r=!!It(),o=r?im():void 0,a=(s=e==null?void 0:e.provide)!=null?s:r?Bt:void 0;if(!a)return;const i=R(()=>{const l=f(t);return o!=null&&o.value?R4(o.value,l):l});return a($E,i),a(FT,R(()=>i.value.locale)),a(HE,R(()=>i.value.namespace)),a(BT,R(()=>i.value.zIndex)),a(UT,{size:R(()=>i.value.size||"")}),a($T,R(()=>({emptyValues:i.value.emptyValues,valueOnClear:i.value.valueOnClear}))),(n||!ih.value)&&(ih.value=i.value),i},R4=(t,e)=>{const n=[...new Set([...Oc(t),...Oc(e)])],s={};for(const r of n)s[r]=e[r]!==void 0?e[r]:t[r];return s},P4=(t=[])=>({version:gL,install:(n,s)=>{n[q_]||(n[q_]=!0,t.forEach(r=>n.use(r)),s&&mb(s,n,!0))}}),Et="update:modelValue",nn="change",ws="input",D4=$e({zIndex:{type:le([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),k4={scroll:({scrollTop:t,fixed:e})=>ft(t)&&ln(e),[nn]:t=>ln(t)};var He=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n};function L4(t,e,n,s){const r=n-e;return t/=s/2,t<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e}const ci=t=>Nt?window.requestAnimationFrame(t):setTimeout(t,16),fl=t=>Nt?window.cancelAnimationFrame(t):clearTimeout(t),VT=(t="")=>t.split(" ").filter(e=>!!e.trim()),nr=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Br=(t,e)=>{!t||!e.trim()||t.classList.add(...VT(e))},Os=(t,e)=>{!t||!e.trim()||t.classList.remove(...VT(e))},na=(t,e)=>{var n;if(!Nt||!t||!e)return"";let s=wr(e);s==="float"&&(s="cssFloat");try{const r=t.style[s];if(r)return r;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return o?o[s]:""}catch{return t.style[s]}},WT=(t,e,n)=>{if(!(!t||!e))if(Mt(e))HT(e).forEach(([s,r])=>WT(t,s,r));else{const s=wr(e);t.style[s]=n}};function Rn(t,e="px"){if(!t)return"";if(ft(t)||HN(t))return`${t}${e}`;if(ot(t))return t}const O4=(t,e)=>{if(!Nt)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],s=na(t,n);return["scroll","auto","overlay"].some(r=>s.includes(r))},vb=(t,e)=>{if(!Nt)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(O4(n,e))return n;n=n.parentNode}return n};let yf;const GT=t=>{var e;if(!Nt)return 0;if(yf!==void 0)return yf;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const s=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const o=r.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),yf=s-o,yf};function gb(t,e){if(!Nt)return;if(!e){t.scrollTop=0;return}const n=[];let s=e.offsetParent;for(;s!==null&&t!==s&&t.contains(s);)n.push(s),s=s.offsetParent;const r=e.offsetTop+n.reduce((l,c)=>l+c.offsetTop,0),o=r+e.offsetHeight,a=t.scrollTop,i=a+t.clientHeight;r<a?t.scrollTop=r:o>i&&(t.scrollTop=o-t.clientHeight)}function B4(t,e,n,s,r){const o=Date.now();let a;const i=()=>{const c=Date.now()-o,u=L4(c>s?s:c,e,n,s);om(t)?t.scrollTo(window.pageXOffset,u):t.scrollTop=u,c<s?a=ci(i):ct(r)&&r()};return i(),()=>{a&&fl(a)}}const $w=(t,e)=>om(e)?t.ownerDocument.documentElement:e,Hw=t=>om(t)?window.scrollY:t.scrollTop,KT="ElAffix",F4=se({name:KT}),N4=se({...F4,props:D4,emits:k4,setup(t,{expose:e,emit:n}){const s=t,r=Le("affix"),o=dn(),a=dn(),i=dn(),{height:l}=_4(),{height:c,width:u,top:d,bottom:h,update:p}=kw(a,{windowScroll:!1}),v=kw(o),m=z(!1),y=z(0),g=z(0),_=R(()=>({height:m.value?`${c.value}px`:"",width:m.value?`${u.value}px`:""})),b=R(()=>{if(!m.value)return{};const C=s.offset?Rn(s.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:s.position==="top"?C:"",bottom:s.position==="bottom"?C:"",transform:g.value?`translateY(${g.value}px)`:"",zIndex:s.zIndex}}),S=()=>{if(!i.value)return;y.value=i.value instanceof Window?document.documentElement.scrollTop:i.value.scrollTop||0;const{position:C,target:A,offset:T}=s,x=T+c.value;if(C==="top")if(A){const E=v.bottom.value-x;m.value=T>d.value&&v.bottom.value>0,g.value=E<0?E:0}else m.value=T>d.value;else if(A){const E=l.value-v.top.value-x;m.value=l.value-T<h.value&&l.value>v.top.value,g.value=E<0?-E:0}else m.value=l.value-T<h.value},w=()=>{p(),n("scroll",{scrollTop:y.value,fixed:m.value})};return De(m,C=>n("change",C)),wt(()=>{var C;s.target?(o.value=(C=document.querySelector(s.target))!=null?C:void 0,o.value||Qn(KT,`Target does not exist: ${s.target}`)):o.value=document.documentElement,i.value=vb(a.value,!0),p()}),en(i,"scroll",w),_s(S),e({update:S,updateRoot:p}),(C,A)=>(D(),H("div",{ref_key:"root",ref:a,class:F(f(r).b()),style:rt(f(_))},[K("div",{class:F({[f(r).m("fixed")]:m.value}),style:rt(f(b))},[pe(C.$slots,"default")],6)],6))}});var U4=He(N4,[["__file","affix.vue"]]);const _t=(t,e)=>{if(t.install=n=>{for(const s of[t,...Object.values(e??{})])n.component(s.name,s)},e)for(const[n,s]of Object.entries(e))t[n]=s;return t},jT=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),z4=(t,e)=>(t.install=n=>{n.directive(e,t)},t),Tn=t=>(t.install=Zt,t),$4=_t(U4),H4=$e({size:{type:le([Number,String])},color:{type:String}}),V4=se({name:"ElIcon",inheritAttrs:!1}),W4=se({...V4,props:H4,setup(t){const e=t,n=Le("icon"),s=R(()=>{const{size:r,color:o}=e;return!r&&!o?{}:{fontSize:Jt(r)?void 0:Rn(r),"--color":o}});return(r,o)=>(D(),H("i",Dt({class:f(n).b(),style:f(s)},r.$attrs),[pe(r.$slots,"default")],16))}});var G4=He(W4,[["__file","icon.vue"]]);const tt=_t(G4);/*! Element Plus Icons Vue v2.3.1 */var K4=se({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),_a=K4,j4=se({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),ui=j4,q4=se({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Ws=q4,Y4=se({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),yb=Y4,X4=se({name:"Back",__name:"back",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),K("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),Q4=X4,Z4=se({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),J4=Z4,eU=se({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),qT=eU,tU=se({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),nU=tU,sU=se({name:"Check",__name:"check",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Yd=sU,rU=se({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),oU=rU,aU=se({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),K("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),bb=aU,iU=se({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Sb=iU,lU=se({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),K("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),wa=lU,cU=se({name:"Clock",__name:"clock",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),K("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),K("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),YT=cU,uU=se({name:"Close",__name:"close",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),mo=uU,dU=se({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),di=dU,fU=se({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),fi=fU,pU=se({name:"DataAnalysis",__name:"data-analysis",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}}),hU=pU,mU=se({name:"Delete",__name:"delete",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),vU=mU,gU=se({name:"Document",__name:"document",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),yU=gU,bU=se({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),SU=bU,_U=se({name:"Hide",__name:"hide",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),K("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),wU=_U,CU=se({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),_b=CU,xU=se({name:"Loading",__name:"loading",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Lo=xU,AU=se({name:"Minus",__name:"minus",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),EU=AU,TU=se({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),Vw=TU,MU=se({name:"More",__name:"more",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),IU=MU,RU=se({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),PU=RU,DU=se({name:"Plus",__name:"plus",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),XT=DU,kU=se({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),LU=kU,OU=se({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),BU=OU,FU=se({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),NU=FU,UU=se({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),zU=UU,$U=se({name:"Search",__name:"search",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),HU=$U,VU=se({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),WU=VU,GU=se({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),KU=GU,jU=se({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),bf=jU,qU=se({name:"Star",__name:"star",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),YU=qU,XU=se({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),QT=XU,QU=se({name:"View",__name:"view",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),ZU=QU,JU=se({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),cm=JU,ez=se({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),ZT=ez,tz=se({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),nz=tz;const sn=le([String,Object,Function]),wb={Close:mo},Cb={Close:mo,SuccessFilled:QT,InfoFilled:_b,WarningFilled:cm,CircleCloseFilled:Sb},pi={success:QT,warning:cm,error:Sb,info:_b},um={validating:Lo,success:bb,error:wa},sz=["light","dark"],rz=$e({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Oc(pi),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:sz,default:"light"}}),oz={close:t=>t instanceof MouseEvent},az=se({name:"ElAlert"}),iz=se({...az,props:rz,emits:oz,setup(t,{emit:e}){const n=t,{Close:s}=Cb,r=Gn(),o=Le("alert"),a=z(!0),i=R(()=>pi[n.type]),l=R(()=>!!(n.description||r.default)),c=u=>{a.value=!1,e("close",u)};return(u,d)=>(D(),_e(Xn,{name:f(o).b("fade"),persisted:""},{default:te(()=>[Ct(K("div",{class:F([f(o).b(),f(o).m(u.type),f(o).is("center",u.center),f(o).is(u.effect)]),role:"alert"},[u.showIcon&&f(i)?(D(),_e(f(tt),{key:0,class:F([f(o).e("icon"),{[f(o).is("big")]:f(l)}])},{default:te(()=>[(D(),_e(Rt(f(i))))]),_:1},8,["class"])):he("v-if",!0),K("div",{class:F(f(o).e("content"))},[u.title||u.$slots.title?(D(),H("span",{key:0,class:F([f(o).e("title"),{"with-description":f(l)}])},[pe(u.$slots,"title",{},()=>[St(Ne(u.title),1)])],2)):he("v-if",!0),f(l)?(D(),H("p",{key:1,class:F(f(o).e("description"))},[pe(u.$slots,"default",{},()=>[St(Ne(u.description),1)])],2)):he("v-if",!0),u.closable?(D(),H(Ze,{key:2},[u.closeText?(D(),H("div",{key:0,class:F([f(o).e("close-btn"),f(o).is("customed")]),onClick:c},Ne(u.closeText),3)):(D(),_e(f(tt),{key:1,class:F(f(o).e("close-btn")),onClick:c},{default:te(()=>[j(f(s))]),_:1},8,["class"]))],64)):he("v-if",!0)],2)],2),[[Vt,a.value]])]),_:3},8,["name"]))}});var lz=He(iz,[["__file","alert.vue"]]);const cz=_t(lz),dm=()=>Nt&&/firefox/i.test(window.navigator.userAgent);let Jr;const uz=`
  height:0 !important;
  visibility:hidden !important;
  ${dm()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,dz=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function fz(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),s=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:dz.map(a=>`${a}:${e.getPropertyValue(a)}`).join(";"),paddingSize:s,borderSize:r,boxSizing:n}}function Ww(t,e=1,n){var s;Jr||(Jr=document.createElement("textarea"),document.body.appendChild(Jr));const{paddingSize:r,borderSize:o,boxSizing:a,contextStyle:i}=fz(t);Jr.setAttribute("style",`${i};${uz}`),Jr.value=t.value||t.placeholder||"";let l=Jr.scrollHeight;const c={};a==="border-box"?l=l+o:a==="content-box"&&(l=l-r),Jr.value="";const u=Jr.scrollHeight-r;if(ft(e)){let d=u*e;a==="border-box"&&(d=d+r+o),l=Math.max(d,l),c.minHeight=`${d}px`}if(ft(n)){let d=u*n;a==="border-box"&&(d=d+r+o),l=Math.min(d,l)}return c.height=`${l}px`,(s=Jr.parentNode)==null||s.removeChild(Jr),Jr=void 0,c}const En=t=>t,pz=$e({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),ms=t=>uo(pz,t),xb=$e({id:{type:String,default:void 0},size:Wn,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:sn},prefixIcon:{type:sn},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>En({})},autofocus:Boolean,rows:{type:Number,default:2},...ms(["ariaLabel"])}),hz={[Et]:t=>ot(t),input:t=>ot(t),change:t=>ot(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},mz=["class","style"],vz=/^on[A-Z]/,Xd=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,s=R(()=>((n==null?void 0:n.value)||[]).concat(mz)),r=It();return R(r?()=>{var o;return _d(Object.entries((o=r.proxy)==null?void 0:o.$attrs).filter(([a])=>!s.value.includes(a)&&!(e&&vz.test(a))))}:()=>({}))},xl=Symbol("formContextKey"),Oo=Symbol("formItemContextKey"),Gw={prefix:Math.floor(Math.random()*1e4),current:0},gz=Symbol("elIdInjection"),Ab=()=>It()?Qe(gz,Gw):Gw,hs=t=>{const e=Ab(),n=Qy();return Ag(()=>f(t)||`${n.value}-id-${e.prefix}-${e.current++}`)},As=()=>{const t=Qe(xl,void 0),e=Qe(Oo,void 0);return{form:t,formItem:e}},Yr=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:s})=>{n||(n=z(!1)),s||(s=z(!1));const r=z();let o;const a=R(()=>{var i;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((i=e.inputIds)==null?void 0:i.length)<=1)});return wt(()=>{o=De([Yt(t,"id"),n],([i,l])=>{const c=i??(l?void 0:hs().value);c!==r.value&&(e!=null&&e.removeInputId&&(r.value&&e.removeInputId(r.value),!(s!=null&&s.value)&&!l&&c&&e.addInputId(c)),r.value=c)},{immediate:!0})}),ya(()=>{o&&o(),e!=null&&e.removeInputId&&r.value&&e.removeInputId(r.value)}),{isLabeledByFormItem:a,inputId:r}},JT=t=>{const e=It();return R(()=>{var n,s;return(s=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:s[t]})},Hn=(t,e={})=>{const n=z(void 0),s=e.prop?n:JT("size"),r=e.global?n:zT(),o=e.form?{size:void 0}:Qe(xl,void 0),a=e.formItem?{size:void 0}:Qe(Oo,void 0);return R(()=>s.value||f(t)||(a==null?void 0:a.size)||(o==null?void 0:o.size)||r.value||"")},Es=t=>{const e=JT("disabled"),n=Qe(xl,void 0);return R(()=>e.value||f(t)||(n==null?void 0:n.disabled)||!1)};function Si(t,{beforeFocus:e,afterFocus:n,beforeBlur:s,afterBlur:r}={}){const o=It(),{emit:a}=o,i=dn(),l=z(!1),c=h=>{ct(e)&&e(h)||l.value||(l.value=!0,a("focus",h),n==null||n())},u=h=>{var p;ct(s)&&s(h)||h.relatedTarget&&((p=i.value)!=null&&p.contains(h.relatedTarget))||(l.value=!1,a("blur",h),r==null||r())},d=()=>{var h,p;(h=i.value)!=null&&h.contains(document.activeElement)&&i.value!==document.activeElement||(p=t.value)==null||p.focus()};return De(i,h=>{h&&h.setAttribute("tabindex","-1")}),en(i,"focus",c,!0),en(i,"blur",u,!0),en(i,"click",d,!0),{isFocused:l,wrapperRef:i,handleFocus:c,handleBlur:u}}const yz=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function Qd({afterComposition:t,emit:e}){const n=z(!1),s=i=>{e==null||e("compositionstart",i),n.value=!0},r=i=>{var l;e==null||e("compositionupdate",i);const c=(l=i.target)==null?void 0:l.value,u=c[c.length-1]||"";n.value=!yz(u)},o=i=>{e==null||e("compositionend",i),n.value&&(n.value=!1,lt(()=>t(i)))};return{isComposing:n,handleComposition:i=>{i.type==="compositionend"?o(i):r(i)},handleCompositionStart:s,handleCompositionUpdate:r,handleCompositionEnd:o}}function bz(t){let e;function n(){if(t.value==null)return;const{selectionStart:r,selectionEnd:o,value:a}=t.value;if(r==null||o==null)return;const i=a.slice(0,Math.max(0,r)),l=a.slice(Math.max(0,o));e={selectionStart:r,selectionEnd:o,value:a,beforeTxt:i,afterTxt:l}}function s(){if(t.value==null||e==null)return;const{value:r}=t.value,{beforeTxt:o,afterTxt:a,selectionStart:i}=e;if(o==null||a==null||i==null)return;let l=r.length;if(r.endsWith(a))l=r.length-a.length;else if(r.startsWith(o))l=o.length;else{const c=o[i-1],u=r.indexOf(c,i-1);u!==-1&&(l=u+1)}t.value.setSelectionRange(l,l)}return[n,s]}const Sz=se({name:"ElInput",inheritAttrs:!1}),_z=se({...Sz,props:xb,emits:hz,setup(t,{expose:e,emit:n}){const s=t,r=yi(),o=Xd(),a=Gn(),i=R(()=>[s.type==="textarea"?m.b():v.b(),v.m(h.value),v.is("disabled",p.value),v.is("exceed",ee.value),{[v.b("group")]:a.prepend||a.append,[v.m("prefix")]:a.prefix||s.prefixIcon,[v.m("suffix")]:a.suffix||s.suffixIcon||s.clearable||s.showPassword,[v.bm("suffix","password-clear")]:L.value&&O.value,[v.b("hidden")]:s.type==="hidden"},r.class]),l=R(()=>[v.e("wrapper"),v.is("focus",T.value)]),{form:c,formItem:u}=As(),{inputId:d}=Yr(s,{formItemContext:u}),h=Hn(),p=Es(),v=Le("input"),m=Le("textarea"),y=dn(),g=dn(),_=z(!1),b=z(!1),S=z(),w=dn(s.inputStyle),C=R(()=>y.value||g.value),{wrapperRef:A,isFocused:T,handleFocus:x,handleBlur:E}=Si(C,{beforeFocus(){return p.value},afterBlur(){var de;s.validateEvent&&((de=u==null?void 0:u.validate)==null||de.call(u,"blur").catch(Re=>void 0))}}),M=R(()=>{var de;return(de=c==null?void 0:c.statusIcon)!=null?de:!1}),I=R(()=>(u==null?void 0:u.validateState)||""),k=R(()=>I.value&&um[I.value]),U=R(()=>b.value?ZU:wU),B=R(()=>[r.style]),P=R(()=>[s.inputStyle,w.value,{resize:s.resize}]),N=R(()=>es(s.modelValue)?"":String(s.modelValue)),L=R(()=>s.clearable&&!p.value&&!s.readonly&&!!N.value&&(T.value||_.value)),O=R(()=>s.showPassword&&!p.value&&!!N.value&&(!!N.value||T.value)),$=R(()=>s.showWordLimit&&!!s.maxlength&&(s.type==="text"||s.type==="textarea")&&!p.value&&!s.readonly&&!s.showPassword),W=R(()=>N.value.length),ee=R(()=>!!$.value&&W.value>Number(s.maxlength)),Y=R(()=>!!a.suffix||!!s.suffixIcon||L.value||s.showPassword||$.value||!!I.value&&M.value),[Z,ae]=bz(y);_n(g,de=>{if(ge(),!$.value||s.resize!=="both")return;const Re=de[0],{width:ke}=Re.contentRect;S.value={right:`calc(100% - ${ke+15+6}px)`}});const ue=()=>{const{type:de,autosize:Re}=s;if(!(!Nt||de!=="textarea"||!g.value))if(Re){const ke=Mt(Re)?Re.minRows:void 0,Je=Mt(Re)?Re.maxRows:void 0,je=Ww(g.value,ke,Je);w.value={overflowY:"hidden",...je},lt(()=>{g.value.offsetHeight,w.value=je})}else w.value={minHeight:Ww(g.value).minHeight}},ge=(de=>{let Re=!1;return()=>{var ke;if(Re||!s.autosize)return;((ke=g.value)==null?void 0:ke.offsetParent)===null||(de(),Re=!0)}})(ue),ye=()=>{const de=C.value,Re=s.formatter?s.formatter(N.value):N.value;!de||de.value===Re||(de.value=Re)},Fe=async de=>{Z();let{value:Re}=de.target;if(s.formatter&&(Re=s.parser?s.parser(Re):Re),!V.value){if(Re===N.value){ye();return}n(Et,Re),n("input",Re),await lt(),ye(),ae()}},X=de=>{n("change",de.target.value)},{isComposing:V,handleCompositionStart:ce,handleCompositionUpdate:Q,handleCompositionEnd:Me}=Qd({emit:n,afterComposition:Fe}),Pe=()=>{Z(),b.value=!b.value,setTimeout(ae)},Te=()=>{var de;return(de=C.value)==null?void 0:de.focus()},ve=()=>{var de;return(de=C.value)==null?void 0:de.blur()},xe=de=>{_.value=!1,n("mouseleave",de)},we=de=>{_.value=!0,n("mouseenter",de)},J=de=>{n("keydown",de)},G=()=>{var de;(de=C.value)==null||de.select()},me=()=>{n(Et,""),n("change",""),n("clear"),n("input","")};return De(()=>s.modelValue,()=>{var de;lt(()=>ue()),s.validateEvent&&((de=u==null?void 0:u.validate)==null||de.call(u,"change").catch(Re=>void 0))}),De(N,()=>ye()),De(()=>s.type,async()=>{await lt(),ye(),ue()}),wt(()=>{!s.formatter&&s.parser,ye(),lt(ue)}),e({input:y,textarea:g,ref:C,textareaStyle:P,autosize:Yt(s,"autosize"),isComposing:V,focus:Te,blur:ve,select:G,clear:me,resizeTextarea:ue}),(de,Re)=>(D(),H("div",{class:F([f(i),{[f(v).bm("group","append")]:de.$slots.append,[f(v).bm("group","prepend")]:de.$slots.prepend}]),style:rt(f(B)),onMouseenter:we,onMouseleave:xe},[he(" input "),de.type!=="textarea"?(D(),H(Ze,{key:0},[he(" prepend slot "),de.$slots.prepend?(D(),H("div",{key:0,class:F(f(v).be("group","prepend"))},[pe(de.$slots,"prepend")],2)):he("v-if",!0),K("div",{ref_key:"wrapperRef",ref:A,class:F(f(l))},[he(" prefix slot "),de.$slots.prefix||de.prefixIcon?(D(),H("span",{key:0,class:F(f(v).e("prefix"))},[K("span",{class:F(f(v).e("prefix-inner"))},[pe(de.$slots,"prefix"),de.prefixIcon?(D(),_e(f(tt),{key:0,class:F(f(v).e("icon"))},{default:te(()=>[(D(),_e(Rt(de.prefixIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],2)):he("v-if",!0),K("input",Dt({id:f(d),ref_key:"input",ref:y,class:f(v).e("inner")},f(o),{minlength:de.minlength,maxlength:de.maxlength,type:de.showPassword?b.value?"text":"password":de.type,disabled:f(p),readonly:de.readonly,autocomplete:de.autocomplete,tabindex:de.tabindex,"aria-label":de.ariaLabel,placeholder:de.placeholder,style:de.inputStyle,form:de.form,autofocus:de.autofocus,role:de.containerRole,onCompositionstart:f(ce),onCompositionupdate:f(Q),onCompositionend:f(Me),onInput:Fe,onChange:X,onKeydown:J}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),he(" suffix slot "),f(Y)?(D(),H("span",{key:1,class:F(f(v).e("suffix"))},[K("span",{class:F(f(v).e("suffix-inner"))},[!f(L)||!f(O)||!f($)?(D(),H(Ze,{key:0},[pe(de.$slots,"suffix"),de.suffixIcon?(D(),_e(f(tt),{key:0,class:F(f(v).e("icon"))},{default:te(()=>[(D(),_e(Rt(de.suffixIcon)))]),_:1},8,["class"])):he("v-if",!0)],64)):he("v-if",!0),f(L)?(D(),_e(f(tt),{key:1,class:F([f(v).e("icon"),f(v).e("clear")]),onMousedown:pt(f(Zt),["prevent"]),onClick:me},{default:te(()=>[j(f(wa))]),_:1},8,["class","onMousedown"])):he("v-if",!0),f(O)?(D(),_e(f(tt),{key:2,class:F([f(v).e("icon"),f(v).e("password")]),onClick:Pe},{default:te(()=>[(D(),_e(Rt(f(U))))]),_:1},8,["class"])):he("v-if",!0),f($)?(D(),H("span",{key:3,class:F(f(v).e("count"))},[K("span",{class:F(f(v).e("count-inner"))},Ne(f(W))+" / "+Ne(de.maxlength),3)],2)):he("v-if",!0),f(I)&&f(k)&&f(M)?(D(),_e(f(tt),{key:4,class:F([f(v).e("icon"),f(v).e("validateIcon"),f(v).is("loading",f(I)==="validating")])},{default:te(()=>[(D(),_e(Rt(f(k))))]),_:1},8,["class"])):he("v-if",!0)],2)],2)):he("v-if",!0)],2),he(" append slot "),de.$slots.append?(D(),H("div",{key:1,class:F(f(v).be("group","append"))},[pe(de.$slots,"append")],2)):he("v-if",!0)],64)):(D(),H(Ze,{key:1},[he(" textarea "),K("textarea",Dt({id:f(d),ref_key:"textarea",ref:g,class:[f(m).e("inner"),f(v).is("focus",f(T))]},f(o),{minlength:de.minlength,maxlength:de.maxlength,tabindex:de.tabindex,disabled:f(p),readonly:de.readonly,autocomplete:de.autocomplete,style:f(P),"aria-label":de.ariaLabel,placeholder:de.placeholder,form:de.form,autofocus:de.autofocus,rows:de.rows,role:de.containerRole,onCompositionstart:f(ce),onCompositionupdate:f(Q),onCompositionend:f(Me),onInput:Fe,onFocus:f(x),onBlur:f(E),onChange:X,onKeydown:J}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),f($)?(D(),H("span",{key:0,style:rt(S.value),class:F(f(v).e("count"))},Ne(f(W))+" / "+Ne(de.maxlength),7)):he("v-if",!0)],64))],38))}});var wz=He(_z,[["__file","input.vue"]]);const ks=_t(wz),Dl=4,eM={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Cz=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),Eb=Symbol("scrollbarContextKey"),xz=$e({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Az="Thumb",Ez=se({__name:"thumb",props:xz,setup(t){const e=t,n=Qe(Eb),s=Le("scrollbar");n||Qn(Az,"can not inject scrollbar context");const r=z(),o=z(),a=z({}),i=z(!1);let l=!1,c=!1,u=Nt?document.onselectstart:null;const d=R(()=>eM[e.vertical?"vertical":"horizontal"]),h=R(()=>Cz({size:e.size,move:e.move,bar:d.value})),p=R(()=>r.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/o.value[d.value.offset]),v=C=>{var A;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(A=window.getSelection())==null||A.removeAllRanges(),y(C);const T=C.currentTarget;T&&(a.value[d.value.axis]=T[d.value.offset]-(C[d.value.client]-T.getBoundingClientRect()[d.value.direction]))},m=C=>{if(!o.value||!r.value||!n.wrapElement)return;const A=Math.abs(C.target.getBoundingClientRect()[d.value.direction]-C[d.value.client]),T=o.value[d.value.offset]/2,x=(A-T)*100*p.value/r.value[d.value.offset];n.wrapElement[d.value.scroll]=x*n.wrapElement[d.value.scrollSize]/100},y=C=>{C.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",_),u=document.onselectstart,document.onselectstart=()=>!1},g=C=>{if(!r.value||!o.value||l===!1)return;const A=a.value[d.value.axis];if(!A)return;const T=(r.value.getBoundingClientRect()[d.value.direction]-C[d.value.client])*-1,x=o.value[d.value.offset]-A,E=(T-x)*100*p.value/r.value[d.value.offset];n.wrapElement[d.value.scroll]=E*n.wrapElement[d.value.scrollSize]/100},_=()=>{l=!1,a.value[d.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",_),w(),c&&(i.value=!1)},b=()=>{c=!1,i.value=!!e.size},S=()=>{c=!0,i.value=l};Qt(()=>{w(),document.removeEventListener("mouseup",_)});const w=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return en(Yt(n,"scrollbarElement"),"mousemove",b),en(Yt(n,"scrollbarElement"),"mouseleave",S),(C,A)=>(D(),_e(Xn,{name:f(s).b("fade"),persisted:""},{default:te(()=>[Ct(K("div",{ref_key:"instance",ref:r,class:F([f(s).e("bar"),f(s).is(f(d).key)]),onMousedown:m},[K("div",{ref_key:"thumb",ref:o,class:F(f(s).e("thumb")),style:rt(f(h)),onMousedown:v},null,38)],34),[[Vt,C.always||i.value]])]),_:1},8,["name"]))}});var Kw=He(Ez,[["__file","thumb.vue"]]);const Tz=$e({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Mz=se({__name:"bar",props:Tz,setup(t,{expose:e}){const n=t,s=Qe(Eb),r=z(0),o=z(0),a=z(""),i=z(""),l=z(1),c=z(1);return e({handleScroll:h=>{if(h){const p=h.offsetHeight-Dl,v=h.offsetWidth-Dl;o.value=h.scrollTop*100/p*l.value,r.value=h.scrollLeft*100/v*c.value}},update:()=>{const h=s==null?void 0:s.wrapElement;if(!h)return;const p=h.offsetHeight-Dl,v=h.offsetWidth-Dl,m=p**2/h.scrollHeight,y=v**2/h.scrollWidth,g=Math.max(m,n.minSize),_=Math.max(y,n.minSize);l.value=m/(p-m)/(g/(p-g)),c.value=y/(v-y)/(_/(v-_)),i.value=g+Dl<p?`${g}px`:"",a.value=_+Dl<v?`${_}px`:""}}),(h,p)=>(D(),H(Ze,null,[j(Kw,{move:r.value,ratio:c.value,size:a.value,always:h.always},null,8,["move","ratio","size","always"]),j(Kw,{move:o.value,ratio:l.value,size:i.value,vertical:"",always:h.always},null,8,["move","ratio","size","always"])],64))}});var Iz=He(Mz,[["__file","bar.vue"]]);const Rz=$e({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:le([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ms(["ariaLabel","ariaOrientation"])}),Pz={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(ft)},Dz="ElScrollbar",kz=se({name:Dz}),Lz=se({...kz,props:Rz,emits:Pz,setup(t,{expose:e,emit:n}){const s=t,r=Le("scrollbar");let o,a,i=0,l=0;const c=z(),u=z(),d=z(),h=z(),p=R(()=>{const w={};return s.height&&(w.height=Rn(s.height)),s.maxHeight&&(w.maxHeight=Rn(s.maxHeight)),[s.wrapStyle,w]}),v=R(()=>[s.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!s.native}]),m=R(()=>[r.e("view"),s.viewClass]),y=()=>{var w;u.value&&((w=h.value)==null||w.handleScroll(u.value),i=u.value.scrollTop,l=u.value.scrollLeft,n("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};function g(w,C){Mt(w)?u.value.scrollTo(w):ft(w)&&ft(C)&&u.value.scrollTo(w,C)}const _=w=>{ft(w)&&(u.value.scrollTop=w)},b=w=>{ft(w)&&(u.value.scrollLeft=w)},S=()=>{var w;(w=h.value)==null||w.update()};return De(()=>s.noresize,w=>{w?(o==null||o(),a==null||a()):({stop:o}=_n(d,S),a=en("resize",S))},{immediate:!0}),De(()=>[s.maxHeight,s.height],()=>{s.native||lt(()=>{var w;S(),u.value&&((w=h.value)==null||w.handleScroll(u.value))})}),Bt(Eb,qt({scrollbarElement:c,wrapElement:u})),Vy(()=>{u.value&&(u.value.scrollTop=i,u.value.scrollLeft=l)}),wt(()=>{s.native||lt(()=>{S()})}),qr(()=>S()),e({wrapRef:u,update:S,scrollTo:g,setScrollTop:_,setScrollLeft:b,handleScroll:y}),(w,C)=>(D(),H("div",{ref_key:"scrollbarRef",ref:c,class:F(f(r).b())},[K("div",{ref_key:"wrapRef",ref:u,class:F(f(v)),style:rt(f(p)),tabindex:w.tabindex,onScroll:y},[(D(),_e(Rt(w.tag),{id:w.id,ref_key:"resizeRef",ref:d,class:F(f(m)),style:rt(w.viewStyle),role:w.role,"aria-label":w.ariaLabel,"aria-orientation":w.ariaOrientation},{default:te(()=>[pe(w.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),w.native?he("v-if",!0):(D(),_e(Iz,{key:0,ref_key:"barRef",ref:h,always:w.always,"min-size":w.minSize},null,8,["always","min-size"]))],2))}});var Oz=He(Lz,[["__file","scrollbar.vue"]]);const $o=_t(Oz),Tb=Symbol("popper"),tM=Symbol("popperContent"),Bz=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],nM=$e({role:{type:String,values:Bz,default:"tooltip"}}),Fz=se({name:"ElPopper",inheritAttrs:!1}),Nz=se({...Fz,props:nM,setup(t,{expose:e}){const n=t,s=z(),r=z(),o=z(),a=z(),i=R(()=>n.role),l={triggerRef:s,popperInstanceRef:r,contentRef:o,referenceRef:a,role:i};return e(l),Bt(Tb,l),(c,u)=>pe(c.$slots,"default")}});var Uz=He(Nz,[["__file","popper.vue"]]);const sM=$e({arrowOffset:{type:Number,default:5}}),zz=se({name:"ElPopperArrow",inheritAttrs:!1}),$z=se({...zz,props:sM,setup(t,{expose:e}){const n=t,s=Le("popper"),{arrowOffset:r,arrowRef:o,arrowStyle:a}=Qe(tM,void 0);return De(()=>n.arrowOffset,i=>{r.value=i}),Qt(()=>{o.value=void 0}),e({arrowRef:o}),(i,l)=>(D(),H("span",{ref_key:"arrowRef",ref:o,class:F(f(s).e("arrow")),style:rt(f(a)),"data-popper-arrow":""},null,6))}});var Hz=He($z,[["__file","arrow.vue"]]);const rM=$e({virtualRef:{type:le(Object)},virtualTriggering:Boolean,onMouseenter:{type:le(Function)},onMouseleave:{type:le(Function)},onClick:{type:le(Function)},onKeydown:{type:le(Function)},onFocus:{type:le(Function)},onBlur:{type:le(Function)},onContextmenu:{type:le(Function)},id:String,open:Boolean}),oM=Symbol("elForwardRef"),Vz=t=>{Bt(oM,{setForwardRef:n=>{t.value=n}})},Wz=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),Gz='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Kz=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,jw=t=>Array.from(t.querySelectorAll(Gz)).filter(e=>Mg(e)&&Kz(e)),Mg=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},yp=function(t,e,...n){let s;e.includes("mouse")||e.includes("click")?s="MouseEvents":e.includes("key")?s="KeyboardEvent":s="HTMLEvents";const r=document.createEvent(s);return r.initEvent(e,...n),t.dispatchEvent(r),t},aM=t=>!t.getAttribute("aria-owns"),iM=(t,e,n)=>{const{parentNode:s}=t;if(!s)return null;const r=s.querySelectorAll(n),o=Array.prototype.indexOf.call(r,t);return r[o+e]||null},bp=t=>{t&&(t.focus(),!aM(t)&&t.click())},jz="ElOnlyChild",lM=se({name:jz,setup(t,{slots:e,attrs:n}){var s;const r=Qe(oM),o=Wz((s=r==null?void 0:r.setForwardRef)!=null?s:Zt);return()=>{var a;const i=(a=e.default)==null?void 0:a.call(e,n);if(!i||i.length>1)return null;const l=cM(i);return l?Ct(da(l,n),[[o]]):null}}});function cM(t){if(!t)return null;const e=t;for(const n of e){if(Mt(n))switch(n.type){case Ls:continue;case iu:case"svg":return qw(n);case Ze:return cM(n.children);default:return n}return qw(n)}return null}function qw(t){const e=Le("only-child");return j("span",{class:e.e("content")},[t])}const qz=se({name:"ElPopperTrigger",inheritAttrs:!1}),Yz=se({...qz,props:rM,setup(t,{expose:e}){const n=t,{role:s,triggerRef:r}=Qe(Tb,void 0);Vz(r);const o=R(()=>i.value?n.id:void 0),a=R(()=>{if(s&&s.value==="tooltip")return n.open&&n.id?n.id:void 0}),i=R(()=>{if(s&&s.value!=="tooltip")return s.value}),l=R(()=>i.value?`${n.open}`:void 0);let c;const u=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return wt(()=>{De(()=>n.virtualRef,d=>{d&&(r.value=Hs(d))},{immediate:!0}),De(r,(d,h)=>{c==null||c(),c=void 0,gr(d)&&(u.forEach(p=>{var v;const m=n[p];m&&(d.addEventListener(p.slice(2).toLowerCase(),m),(v=h==null?void 0:h.removeEventListener)==null||v.call(h,p.slice(2).toLowerCase(),m))}),Mg(d)&&(c=De([o,a,i,l],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((v,m)=>{es(p[m])?d.removeAttribute(v):d.setAttribute(v,p[m])})},{immediate:!0}))),gr(h)&&Mg(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>h.removeAttribute(p))},{immediate:!0})}),Qt(()=>{if(c==null||c(),c=void 0,r.value&&gr(r.value)){const d=r.value;u.forEach(h=>{const p=n[h];p&&d.removeEventListener(h.slice(2).toLowerCase(),p)}),r.value=void 0}}),e({triggerRef:r}),(d,h)=>d.virtualTriggering?he("v-if",!0):(D(),_e(f(lM),Dt({key:0},d.$attrs,{"aria-controls":f(o),"aria-describedby":f(a),"aria-expanded":f(l),"aria-haspopup":f(i)}),{default:te(()=>[pe(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Xz=He(Yz,[["__file","trigger.vue"]]);const Wm="focus-trap.focus-after-trapped",Gm="focus-trap.focus-after-released",Qz="focus-trap.focusout-prevented",Yw={cancelable:!0,bubbles:!1},Zz={cancelable:!0,bubbles:!1},Xw="focusAfterTrapped",Qw="focusAfterReleased",Mb=Symbol("elFocusTrap"),Ib=z(),fm=z(0),Rb=z(0);let Sf=0;const uM=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},Zw=(t,e)=>{for(const n of t)if(!Jz(n,e))return n},Jz=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},e$=t=>{const e=uM(t),n=Zw(e,t),s=Zw(e.reverse(),t);return[n,s]},t$=t=>t instanceof HTMLInputElement&&"select"in t,Ua=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),Rb.value=window.performance.now(),t!==n&&t$(t)&&e&&t.select()}};function Jw(t,e){const n=[...t],s=t.indexOf(e);return s!==-1&&n.splice(s,1),n}const n$=()=>{let t=[];return{push:s=>{const r=t[0];r&&s!==r&&r.pause(),t=Jw(t,s),t.unshift(s)},remove:s=>{var r,o;t=Jw(t,s),(o=(r=t[0])==null?void 0:r.resume)==null||o.call(r)}}},s$=(t,e=!1)=>{const n=document.activeElement;for(const s of t)if(Ua(s,e),document.activeElement!==n)return},eC=n$(),r$=()=>fm.value>Rb.value,_f=()=>{Ib.value="pointer",fm.value=window.performance.now()},tC=()=>{Ib.value="keyboard",fm.value=window.performance.now()},o$=()=>(wt(()=>{Sf===0&&(document.addEventListener("mousedown",_f),document.addEventListener("touchstart",_f),document.addEventListener("keydown",tC)),Sf++}),Qt(()=>{Sf--,Sf<=0&&(document.removeEventListener("mousedown",_f),document.removeEventListener("touchstart",_f),document.removeEventListener("keydown",tC))}),{focusReason:Ib,lastUserFocusTimestamp:fm,lastAutomatedFocusTimestamp:Rb}),wf=t=>new CustomEvent(Qz,{...Zz,detail:t}),qe={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let sc=[];const nC=t=>{t.code===qe.esc&&sc.forEach(e=>e(t))},a$=t=>{wt(()=>{sc.length===0&&document.addEventListener("keydown",nC),Nt&&sc.push(t)}),Qt(()=>{sc=sc.filter(e=>e!==t),sc.length===0&&Nt&&document.removeEventListener("keydown",nC)})},i$=se({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Xw,Qw,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=z();let s,r;const{focusReason:o}=o$();a$(v=>{t.trapped&&!a.paused&&e("release-requested",v)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},i=v=>{if(!t.loop&&!t.trapped||a.paused)return;const{code:m,altKey:y,ctrlKey:g,metaKey:_,currentTarget:b,shiftKey:S}=v,{loop:w}=t,C=m===qe.tab&&!y&&!g&&!_,A=document.activeElement;if(C&&A){const T=b,[x,E]=e$(T);if(x&&E){if(!S&&A===E){const I=wf({focusReason:o.value});e("focusout-prevented",I),I.defaultPrevented||(v.preventDefault(),w&&Ua(x,!0))}else if(S&&[x,T].includes(A)){const I=wf({focusReason:o.value});e("focusout-prevented",I),I.defaultPrevented||(v.preventDefault(),w&&Ua(E,!0))}}else if(A===T){const I=wf({focusReason:o.value});e("focusout-prevented",I),I.defaultPrevented||v.preventDefault()}}};Bt(Mb,{focusTrapRef:n,onKeydown:i}),De(()=>t.focusTrapEl,v=>{v&&(n.value=v)},{immediate:!0}),De([n],([v],[m])=>{v&&(v.addEventListener("keydown",i),v.addEventListener("focusin",u),v.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",i),m.removeEventListener("focusin",u),m.removeEventListener("focusout",d))});const l=v=>{e(Xw,v)},c=v=>e(Qw,v),u=v=>{const m=f(n);if(!m)return;const y=v.target,g=v.relatedTarget,_=y&&m.contains(y);t.trapped||g&&m.contains(g)||(s=g),_&&e("focusin",v),!a.paused&&t.trapped&&(_?r=y:Ua(r,!0))},d=v=>{const m=f(n);if(!(a.paused||!m))if(t.trapped){const y=v.relatedTarget;!es(y)&&!m.contains(y)&&setTimeout(()=>{if(!a.paused&&t.trapped){const g=wf({focusReason:o.value});e("focusout-prevented",g),g.defaultPrevented||Ua(r,!0)}},0)}else{const y=v.target;y&&m.contains(y)||e("focusout",v)}};async function h(){await lt();const v=f(n);if(v){eC.push(a);const m=v.contains(document.activeElement)?s:document.activeElement;if(s=m,!v.contains(m)){const g=new Event(Wm,Yw);v.addEventListener(Wm,l),v.dispatchEvent(g),g.defaultPrevented||lt(()=>{let _=t.focusStartEl;ot(_)||(Ua(_),document.activeElement!==_&&(_="first")),_==="first"&&s$(uM(v),!0),(document.activeElement===m||_==="container")&&Ua(v)})}}}function p(){const v=f(n);if(v){v.removeEventListener(Wm,l);const m=new CustomEvent(Gm,{...Yw,detail:{focusReason:o.value}});v.addEventListener(Gm,c),v.dispatchEvent(m),!m.defaultPrevented&&(o.value=="keyboard"||!r$()||v.contains(document.activeElement))&&Ua(s??document.body),v.removeEventListener(Gm,c),eC.remove(a)}}return wt(()=>{t.trapped&&h(),De(()=>t.trapped,v=>{v?h():p()})}),Qt(()=>{t.trapped&&p(),n.value&&(n.value.removeEventListener("keydown",i),n.value.removeEventListener("focusin",u),n.value.removeEventListener("focusout",d),n.value=void 0)}),{onKeydown:i}}});function l$(t,e,n,s,r,o){return pe(t.$slots,"default",{handleKeydown:t.onKeydown})}var hu=He(i$,[["render",l$],["__file","focus-trap.vue"]]),sr="top",Wr="bottom",Gr="right",rr="left",Pb="auto",Zd=[sr,Wr,Gr,rr],Bc="start",wd="end",c$="clippingParents",dM="viewport",Eu="popper",u$="reference",sC=Zd.reduce(function(t,e){return t.concat([e+"-"+Bc,e+"-"+wd])},[]),Ca=[].concat(Zd,[Pb]).reduce(function(t,e){return t.concat([e,e+"-"+Bc,e+"-"+wd])},[]),d$="beforeRead",f$="read",p$="afterRead",h$="beforeMain",m$="main",v$="afterMain",g$="beforeWrite",y$="write",b$="afterWrite",S$=[d$,f$,p$,h$,m$,v$,g$,y$,b$];function Bo(t){return t?(t.nodeName||"").toLowerCase():null}function yo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Fc(t){var e=yo(t).Element;return t instanceof e||t instanceof Element}function zr(t){var e=yo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Db(t){if(typeof ShadowRoot>"u")return!1;var e=yo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function _$(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!zr(o)||!Bo(o)||(Object.assign(o.style,s),Object.keys(r).forEach(function(a){var i=r[a];i===!1?o.removeAttribute(a):o.setAttribute(a,i===!0?"":i)}))})}function w$(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],o=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),i=a.reduce(function(l,c){return l[c]="",l},{});!zr(r)||!Bo(r)||(Object.assign(r.style,i),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var fM={name:"applyStyles",enabled:!0,phase:"write",fn:_$,effect:w$,requires:["computeStyles"]};function Po(t){return t.split("-")[0]}var rl=Math.max,lh=Math.min,Nc=Math.round;function Uc(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),s=1,r=1;if(zr(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(s=Nc(n.width)/a||1),o>0&&(r=Nc(n.height)/o||1)}return{width:n.width/s,height:n.height/r,top:n.top/r,right:n.right/s,bottom:n.bottom/r,left:n.left/s,x:n.left/s,y:n.top/r}}function kb(t){var e=Uc(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function pM(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Db(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function fa(t){return yo(t).getComputedStyle(t)}function C$(t){return["table","td","th"].indexOf(Bo(t))>=0}function _i(t){return((Fc(t)?t.ownerDocument:t.document)||window.document).documentElement}function pm(t){return Bo(t)==="html"?t:t.assignedSlot||t.parentNode||(Db(t)?t.host:null)||_i(t)}function rC(t){return!zr(t)||fa(t).position==="fixed"?null:t.offsetParent}function x$(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&zr(t)){var s=fa(t);if(s.position==="fixed")return null}var r=pm(t);for(Db(r)&&(r=r.host);zr(r)&&["html","body"].indexOf(Bo(r))<0;){var o=fa(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Jd(t){for(var e=yo(t),n=rC(t);n&&C$(n)&&fa(n).position==="static";)n=rC(n);return n&&(Bo(n)==="html"||Bo(n)==="body"&&fa(n).position==="static")?e:n||x$(t)||e}function Lb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Yu(t,e,n){return rl(t,lh(e,n))}function A$(t,e,n){var s=Yu(t,e,n);return s>n?n:s}function hM(){return{top:0,right:0,bottom:0,left:0}}function mM(t){return Object.assign({},hM(),t)}function vM(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var E$=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,mM(typeof t!="number"?t:vM(t,Zd))};function T$(t){var e,n=t.state,s=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,i=Po(n.placement),l=Lb(i),c=[rr,Gr].indexOf(i)>=0,u=c?"height":"width";if(!(!o||!a)){var d=E$(r.padding,n),h=kb(o),p=l==="y"?sr:rr,v=l==="y"?Wr:Gr,m=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],y=a[l]-n.rects.reference[l],g=Jd(o),_=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,b=m/2-y/2,S=d[p],w=_-h[u]-d[v],C=_/2-h[u]/2+b,A=Yu(S,C,w),T=l;n.modifiersData[s]=(e={},e[T]=A,e.centerOffset=A-C,e)}}function M$(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!pM(e.elements.popper,r)||(e.elements.arrow=r))}var I$={name:"arrow",enabled:!0,phase:"main",fn:T$,effect:M$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zc(t){return t.split("-")[1]}var R$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function P$(t){var e=t.x,n=t.y,s=window,r=s.devicePixelRatio||1;return{x:Nc(e*r)/r||0,y:Nc(n*r)/r||0}}function oC(t){var e,n=t.popper,s=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,i=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=a.x,p=h===void 0?0:h,v=a.y,m=v===void 0?0:v,y=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=y.x,m=y.y;var g=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),b=rr,S=sr,w=window;if(c){var C=Jd(n),A="clientHeight",T="clientWidth";if(C===yo(n)&&(C=_i(n),fa(C).position!=="static"&&i==="absolute"&&(A="scrollHeight",T="scrollWidth")),C=C,r===sr||(r===rr||r===Gr)&&o===wd){S=Wr;var x=d&&C===w&&w.visualViewport?w.visualViewport.height:C[A];m-=x-s.height,m*=l?1:-1}if(r===rr||(r===sr||r===Wr)&&o===wd){b=Gr;var E=d&&C===w&&w.visualViewport?w.visualViewport.width:C[T];p-=E-s.width,p*=l?1:-1}}var M=Object.assign({position:i},c&&R$),I=u===!0?P$({x:p,y:m}):{x:p,y:m};if(p=I.x,m=I.y,l){var k;return Object.assign({},M,(k={},k[S]=_?"0":"",k[b]=g?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",k))}return Object.assign({},M,(e={},e[S]=_?m+"px":"",e[b]=g?p+"px":"",e.transform="",e))}function D$(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,o=n.adaptive,a=o===void 0?!0:o,i=n.roundOffsets,l=i===void 0?!0:i,c={placement:Po(e.placement),variation:zc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,oC(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,oC(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var gM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:D$,data:{}},Cf={passive:!0};function k$(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,o=r===void 0?!0:r,a=s.resize,i=a===void 0?!0:a,l=yo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Cf)}),i&&l.addEventListener("resize",n.update,Cf),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Cf)}),i&&l.removeEventListener("resize",n.update,Cf)}}var yM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:k$,data:{}},L$={left:"right",right:"left",bottom:"top",top:"bottom"};function Sp(t){return t.replace(/left|right|bottom|top/g,function(e){return L$[e]})}var O$={start:"end",end:"start"};function aC(t){return t.replace(/start|end/g,function(e){return O$[e]})}function Ob(t){var e=yo(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Bb(t){return Uc(_i(t)).left+Ob(t).scrollLeft}function B$(t){var e=yo(t),n=_i(t),s=e.visualViewport,r=n.clientWidth,o=n.clientHeight,a=0,i=0;return s&&(r=s.width,o=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=s.offsetLeft,i=s.offsetTop)),{width:r,height:o,x:a+Bb(t),y:i}}function F$(t){var e,n=_i(t),s=Ob(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=rl(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=rl(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),i=-s.scrollLeft+Bb(t),l=-s.scrollTop;return fa(r||n).direction==="rtl"&&(i+=rl(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:i,y:l}}function Fb(t){var e=fa(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function bM(t){return["html","body","#document"].indexOf(Bo(t))>=0?t.ownerDocument.body:zr(t)&&Fb(t)?t:bM(pm(t))}function Xu(t,e){var n;e===void 0&&(e=[]);var s=bM(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),o=yo(s),a=r?[o].concat(o.visualViewport||[],Fb(s)?s:[]):s,i=e.concat(a);return r?i:i.concat(Xu(pm(a)))}function Ig(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function N$(t){var e=Uc(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function iC(t,e){return e===dM?Ig(B$(t)):Fc(e)?N$(e):Ig(F$(_i(t)))}function U$(t){var e=Xu(pm(t)),n=["absolute","fixed"].indexOf(fa(t).position)>=0,s=n&&zr(t)?Jd(t):t;return Fc(s)?e.filter(function(r){return Fc(r)&&pM(r,s)&&Bo(r)!=="body"}):[]}function z$(t,e,n){var s=e==="clippingParents"?U$(t):[].concat(e),r=[].concat(s,[n]),o=r[0],a=r.reduce(function(i,l){var c=iC(t,l);return i.top=rl(c.top,i.top),i.right=lh(c.right,i.right),i.bottom=lh(c.bottom,i.bottom),i.left=rl(c.left,i.left),i},iC(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function SM(t){var e=t.reference,n=t.element,s=t.placement,r=s?Po(s):null,o=s?zc(s):null,a=e.x+e.width/2-n.width/2,i=e.y+e.height/2-n.height/2,l;switch(r){case sr:l={x:a,y:e.y-n.height};break;case Wr:l={x:a,y:e.y+e.height};break;case Gr:l={x:e.x+e.width,y:i};break;case rr:l={x:e.x-n.width,y:i};break;default:l={x:e.x,y:e.y}}var c=r?Lb(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Bc:l[c]=l[c]-(e[u]/2-n[u]/2);break;case wd:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Cd(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,o=n.boundary,a=o===void 0?c$:o,i=n.rootBoundary,l=i===void 0?dM:i,c=n.elementContext,u=c===void 0?Eu:c,d=n.altBoundary,h=d===void 0?!1:d,p=n.padding,v=p===void 0?0:p,m=mM(typeof v!="number"?v:vM(v,Zd)),y=u===Eu?u$:Eu,g=t.rects.popper,_=t.elements[h?y:u],b=z$(Fc(_)?_:_.contextElement||_i(t.elements.popper),a,l),S=Uc(t.elements.reference),w=SM({reference:S,element:g,placement:r}),C=Ig(Object.assign({},g,w)),A=u===Eu?C:S,T={top:b.top-A.top+m.top,bottom:A.bottom-b.bottom+m.bottom,left:b.left-A.left+m.left,right:A.right-b.right+m.right},x=t.modifiersData.offset;if(u===Eu&&x){var E=x[r];Object.keys(T).forEach(function(M){var I=[Gr,Wr].indexOf(M)>=0?1:-1,k=[sr,Wr].indexOf(M)>=0?"y":"x";T[M]+=E[k]*I})}return T}function $$(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Ca:l,u=zc(s),d=u?i?sC:sC.filter(function(v){return zc(v)===u}):Zd,h=d.filter(function(v){return c.indexOf(v)>=0});h.length===0&&(h=d);var p=h.reduce(function(v,m){return v[m]=Cd(t,{placement:m,boundary:r,rootBoundary:o,padding:a})[Po(m)],v},{});return Object.keys(p).sort(function(v,m){return p[v]-p[m]})}function H$(t){if(Po(t)===Pb)return[];var e=Sp(t);return[aC(t),e,aC(e)]}function V$(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,i=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,v=p===void 0?!0:p,m=n.allowedAutoPlacements,y=e.options.placement,g=Po(y),_=g===y,b=l||(_||!v?[Sp(y)]:H$(y)),S=[y].concat(b).reduce(function(Z,ae){return Z.concat(Po(ae)===Pb?$$(e,{placement:ae,boundary:u,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:m}):ae)},[]),w=e.rects.reference,C=e.rects.popper,A=new Map,T=!0,x=S[0],E=0;E<S.length;E++){var M=S[E],I=Po(M),k=zc(M)===Bc,U=[sr,Wr].indexOf(I)>=0,B=U?"width":"height",P=Cd(e,{placement:M,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),N=U?k?Gr:rr:k?Wr:sr;w[B]>C[B]&&(N=Sp(N));var L=Sp(N),O=[];if(o&&O.push(P[I]<=0),i&&O.push(P[N]<=0,P[L]<=0),O.every(function(Z){return Z})){x=M,T=!1;break}A.set(M,O)}if(T)for(var $=v?3:1,W=function(Z){var ae=S.find(function(ue){var re=A.get(ue);if(re)return re.slice(0,Z).every(function(ge){return ge})});if(ae)return x=ae,"break"},ee=$;ee>0;ee--){var Y=W(ee);if(Y==="break")break}e.placement!==x&&(e.modifiersData[s]._skip=!0,e.placement=x,e.reset=!0)}}var W$={name:"flip",enabled:!0,phase:"main",fn:V$,requiresIfExists:["offset"],data:{_skip:!1}};function lC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function cC(t){return[sr,Gr,Wr,rr].some(function(e){return t[e]>=0})}function G$(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Cd(e,{elementContext:"reference"}),i=Cd(e,{altBoundary:!0}),l=lC(a,s),c=lC(i,r,o),u=cC(l),d=cC(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var K$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:G$};function j$(t,e,n){var s=Po(t),r=[rr,sr].indexOf(s)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],i=o[1];return a=a||0,i=(i||0)*r,[rr,Gr].indexOf(s)>=0?{x:i,y:a}:{x:a,y:i}}function q$(t){var e=t.state,n=t.options,s=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=Ca.reduce(function(u,d){return u[d]=j$(d,e.rects,o),u},{}),i=a[e.placement],l=i.x,c=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=a}var Y$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:q$};function X$(t){var e=t.state,n=t.name;e.modifiersData[n]=SM({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var _M={name:"popperOffsets",enabled:!0,phase:"read",fn:X$,data:{}};function Q$(t){return t==="x"?"y":"x"}function Z$(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,i=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,v=n.tetherOffset,m=v===void 0?0:v,y=Cd(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=Po(e.placement),_=zc(e.placement),b=!_,S=Lb(g),w=Q$(S),C=e.modifiersData.popperOffsets,A=e.rects.reference,T=e.rects.popper,x=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,E=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(C){if(o){var k,U=S==="y"?sr:rr,B=S==="y"?Wr:Gr,P=S==="y"?"height":"width",N=C[S],L=N+y[U],O=N-y[B],$=p?-T[P]/2:0,W=_===Bc?A[P]:T[P],ee=_===Bc?-T[P]:-A[P],Y=e.elements.arrow,Z=p&&Y?kb(Y):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hM(),ue=ae[U],re=ae[B],ge=Yu(0,A[P],Z[P]),ye=b?A[P]/2-$-ge-ue-E.mainAxis:W-ge-ue-E.mainAxis,Fe=b?-A[P]/2+$+ge+re+E.mainAxis:ee+ge+re+E.mainAxis,X=e.elements.arrow&&Jd(e.elements.arrow),V=X?S==="y"?X.clientTop||0:X.clientLeft||0:0,ce=(k=M==null?void 0:M[S])!=null?k:0,Q=N+ye-ce-V,Me=N+Fe-ce,Pe=Yu(p?lh(L,Q):L,N,p?rl(O,Me):O);C[S]=Pe,I[S]=Pe-N}if(i){var Te,ve=S==="x"?sr:rr,xe=S==="x"?Wr:Gr,we=C[w],J=w==="y"?"height":"width",G=we+y[ve],me=we-y[xe],de=[sr,rr].indexOf(g)!==-1,Re=(Te=M==null?void 0:M[w])!=null?Te:0,ke=de?G:we-A[J]-T[J]-Re+E.altAxis,Je=de?we+A[J]+T[J]-Re-E.altAxis:me,je=p&&de?A$(ke,we,Je):Yu(p?ke:G,we,p?Je:me);C[w]=je,I[w]=je-we}e.modifiersData[s]=I}}var J$={name:"preventOverflow",enabled:!0,phase:"main",fn:Z$,requiresIfExists:["offset"]};function eH(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function tH(t){return t===yo(t)||!zr(t)?Ob(t):eH(t)}function nH(t){var e=t.getBoundingClientRect(),n=Nc(e.width)/t.offsetWidth||1,s=Nc(e.height)/t.offsetHeight||1;return n!==1||s!==1}function sH(t,e,n){n===void 0&&(n=!1);var s=zr(e),r=zr(e)&&nH(e),o=_i(e),a=Uc(t,r),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((Bo(e)!=="body"||Fb(o))&&(i=tH(e)),zr(e)?(l=Uc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Bb(o))),{x:a.left+i.scrollLeft-l.x,y:a.top+i.scrollTop-l.y,width:a.width,height:a.height}}function rH(t){var e=new Map,n=new Set,s=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(i){if(!n.has(i)){var l=e.get(i);l&&r(l)}}),s.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),s}function oH(t){var e=rH(t);return S$.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function aH(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function iH(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var uC={placement:"bottom",modifiers:[],strategy:"absolute"};function dC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Nb(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?uC:r;return function(a,i,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},uC,o),modifiersData:{},elements:{reference:a,popper:i},attributes:{},styles:{}},u=[],d=!1,h={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;v(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:Fc(a)?Xu(a):a.contextElement?Xu(a.contextElement):[],popper:Xu(i)};var g=oH(iH([].concat(s,c.options.modifiers)));return c.orderedModifiers=g.filter(function(_){return _.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var m=c.elements,y=m.reference,g=m.popper;if(dC(y,g)){c.rects={reference:sH(y,Jd(g),c.options.strategy==="fixed"),popper:kb(g)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var b=c.orderedModifiers[_],S=b.fn,w=b.options,C=w===void 0?{}:w,A=b.name;typeof S=="function"&&(c=S({state:c,options:C,name:A,instance:h})||c)}}}},update:aH(function(){return new Promise(function(m){h.forceUpdate(),m(c)})}),destroy:function(){v(),d=!0}};if(!dC(a,i))return h;h.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function p(){c.orderedModifiers.forEach(function(m){var y=m.name,g=m.options,_=g===void 0?{}:g,b=m.effect;if(typeof b=="function"){var S=b({state:c,name:y,instance:h,options:_}),w=function(){};u.push(S||w)}})}function v(){u.forEach(function(m){return m()}),u=[]}return h}}Nb();var lH=[yM,_M,gM,fM];Nb({defaultModifiers:lH});var cH=[yM,_M,gM,fM,Y$,W$,J$,I$,K$],uH=Nb({defaultModifiers:cH});const dH=["fixed","absolute"],fH=$e({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:le(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ca,default:"bottom"},popperOptions:{type:le(Object),default:()=>({})},strategy:{type:String,values:dH,default:"absolute"}}),wM=$e({...fH,id:String,style:{type:le([String,Array,Object])},className:{type:le([String,Array,Object])},effect:{type:le(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:le([String,Array,Object])},popperStyle:{type:le([String,Array,Object])},referenceEl:{type:le(Object)},triggerTargetEl:{type:le(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...ms(["ariaLabel"])}),pH={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},hH=(t,e)=>{const n=z(!1),s=z();return{focusStartRef:s,trapped:n,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(s.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{t.visible&&!n.value&&(c.target&&(s.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{t.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},mH=(t,e=[])=>{const{placement:n,strategy:s,popperOptions:r}=t,o={placement:n,strategy:s,...r,modifiers:[...gH(t),...e]};return yH(o,r==null?void 0:r.modifiers),o},vH=t=>{if(Nt)return Hs(t)};function gH(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:s}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:s}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function yH(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const bH=(t,e,n={})=>{const s={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=SH(l);Object.assign(a.value,c)},requires:["computeStyles"]},r=R(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=f(n);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],s,{name:"applyStyles",enabled:!1}]}}),o=dn(),a=z({styles:{popper:{position:f(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return De(r,l=>{const c=f(o);c&&c.setOptions(l)},{deep:!0}),De([t,e],([l,c])=>{i(),!(!l||!c)&&(o.value=uH(l,c,f(r)))}),Qt(()=>{i()}),{state:R(()=>{var l;return{...((l=f(o))==null?void 0:l.state)||{}}}),styles:R(()=>f(a).styles),attributes:R(()=>f(a).attributes),update:()=>{var l;return(l=f(o))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=f(o))==null?void 0:l.forceUpdate()},instanceRef:R(()=>f(o))}};function SH(t){const e=Object.keys(t.elements),n=_d(e.map(r=>[r,t.styles[r]||{}])),s=_d(e.map(r=>[r,t.attributes[r]]));return{styles:n,attributes:s}}const _H=0,wH=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:s,role:r}=Qe(Tb,void 0),o=z(),a=z(),i=R(()=>({name:"eventListeners",enabled:!!t.visible})),l=R(()=>{var g;const _=f(o),b=(g=f(a))!=null?g:_H;return{name:"arrow",enabled:!TT(_),options:{element:_,padding:b}}}),c=R(()=>({onFirstUpdate:()=>{v()},...mH(t,[f(l),f(i)])})),u=R(()=>vH(t.referenceEl)||f(s)),{attributes:d,state:h,styles:p,update:v,forceUpdate:m,instanceRef:y}=bH(u,n,c);return De(y,g=>e.value=g),wt(()=>{De(()=>{var g;return(g=f(u))==null?void 0:g.getBoundingClientRect()},()=>{v()})}),{attributes:d,arrowRef:o,contentRef:n,instanceRef:y,state:h,styles:p,role:r,forceUpdate:m,update:v}},CH=(t,{attributes:e,styles:n,role:s})=>{const{nextZIndex:r}=fu(),o=Le("popper"),a=R(()=>f(e).popper),i=z(ft(t.zIndex)?t.zIndex:r()),l=R(()=>[o.b(),o.is("pure",t.pure),o.is(t.effect),t.popperClass]),c=R(()=>[{zIndex:f(i)},f(n).popper,t.popperStyle||{}]),u=R(()=>s.value==="dialog"?"false":void 0),d=R(()=>f(n).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:a,contentClass:l,contentStyle:c,contentZIndex:i,updateZIndex:()=>{i.value=ft(t.zIndex)?t.zIndex:r()}}},xH=se({name:"ElPopperContent"}),AH=se({...xH,props:wM,emits:pH,setup(t,{expose:e,emit:n}){const s=t,{focusStartRef:r,trapped:o,onFocusAfterReleased:a,onFocusAfterTrapped:i,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=hH(s,n),{attributes:d,arrowRef:h,contentRef:p,styles:v,instanceRef:m,role:y,update:g}=wH(s),{ariaModal:_,arrowStyle:b,contentAttrs:S,contentClass:w,contentStyle:C,updateZIndex:A}=CH(s,{styles:v,attributes:d,role:y}),T=Qe(Oo,void 0),x=z();Bt(tM,{arrowStyle:b,arrowRef:h,arrowOffset:x}),T&&Bt(Oo,{...T,addInputId:Zt,removeInputId:Zt});let E;const M=(k=!0)=>{g(),k&&A()},I=()=>{M(!1),s.visible&&s.focusOnShow?o.value=!0:s.visible===!1&&(o.value=!1)};return wt(()=>{De(()=>s.triggerTargetEl,(k,U)=>{E==null||E(),E=void 0;const B=f(k||p.value),P=f(U||p.value);gr(B)&&(E=De([y,()=>s.ariaLabel,_,()=>s.id],N=>{["role","aria-label","aria-modal","id"].forEach((L,O)=>{es(N[O])?B.removeAttribute(L):B.setAttribute(L,N[O])})},{immediate:!0})),P!==B&&gr(P)&&["role","aria-label","aria-modal","id"].forEach(N=>{P.removeAttribute(N)})},{immediate:!0}),De(()=>s.visible,I,{immediate:!0})}),Qt(()=>{E==null||E(),E=void 0}),e({popperContentRef:p,popperInstanceRef:m,updatePopper:M,contentStyle:C}),(k,U)=>(D(),H("div",Dt({ref_key:"contentRef",ref:p},f(S),{style:f(C),class:f(w),tabindex:"-1",onMouseenter:B=>k.$emit("mouseenter",B),onMouseleave:B=>k.$emit("mouseleave",B)}),[j(f(hu),{trapped:f(o),"trap-on-focus-in":!0,"focus-trap-el":f(p),"focus-start-el":f(r),onFocusAfterTrapped:f(i),onFocusAfterReleased:f(a),onFocusin:f(l),onFocusoutPrevented:f(c),onReleaseRequested:f(u)},{default:te(()=>[pe(k.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var EH=He(AH,[["__file","content.vue"]]);const CM=_t(Uz),hm=Symbol("elTooltip");function fC(){let t;const e=(s,r)=>{n(),t=window.setTimeout(s,r)},n=()=>window.clearTimeout(t);return qd(()=>n()),{registerTimeout:e,cancelTimeout:n}}const TH=$e({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),MH=({showAfter:t,hideAfter:e,autoClose:n,open:s,close:r})=>{const{registerTimeout:o}=fC(),{registerTimeout:a,cancelTimeout:i}=fC();return{onOpen:u=>{o(()=>{s(u);const d=f(n);ft(d)&&d>0&&a(()=>{r(u)},d)},f(t))},onClose:u=>{i(),o(()=>{r(u)},f(e))}}},ns=$e({...TH,...wM,appendTo:{type:le([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:le(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...ms(["ariaLabel"])}),xd=$e({...rM,disabled:Boolean,trigger:{type:le([String,Array]),default:"hover"},triggerKeys:{type:le(Array),default:()=>[qe.enter,qe.numpadEnter,qe.space]}}),IH=go({type:le(Boolean),default:null}),RH=go({type:le(Function)}),PH=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,s=[e],r={[t]:IH,[n]:RH};return{useModelToggle:({indicator:a,toggleReason:i,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const h=It(),{emit:p}=h,v=h.props,m=R(()=>ct(v[n])),y=R(()=>v[t]===null),g=A=>{a.value!==!0&&(a.value=!0,i&&(i.value=A),ct(u)&&u(A))},_=A=>{a.value!==!1&&(a.value=!1,i&&(i.value=A),ct(d)&&d(A))},b=A=>{if(v.disabled===!0||ct(c)&&!c())return;const T=m.value&&Nt;T&&p(e,!0),(y.value||!T)&&g(A)},S=A=>{if(v.disabled===!0||!Nt)return;const T=m.value&&Nt;T&&p(e,!1),(y.value||!T)&&_(A)},w=A=>{ln(A)&&(v.disabled&&A?m.value&&p(e,!1):a.value!==A&&(A?g():_()))},C=()=>{a.value?S():b()};return De(()=>v[t],w),l&&h.appContext.config.globalProperties.$route!==void 0&&De(()=>({...h.proxy.$route}),()=>{l.value&&a.value&&S()}),wt(()=>{w(v[t])}),{hide:S,show:b,toggle:C,hasUpdateHandler:m}},useModelToggleProps:r,useModelToggleEmits:s}},{useModelToggleProps:DH,useModelToggleEmits:kH,useModelToggle:LH}=PH("visible"),OH=$e({...nM,...DH,...ns,...xd,...sM,showArrow:{type:Boolean,default:!0}}),BH=[...kH,"before-show","before-hide","show","hide","open","close"],FH=(t,e)=>Ue(t)?t.includes(e):t===e,kl=(t,e,n)=>s=>{FH(f(t),e)&&n(s)},In=(t,e,{checkForDefaultPrevented:n=!0}={})=>r=>{const o=t==null?void 0:t(r);if(n===!1||!o)return e==null?void 0:e(r)},pC=t=>e=>e.pointerType==="mouse"?t(e):void 0,NH=se({name:"ElTooltipTrigger"}),UH=se({...NH,props:xd,setup(t,{expose:e}){const n=t,s=Le("tooltip"),{controlled:r,id:o,open:a,onOpen:i,onClose:l,onToggle:c}=Qe(hm,void 0),u=z(null),d=()=>{if(f(r)||n.disabled)return!0},h=Yt(n,"trigger"),p=In(d,kl(h,"hover",i)),v=In(d,kl(h,"hover",l)),m=In(d,kl(h,"click",S=>{S.button===0&&c(S)})),y=In(d,kl(h,"focus",i)),g=In(d,kl(h,"focus",l)),_=In(d,kl(h,"contextmenu",S=>{S.preventDefault(),c(S)})),b=In(d,S=>{const{code:w}=S;n.triggerKeys.includes(w)&&(S.preventDefault(),c(S))});return e({triggerRef:u}),(S,w)=>(D(),_e(f(Xz),{id:f(o),"virtual-ref":S.virtualRef,open:f(a),"virtual-triggering":S.virtualTriggering,class:F(f(s).e("trigger")),onBlur:f(g),onClick:f(m),onContextmenu:f(_),onFocus:f(y),onMouseenter:f(p),onMouseleave:f(v),onKeydown:f(b)},{default:te(()=>[pe(S.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var zH=He(UH,[["__file","trigger.vue"]]);const $H=$e({to:{type:le([String,Object]),required:!0},disabled:Boolean}),HH=se({__name:"teleport",props:$H,setup(t){return(e,n)=>e.disabled?pe(e.$slots,"default",{key:0}):(D(),_e(Tk,{key:1,to:e.to},[pe(e.$slots,"default")],8,["to"]))}});var VH=He(HH,[["__file","teleport.vue"]]);const mu=_t(VH),xM=()=>{const t=Qy(),e=Ab(),n=R(()=>`${t.value}-popper-container-${e.prefix}`),s=R(()=>`#${n.value}`);return{id:n,selector:s}},WH=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},GH=()=>{const{id:t,selector:e}=xM();return jh(()=>{Nt&&(document.body.querySelector(e.value)||WH(t.value))}),{id:t,selector:e}},KH=se({name:"ElTooltipContent",inheritAttrs:!1}),jH=se({...KH,props:ns,setup(t,{expose:e}){const n=t,{selector:s}=xM(),r=Le("tooltip"),o=z();let a;const{controlled:i,id:l,open:c,trigger:u,onClose:d,onOpen:h,onShow:p,onHide:v,onBeforeShow:m,onBeforeHide:y}=Qe(hm,void 0),g=R(()=>n.transition||`${r.namespace.value}-fade-in-linear`),_=R(()=>n.persistent);Qt(()=>{a==null||a()});const b=R(()=>f(_)?!0:f(c)),S=R(()=>n.disabled?!1:f(c)),w=R(()=>n.appendTo||s.value),C=R(()=>{var P;return(P=n.style)!=null?P:{}}),A=z(!0),T=()=>{v(),A.value=!0},x=()=>{if(f(i))return!0},E=In(x,()=>{n.enterable&&f(u)==="hover"&&h()}),M=In(x,()=>{f(u)==="hover"&&d()}),I=()=>{var P,N;(N=(P=o.value)==null?void 0:P.updatePopper)==null||N.call(P),m==null||m()},k=()=>{y==null||y()},U=()=>{p(),a=hb(R(()=>{var P;return(P=o.value)==null?void 0:P.popperContentRef}),()=>{if(f(i))return;f(u)!=="hover"&&d()})},B=()=>{n.virtualTriggering||d()};return De(()=>f(c),P=>{P?A.value=!1:a==null||a()},{flush:"post"}),De(()=>n.content,()=>{var P,N;(N=(P=o.value)==null?void 0:P.updatePopper)==null||N.call(P)}),e({contentRef:o}),(P,N)=>(D(),_e(f(mu),{disabled:!P.teleported,to:f(w)},{default:te(()=>[j(Xn,{name:f(g),onAfterLeave:T,onBeforeEnter:I,onAfterEnter:U,onBeforeLeave:k},{default:te(()=>[f(b)?Ct((D(),_e(f(EH),Dt({key:0,id:f(l),ref_key:"contentRef",ref:o},P.$attrs,{"aria-label":P.ariaLabel,"aria-hidden":A.value,"boundaries-padding":P.boundariesPadding,"fallback-placements":P.fallbackPlacements,"gpu-acceleration":P.gpuAcceleration,offset:P.offset,placement:P.placement,"popper-options":P.popperOptions,strategy:P.strategy,effect:P.effect,enterable:P.enterable,pure:P.pure,"popper-class":P.popperClass,"popper-style":[P.popperStyle,f(C)],"reference-el":P.referenceEl,"trigger-target-el":P.triggerTargetEl,visible:f(S),"z-index":P.zIndex,onMouseenter:f(E),onMouseleave:f(M),onBlur:B,onClose:f(d)}),{default:te(()=>[pe(P.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Vt,f(S)]]):he("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var qH=He(jH,[["__file","content.vue"]]);const YH=se({name:"ElTooltip"}),XH=se({...YH,props:OH,emits:BH,setup(t,{expose:e,emit:n}){const s=t;GH();const r=hs(),o=z(),a=z(),i=()=>{var g;const _=f(o);_&&((g=_.popperInstanceRef)==null||g.update())},l=z(!1),c=z(),{show:u,hide:d,hasUpdateHandler:h}=LH({indicator:l,toggleReason:c}),{onOpen:p,onClose:v}=MH({showAfter:Yt(s,"showAfter"),hideAfter:Yt(s,"hideAfter"),autoClose:Yt(s,"autoClose"),open:u,close:d}),m=R(()=>ln(s.visible)&&!h.value);Bt(hm,{controlled:m,id:r,open:au(l),trigger:Yt(s,"trigger"),onOpen:g=>{p(g)},onClose:g=>{v(g)},onToggle:g=>{f(l)?v(g):p(g)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:i}),De(()=>s.disabled,g=>{g&&l.value&&(l.value=!1)});const y=g=>{var _,b;const S=(b=(_=a.value)==null?void 0:_.contentRef)==null?void 0:b.popperContentRef,w=(g==null?void 0:g.relatedTarget)||document.activeElement;return S&&S.contains(w)};return cE(()=>l.value&&d()),e({popperRef:o,contentRef:a,isFocusInsideContent:y,updatePopper:i,onOpen:p,onClose:v,hide:d}),(g,_)=>(D(),_e(f(CM),{ref_key:"popperRef",ref:o,role:g.role},{default:te(()=>[j(zH,{disabled:g.disabled,trigger:g.trigger,"trigger-keys":g.triggerKeys,"virtual-ref":g.virtualRef,"virtual-triggering":g.virtualTriggering},{default:te(()=>[g.$slots.default?pe(g.$slots,"default",{key:0}):he("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),j(qH,{ref_key:"contentRef",ref:a,"aria-label":g.ariaLabel,"boundaries-padding":g.boundariesPadding,content:g.content,disabled:g.disabled,effect:g.effect,enterable:g.enterable,"fallback-placements":g.fallbackPlacements,"hide-after":g.hideAfter,"gpu-acceleration":g.gpuAcceleration,offset:g.offset,persistent:g.persistent,"popper-class":g.popperClass,"popper-style":g.popperStyle,placement:g.placement,"popper-options":g.popperOptions,pure:g.pure,"raw-content":g.rawContent,"reference-el":g.referenceEl,"trigger-target-el":g.triggerTargetEl,"show-after":g.showAfter,strategy:g.strategy,teleported:g.teleported,transition:g.transition,"virtual-triggering":g.virtualTriggering,"z-index":g.zIndex,"append-to":g.appendTo},{default:te(()=>[pe(g.$slots,"content",{},()=>[g.rawContent?(D(),H("span",{key:0,innerHTML:g.content},null,8,["innerHTML"])):(D(),H("span",{key:1},Ne(g.content),1))]),g.showArrow?(D(),_e(f(Hz),{key:0,"arrow-offset":g.arrowOffset},null,8,["arrow-offset"])):he("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var QH=He(XH,[["__file","tooltip.vue"]]);const xs=_t(QH),ZH=$e({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:le(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:le([Function,Array]),default:Zt},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:ns.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...ms(["ariaLabel"])}),JH={[Et]:t=>ot(t),[ws]:t=>ot(t),[nn]:t=>ot(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Mt(t)},AM="ElAutocomplete",eV=se({name:AM,inheritAttrs:!1}),tV=se({...eV,props:ZH,emits:JH,setup(t,{expose:e,emit:n}){const s=t,r=Xd(),o=yi(),a=Es(),i=Le("autocomplete"),l=z(),c=z(),u=z(),d=z();let h=!1,p=!1;const v=z([]),m=z(-1),y=z(""),g=z(!1),_=z(!1),b=z(!1),S=hs(),w=R(()=>o.style),C=R(()=>(v.value.length>0||b.value)&&g.value),A=R(()=>!s.hideLoading&&b.value),T=R(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),x=()=>{C.value&&(y.value=`${l.value.$el.offsetWidth}px`)},E=()=>{m.value=-1},M=async re=>{if(_.value)return;const ge=ye=>{b.value=!1,!_.value&&(Ue(ye)?(v.value=ye,m.value=s.highlightFirstItem?0:-1):Qn(AM,"autocomplete suggestions must be an array"))};if(b.value=!0,Ue(s.fetchSuggestions))ge(s.fetchSuggestions);else{const ye=await s.fetchSuggestions(re,ge);Ue(ye)&&ge(ye)}},I=ir(M,s.debounce),k=re=>{const ge=!!re;if(n(ws,re),n(Et,re),_.value=!1,g.value||(g.value=ge),!s.triggerOnFocus&&!re){_.value=!0,v.value=[];return}I(re)},U=re=>{var ge;a.value||(((ge=re.target)==null?void 0:ge.tagName)!=="INPUT"||T.value.includes(document.activeElement))&&(g.value=!0)},B=re=>{n(nn,re)},P=re=>{p?p=!1:(g.value=!0,n("focus",re),s.triggerOnFocus&&!h&&I(String(s.modelValue)))},N=re=>{setTimeout(()=>{var ge;if((ge=u.value)!=null&&ge.isFocusInsideContent()){p=!0;return}g.value&&W(),n("blur",re)})},L=()=>{g.value=!1,n(Et,""),n("clear")},O=async()=>{C.value&&m.value>=0&&m.value<v.value.length?Z(v.value[m.value]):s.selectWhenUnmatched&&(n("select",{value:s.modelValue}),v.value=[],m.value=-1)},$=re=>{C.value&&(re.preventDefault(),re.stopPropagation(),W())},W=()=>{g.value=!1},ee=()=>{var re;(re=l.value)==null||re.focus()},Y=()=>{var re;(re=l.value)==null||re.blur()},Z=async re=>{n(ws,re[s.valueKey]),n(Et,re[s.valueKey]),n("select",re),v.value=[],m.value=-1},ae=re=>{if(!C.value||b.value)return;if(re<0){m.value=-1;return}re>=v.value.length&&(re=v.value.length-1);const ge=c.value.querySelector(`.${i.be("suggestion","wrap")}`),Fe=ge.querySelectorAll(`.${i.be("suggestion","list")} li`)[re],X=ge.scrollTop,{offsetTop:V,scrollHeight:ce}=Fe;V+ce>X+ge.clientHeight&&(ge.scrollTop+=ce),V<X&&(ge.scrollTop-=ce),m.value=re,l.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${m.value}`)},ue=hb(d,()=>{C.value&&W()});return Qt(()=>{ue==null||ue()}),wt(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${m.value}`),h=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:m,activated:g,loading:b,inputRef:l,popperRef:u,suggestions:v,handleSelect:Z,handleKeyEnter:O,focus:ee,blur:Y,close:W,highlight:ae,getData:M}),(re,ge)=>(D(),_e(f(xs),{ref_key:"popperRef",ref:u,visible:f(C),placement:re.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[f(i).e("popper"),re.popperClass],teleported:re.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${f(i).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:x,onHide:E},{content:te(()=>[K("div",{ref_key:"regionRef",ref:c,class:F([f(i).b("suggestion"),f(i).is("loading",f(A))]),style:rt({[re.fitInputWidth?"width":"minWidth"]:y.value,outline:"none"}),role:"region"},[j(f($o),{id:f(S),tag:"ul","wrap-class":f(i).be("suggestion","wrap"),"view-class":f(i).be("suggestion","list"),role:"listbox"},{default:te(()=>[f(A)?(D(),H("li",{key:0},[pe(re.$slots,"loading",{},()=>[j(f(tt),{class:F(f(i).is("loading"))},{default:te(()=>[j(f(Lo))]),_:1},8,["class"])])])):(D(!0),H(Ze,{key:1},Tt(v.value,(ye,Fe)=>(D(),H("li",{id:`${f(S)}-item-${Fe}`,key:Fe,class:F({highlighted:m.value===Fe}),role:"option","aria-selected":m.value===Fe,onClick:X=>Z(ye)},[pe(re.$slots,"default",{item:ye},()=>[St(Ne(ye[re.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:te(()=>[K("div",{ref_key:"listboxRef",ref:d,class:F([f(i).b(),re.$attrs.class]),style:rt(f(w)),role:"combobox","aria-haspopup":"listbox","aria-expanded":f(C),"aria-owns":f(S)},[j(f(ks),Dt({ref_key:"inputRef",ref:l},f(r),{clearable:re.clearable,disabled:f(a),name:re.name,"model-value":re.modelValue,"aria-label":re.ariaLabel,onInput:k,onChange:B,onFocus:P,onBlur:N,onClear:L,onKeydown:[on(pt(ye=>ae(m.value-1),["prevent"]),["up"]),on(pt(ye=>ae(m.value+1),["prevent"]),["down"]),on(O,["enter"]),on(W,["tab"]),on($,["esc"])],onMousedown:U}),Hr({_:2},[re.$slots.prepend?{name:"prepend",fn:te(()=>[pe(re.$slots,"prepend")])}:void 0,re.$slots.append?{name:"append",fn:te(()=>[pe(re.$slots,"append")])}:void 0,re.$slots.prefix?{name:"prefix",fn:te(()=>[pe(re.$slots,"prefix")])}:void 0,re.$slots.suffix?{name:"suffix",fn:te(()=>[pe(re.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var nV=He(tV,[["__file","autocomplete.vue"]]);const sV=_t(nV),rV=$e({size:{type:[Number,String],values:zo,default:"",validator:t=>ft(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:sn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:le(String),default:"cover"}}),oV={error:t=>t instanceof Event},aV=se({name:"ElAvatar"}),iV=se({...aV,props:rV,emits:oV,setup(t,{emit:e}){const n=t,s=Le("avatar"),r=z(!1),o=R(()=>{const{size:c,icon:u,shape:d}=n,h=[s.b()];return ot(c)&&h.push(s.m(c)),u&&h.push(s.m("icon")),d&&h.push(s.m(d)),h}),a=R(()=>{const{size:c}=n;return ft(c)?s.cssVarBlock({size:Rn(c)||""}):void 0}),i=R(()=>({objectFit:n.fit}));De(()=>n.src,()=>r.value=!1);function l(c){r.value=!0,e("error",c)}return(c,u)=>(D(),H("span",{class:F(f(o)),style:rt(f(a))},[(c.src||c.srcSet)&&!r.value?(D(),H("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:rt(f(i)),onError:l},null,44,["src","alt","srcset"])):c.icon?(D(),_e(f(tt),{key:1},{default:te(()=>[(D(),_e(Rt(c.icon)))]),_:1})):pe(c.$slots,"default",{key:2})],6))}});var lV=He(iV,[["__file","avatar.vue"]]);const cV=_t(lV),uV={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},dV={click:t=>t instanceof MouseEvent},fV=(t,e,n)=>{const s=dn(),r=dn(),o=z(!1),a=()=>{s.value&&(o.value=s.value.scrollTop>=t.visibilityHeight)},i=c=>{var u;(u=s.value)==null||u.scrollTo({top:0,behavior:"smooth"}),e("click",c)},l=PT(a,300,!0);return en(r,"scroll",l),wt(()=>{var c;r.value=document,s.value=document.documentElement,t.target&&(s.value=(c=document.querySelector(t.target))!=null?c:void 0,s.value||Qn(n,`target does not exist: ${t.target}`),r.value=s.value),a()}),{visible:o,handleClick:i}},EM="ElBacktop",pV=se({name:EM}),hV=se({...pV,props:uV,emits:dV,setup(t,{emit:e}){const n=t,s=Le("backtop"),{handleClick:r,visible:o}=fV(n,e,EM),a=R(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(i,l)=>(D(),_e(Xn,{name:`${f(s).namespace.value}-fade-in`},{default:te(()=>[f(o)?(D(),H("div",{key:0,style:rt(f(a)),class:F(f(s).b()),onClick:pt(f(r),["stop"])},[pe(i.$slots,"default",{},()=>[j(f(tt),{class:F(f(s).e("icon"))},{default:te(()=>[j(f(nU))]),_:1},8,["class"])])],14,["onClick"])):he("v-if",!0)]),_:3},8,["name"]))}});var mV=He(hV,[["__file","backtop.vue"]]);const vV=_t(mV),gV=$e({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:le([String,Object,Array])},offset:{type:le(Array),default:[0,0]},badgeClass:{type:String}}),yV=se({name:"ElBadge"}),bV=se({...yV,props:gV,setup(t,{expose:e}){const n=t,s=Le("badge"),r=R(()=>n.isDot?"":ft(n.value)&&ft(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),o=R(()=>{var a,i,l,c,u;return[{backgroundColor:n.color,marginRight:Rn(-((i=(a=n.offset)==null?void 0:a[0])!=null?i:0)),marginTop:Rn((c=(l=n.offset)==null?void 0:l[1])!=null?c:0)},(u=n.badgeStyle)!=null?u:{}]});return e({content:r}),(a,i)=>(D(),H("div",{class:F(f(s).b())},[pe(a.$slots,"default"),j(Xn,{name:`${f(s).namespace.value}-zoom-in-center`,persisted:""},{default:te(()=>[Ct(K("sup",{class:F([f(s).e("content"),f(s).em("content",a.type),f(s).is("fixed",!!a.$slots.default),f(s).is("dot",a.isDot),f(s).is("hide-zero",!a.showZero&&n.value===0),a.badgeClass]),style:rt(f(o))},[pe(a.$slots,"content",{value:f(r)},()=>[St(Ne(f(r)),1)])],6),[[Vt,!a.hidden&&(f(r)||a.isDot||a.$slots.content)]])]),_:3},8,["name"])],2))}});var SV=He(bV,[["__file","badge.vue"]]);const TM=_t(SV),MM=Symbol("breadcrumbKey"),_V=$e({separator:{type:String,default:"/"},separatorIcon:{type:sn}}),wV=se({name:"ElBreadcrumb"}),CV=se({...wV,props:_V,setup(t){const e=t,{t:n}=Ut(),s=Le("breadcrumb"),r=z();return Bt(MM,e),wt(()=>{const o=r.value.querySelectorAll(`.${s.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,a)=>(D(),H("div",{ref_key:"breadcrumb",ref:r,class:F(f(s).b()),"aria-label":f(n)("el.breadcrumb.label"),role:"navigation"},[pe(o.$slots,"default")],10,["aria-label"]))}});var xV=He(CV,[["__file","breadcrumb.vue"]]);const AV=$e({to:{type:le([String,Object]),default:""},replace:Boolean}),EV=se({name:"ElBreadcrumbItem"}),TV=se({...EV,props:AV,setup(t){const e=t,n=It(),s=Qe(MM,void 0),r=Le("breadcrumb"),o=n.appContext.config.globalProperties.$router,a=z(),i=()=>{!e.to||!o||(e.replace?o.replace(e.to):o.push(e.to))};return(l,c)=>{var u,d;return D(),H("span",{class:F(f(r).e("item"))},[K("span",{ref_key:"link",ref:a,class:F([f(r).e("inner"),f(r).is("link",!!l.to)]),role:"link",onClick:i},[pe(l.$slots,"default")],2),(u=f(s))!=null&&u.separatorIcon?(D(),_e(f(tt),{key:0,class:F(f(r).e("separator"))},{default:te(()=>[(D(),_e(Rt(f(s).separatorIcon)))]),_:1},8,["class"])):(D(),H("span",{key:1,class:F(f(r).e("separator")),role:"presentation"},Ne((d=f(s))==null?void 0:d.separator),3))],2)}}});var IM=He(TV,[["__file","breadcrumb-item.vue"]]);const MV=_t(xV,{BreadcrumbItem:IM}),IV=Tn(IM),RM=Symbol("buttonGroupContextKey"),Za=({from:t,replacement:e,scope:n,version:s,ref:r,type:o="API"},a)=>{De(()=>f(a),i=>{},{immediate:!0})},RV=(t,e)=>{Za({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},R(()=>t.type==="text"));const n=Qe(RM,void 0),s=im("button"),{form:r}=As(),o=Hn(R(()=>n==null?void 0:n.size)),a=Es(),i=z(),l=Gn(),c=R(()=>t.type||(n==null?void 0:n.type)||""),u=R(()=>{var v,m,y;return(y=(m=t.autoInsertSpace)!=null?m:(v=s.value)==null?void 0:v.autoInsertSpace)!=null?y:!1}),d=R(()=>t.tag==="button"?{ariaDisabled:a.value||t.loading,disabled:a.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),h=R(()=>{var v;const m=(v=l.default)==null?void 0:v.call(l);if(u.value&&(m==null?void 0:m.length)===1){const y=m[0];if((y==null?void 0:y.type)===iu){const g=y.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(g.trim())}}return!1});return{_disabled:a,_size:o,_type:c,_ref:i,_props:d,shouldAddSpace:h,handleClick:v=>{if(a.value||t.loading){v.stopPropagation();return}t.nativeType==="reset"&&(r==null||r.resetFields()),e("click",v)}}},Rg=["default","primary","success","warning","info","danger","text",""],PV=["button","submit","reset"],Pg=$e({size:Wn,disabled:Boolean,type:{type:String,values:Rg,default:""},icon:{type:sn},nativeType:{type:String,values:PV,default:"button"},loading:Boolean,loadingIcon:{type:sn,default:()=>Lo},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:le([String,Object]),default:"button"}}),DV={click:t=>t instanceof MouseEvent};function Cs(t,e){kV(t)&&(t="100%");var n=LV(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function xf(t){return Math.min(1,Math.max(0,t))}function kV(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function LV(t){return typeof t=="string"&&t.indexOf("%")!==-1}function PM(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Af(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Ki(t){return t.length===1?"0"+t:String(t)}function OV(t,e,n){return{r:Cs(t,255)*255,g:Cs(e,255)*255,b:Cs(n,255)*255}}function hC(t,e,n){t=Cs(t,255),e=Cs(e,255),n=Cs(n,255);var s=Math.max(t,e,n),r=Math.min(t,e,n),o=0,a=0,i=(s+r)/2;if(s===r)a=0,o=0;else{var l=s-r;switch(a=i>.5?l/(2-s-r):l/(s+r),s){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:i}}function Km(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BV(t,e,n){var s,r,o;if(t=Cs(t,360),e=Cs(e,100),n=Cs(n,100),e===0)r=n,o=n,s=n;else{var a=n<.5?n*(1+e):n+e-n*e,i=2*n-a;s=Km(i,a,t+1/3),r=Km(i,a,t),o=Km(i,a,t-1/3)}return{r:s*255,g:r*255,b:o*255}}function mC(t,e,n){t=Cs(t,255),e=Cs(e,255),n=Cs(n,255);var s=Math.max(t,e,n),r=Math.min(t,e,n),o=0,a=s,i=s-r,l=s===0?0:i/s;if(s===r)o=0;else{switch(s){case t:o=(e-n)/i+(e<n?6:0);break;case e:o=(n-t)/i+2;break;case n:o=(t-e)/i+4;break}o/=6}return{h:o,s:l,v:a}}function FV(t,e,n){t=Cs(t,360)*6,e=Cs(e,100),n=Cs(n,100);var s=Math.floor(t),r=t-s,o=n*(1-e),a=n*(1-r*e),i=n*(1-(1-r)*e),l=s%6,c=[n,a,o,o,i,n][l],u=[i,n,n,a,o,o][l],d=[o,o,i,n,n,a][l];return{r:c*255,g:u*255,b:d*255}}function vC(t,e,n,s){var r=[Ki(Math.round(t).toString(16)),Ki(Math.round(e).toString(16)),Ki(Math.round(n).toString(16))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function NV(t,e,n,s,r){var o=[Ki(Math.round(t).toString(16)),Ki(Math.round(e).toString(16)),Ki(Math.round(n).toString(16)),Ki(UV(s))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function UV(t){return Math.round(parseFloat(t)*255).toString(16)}function gC(t){return dr(t)/255}function dr(t){return parseInt(t,16)}function zV(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Dg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $V(t){var e={r:0,g:0,b:0},n=1,s=null,r=null,o=null,a=!1,i=!1;return typeof t=="string"&&(t=WV(t)),typeof t=="object"&&(Vo(t.r)&&Vo(t.g)&&Vo(t.b)?(e=OV(t.r,t.g,t.b),a=!0,i=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Vo(t.h)&&Vo(t.s)&&Vo(t.v)?(s=Af(t.s),r=Af(t.v),e=FV(t.h,s,r),a=!0,i="hsv"):Vo(t.h)&&Vo(t.s)&&Vo(t.l)&&(s=Af(t.s),o=Af(t.l),e=BV(t.h,s,o),a=!0,i="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=PM(n),{ok:a,format:t.format||i,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var HV="[-\\+]?\\d+%?",VV="[-\\+]?\\d*\\.\\d+%?",ja="(?:".concat(VV,")|(?:").concat(HV,")"),jm="[\\s|\\(]+(".concat(ja,")[,|\\s]+(").concat(ja,")[,|\\s]+(").concat(ja,")\\s*\\)?"),qm="[\\s|\\(]+(".concat(ja,")[,|\\s]+(").concat(ja,")[,|\\s]+(").concat(ja,")[,|\\s]+(").concat(ja,")\\s*\\)?"),so={CSS_UNIT:new RegExp(ja),rgb:new RegExp("rgb"+jm),rgba:new RegExp("rgba"+qm),hsl:new RegExp("hsl"+jm),hsla:new RegExp("hsla"+qm),hsv:new RegExp("hsv"+jm),hsva:new RegExp("hsva"+qm),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function WV(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Dg[t])t=Dg[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=so.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=so.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=so.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=so.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=so.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=so.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=so.hex8.exec(t),n?{r:dr(n[1]),g:dr(n[2]),b:dr(n[3]),a:gC(n[4]),format:e?"name":"hex8"}:(n=so.hex6.exec(t),n?{r:dr(n[1]),g:dr(n[2]),b:dr(n[3]),format:e?"name":"hex"}:(n=so.hex4.exec(t),n?{r:dr(n[1]+n[1]),g:dr(n[2]+n[2]),b:dr(n[3]+n[3]),a:gC(n[4]+n[4]),format:e?"name":"hex8"}:(n=so.hex3.exec(t),n?{r:dr(n[1]+n[1]),g:dr(n[2]+n[2]),b:dr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Vo(t){return!!so.CSS_UNIT.exec(String(t))}var DM=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var s;if(e instanceof t)return e;typeof e=="number"&&(e=zV(e)),this.originalInput=e;var r=$V(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=n.format)!==null&&s!==void 0?s:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,s,r,o=e.r/255,a=e.g/255,i=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),.2126*n+.7152*s+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=PM(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=mC(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=mC(this.r,this.g,this.b),n=Math.round(e.h*360),s=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(s,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(s,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=hC(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=hC(this.r,this.g,this.b),n=Math.round(e.h*360),s=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(s,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(s,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),vC(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),NV(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(s,")"):"rgba(".concat(e,", ").concat(n,", ").concat(s,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Cs(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Cs(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+vC(this.r,this.g,this.b,!1),n=0,s=Object.entries(Dg);n<s.length;n++){var r=s[n],o=r[0],a=r[1];if(e===a)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var s=!1,r=this.a<1&&this.a>=0,o=!n&&r&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(s=this.toRgbString()),e==="prgb"&&(s=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(s=this.toHexString()),e==="hex3"&&(s=this.toHexString(!0)),e==="hex4"&&(s=this.toHex8String(!0)),e==="hex8"&&(s=this.toHex8String()),e==="name"&&(s=this.toName()),e==="hsl"&&(s=this.toHslString()),e==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=xf(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=xf(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=xf(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=xf(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),s=(n.h+e)%360;return n.h=s<0?360+s:s,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var s=this.toRgb(),r=new t(e).toRgb(),o=n/100,a={r:(r.r-s.r)*o+s.r,g:(r.g-s.g)*o+s.g,b:(r.b-s.b)*o+s.b,a:(r.a-s.a)*o+s.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var s=this.toHsl(),r=360/n,o=[this];for(s.h=(s.h-(r*e>>1)+720)%360;--e;)s.h=(s.h+r)%360,o.push(new t(s));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),s=n.h,r=n.s,o=n.v,a=[],i=1/e;e--;)a.push(new t({h:s,s:r,v:o})),o=(o+i)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),s=new t(e).toRgb(),r=n.a+s.a*(1-n.a);return new t({r:(n.r*n.a+s.r*s.a*(1-n.a))/r,g:(n.g*n.a+s.g*s.a*(1-n.a))/r,b:(n.b*n.a+s.b*s.a*(1-n.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),s=n.h,r=[this],o=360/e,a=1;a<e;a++)r.push(new t({h:(s+a*o)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Ra(t,e=20){return t.mix("#141414",e).toString()}function GV(t){const e=Es(),n=Le("button");return R(()=>{let s={},r=t.color;if(r){const o=r.match(/var\((.*?)\)/);o&&(r=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const a=new DM(r),i=t.dark?a.tint(20).toString():Ra(a,20);if(t.plain)s=n.cssVarBlock({"bg-color":t.dark?Ra(a,90):a.tint(90).toString(),"text-color":r,"border-color":t.dark?Ra(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":i,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":i}),e.value&&(s[n.cssVarBlockName("disabled-bg-color")]=t.dark?Ra(a,90):a.tint(90).toString(),s[n.cssVarBlockName("disabled-text-color")]=t.dark?Ra(a,50):a.tint(50).toString(),s[n.cssVarBlockName("disabled-border-color")]=t.dark?Ra(a,80):a.tint(80).toString());else{const l=t.dark?Ra(a,30):a.tint(30).toString(),c=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(s=n.cssVarBlock({"bg-color":r,"text-color":c,"border-color":r,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":i,"active-border-color":i}),e.value){const u=t.dark?Ra(a,50):a.tint(50).toString();s[n.cssVarBlockName("disabled-bg-color")]=u,s[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,s[n.cssVarBlockName("disabled-border-color")]=u}}}return s})}const KV=se({name:"ElButton"}),jV=se({...KV,props:Pg,emits:DV,setup(t,{expose:e,emit:n}){const s=t,r=GV(s),o=Le("button"),{_ref:a,_size:i,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:h}=RV(s,n),p=R(()=>[o.b(),o.m(l.value),o.m(i.value),o.is("disabled",c.value),o.is("loading",s.loading),o.is("plain",s.plain),o.is("round",s.round),o.is("circle",s.circle),o.is("text",s.text),o.is("link",s.link),o.is("has-bg",s.bg)]);return e({ref:a,size:i,type:l,disabled:c,shouldAddSpace:d}),(v,m)=>(D(),_e(Rt(v.tag),Dt({ref_key:"_ref",ref:a},f(u),{class:f(p),style:f(r),onClick:f(h)}),{default:te(()=>[v.loading?(D(),H(Ze,{key:0},[v.$slots.loading?pe(v.$slots,"loading",{key:0}):(D(),_e(f(tt),{key:1,class:F(f(o).is("loading"))},{default:te(()=>[(D(),_e(Rt(v.loadingIcon)))]),_:1},8,["class"]))],64)):v.icon||v.$slots.icon?(D(),_e(f(tt),{key:1},{default:te(()=>[v.icon?(D(),_e(Rt(v.icon),{key:0})):pe(v.$slots,"icon",{key:1})]),_:3})):he("v-if",!0),v.$slots.default?(D(),H("span",{key:2,class:F({[f(o).em("text","expand")]:f(d)})},[pe(v.$slots,"default")],2)):he("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var qV=He(jV,[["__file","button.vue"]]);const YV={size:Pg.size,type:Pg.type},XV=se({name:"ElButtonGroup"}),QV=se({...XV,props:YV,setup(t){const e=t;Bt(RM,qt({size:Yt(e,"size"),type:Yt(e,"type")}));const n=Le("button");return(s,r)=>(D(),H("div",{class:F(f(n).b("group"))},[pe(s.$slots,"default")],2))}});var kM=He(QV,[["__file","button-group.vue"]]);const rs=_t(qV,{ButtonGroup:kM}),LM=Tn(kM);function xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ame(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var _p={exports:{}},ZV=_p.exports,yC;function JV(){return yC||(yC=1,function(t,e){(function(n,s){t.exports=s()})(ZV,function(){var n=1e3,s=6e4,r=36e5,o="millisecond",a="second",i="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",v="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var B=["th","st","nd","rd"],P=U%100;return"["+U+(B[(P-20)%10]||B[P]||B[0])+"]"}},b=function(U,B,P){var N=String(U);return!N||N.length>=B?U:""+Array(B+1-N.length).join(P)+U},S={s:b,z:function(U){var B=-U.utcOffset(),P=Math.abs(B),N=Math.floor(P/60),L=P%60;return(B<=0?"+":"-")+b(N,2,"0")+":"+b(L,2,"0")},m:function U(B,P){if(B.date()<P.date())return-U(P,B);var N=12*(P.year()-B.year())+(P.month()-B.month()),L=B.clone().add(N,d),O=P-L<0,$=B.clone().add(N+(O?-1:1),d);return+(-(N+(P-L)/(O?L-$:$-L))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:p,w:u,d:c,D:v,h:l,m:i,s:a,ms:o,Q:h}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},w="en",C={};C[w]=_;var A="$isDayjsObject",T=function(U){return U instanceof I||!(!U||!U[A])},x=function U(B,P,N){var L;if(!B)return w;if(typeof B=="string"){var O=B.toLowerCase();C[O]&&(L=O),P&&(C[O]=P,L=O);var $=B.split("-");if(!L&&$.length>1)return U($[0])}else{var W=B.name;C[W]=B,L=W}return!N&&L&&(w=L),L||!N&&w},E=function(U,B){if(T(U))return U.clone();var P=typeof B=="object"?B:{};return P.date=U,P.args=arguments,new I(P)},M=S;M.l=x,M.i=T,M.w=function(U,B){return E(U,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var I=function(){function U(P){this.$L=x(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[A]=!0}var B=U.prototype;return B.parse=function(P){this.$d=function(N){var L=N.date,O=N.utc;if(L===null)return new Date(NaN);if(M.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var $=L.match(y);if($){var W=$[2]-1||0,ee=($[7]||"0").substring(0,3);return O?new Date(Date.UTC($[1],W,$[3]||1,$[4]||0,$[5]||0,$[6]||0,ee)):new Date($[1],W,$[3]||1,$[4]||0,$[5]||0,$[6]||0,ee)}}return new Date(L)}(P),this.init()},B.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},B.$utils=function(){return M},B.isValid=function(){return this.$d.toString()!==m},B.isSame=function(P,N){var L=E(P);return this.startOf(N)<=L&&L<=this.endOf(N)},B.isAfter=function(P,N){return E(P)<this.startOf(N)},B.isBefore=function(P,N){return this.endOf(N)<E(P)},B.$g=function(P,N,L){return M.u(P)?this[N]:this.set(L,P)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(P,N){var L=this,O=!!M.u(N)||N,$=M.p(P),W=function(ye,Fe){var X=M.w(L.$u?Date.UTC(L.$y,Fe,ye):new Date(L.$y,Fe,ye),L);return O?X:X.endOf(c)},ee=function(ye,Fe){return M.w(L.toDate()[ye].apply(L.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(Fe)),L)},Y=this.$W,Z=this.$M,ae=this.$D,ue="set"+(this.$u?"UTC":"");switch($){case p:return O?W(1,0):W(31,11);case d:return O?W(1,Z):W(0,Z+1);case u:var re=this.$locale().weekStart||0,ge=(Y<re?Y+7:Y)-re;return W(O?ae-ge:ae+(6-ge),Z);case c:case v:return ee(ue+"Hours",0);case l:return ee(ue+"Minutes",1);case i:return ee(ue+"Seconds",2);case a:return ee(ue+"Milliseconds",3);default:return this.clone()}},B.endOf=function(P){return this.startOf(P,!1)},B.$set=function(P,N){var L,O=M.p(P),$="set"+(this.$u?"UTC":""),W=(L={},L[c]=$+"Date",L[v]=$+"Date",L[d]=$+"Month",L[p]=$+"FullYear",L[l]=$+"Hours",L[i]=$+"Minutes",L[a]=$+"Seconds",L[o]=$+"Milliseconds",L)[O],ee=O===c?this.$D+(N-this.$W):N;if(O===d||O===p){var Y=this.clone().set(v,1);Y.$d[W](ee),Y.init(),this.$d=Y.set(v,Math.min(this.$D,Y.daysInMonth())).$d}else W&&this.$d[W](ee);return this.init(),this},B.set=function(P,N){return this.clone().$set(P,N)},B.get=function(P){return this[M.p(P)]()},B.add=function(P,N){var L,O=this;P=Number(P);var $=M.p(N),W=function(Z){var ae=E(O);return M.w(ae.date(ae.date()+Math.round(Z*P)),O)};if($===d)return this.set(d,this.$M+P);if($===p)return this.set(p,this.$y+P);if($===c)return W(1);if($===u)return W(7);var ee=(L={},L[i]=s,L[l]=r,L[a]=n,L)[$]||1,Y=this.$d.getTime()+P*ee;return M.w(Y,this)},B.subtract=function(P,N){return this.add(-1*P,N)},B.format=function(P){var N=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var O=P||"YYYY-MM-DDTHH:mm:ssZ",$=M.z(this),W=this.$H,ee=this.$m,Y=this.$M,Z=L.weekdays,ae=L.months,ue=L.meridiem,re=function(Fe,X,V,ce){return Fe&&(Fe[X]||Fe(N,O))||V[X].slice(0,ce)},ge=function(Fe){return M.s(W%12||12,Fe,"0")},ye=ue||function(Fe,X,V){var ce=Fe<12?"AM":"PM";return V?ce.toLowerCase():ce};return O.replace(g,function(Fe,X){return X||function(V){switch(V){case"YY":return String(N.$y).slice(-2);case"YYYY":return M.s(N.$y,4,"0");case"M":return Y+1;case"MM":return M.s(Y+1,2,"0");case"MMM":return re(L.monthsShort,Y,ae,3);case"MMMM":return re(ae,Y);case"D":return N.$D;case"DD":return M.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return re(L.weekdaysMin,N.$W,Z,2);case"ddd":return re(L.weekdaysShort,N.$W,Z,3);case"dddd":return Z[N.$W];case"H":return String(W);case"HH":return M.s(W,2,"0");case"h":return ge(1);case"hh":return ge(2);case"a":return ye(W,ee,!0);case"A":return ye(W,ee,!1);case"m":return String(ee);case"mm":return M.s(ee,2,"0");case"s":return String(N.$s);case"ss":return M.s(N.$s,2,"0");case"SSS":return M.s(N.$ms,3,"0");case"Z":return $}return null}(Fe)||$.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(P,N,L){var O,$=this,W=M.p(N),ee=E(P),Y=(ee.utcOffset()-this.utcOffset())*s,Z=this-ee,ae=function(){return M.m($,ee)};switch(W){case p:O=ae()/12;break;case d:O=ae();break;case h:O=ae()/3;break;case u:O=(Z-Y)/6048e5;break;case c:O=(Z-Y)/864e5;break;case l:O=Z/r;break;case i:O=Z/s;break;case a:O=Z/n;break;default:O=Z}return L?O:M.a(O)},B.daysInMonth=function(){return this.endOf(d).$D},B.$locale=function(){return C[this.$L]},B.locale=function(P,N){if(!P)return this.$L;var L=this.clone(),O=x(P,N,!0);return O&&(L.$L=O),L},B.clone=function(){return M.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},U}(),k=I.prototype;return E.prototype=k,[["$ms",o],["$s",a],["$m",i],["$H",l],["$W",c],["$M",d],["$y",p],["$D",v]].forEach(function(U){k[U[1]]=function(B){return this.$g(B,U[0],U[1])}}),E.extend=function(U,B){return U.$i||(U(B,I,E),U.$i=!0),E},E.locale=x,E.isDayjs=T,E.unix=function(U){return E(1e3*U)},E.en=C[w],E.Ls=C,E.p={},E})}(_p)),_p.exports}var e8=JV();const yt=xa(e8),Ym=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],Ja=t=>Array.from(Array.from({length:t}).keys()),OM=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),BM=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),bC=function(t,e){const n=ri(t),s=ri(e);return n&&s?t.getTime()===e.getTime():!n&&!s?t===e:!1},SC=function(t,e){const n=Ue(t),s=Ue(e);return n&&s?t.length!==e.length?!1:t.every((r,o)=>bC(r,e[o])):!n&&!s?bC(t,e):!1},_C=function(t,e,n){const s=hr(e)||e==="x"?yt(t).locale(n):yt(t,e).locale(n);return s.isValid()?s:void 0},wC=function(t,e,n){return hr(e)?t:e==="x"?+t:yt(t).locale(n).format(e)},Xm=(t,e)=>{var n;const s=[],r=e==null?void 0:e();for(let o=0;o<t;o++)s.push((n=r==null?void 0:r.includes(o))!=null?n:!1);return s},Ef=t=>Ue(t)?t.map(e=>e.toDate()):t.toDate(),t8=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return Ja(e).map((s,r)=>n-(e-r-1))},n8=t=>{const e=t.daysInMonth();return Ja(e).map((n,s)=>s+1)},s8=t=>Ja(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),r8=$e({selectedDay:{type:le(Object)},range:{type:le(Array)},date:{type:le(Object),required:!0},hideHeader:{type:Boolean}}),o8={pick:t=>Mt(t)};var wp={exports:{}},a8=wp.exports,CC;function i8(){return CC||(CC=1,function(t,e){(function(n,s){t.exports=s()})(a8,function(){return function(n,s,r){var o=s.prototype,a=function(d){return d&&(d.indexOf?d:d.s)},i=function(d,h,p,v,m){var y=d.name?d:d.$locale(),g=a(y[h]),_=a(y[p]),b=g||_.map(function(w){return w.slice(0,v)});if(!m)return b;var S=y.weekStart;return b.map(function(w,C){return b[(C+(S||0))%7]})},l=function(){return r.Ls[r.locale()]},c=function(d,h){return d.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,m,y){return m||y.slice(1)})}(d.formats[h.toUpperCase()])},u=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):i(d,"months")},monthsShort:function(h){return h?h.format("MMM"):i(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):i(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):i(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):i(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},r.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(h){return c(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},r.months=function(){return i(l(),"months")},r.monthsShort=function(){return i(l(),"monthsShort","months",3)},r.weekdays=function(d){return i(l(),"weekdays",null,null,d)},r.weekdaysShort=function(d){return i(l(),"weekdaysShort","weekdays",3,d)},r.weekdaysMin=function(d){return i(l(),"weekdaysMin","weekdays",2,d)}}})}(wp)),wp.exports}var l8=i8();const FM=xa(l8),c8=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],Qm=["sun","mon","tue","wed","thu","fri","sat"],u8=(t,e)=>{yt.extend(FM);const n=yt.localeData().firstDayOfWeek(),{t:s,lang:r}=Ut(),o=yt().locale(r.value),a=R(()=>!!t.range&&!!t.range.length),i=R(()=>{let h=[];if(a.value){const[p,v]=t.range,m=Ja(v.date()-p.date()+1).map(_=>({text:p.date()+_,type:"current"}));let y=m.length%7;y=y===0?0:7-y;const g=Ja(y).map((_,b)=>({text:b+1,type:"next"}));h=m.concat(g)}else{const p=t.date.startOf("month").day(),v=t8(t.date,(p-n+7)%7).map(_=>({text:_,type:"prev"})),m=n8(t.date).map(_=>({text:_,type:"current"}));h=[...v,...m];const y=7-(h.length%7||7),g=Ja(y).map((_,b)=>({text:b+1,type:"next"}));h=h.concat(g)}return s8(h)}),l=R(()=>{const h=n;return h===0?Qm.map(p=>s(`el.datepicker.weeks.${p}`)):Qm.slice(h).concat(Qm.slice(0,h)).map(p=>s(`el.datepicker.weeks.${p}`))}),c=(h,p)=>{switch(p){case"prev":return t.date.startOf("month").subtract(1,"month").date(h);case"next":return t.date.startOf("month").add(1,"month").date(h);case"current":return t.date.date(h)}};return{now:o,isInRange:a,rows:i,weekDays:l,getFormattedDate:c,handlePickDay:({text:h,type:p})=>{const v=c(h,p);e("pick",v)},getSlotData:({text:h,type:p})=>{const v=c(h,p);return{isSelected:v.isSame(t.selectedDay),type:`${p}-month`,day:v.format("YYYY-MM-DD"),date:v.toDate()}}}},d8=se({name:"DateTable"}),f8=se({...d8,props:r8,emits:o8,setup(t,{expose:e,emit:n}){const s=t,{isInRange:r,now:o,rows:a,weekDays:i,getFormattedDate:l,handlePickDay:c,getSlotData:u}=u8(s,n),d=Le("calendar-table"),h=Le("calendar-day"),p=({text:v,type:m})=>{const y=[m];if(m==="current"){const g=l(v,m);g.isSame(s.selectedDay,"day")&&y.push(h.is("selected")),g.isSame(o,"day")&&y.push(h.is("today"))}return y};return e({getFormattedDate:l}),(v,m)=>(D(),H("table",{class:F([f(d).b(),f(d).is("range",f(r))]),cellspacing:"0",cellpadding:"0"},[v.hideHeader?he("v-if",!0):(D(),H("thead",{key:0},[K("tr",null,[(D(!0),H(Ze,null,Tt(f(i),y=>(D(),H("th",{key:y,scope:"col"},Ne(y),1))),128))])])),K("tbody",null,[(D(!0),H(Ze,null,Tt(f(a),(y,g)=>(D(),H("tr",{key:g,class:F({[f(d).e("row")]:!0,[f(d).em("row","hide-border")]:g===0&&v.hideHeader})},[(D(!0),H(Ze,null,Tt(y,(_,b)=>(D(),H("td",{key:b,class:F(p(_)),onClick:S=>f(c)(_)},[K("div",{class:F(f(h).b())},[pe(v.$slots,"date-cell",{data:f(u)(_)},()=>[K("span",null,Ne(_.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var xC=He(f8,[["__file","date-table.vue"]]);const p8=(t,e)=>{const n=t.endOf("month"),s=e.startOf("month"),o=n.isSame(s,"week")?s.add(1,"week"):s;return[[t,n],[o.startOf("week"),e]]},h8=(t,e)=>{const n=t.endOf("month"),s=t.add(1,"month").startOf("month"),r=n.isSame(s,"week")?s.add(1,"week"):s,o=r.endOf("month"),a=e.startOf("month"),i=o.isSame(a,"week")?a.add(1,"week"):a;return[[t,n],[r.startOf("week"),o],[i.startOf("week"),e]]},m8=(t,e,n)=>{const{lang:s}=Ut(),r=z(),o=yt().locale(s.value),a=R({get(){return t.modelValue?l.value:r.value},set(y){if(!y)return;r.value=y;const g=y.toDate();e(ws,g),e(Et,g)}}),i=R(()=>{if(!t.range||!Ue(t.range)||t.range.length!==2||t.range.some(b=>!ri(b)))return[];const y=t.range.map(b=>yt(b).locale(s.value)),[g,_]=y;return g.isAfter(_)?[]:g.isSame(_,"month")?p(g,_):g.add(1,"month").month()!==_.month()?[]:p(g,_)}),l=R(()=>t.modelValue?yt(t.modelValue).locale(s.value):a.value||(i.value.length?i.value[0][0]:o)),c=R(()=>l.value.subtract(1,"month").date(1)),u=R(()=>l.value.add(1,"month").date(1)),d=R(()=>l.value.subtract(1,"year").date(1)),h=R(()=>l.value.add(1,"year").date(1)),p=(y,g)=>{const _=y.startOf("week"),b=g.endOf("week"),S=_.get("month"),w=b.get("month");return S===w?[[_,b]]:(S+1)%12===w?p8(_,b):S+2===w||(S+1)%11===w?h8(_,b):[]},v=y=>{a.value=y};return{calculateValidatedDateRange:p,date:l,realSelectedDay:a,pickDay:v,selectDate:y=>{const _={"prev-month":c.value,"next-month":u.value,"prev-year":d.value,"next-year":h.value,today:o}[y];_.isSame(l.value,"day")||v(_)},validatedRange:i}},v8=t=>Ue(t)&&t.length===2&&t.every(e=>ri(e)),g8=$e({modelValue:{type:Date},range:{type:le(Array),validator:v8}}),y8={[Et]:t=>ri(t),[ws]:t=>ri(t)},b8="ElCalendar",S8=se({name:b8}),_8=se({...S8,props:g8,emits:y8,setup(t,{expose:e,emit:n}){const s=t,r=Le("calendar"),{calculateValidatedDateRange:o,date:a,pickDay:i,realSelectedDay:l,selectDate:c,validatedRange:u}=m8(s,n),{t:d}=Ut(),h=R(()=>{const p=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${d("el.datepicker.year")} ${d(p)}`});return e({selectedDay:l,pickDay:i,selectDate:c,calculateValidatedDateRange:o}),(p,v)=>(D(),H("div",{class:F(f(r).b())},[K("div",{class:F(f(r).e("header"))},[pe(p.$slots,"header",{date:f(h)},()=>[K("div",{class:F(f(r).e("title"))},Ne(f(h)),3),f(u).length===0?(D(),H("div",{key:0,class:F(f(r).e("button-group"))},[j(f(LM),null,{default:te(()=>[j(f(rs),{size:"small",onClick:m=>f(c)("prev-month")},{default:te(()=>[St(Ne(f(d)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),j(f(rs),{size:"small",onClick:m=>f(c)("today")},{default:te(()=>[St(Ne(f(d)("el.datepicker.today")),1)]),_:1},8,["onClick"]),j(f(rs),{size:"small",onClick:m=>f(c)("next-month")},{default:te(()=>[St(Ne(f(d)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):he("v-if",!0)])],2),f(u).length===0?(D(),H("div",{key:0,class:F(f(r).e("body"))},[j(xC,{date:f(a),"selected-day":f(l),onPick:f(i)},Hr({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:te(m=>[pe(p.$slots,"date-cell",lo(ai(m)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(D(),H("div",{key:1,class:F(f(r).e("body"))},[(D(!0),H(Ze,null,Tt(f(u),(m,y)=>(D(),_e(xC,{key:y,date:m[0],"selected-day":f(l),range:m,"hide-header":y!==0,onPick:f(i)},Hr({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:te(g=>[pe(p.$slots,"date-cell",lo(ai(g)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var w8=He(_8,[["__file","calendar.vue"]]);const C8=_t(w8),x8=$e({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:le([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),A8=se({name:"ElCard"}),E8=se({...A8,props:x8,setup(t){const e=Le("card");return(n,s)=>(D(),H("div",{class:F([f(e).b(),f(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(D(),H("div",{key:0,class:F(f(e).e("header"))},[pe(n.$slots,"header",{},()=>[St(Ne(n.header),1)])],2)):he("v-if",!0),K("div",{class:F([f(e).e("body"),n.bodyClass]),style:rt(n.bodyStyle)},[pe(n.$slots,"default")],6),n.$slots.footer||n.footer?(D(),H("div",{key:1,class:F(f(e).e("footer"))},[pe(n.$slots,"footer",{},()=>[St(Ne(n.footer),1)])],2)):he("v-if",!0)],2))}});var T8=He(E8,[["__file","card.vue"]]);const M8=_t(T8),I8=$e({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),R8={change:(t,e)=>[t,e].every(ft)},NM=Symbol("carouselContextKey"),kg="ElCarouselItem";var Pr=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Pr||{});function Lg(t){return Cn(t)&&t.type===Ze}function P8(t){return Cn(t)&&t.type===Ls}function D8(t){return Cn(t)&&!Lg(t)&&!P8(t)}const k8=t=>{if(!Cn(t))return{};const e=t.props||{},n=(Cn(t.type)?t.type.props:void 0)||{},s={};return Object.keys(n).forEach(r=>{$t(n[r],"default")&&(s[r]=n[r].default)}),Object.keys(e).forEach(r=>{s[wr(r)]=e[r]}),s},L8=t=>{if(!Ue(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},ei=t=>{const e=Ue(t)?t:[t],n=[];return e.forEach(s=>{var r;Ue(s)?n.push(...ei(s)):Cn(s)&&((r=s.component)!=null&&r.subTree)?n.push(s,...ei(s.component.subTree)):Cn(s)&&Ue(s.children)?n.push(...ei(s.children)):n.push(s)}),n},O8=(t,e,n)=>ei(t.subTree).filter(o=>{var a;return Cn(o)&&((a=o.type)==null?void 0:a.name)===e&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),Ub=(t,e)=>{const n={},s=dn([]);return{children:s,addChild:a=>{n[a.uid]=a,s.value=O8(t,e,n)},removeChild:a=>{delete n[a],s.value=s.value.filter(i=>i.uid!==a)}}},AC=300,B8=(t,e,n)=>{const{children:s,addChild:r,removeChild:o}=Ub(It(),kg),a=Gn(),i=z(-1),l=z(null),c=z(!1),u=z(),d=z(0),h=z(!0),p=z(!0),v=z(!1),m=R(()=>t.arrow!=="never"&&!f(_)),y=R(()=>s.value.some(ue=>ue.props.label.toString().length>0)),g=R(()=>t.type==="card"),_=R(()=>t.direction==="vertical"),b=R(()=>t.height!=="auto"?{height:t.height}:{height:`${d.value}px`,overflow:"hidden"}),S=sl(ue=>{E(ue)},AC,{trailing:!0}),w=sl(ue=>{O(ue)},AC),C=ue=>h.value?i.value<=1?ue<=1:ue>1:!0;function A(){l.value&&(clearInterval(l.value),l.value=null)}function T(){t.interval<=0||!t.autoplay||l.value||(l.value=setInterval(()=>x(),t.interval))}const x=()=>{p.value||(v.value=!0),p.value=!1,i.value<s.value.length-1?i.value=i.value+1:t.loop?i.value=0:v.value=!1};function E(ue){if(p.value||(v.value=!0),p.value=!1,ot(ue)){const ye=s.value.filter(Fe=>Fe.props.name===ue);ye.length>0&&(ue=s.value.indexOf(ye[0]))}if(ue=Number(ue),Number.isNaN(ue)||ue!==Math.floor(ue))return;const re=s.value.length,ge=i.value;ue<0?i.value=t.loop?re-1:0:ue>=re?i.value=t.loop?0:re-1:i.value=ue,ge===i.value&&M(ge),ee()}function M(ue){s.value.forEach((re,ge)=>{re.translateItem(ge,i.value,ue)})}function I(ue,re){var ge,ye,Fe,X;const V=f(s),ce=V.length;if(ce===0||!ue.states.inStage)return!1;const Q=re+1,Me=re-1,Pe=ce-1,Te=V[Pe].states.active,ve=V[0].states.active,xe=(ye=(ge=V[Q])==null?void 0:ge.states)==null?void 0:ye.active,we=(X=(Fe=V[Me])==null?void 0:Fe.states)==null?void 0:X.active;return re===Pe&&ve||xe?"left":re===0&&Te||we?"right":!1}function k(){c.value=!0,t.pauseOnHover&&A()}function U(){c.value=!1,T()}function B(){v.value=!1}function P(ue){f(_)||s.value.forEach((re,ge)=>{ue===I(re,ge)&&(re.states.hover=!0)})}function N(){f(_)||s.value.forEach(ue=>{ue.states.hover=!1})}function L(ue){ue!==i.value&&(p.value||(v.value=!0)),i.value=ue}function O(ue){t.trigger==="hover"&&ue!==i.value&&(i.value=ue,p.value||(v.value=!0))}function $(){E(i.value-1)}function W(){E(i.value+1)}function ee(){A(),t.pauseOnHover||T()}function Y(ue){t.height==="auto"&&(d.value=ue)}function Z(){var ue;const re=(ue=a.default)==null?void 0:ue.call(a);if(!re)return null;const ye=ei(re).filter(Fe=>Cn(Fe)&&Fe.type.name===kg);return(ye==null?void 0:ye.length)===2&&t.loop&&!g.value?(h.value=!0,ye):(h.value=!1,null)}De(()=>i.value,(ue,re)=>{M(re),h.value&&(ue=ue%2,re=re%2),re>-1&&e("change",ue,re)}),De(()=>t.autoplay,ue=>{ue?T():A()}),De(()=>t.loop,()=>{E(i.value)}),De(()=>t.interval,()=>{ee()});const ae=dn();return wt(()=>{De(()=>s.value,()=>{s.value.length>0&&E(t.initialIndex)},{immediate:!0}),ae.value=_n(u.value,()=>{M()}),T()}),Qt(()=>{A(),u.value&&ae.value&&ae.value.stop()}),Bt(NM,{root:u,isCardType:g,isVertical:_,items:s,loop:t.loop,cardScale:t.cardScale,addItem:r,removeItem:o,setActiveItem:E,setContainerHeight:Y}),{root:u,activeIndex:i,arrowDisplay:m,hasLabel:y,hover:c,isCardType:g,isTransitioning:v,items:s,isVertical:_,containerStyle:b,isItemsTwoLength:h,handleButtonEnter:P,handleTransitionEnd:B,handleButtonLeave:N,handleIndicatorClick:L,handleMouseEnter:k,handleMouseLeave:U,setActiveItem:E,prev:$,next:W,PlaceholderItem:Z,isTwoLengthShow:C,throttledArrowClick:S,throttledIndicatorHover:w}},F8="ElCarousel",N8=se({name:F8}),U8=se({...N8,props:I8,emits:R8,setup(t,{expose:e,emit:n}){const s=t,{root:r,activeIndex:o,arrowDisplay:a,hasLabel:i,hover:l,isCardType:c,items:u,isVertical:d,containerStyle:h,handleButtonEnter:p,handleButtonLeave:v,isTransitioning:m,handleIndicatorClick:y,handleMouseEnter:g,handleMouseLeave:_,handleTransitionEnd:b,setActiveItem:S,prev:w,next:C,PlaceholderItem:A,isTwoLengthShow:T,throttledArrowClick:x,throttledIndicatorHover:E}=B8(s,n),M=Le("carousel"),{t:I}=Ut(),k=R(()=>{const P=[M.b(),M.m(s.direction)];return f(c)&&P.push(M.m("card")),P}),U=R(()=>{const P=[M.e("container")];return s.motionBlur&&f(m)&&u.value.length>1&&P.push(f(d)?`${M.namespace.value}-transitioning-vertical`:`${M.namespace.value}-transitioning`),P}),B=R(()=>{const P=[M.e("indicators"),M.em("indicators",s.direction)];return f(i)&&P.push(M.em("indicators","labels")),s.indicatorPosition==="outside"&&P.push(M.em("indicators","outside")),f(d)&&P.push(M.em("indicators","right")),P});return e({activeIndex:o,setActiveItem:S,prev:w,next:C}),(P,N)=>(D(),H("div",{ref_key:"root",ref:r,class:F(f(k)),onMouseenter:pt(f(g),["stop"]),onMouseleave:pt(f(_),["stop"])},[f(a)?(D(),_e(Xn,{key:0,name:"carousel-arrow-left",persisted:""},{default:te(()=>[Ct(K("button",{type:"button",class:F([f(M).e("arrow"),f(M).em("arrow","left")]),"aria-label":f(I)("el.carousel.leftArrow"),onMouseenter:L=>f(p)("left"),onMouseleave:f(v),onClick:pt(L=>f(x)(f(o)-1),["stop"])},[j(f(tt),null,{default:te(()=>[j(f(ui))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Vt,(P.arrow==="always"||f(l))&&(s.loop||f(o)>0)]])]),_:1})):he("v-if",!0),f(a)?(D(),_e(Xn,{key:1,name:"carousel-arrow-right",persisted:""},{default:te(()=>[Ct(K("button",{type:"button",class:F([f(M).e("arrow"),f(M).em("arrow","right")]),"aria-label":f(I)("el.carousel.rightArrow"),onMouseenter:L=>f(p)("right"),onMouseleave:f(v),onClick:pt(L=>f(x)(f(o)+1),["stop"])},[j(f(tt),null,{default:te(()=>[j(f(Ws))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Vt,(P.arrow==="always"||f(l))&&(s.loop||f(o)<f(u).length-1)]])]),_:1})):he("v-if",!0),K("div",{class:F(f(U)),style:rt(f(h)),onTransitionend:f(b)},[j(f(A)),pe(P.$slots,"default")],46,["onTransitionend"]),P.indicatorPosition!=="none"?(D(),H("ul",{key:2,class:F(f(B))},[(D(!0),H(Ze,null,Tt(f(u),(L,O)=>Ct((D(),H("li",{key:O,class:F([f(M).e("indicator"),f(M).em("indicator",P.direction),f(M).is("active",O===f(o))]),onMouseenter:$=>f(E)(O),onClick:pt($=>f(y)(O),["stop"])},[K("button",{class:F(f(M).e("button")),"aria-label":f(I)("el.carousel.indicator",{index:O+1})},[f(i)?(D(),H("span",{key:0},Ne(L.props.label),1)):he("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[Vt,f(T)(O)]])),128))],2)):he("v-if",!0),s.motionBlur?(D(),H("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[K("defs",null,[K("filter",{id:"elCarouselHorizontal"},[K("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),K("filter",{id:"elCarouselVertical"},[K("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):he("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var z8=He(U8,[["__file","carousel.vue"]]);const $8=$e({name:{type:String,default:""},label:{type:[String,Number],default:""}}),H8=t=>{const e=Qe(NM),n=It(),s=z(),r=z(!1),o=z(0),a=z(1),i=z(!1),l=z(!1),c=z(!1),u=z(!1),{isCardType:d,isVertical:h,cardScale:p}=e;function v(b,S,w){const C=w-1,A=S-1,T=S+1,x=w/2;return S===0&&b===C?-1:S===C&&b===0?w:b<A&&S-b>=x?w+1:b>T&&b-S>=x?-2:b}function m(b,S){var w,C;const A=f(h)?((w=e.root.value)==null?void 0:w.offsetHeight)||0:((C=e.root.value)==null?void 0:C.offsetWidth)||0;return c.value?A*((2-p)*(b-S)+1)/4:b<S?-(1+p)*A/4:(3+p)*A/4}function y(b,S,w){const C=e.root.value;return C?((w?C.offsetHeight:C.offsetWidth)||0)*(b-S):0}const g=(b,S,w)=>{var C;const A=f(d),T=(C=e.items.value.length)!=null?C:Number.NaN,x=b===S;!A&&!Jt(w)&&(u.value=x||b===w),!x&&T>2&&e.loop&&(b=v(b,S,T));const E=f(h);i.value=x,A?(c.value=Math.round(Math.abs(b-S))<=1,o.value=m(b,S),a.value=f(i)?1:p):o.value=y(b,S,E),l.value=!0,x&&s.value&&e.setContainerHeight(s.value.offsetHeight)};function _(){if(e&&f(d)){const b=e.items.value.findIndex(({uid:S})=>S===n.uid);e.setActiveItem(b)}}return wt(()=>{e.addItem({props:t,states:qt({hover:r,translate:o,scale:a,active:i,ready:l,inStage:c,animating:u}),uid:n.uid,translateItem:g})}),ya(()=>{e.removeItem(n.uid)}),{carouselItemRef:s,active:i,animating:u,hover:r,inStage:c,isVertical:h,translate:o,isCardType:d,scale:a,ready:l,handleItemClick:_}},V8=se({name:kg}),W8=se({...V8,props:$8,setup(t){const e=t,n=Le("carousel"),{carouselItemRef:s,active:r,animating:o,hover:a,inStage:i,isVertical:l,translate:c,isCardType:u,scale:d,ready:h,handleItemClick:p}=H8(e),v=R(()=>[n.e("item"),n.is("active",r.value),n.is("in-stage",i.value),n.is("hover",a.value),n.is("animating",o.value),{[n.em("item","card")]:u.value,[n.em("item","card-vertical")]:u.value&&l.value}]),m=R(()=>{const g=`${`translate${f(l)?"Y":"X"}`}(${f(c)}px)`,_=`scale(${f(d)})`;return{transform:[g,_].join(" ")}});return(y,g)=>Ct((D(),H("div",{ref_key:"carouselItemRef",ref:s,class:F(f(v)),style:rt(f(m)),onClick:f(p)},[f(u)?Ct((D(),H("div",{key:0,class:F(f(n).e("mask"))},null,2)),[[Vt,!f(r)]]):he("v-if",!0),pe(y.$slots,"default")],14,["onClick"])),[[Vt,f(h)]])}});var UM=He(W8,[["__file","carousel-item.vue"]]);const G8=_t(z8,{CarouselItem:UM}),K8=Tn(UM),zM={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Wn,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...ms(["ariaControls"])},$M={[Et]:t=>ot(t)||ft(t)||ln(t),change:t=>ot(t)||ft(t)||ln(t)},vu=Symbol("checkboxGroupContextKey"),j8=({model:t,isChecked:e})=>{const n=Qe(vu,void 0),s=R(()=>{var o,a;const i=(o=n==null?void 0:n.max)==null?void 0:o.value,l=(a=n==null?void 0:n.min)==null?void 0:a.value;return!Jt(i)&&t.value.length>=i&&!e.value||!Jt(l)&&t.value.length<=l&&e.value});return{isDisabled:Es(R(()=>(n==null?void 0:n.disabled.value)||s.value)),isLimitDisabled:s}},q8=(t,{model:e,isLimitExceeded:n,hasOwnLabel:s,isDisabled:r,isLabeledByFormItem:o})=>{const a=Qe(vu,void 0),{formItem:i}=As(),{emit:l}=It();function c(v){var m,y,g,_;return[!0,t.trueValue,t.trueLabel].includes(v)?(y=(m=t.trueValue)!=null?m:t.trueLabel)!=null?y:!0:(_=(g=t.falseValue)!=null?g:t.falseLabel)!=null?_:!1}function u(v,m){l("change",c(v),m)}function d(v){if(n.value)return;const m=v.target;l("change",c(m.checked),v)}async function h(v){n.value||!s.value&&!r.value&&o.value&&(v.composedPath().some(g=>g.tagName==="LABEL")||(e.value=c([!1,t.falseValue,t.falseLabel].includes(e.value)),await lt(),u(e.value,v)))}const p=R(()=>(a==null?void 0:a.validateEvent)||t.validateEvent);return De(()=>t.modelValue,()=>{p.value&&(i==null||i.validate("change").catch(v=>void 0))}),{handleChange:d,onClickRoot:h}},Y8=t=>{const e=z(!1),{emit:n}=It(),s=Qe(vu,void 0),r=R(()=>Jt(s)===!1),o=z(!1),a=R({get(){var i,l;return r.value?(i=s==null?void 0:s.modelValue)==null?void 0:i.value:(l=t.modelValue)!=null?l:e.value},set(i){var l,c;r.value&&Ue(i)?(o.value=((l=s==null?void 0:s.max)==null?void 0:l.value)!==void 0&&i.length>(s==null?void 0:s.max.value)&&i.length>a.value.length,o.value===!1&&((c=s==null?void 0:s.changeEvent)==null||c.call(s,i))):(n(Et,i),e.value=i)}});return{model:a,isGroup:r,isLimitExceeded:o}},X8=(t,e,{model:n})=>{const s=Qe(vu,void 0),r=z(!1),o=R(()=>ul(t.value)?t.label:t.value),a=R(()=>{const u=n.value;return ln(u)?u:Ue(u)?Mt(o.value)?u.map(rn).some(d=>ps(d,o.value)):u.map(rn).includes(o.value):u!=null?u===t.trueValue||u===t.trueLabel:!!u}),i=Hn(R(()=>{var u;return(u=s==null?void 0:s.size)==null?void 0:u.value}),{prop:!0}),l=Hn(R(()=>{var u;return(u=s==null?void 0:s.size)==null?void 0:u.value})),c=R(()=>!!e.default||!ul(o.value));return{checkboxButtonSize:i,isChecked:a,isFocused:r,checkboxSize:l,hasOwnLabel:c,actualValue:o}},HM=(t,e)=>{const{formItem:n}=As(),{model:s,isGroup:r,isLimitExceeded:o}=Y8(t),{isFocused:a,isChecked:i,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,actualValue:d}=X8(t,e,{model:s}),{isDisabled:h}=j8({model:s,isChecked:i}),{inputId:p,isLabeledByFormItem:v}=Yr(t,{formItemContext:n,disableIdGeneration:u,disableIdManagement:r}),{handleChange:m,onClickRoot:y}=q8(t,{model:s,isLimitExceeded:o,hasOwnLabel:u,isDisabled:h,isLabeledByFormItem:v});return(()=>{function _(){var b,S;Ue(s.value)&&!s.value.includes(d.value)?s.value.push(d.value):s.value=(S=(b=t.trueValue)!=null?b:t.trueLabel)!=null?S:!0}t.checked&&_()})(),Za({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},R(()=>r.value&&ul(t.value))),Za({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},R(()=>!!t.trueLabel)),Za({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},R(()=>!!t.falseLabel)),{inputId:p,isLabeledByFormItem:v,isChecked:i,isDisabled:h,isFocused:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:s,actualValue:d,handleChange:m,onClickRoot:y}},Q8=se({name:"ElCheckbox"}),Z8=se({...Q8,props:zM,emits:$M,setup(t){const e=t,n=Gn(),{inputId:s,isLabeledByFormItem:r,isChecked:o,isDisabled:a,isFocused:i,checkboxSize:l,hasOwnLabel:c,model:u,actualValue:d,handleChange:h,onClickRoot:p}=HM(e,n),v=Le("checkbox"),m=R(()=>[v.b(),v.m(l.value),v.is("disabled",a.value),v.is("bordered",e.border),v.is("checked",o.value)]),y=R(()=>[v.e("input"),v.is("disabled",a.value),v.is("checked",o.value),v.is("indeterminate",e.indeterminate),v.is("focus",i.value)]);return(g,_)=>(D(),_e(Rt(!f(c)&&f(r)?"span":"label"),{class:F(f(m)),"aria-controls":g.indeterminate?g.ariaControls:null,onClick:f(p)},{default:te(()=>{var b,S,w,C;return[K("span",{class:F(f(y))},[g.trueValue||g.falseValue||g.trueLabel||g.falseLabel?Ct((D(),H("input",{key:0,id:f(s),"onUpdate:modelValue":A=>fn(u)?u.value=A:null,class:F(f(v).e("original")),type:"checkbox",indeterminate:g.indeterminate,name:g.name,tabindex:g.tabindex,disabled:f(a),"true-value":(S=(b=g.trueValue)!=null?b:g.trueLabel)!=null?S:!0,"false-value":(C=(w=g.falseValue)!=null?w:g.falseLabel)!=null?C:!1,onChange:f(h),onFocus:A=>i.value=!0,onBlur:A=>i.value=!1,onClick:pt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[sh,f(u)]]):Ct((D(),H("input",{key:1,id:f(s),"onUpdate:modelValue":A=>fn(u)?u.value=A:null,class:F(f(v).e("original")),type:"checkbox",indeterminate:g.indeterminate,disabled:f(a),value:f(d),name:g.name,tabindex:g.tabindex,onChange:f(h),onFocus:A=>i.value=!0,onBlur:A=>i.value=!1,onClick:pt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[sh,f(u)]]),K("span",{class:F(f(v).e("inner"))},null,2)],2),f(c)?(D(),H("span",{key:0,class:F(f(v).e("label"))},[pe(g.$slots,"default"),g.$slots.default?he("v-if",!0):(D(),H(Ze,{key:0},[St(Ne(g.label),1)],64))],2)):he("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var J8=He(Z8,[["__file","checkbox.vue"]]);const e5=se({name:"ElCheckboxButton"}),t5=se({...e5,props:zM,emits:$M,setup(t){const e=t,n=Gn(),{isFocused:s,isChecked:r,isDisabled:o,checkboxButtonSize:a,model:i,actualValue:l,handleChange:c}=HM(e,n),u=Qe(vu,void 0),d=Le("checkbox"),h=R(()=>{var v,m,y,g;const _=(m=(v=u==null?void 0:u.fill)==null?void 0:v.value)!=null?m:"";return{backgroundColor:_,borderColor:_,color:(g=(y=u==null?void 0:u.textColor)==null?void 0:y.value)!=null?g:"",boxShadow:_?`-1px 0 0 0 ${_}`:void 0}}),p=R(()=>[d.b("button"),d.bm("button",a.value),d.is("disabled",o.value),d.is("checked",r.value),d.is("focus",s.value)]);return(v,m)=>{var y,g,_,b;return D(),H("label",{class:F(f(p))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?Ct((D(),H("input",{key:0,"onUpdate:modelValue":S=>fn(i)?i.value=S:null,class:F(f(d).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:f(o),"true-value":(g=(y=v.trueValue)!=null?y:v.trueLabel)!=null?g:!0,"false-value":(b=(_=v.falseValue)!=null?_:v.falseLabel)!=null?b:!1,onChange:f(c),onFocus:S=>s.value=!0,onBlur:S=>s.value=!1,onClick:pt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[sh,f(i)]]):Ct((D(),H("input",{key:1,"onUpdate:modelValue":S=>fn(i)?i.value=S:null,class:F(f(d).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:f(o),value:f(l),onChange:f(c),onFocus:S=>s.value=!0,onBlur:S=>s.value=!1,onClick:pt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[sh,f(i)]]),v.$slots.default||v.label?(D(),H("span",{key:2,class:F(f(d).be("button","inner")),style:rt(f(r)?f(h):void 0)},[pe(v.$slots,"default",{},()=>[St(Ne(v.label),1)])],6)):he("v-if",!0)],2)}}});var VM=He(t5,[["__file","checkbox-button.vue"]]);const n5=$e({modelValue:{type:le(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Wn,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...ms(["ariaLabel"])}),s5={[Et]:t=>Ue(t),change:t=>Ue(t)},r5=se({name:"ElCheckboxGroup"}),o5=se({...r5,props:n5,emits:s5,setup(t,{emit:e}){const n=t,s=Le("checkbox"),{formItem:r}=As(),{inputId:o,isLabeledByFormItem:a}=Yr(n,{formItemContext:r}),i=async c=>{e(Et,c),await lt(),e("change",c)},l=R({get(){return n.modelValue},set(c){i(c)}});return Bt(vu,{...uo(as(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:i}),De(()=>n.modelValue,()=>{n.validateEvent&&(r==null||r.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return D(),_e(Rt(c.tag),{id:f(o),class:F(f(s).b("group")),role:"group","aria-label":f(a)?void 0:c.ariaLabel||"checkbox-group","aria-labelledby":f(a)?(d=f(r))==null?void 0:d.labelId:void 0},{default:te(()=>[pe(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var WM=He(o5,[["__file","checkbox-group.vue"]]);const Kr=_t(J8,{CheckboxButton:VM,CheckboxGroup:WM}),a5=Tn(VM),GM=Tn(WM),KM=$e({modelValue:{type:[String,Number,Boolean],default:void 0},size:Wn,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),i5=$e({...KM,border:Boolean}),jM={[Et]:t=>ot(t)||ft(t)||ln(t),[nn]:t=>ot(t)||ft(t)||ln(t)},qM=Symbol("radioGroupKey"),YM=(t,e)=>{const n=z(),s=Qe(qM,void 0),r=R(()=>!!s),o=R(()=>ul(t.value)?t.label:t.value),a=R({get(){return r.value?s.modelValue:t.modelValue},set(d){r.value?s.changeEvent(d):e&&e(Et,d),n.value.checked=t.modelValue===o.value}}),i=Hn(R(()=>s==null?void 0:s.size)),l=Es(R(()=>s==null?void 0:s.disabled)),c=z(!1),u=R(()=>l.value||r.value&&a.value!==o.value?-1:0);return Za({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},R(()=>r.value&&ul(t.value))),{radioRef:n,isGroup:r,radioGroup:s,focus:c,size:i,disabled:l,tabIndex:u,modelValue:a,actualValue:o}},l5=se({name:"ElRadio"}),c5=se({...l5,props:i5,emits:jM,setup(t,{emit:e}){const n=t,s=Le("radio"),{radioRef:r,radioGroup:o,focus:a,size:i,disabled:l,modelValue:c,actualValue:u}=YM(n,e);function d(){lt(()=>e("change",c.value))}return(h,p)=>{var v;return D(),H("label",{class:F([f(s).b(),f(s).is("disabled",f(l)),f(s).is("focus",f(a)),f(s).is("bordered",h.border),f(s).is("checked",f(c)===f(u)),f(s).m(f(i))])},[K("span",{class:F([f(s).e("input"),f(s).is("disabled",f(l)),f(s).is("checked",f(c)===f(u))])},[Ct(K("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":m=>fn(c)?c.value=m:null,class:F(f(s).e("original")),value:f(u),name:h.name||((v=f(o))==null?void 0:v.name),disabled:f(l),checked:f(c)===f(u),type:"radio",onFocus:m=>a.value=!0,onBlur:m=>a.value=!1,onChange:d,onClick:pt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[BE,f(c)]]),K("span",{class:F(f(s).e("inner"))},null,2)],2),K("span",{class:F(f(s).e("label")),onKeydown:pt(()=>{},["stop"])},[pe(h.$slots,"default",{},()=>[St(Ne(h.label),1)])],42,["onKeydown"])],2)}}});var u5=He(c5,[["__file","radio.vue"]]);const d5=$e({...KM}),f5=se({name:"ElRadioButton"}),p5=se({...f5,props:d5,setup(t){const e=t,n=Le("radio"),{radioRef:s,focus:r,size:o,disabled:a,modelValue:i,radioGroup:l,actualValue:c}=YM(e),u=R(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(d,h)=>{var p;return D(),H("label",{class:F([f(n).b("button"),f(n).is("active",f(i)===f(c)),f(n).is("disabled",f(a)),f(n).is("focus",f(r)),f(n).bm("button",f(o))])},[Ct(K("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":v=>fn(i)?i.value=v:null,class:F(f(n).be("button","original-radio")),value:f(c),type:"radio",name:d.name||((p=f(l))==null?void 0:p.name),disabled:f(a),onFocus:v=>r.value=!0,onBlur:v=>r.value=!1,onClick:pt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[BE,f(i)]]),K("span",{class:F(f(n).be("button","inner")),style:rt(f(i)===f(c)?f(u):{}),onKeydown:pt(()=>{},["stop"])},[pe(d.$slots,"default",{},()=>[St(Ne(d.label),1)])],46,["onKeydown"])],2)}}});var XM=He(p5,[["__file","radio-button.vue"]]);const h5=$e({id:{type:String,default:void 0},size:Wn,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...ms(["ariaLabel"])}),m5=jM,v5=se({name:"ElRadioGroup"}),g5=se({...v5,props:h5,emits:m5,setup(t,{emit:e}){const n=t,s=Le("radio"),r=hs(),o=z(),{formItem:a}=As(),{inputId:i,isLabeledByFormItem:l}=Yr(n,{formItemContext:a}),c=d=>{e(Et,d),lt(()=>e("change",d))};wt(()=>{const d=o.value.querySelectorAll("[type=radio]"),h=d[0];!Array.from(d).some(p=>p.checked)&&h&&(h.tabIndex=0)});const u=R(()=>n.name||r.value);return Bt(qM,qt({...as(n),changeEvent:c,name:u})),De(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(d=>void 0))}),(d,h)=>(D(),H("div",{id:f(i),ref_key:"radioGroupRef",ref:o,class:F(f(s).b("group")),role:"radiogroup","aria-label":f(l)?void 0:d.ariaLabel||"radio-group","aria-labelledby":f(l)?f(a).labelId:void 0},[pe(d.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var QM=He(g5,[["__file","radio-group.vue"]]);const ZM=_t(u5,{RadioButton:XM,RadioGroup:QM}),y5=Tn(QM),b5=Tn(XM);var S5=se({name:"NodeContent",setup(){return{ns:Le("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:s,label:r}=e,{renderLabelFn:o}=n;return st("span",{class:t.e("label")},o?o({node:e,data:s}):r)}});const zb=Symbol(),_5=se({name:"ElCascaderNode",components:{ElCheckbox:Kr,ElRadio:ZM,NodeContent:S5,ElIcon:tt,Check:Yd,Loading:Lo,ArrowRight:Ws},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=Qe(zb),s=Le("cascader-node"),r=R(()=>n.isHoverMenu),o=R(()=>n.config.multiple),a=R(()=>n.config.checkStrictly),i=R(()=>{var C;return(C=n.checkedNodes[0])==null?void 0:C.uid}),l=R(()=>t.node.isDisabled),c=R(()=>t.node.isLeaf),u=R(()=>a.value&&!c.value||!l.value),d=R(()=>p(n.expandingNode)),h=R(()=>a.value&&n.checkedNodes.some(p)),p=C=>{var A;const{level:T,uid:x}=t.node;return((A=C==null?void 0:C.pathNodes[T-1])==null?void 0:A.uid)===x},v=()=>{d.value||n.expandNode(t.node)},m=C=>{const{node:A}=t;C!==A.checked&&n.handleCheckChange(A,C)},y=()=>{n.lazyLoad(t.node,()=>{c.value||v()})},g=C=>{r.value&&(_(),!c.value&&e("expand",C))},_=()=>{const{node:C}=t;!u.value||C.loading||(C.loaded?v():y())},b=()=>{r.value&&!c.value||(c.value&&!l.value&&!a.value&&!o.value?w(!0):_())},S=C=>{a.value?(m(C),t.node.loaded&&v()):w(C)},w=C=>{t.node.loaded?(m(C),!a.value&&v()):y()};return{panel:n,isHoverMenu:r,multiple:o,checkStrictly:a,checkedNodeId:i,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:h,ns:s,handleHoverExpand:g,handleExpand:_,handleClick:b,handleCheck:w,handleSelectCheck:S}}});function w5(t,e,n,s,r,o){const a=et("el-checkbox"),i=et("el-radio"),l=et("check"),c=et("el-icon"),u=et("node-content"),d=et("loading"),h=et("arrow-right");return D(),H("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:F([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[he(" prefix "),t.multiple?(D(),_e(a,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:pt(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(D(),_e(i,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:pt(()=>{},["stop"])},{default:te(()=>[he(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),K("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(D(),_e(c,{key:2,class:F(t.ns.e("prefix"))},{default:te(()=>[j(l)]),_:1},8,["class"])):he("v-if",!0),he(" content "),j(u),he(" postfix "),t.isLeaf?he("v-if",!0):(D(),H(Ze,{key:3},[t.node.loading?(D(),_e(c,{key:0,class:F([t.ns.is("loading"),t.ns.e("postfix")])},{default:te(()=>[j(d)]),_:1},8,["class"])):(D(),_e(c,{key:1,class:F(["arrow-right",t.ns.e("postfix")])},{default:te(()=>[j(h)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var C5=He(_5,[["render",w5],["__file","node.vue"]]);const x5=se({name:"ElCascaderMenu",components:{Loading:Lo,ElIcon:tt,ElScrollbar:$o,ElCascaderNode:C5},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=It(),n=Le("cascader-menu"),{t:s}=Ut(),r=hs();let o=null,a=null;const i=Qe(zb),l=z(null),c=R(()=>!t.nodes.length),u=R(()=>!i.initialLoaded),d=R(()=>`${r.value}-${t.index}`),h=y=>{o=y.target},p=y=>{if(!(!i.isHoverMenu||!o||!l.value))if(o.contains(y.target)){v();const g=e.vnode.el,{left:_}=g.getBoundingClientRect(),{offsetWidth:b,offsetHeight:S}=g,w=y.clientX-_,C=o.offsetTop,A=C+o.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${C} L${b} 0 V${C} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${A} L${b} ${S} V${A} Z" />
        `}else a||(a=window.setTimeout(m,i.config.hoverThreshold))},v=()=>{a&&(clearTimeout(a),a=null)},m=()=>{l.value&&(l.value.innerHTML="",v())};return{ns:n,panel:i,hoverZone:l,isEmpty:c,isLoading:u,menuId:d,t:s,handleExpand:h,handleMouseMove:p,clearHoverZone:m}}});function A5(t,e,n,s,r,o){const a=et("el-cascader-node"),i=et("loading"),l=et("el-icon"),c=et("el-scrollbar");return D(),_e(c,{key:t.menuId,tag:"ul",role:"menu",class:F(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:te(()=>{var u;return[(D(!0),H(Ze,null,Tt(t.nodes,d=>(D(),_e(a,{key:d.uid,node:d,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(D(),H("div",{key:0,class:F(t.ns.e("empty-text"))},[j(l,{size:"14",class:F(t.ns.is("loading"))},{default:te(()=>[j(i)]),_:1},8,["class"]),St(" "+Ne(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(D(),H("div",{key:1,class:F(t.ns.e("empty-text"))},[pe(t.$slots,"empty",{},()=>[St(Ne(t.t("el.cascader.noData")),1)])],2)):(u=t.panel)!=null&&u.isHoverMenu?(D(),H("svg",{key:2,ref:"hoverZone",class:F(t.ns.e("hover-zone"))},null,2)):he("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var E5=He(x5,[["render",A5],["__file","menu.vue"]]);const $b=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ao=t=>Vd(t);let T5=0;const M5=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let Og=class Bg{constructor(e,n,s,r=!1){this.data=e,this.config=n,this.parent=s,this.root=r,this.uid=T5++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:a,children:i}=n,l=e[i],c=M5(this);this.level=r?0:s?s.level+1:1,this.value=e[o],this.label=e[a],this.pathNodes=c,this.pathValues=c.map(u=>u.value),this.pathLabels=c.map(u=>u.label),this.childrenData=l,this.children=(l||[]).map(u=>new Bg(u,n,this)),this.loaded=!n.lazy||this.isLeaf||!hr(l)}get isDisabled(){const{data:e,parent:n,config:s}=this,{disabled:r,checkStrictly:o}=s;return(ct(r)?r(e,this):!!e[r])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:s,loaded:r}=this,{lazy:o,leaf:a}=n,i=ct(a)?a(e,this):e[a];return Jt(i)?o&&!r?!1:!(Ue(s)&&s.length):!!i}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:s}=this,r=new Bg(e,this.config,this);return Ue(n)?n.push(e):this.childrenData=[e],s.push(r),r}calcText(e,n){const s=e?this.pathLabels.join(n):this.label;return this.text=s,s}broadcast(e,...n){const s=`onParent${Ao(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...n),r[s]&&r[s](...n))})}emit(e,...n){const{parent:s}=this,r=`onChild${Ao(e)}`;s&&(s[r]&&s[r](...n),s.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(r=>!r.isDisabled),s=n.length?n.every(r=>r.checked):!1;this.setCheckState(s)}setCheckState(e){const n=this.children.length,s=this.children.reduce((r,o)=>{const a=o.checked?1:o.indeterminate?.5:0;return r+a},0);this.checked=this.loaded&&this.children.filter(r=>!r.isDisabled).every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&s!==n&&s>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:s}=this.config;n||!s?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const Fg=(t,e)=>t.reduce((n,s)=>(s.isLeaf?n.push(s):(!e&&n.push(s),n=n.concat(Fg(s.children,e))),n),[]);class EC{constructor(e,n){this.config=n;const s=(e||[]).map(r=>new Og(r,this.config));this.nodes=s,this.allNodes=Fg(s,!1),this.leafNodes=Fg(s,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const s=n?n.appendChild(e):new Og(e,this.config);n||this.nodes.push(s),this.allNodes.push(s),s.isLeaf&&this.leafNodes.push(s)}appendNodes(e,n){e.forEach(s=>this.appendNode(s,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(r=>ps(r.value,e)||ps(r.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:s,level:r})=>ps(e.value,s)&&e.level===r)||null}}const JM=$e({modelValue:{type:le([Number,String,Array])},options:{type:le(Array),default:()=>[]},props:{type:le(Object),default:()=>({})}}),I5={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Zt,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},R5=t=>R(()=>({...I5,...t.props})),TC=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},P5=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():aM(t)&&t.click()},D5=(t,e)=>{const n=e.slice(0),s=n.map(o=>o.uid),r=t.reduce((o,a)=>{const i=s.indexOf(a.uid);return i>-1&&(o.push(a),n.splice(i,1),s.splice(i,1)),o},[]);return r.push(...n),r},MC=t=>[...new Set(t)],$s=t=>!t&&t!==0?[]:Ue(t)?t:[t],k5=se({name:"ElCascaderPanel",components:{ElCascaderMenu:E5},props:{...JM,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Et,nn,"close","expand-change"],setup(t,{emit:e,slots:n}){let s=!1;const r=Le("cascader"),o=R5(t);let a=null;const i=z(!0),l=z([]),c=z(null),u=z([]),d=z(null),h=z([]),p=R(()=>o.value.expandTrigger==="hover"),v=R(()=>t.renderLabel||n.default),m=()=>{const{options:I}=t,k=o.value;s=!1,a=new EC(I,k),u.value=[a.getNodes()],k.lazy&&hr(t.options)?(i.value=!1,y(void 0,U=>{U&&(a=new EC(U,k),u.value=[a.getNodes()]),i.value=!0,T(!1,!0)})):T(!1,!0)},y=(I,k)=>{const U=o.value;I=I||new Og({},U,void 0,!0),I.loading=!0;const B=P=>{const N=I,L=N.root?null:N;P&&(a==null||a.appendNodes(P,L)),N.loading=!1,N.loaded=!0,N.childrenData=N.childrenData||[],k&&k(P)};U.lazyLoad(I,B)},g=(I,k)=>{var U;const{level:B}=I,P=u.value.slice(0,B);let N;I.isLeaf?N=I.pathNodes[B-2]:(N=I,P.push(I.children)),((U=d.value)==null?void 0:U.uid)!==(N==null?void 0:N.uid)&&(d.value=I,u.value=P,!k&&e("expand-change",(I==null?void 0:I.pathValues)||[]))},_=(I,k,U=!0)=>{const{checkStrictly:B,multiple:P}=o.value,N=h.value[0];s=!0,!P&&(N==null||N.doCheck(!1)),I.doCheck(k),A(),U&&!P&&!B&&e("close"),!U&&!P&&!B&&b(I)},b=I=>{I&&(I=I.parent,b(I),I&&g(I))},S=I=>a==null?void 0:a.getFlattedNodes(I),w=I=>{var k;return(k=S(I))==null?void 0:k.filter(U=>U.checked!==!1)},C=()=>{h.value.forEach(I=>I.doCheck(!1)),A(),u.value=u.value.slice(0,1),d.value=null,e("expand-change",[])},A=()=>{var I;const{checkStrictly:k,multiple:U}=o.value,B=h.value,P=w(!k),N=D5(B,P),L=N.map(O=>O.valueByOption);h.value=N,c.value=U?L:(I=L[0])!=null?I:null},T=(I=!1,k=!1)=>{const{modelValue:U}=t,{lazy:B,multiple:P,checkStrictly:N}=o.value,L=!N;if(!(!i.value||s||!k&&ps(U,c.value)))if(B&&!I){const $=MC(EN($s(U))).map(W=>a==null?void 0:a.getNodeByValue(W)).filter(W=>!!W&&!W.loaded&&!W.loading);$.length?$.forEach(W=>{y(W,()=>T(!1,k))}):T(!0,k)}else{const O=P?$s(U):[U],$=MC(O.map(W=>a==null?void 0:a.getNodeByValue(W,L)));x($,k),c.value=ah(U)}},x=(I,k=!0)=>{const{checkStrictly:U}=o.value,B=h.value,P=I.filter(O=>!!O&&(U||O.isLeaf)),N=a==null?void 0:a.getSameNode(d.value),L=k&&N||P[0];L?L.pathNodes.forEach(O=>g(O,!0)):d.value=null,B.forEach(O=>O.doCheck(!1)),qt(P).forEach(O=>O.doCheck(!0)),h.value=P,lt(E)},E=()=>{Nt&&l.value.forEach(I=>{const k=I==null?void 0:I.$el;if(k){const U=k.querySelector(`.${r.namespace.value}-scrollbar__wrap`),B=k.querySelector(`.${r.b("node")}.${r.is("active")}`)||k.querySelector(`.${r.b("node")}.in-active-path`);gb(U,B)}})},M=I=>{const k=I.target,{code:U}=I;switch(U){case qe.up:case qe.down:{I.preventDefault();const B=U===qe.up?-1:1;bp(iM(k,B,`.${r.b("node")}[tabindex="-1"]`));break}case qe.left:{I.preventDefault();const B=l.value[TC(k)-1],P=B==null?void 0:B.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);bp(P);break}case qe.right:{I.preventDefault();const B=l.value[TC(k)+1],P=B==null?void 0:B.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);bp(P);break}case qe.enter:case qe.numpadEnter:P5(k);break}};return Bt(zb,qt({config:o,expandingNode:d,checkedNodes:h,isHoverMenu:p,initialLoaded:i,renderLabelFn:v,lazyLoad:y,expandNode:g,handleCheckChange:_})),De([o,()=>t.options],m,{deep:!0,immediate:!0}),De(()=>t.modelValue,()=>{s=!1,T()},{deep:!0}),De(()=>c.value,I=>{ps(I,t.modelValue)||(e(Et,I),e(nn,I))}),Wy(()=>l.value=[]),wt(()=>!hr(t.modelValue)&&T()),{ns:r,menuList:l,menus:u,checkedNodes:h,handleKeyDown:M,handleCheckChange:_,getFlattedNodes:S,getCheckedNodes:w,clearCheckedNodes:C,calculateCheckedValue:A,scrollToExpandingNode:E}}});function L5(t,e,n,s,r,o){const a=et("el-cascader-menu");return D(),H("div",{class:F([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(D(!0),H(Ze,null,Tt(t.menus,(i,l)=>(D(),_e(a,{key:l,ref_for:!0,ref:c=>t.menuList[l]=c,index:l,nodes:[...i]},{empty:te(()=>[pe(t.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var O5=He(k5,[["render",L5],["__file","index.vue"]]);const e2=_t(O5),pa=$e({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:zo},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),B5={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},F5=se({name:"ElTag"}),N5=se({...F5,props:pa,emits:B5,setup(t,{emit:e}){const n=t,s=Hn(),r=Le("tag"),o=R(()=>{const{type:c,hit:u,effect:d,closable:h,round:p}=n;return[r.b(),r.is("closable",h),r.m(c||"primary"),r.m(s.value),r.m(d),r.is("hit",u),r.is("round",p)]}),a=c=>{e("close",c)},i=c=>{e("click",c)},l=c=>{var u,d,h;(h=(d=(u=c==null?void 0:c.component)==null?void 0:u.subTree)==null?void 0:d.component)!=null&&h.bum&&(c.component.subTree.component.bum=null)};return(c,u)=>c.disableTransitions?(D(),H("span",{key:0,class:F(f(o)),style:rt({backgroundColor:c.color}),onClick:i},[K("span",{class:F(f(r).e("content"))},[pe(c.$slots,"default")],2),c.closable?(D(),_e(f(tt),{key:0,class:F(f(r).e("close")),onClick:pt(a,["stop"])},{default:te(()=>[j(f(mo))]),_:1},8,["class","onClick"])):he("v-if",!0)],6)):(D(),_e(Xn,{key:1,name:`${f(r).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:te(()=>[K("span",{class:F(f(o)),style:rt({backgroundColor:c.color}),onClick:i},[K("span",{class:F(f(r).e("content"))},[pe(c.$slots,"default")],2),c.closable?(D(),_e(f(tt),{key:0,class:F(f(r).e("close")),onClick:pt(a,["stop"])},{default:te(()=>[j(f(mo))]),_:1},8,["class","onClick"])):he("v-if",!0)],6)]),_:3},8,["name"]))}});var U5=He(N5,[["__file","tag.vue"]]);const $c=_t(U5),z5=$e({...JM,size:Wn,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:le(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:le(Function),default:()=>!0},placement:{type:le(String),values:Ca,default:"bottom-start"},fallbackPlacements:{type:le(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:ns.teleported,tagType:{...pa.type,default:"info"},tagEffect:{...pa.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...pu}),$5={[Et]:t=>!0,[nn]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>ln(t),expandChange:t=>!!t,removeTag:t=>!!t},za=new Map;if(Nt){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of za.values())for(const{documentHandler:s}of n)s(e,t);t=void 0}})}function IC(t,e){let n=[];return Ue(e.arg)?n=e.arg:gr(e.arg)&&n.push(e.arg),function(s,r){const o=e.instance.popperRef,a=s.target,i=r==null?void 0:r.target,l=!e||!e.instance,c=!a||!i,u=t.contains(a)||t.contains(i),d=t===a,h=n.length&&n.some(v=>v==null?void 0:v.contains(a))||n.length&&n.includes(i),p=o&&(o.contains(a)||o.contains(i));l||c||u||d||h||p||e.value(s,r)}}const ha={beforeMount(t,e){za.has(t)||za.set(t,[]),za.get(t).push({documentHandler:IC(t,e),bindingFn:e.value})},updated(t,e){za.has(t)||za.set(t,[]);const n=za.get(t),s=n.findIndex(o=>o.bindingFn===e.oldValue),r={documentHandler:IC(t,e),bindingFn:e.value};s>=0?n.splice(s,1,r):n.push(r)},unmounted(t){za.delete(t)}},H5="ElCascader",V5=se({name:H5}),W5=se({...V5,props:z5,emits:$5,setup(t,{expose:e,emit:n}){const s=t,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:oe})=>{const{modifiersData:be,placement:ne}=oe;["right","left","bottom","top"].includes(ne)||(be.arrow.x=35)},requires:["arrow"]}]},o=yi();let a=0,i=0;const l=Le("cascader"),c=Le("input"),{t:u}=Ut(),{form:d,formItem:h}=As(),{valueOnClear:p}=am(s),{isComposing:v,handleComposition:m}=Qd({afterComposition(oe){var be;const ne=(be=oe.target)==null?void 0:be.value;q(ne)}}),y=z(null),g=z(null),_=z(null),b=z(null),S=z(null),w=z(!1),C=z(!1),A=z(!1),T=z(!1),x=z(""),E=z(""),M=z([]),I=z([]),k=z([]),U=R(()=>o.style),B=R(()=>s.disabled||(d==null?void 0:d.disabled)),P=R(()=>s.placeholder||u("el.cascader.placeholder")),N=R(()=>E.value||M.value.length>0||v.value?"":P.value),L=Hn(),O=R(()=>L.value==="small"?"small":"default"),$=R(()=>!!s.props.multiple),W=R(()=>!s.filterable||$.value),ee=R(()=>$.value?E.value:x.value),Y=R(()=>{var oe;return((oe=b.value)==null?void 0:oe.checkedNodes)||[]}),Z=R(()=>!s.clearable||B.value||A.value||!C.value?!1:!!Y.value.length),ae=R(()=>{const{showAllLevels:oe,separator:be}=s,ne=Y.value;return ne.length?$.value?"":ne[0].calcText(oe,be):""}),ue=R(()=>(h==null?void 0:h.validateState)||""),re=R({get(){return ah(s.modelValue)},set(oe){const be=oe??p.value;n(Et,be),n(nn,be),s.validateEvent&&(h==null||h.validate("change").catch(ne=>void 0))}}),ge=R(()=>[l.b(),l.m(L.value),l.is("disabled",B.value),o.class]),ye=R(()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",w.value)]),Fe=R(()=>l.is("focus",w.value||T.value)),X=R(()=>{var oe,be;return(be=(oe=y.value)==null?void 0:oe.popperRef)==null?void 0:be.contentRef}),V=oe=>{var be,ne,ze;B.value||(oe=oe??!w.value,oe!==w.value&&(w.value=oe,(ne=(be=g.value)==null?void 0:be.input)==null||ne.setAttribute("aria-expanded",`${oe}`),oe?(ce(),lt((ze=b.value)==null?void 0:ze.scrollToExpandingNode)):s.filterable&&Re(),n("visibleChange",oe)))},ce=()=>{lt(()=>{var oe;(oe=y.value)==null||oe.updatePopper()})},Q=()=>{A.value=!1},Me=oe=>{const{showAllLevels:be,separator:ne}=s;return{node:oe,key:oe.uid,text:oe.calcText(be,ne),hitState:!1,closable:!B.value&&!oe.isDisabled,isCollapseTag:!1}},Pe=oe=>{var be;const ne=oe.node;ne.doCheck(!1),(be=b.value)==null||be.calculateCheckedValue(),n("removeTag",ne.valueByOption)},Te=()=>{if(!$.value)return;const oe=Y.value,be=[],ne=[];if(oe.forEach(ze=>ne.push(Me(ze))),I.value=ne,oe.length){oe.slice(0,s.maxCollapseTags).forEach(Ce=>be.push(Me(Ce)));const ze=oe.slice(s.maxCollapseTags),ut=ze.length;ut&&(s.collapseTags?be.push({key:-1,text:`+ ${ut}`,closable:!1,isCollapseTag:!0}):ze.forEach(Ce=>be.push(Me(Ce))))}M.value=be},ve=()=>{var oe,be;const{filterMethod:ne,showAllLevels:ze,separator:ut}=s,Ce=(be=(oe=b.value)==null?void 0:oe.getFlattedNodes(!s.props.checkStrictly))==null?void 0:be.filter(it=>it.isDisabled?!1:(it.calcText(ze,ut),ne(it,ee.value)));$.value&&(M.value.forEach(it=>{it.hitState=!1}),I.value.forEach(it=>{it.hitState=!1})),A.value=!0,k.value=Ce,ce()},xe=()=>{var oe;let be;A.value&&S.value?be=S.value.$el.querySelector(`.${l.e("suggestion-item")}`):be=(oe=b.value)==null?void 0:oe.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),be&&(be.focus(),!A.value&&be.click())},we=()=>{var oe,be;const ne=(oe=g.value)==null?void 0:oe.input,ze=_.value,ut=(be=S.value)==null?void 0:be.$el;if(!(!Nt||!ne)){if(ut){const Ce=ut.querySelector(`.${l.e("suggestion-list")}`);Ce.style.minWidth=`${ne.offsetWidth}px`}if(ze){const{offsetHeight:Ce}=ze,it=M.value.length>0?`${Math.max(Ce,a)-2}px`:`${a}px`;ne.style.height=it,ce()}}},J=oe=>{var be;return(be=b.value)==null?void 0:be.getCheckedNodes(oe)},G=oe=>{ce(),n("expandChange",oe)},me=oe=>{if(!v.value)switch(oe.code){case qe.enter:case qe.numpadEnter:V();break;case qe.down:V(!0),lt(xe),oe.preventDefault();break;case qe.esc:w.value===!0&&(oe.preventDefault(),oe.stopPropagation(),V(!1));break;case qe.tab:V(!1);break}},de=()=>{var oe;(oe=b.value)==null||oe.clearCheckedNodes(),!w.value&&s.filterable&&Re(),V(!1),n("clear")},Re=()=>{const{value:oe}=ae;x.value=oe,E.value=oe},ke=oe=>{var be,ne;const{checked:ze}=oe;$.value?(be=b.value)==null||be.handleCheckChange(oe,!ze,!1):(!ze&&((ne=b.value)==null||ne.handleCheckChange(oe,!0,!1)),V(!1))},Je=oe=>{const be=oe.target,{code:ne}=oe;switch(ne){case qe.up:case qe.down:{const ze=ne===qe.up?-1:1;bp(iM(be,ze,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case qe.enter:case qe.numpadEnter:be.click();break}},je=()=>{const oe=M.value,be=oe[oe.length-1];i=E.value?0:i+1,!(!be||!i||s.collapseTags&&oe.length>1)&&(be.hitState?Pe(be):be.hitState=!0)},at=oe=>{const be=oe.target,ne=l.e("search-input");be.className===ne&&(T.value=!0),n("focus",oe)},gt=oe=>{T.value=!1,n("blur",oe)},nt=ir(()=>{const{value:oe}=ee;if(!oe)return;const be=s.beforeFilter(oe);ad(be)?be.then(ve).catch(()=>{}):be!==!1?ve():Q()},s.debounce),q=(oe,be)=>{!w.value&&V(!0),!(be!=null&&be.isComposing)&&(oe?nt():Q())},Ae=oe=>Number.parseFloat(i4(c.cssVarName("input-height"),oe).value)-2;return De(A,ce),De([Y,B,()=>s.collapseTags],Te),De(M,()=>{lt(()=>we())}),De(L,async()=>{await lt();const oe=g.value.input;a=Ae(oe)||a,we()}),De(ae,Re,{immediate:!0}),wt(()=>{const oe=g.value.input,be=Ae(oe);a=oe.offsetHeight||be,_n(oe,we)}),e({getCheckedNodes:J,cascaderPanelRef:b,togglePopperVisible:V,contentRef:X,presentText:ae}),(oe,be)=>(D(),_e(f(xs),{ref_key:"tooltipRef",ref:y,visible:w.value,teleported:oe.teleported,"popper-class":[f(l).e("dropdown"),oe.popperClass],"popper-options":r,"fallback-placements":oe.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:oe.placement,transition:`${f(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:oe.persistent,onHide:Q},{default:te(()=>[Ct((D(),H("div",{class:F(f(ge)),style:rt(f(U)),onClick:()=>V(f(W)?void 0:!0),onKeydown:me,onMouseenter:ne=>C.value=!0,onMouseleave:ne=>C.value=!1},[j(f(ks),{ref_key:"input",ref:g,modelValue:x.value,"onUpdate:modelValue":ne=>x.value=ne,placeholder:f(N),readonly:f(W),disabled:f(B),"validate-event":!1,size:f(L),class:F(f(Fe)),tabindex:f($)&&oe.filterable&&!f(B)?-1:void 0,onCompositionstart:f(m),onCompositionupdate:f(m),onCompositionend:f(m),onFocus:at,onBlur:gt,onInput:q},{suffix:te(()=>[f(Z)?(D(),_e(f(tt),{key:"clear",class:F([f(c).e("icon"),"icon-circle-close"]),onClick:pt(de,["stop"])},{default:te(()=>[j(f(wa))]),_:1},8,["class","onClick"])):(D(),_e(f(tt),{key:"arrow-down",class:F(f(ye)),onClick:pt(ne=>V(),["stop"])},{default:te(()=>[j(f(_a))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),f($)?(D(),H("div",{key:0,ref_key:"tagWrapper",ref:_,class:F([f(l).e("tags"),f(l).is("validate",!!f(ue))])},[(D(!0),H(Ze,null,Tt(M.value,ne=>(D(),_e(f($c),{key:ne.key,type:oe.tagType,size:f(O),effect:oe.tagEffect,hit:ne.hitState,closable:ne.closable,"disable-transitions":"",onClose:ze=>Pe(ne)},{default:te(()=>[ne.isCollapseTag===!1?(D(),H("span",{key:0},Ne(ne.text),1)):(D(),_e(f(xs),{key:1,disabled:w.value||!oe.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:te(()=>[K("span",null,Ne(ne.text),1)]),content:te(()=>[K("div",{class:F(f(l).e("collapse-tags"))},[(D(!0),H(Ze,null,Tt(I.value.slice(oe.maxCollapseTags),(ze,ut)=>(D(),H("div",{key:ut,class:F(f(l).e("collapse-tag"))},[(D(),_e(f($c),{key:ze.key,class:"in-tooltip",type:oe.tagType,size:f(O),effect:oe.tagEffect,hit:ze.hitState,closable:ze.closable,"disable-transitions":"",onClose:Ce=>Pe(ze)},{default:te(()=>[K("span",null,Ne(ze.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),oe.filterable&&!f(B)?Ct((D(),H("input",{key:0,"onUpdate:modelValue":ne=>E.value=ne,type:"text",class:F(f(l).e("search-input")),placeholder:f(ae)?"":f(P),onInput:ne=>q(E.value,ne),onClick:pt(ne=>V(!0),["stop"]),onKeydown:on(je,["delete"]),onCompositionstart:f(m),onCompositionupdate:f(m),onCompositionend:f(m),onFocus:at,onBlur:gt},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[Qh,E.value]]):he("v-if",!0)],2)):he("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[f(ha),()=>V(!1),f(X)]])]),content:te(()=>[Ct(j(f(e2),{ref_key:"cascaderPanelRef",ref:b,modelValue:f(re),"onUpdate:modelValue":ne=>fn(re)?re.value=ne:null,options:oe.options,props:s.props,border:!1,"render-label":oe.$slots.default,onExpandChange:G,onClose:ne=>oe.$nextTick(()=>V(!1))},{empty:te(()=>[pe(oe.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[Vt,!A.value]]),oe.filterable?Ct((D(),_e(f($o),{key:0,ref_key:"suggestionPanel",ref:S,tag:"ul",class:F(f(l).e("suggestion-panel")),"view-class":f(l).e("suggestion-list"),onKeydown:Je},{default:te(()=>[k.value.length?(D(!0),H(Ze,{key:0},Tt(k.value,ne=>(D(),H("li",{key:ne.uid,class:F([f(l).e("suggestion-item"),f(l).is("checked",ne.checked)]),tabindex:-1,onClick:ze=>ke(ne)},[K("span",null,Ne(ne.text),1),ne.checked?(D(),_e(f(tt),{key:0},{default:te(()=>[j(f(Yd))]),_:1})):he("v-if",!0)],10,["onClick"]))),128)):pe(oe.$slots,"empty",{key:1},()=>[K("li",{class:F(f(l).e("empty-text"))},Ne(f(u)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Vt,A.value]]):he("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var G5=He(W5,[["__file","cascader.vue"]]);const K5=_t(G5),j5=$e({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),q5={"update:checked":t=>ln(t),[nn]:t=>ln(t)},Y5=se({name:"ElCheckTag"}),X5=se({...Y5,props:j5,emits:q5,setup(t,{emit:e}){const n=t,s=Le("check-tag"),r=R(()=>n.disabled),o=R(()=>[s.b(),s.is("checked",n.checked),s.is("disabled",r.value),s.m(n.type||"primary")]),a=()=>{if(r.value)return;const i=!n.checked;e(nn,i),e("update:checked",i)};return(i,l)=>(D(),H("span",{class:F(f(o)),onClick:a},[pe(i.$slots,"default")],2))}});var Q5=He(X5,[["__file","check-tag.vue"]]);const Z5=_t(Q5),J5=$e({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:le([Number,Object]),default:()=>En({})},sm:{type:le([Number,Object]),default:()=>En({})},md:{type:le([Number,Object]),default:()=>En({})},lg:{type:le([Number,Object]),default:()=>En({})},xl:{type:le([Number,Object]),default:()=>En({})}}),t2=Symbol("rowContextKey"),e6=se({name:"ElCol"}),t6=se({...e6,props:J5,setup(t){const e=t,{gutter:n}=Qe(t2,{gutter:R(()=>0)}),s=Le("col"),r=R(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),o=R(()=>{const a=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];ft(u)&&(c==="span"?a.push(s.b(`${e[c]}`)):u>0&&a.push(s.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{ft(e[c])?a.push(s.b(`${c}-${e[c]}`)):Mt(e[c])&&Object.entries(e[c]).forEach(([u,d])=>{a.push(u!=="span"?s.b(`${c}-${u}-${d}`):s.b(`${c}-${d}`))})}),n.value&&a.push(s.is("guttered")),[s.b(),a]});return(a,i)=>(D(),_e(Rt(a.tag),{class:F(f(o)),style:rt(f(r))},{default:te(()=>[pe(a.$slots,"default")]),_:3},8,["class","style"]))}});var n6=He(t6,[["__file","col.vue"]]);const s6=_t(n6),RC=t=>ft(t)||ot(t)||Ue(t),r6=$e({accordion:Boolean,modelValue:{type:le([Array,String,Number]),default:()=>En([])}}),o6={[Et]:RC,[nn]:RC},n2=Symbol("collapseContextKey"),a6=(t,e)=>{const n=z(Ps(t.modelValue)),s=o=>{n.value=o;const a=t.accordion?n.value[0]:n.value;e(Et,a),e(nn,a)},r=o=>{if(t.accordion)s([n.value[0]===o?"":o]);else{const a=[...n.value],i=a.indexOf(o);i>-1?a.splice(i,1):a.push(o),s(a)}};return De(()=>t.modelValue,()=>n.value=Ps(t.modelValue),{deep:!0}),Bt(n2,{activeNames:n,handleItemClick:r}),{activeNames:n,setActiveNames:s}},i6=()=>{const t=Le("collapse");return{rootKls:R(()=>t.b())}},l6=se({name:"ElCollapse"}),c6=se({...l6,props:r6,emits:o6,setup(t,{expose:e,emit:n}){const s=t,{activeNames:r,setActiveNames:o}=a6(s,n),{rootKls:a}=i6();return e({activeNames:r,setActiveNames:o}),(i,l)=>(D(),H("div",{class:F(f(a))},[pe(i.$slots,"default")],2))}});var u6=He(c6,[["__file","collapse.vue"]]);const d6=se({name:"ElCollapseTransition"}),f6=se({...d6,setup(t){const e=Le("collapse-transition"),n=r=>{r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom},s={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.height&&(r.dataset.elExistsHeight=r.style.height),r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){requestAnimationFrame(()=>{r.dataset.oldOverflow=r.style.overflow,r.dataset.elExistsHeight?r.style.maxHeight=r.dataset.elExistsHeight:r.scrollHeight!==0?r.style.maxHeight=`${r.scrollHeight}px`:r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom,r.style.overflow="hidden"})},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},enterCancelled(r){n(r)},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){n(r)},leaveCancelled(r){n(r)}};return(r,o)=>(D(),_e(Xn,Dt({name:f(e).b()},ik(s)),{default:te(()=>[pe(r.$slots,"default")]),_:3},16,["name"]))}});var p6=He(f6,[["__file","collapse-transition.vue"]]);const mm=_t(p6),h6=$e({title:{type:String,default:""},name:{type:le([String,Number]),default:void 0},icon:{type:sn,default:Ws},disabled:Boolean}),m6=t=>{const e=Qe(n2),{namespace:n}=Le("collapse"),s=z(!1),r=z(!1),o=Ab(),a=R(()=>o.current++),i=R(()=>{var h;return(h=t.name)!=null?h:`${n.value}-id-${o.prefix}-${f(a)}`}),l=R(()=>e==null?void 0:e.activeNames.value.includes(f(i)));return{focusing:s,id:a,isActive:l,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:s.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(f(i)),s.value=!1,r.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(f(i))}}},v6=(t,{focusing:e,isActive:n,id:s})=>{const r=Le("collapse"),o=R(()=>[r.b("item"),r.is("active",f(n)),r.is("disabled",t.disabled)]),a=R(()=>[r.be("item","header"),r.is("active",f(n)),{focusing:f(e)&&!t.disabled}]),i=R(()=>[r.be("item","arrow"),r.is("active",f(n))]),l=R(()=>r.be("item","wrap")),c=R(()=>r.be("item","content")),u=R(()=>r.b(`content-${f(s)}`)),d=R(()=>r.b(`head-${f(s)}`));return{arrowKls:i,headKls:a,rootKls:o,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:d}},g6=se({name:"ElCollapseItem"}),y6=se({...g6,props:h6,setup(t,{expose:e}){const n=t,{focusing:s,id:r,isActive:o,handleFocus:a,handleHeaderClick:i,handleEnterClick:l}=m6(n),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:h,itemContentKls:p,scopedContentId:v,scopedHeadId:m}=v6(n,{focusing:s,isActive:o,id:r});return e({isActive:o}),(y,g)=>(D(),H("div",{class:F(f(d))},[K("button",{id:f(m),class:F(f(u)),"aria-expanded":f(o),"aria-controls":f(v),"aria-describedby":f(v),tabindex:y.disabled?-1:0,type:"button",onClick:f(i),onKeydown:on(pt(f(l),["stop","prevent"]),["space","enter"]),onFocus:f(a),onBlur:_=>s.value=!1},[pe(y.$slots,"title",{},()=>[St(Ne(y.title),1)]),pe(y.$slots,"icon",{isActive:f(o)},()=>[j(f(tt),{class:F(f(c))},{default:te(()=>[(D(),_e(Rt(y.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),j(f(mm),null,{default:te(()=>[Ct(K("div",{id:f(v),role:"region",class:F(f(h)),"aria-hidden":!f(o),"aria-labelledby":f(m)},[K("div",{class:F(f(p))},[pe(y.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[Vt,f(o)]])]),_:3})],2))}});var s2=He(y6,[["__file","collapse-item.vue"]]);const b6=_t(u6,{CollapseItem:s2}),S6=Tn(s2),_6=$e({color:{type:le(Object),required:!0},vertical:{type:Boolean,default:!1}});let Zm=!1;function Ad(t,e){if(!Nt)return;const n=function(o){var a;(a=e.drag)==null||a.call(e,o)},s=function(o){var a;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",s),document.onselectstart=null,document.ondragstart=null,Zm=!1,(a=e.end)==null||a.call(e,o)},r=function(o){var a;Zm||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",s),document.addEventListener("touchmove",n),document.addEventListener("touchend",s),Zm=!0,(a=e.start)==null||a.call(e,o))};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r,{passive:!1})}const w6=(t,e)=>{if(!Nt||!t||!e)return!1;const n=t.getBoundingClientRect();let s;return e instanceof Element?s=e.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<s.bottom&&n.bottom>s.top&&n.right>s.left&&n.left<s.right},PC=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},Ng=(t,e)=>Math.abs(PC(t)-PC(e)),Hb=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},C6=t=>{const e=It(),{t:n}=Ut(),s=dn(),r=dn(),o=R(()=>t.color.get("alpha")),a=R(()=>n("el.colorpicker.alphaLabel"));function i(d){var h;d.target!==s.value&&l(d),(h=s.value)==null||h.focus()}function l(d){if(!r.value||!s.value)return;const p=e.vnode.el.getBoundingClientRect(),{clientX:v,clientY:m}=Hb(d);if(t.vertical){let y=m-p.top;y=Math.max(s.value.offsetHeight/2,y),y=Math.min(y,p.height-s.value.offsetHeight/2),t.color.set("alpha",Math.round((y-s.value.offsetHeight/2)/(p.height-s.value.offsetHeight)*100))}else{let y=v-p.left;y=Math.max(s.value.offsetWidth/2,y),y=Math.min(y,p.width-s.value.offsetWidth/2),t.color.set("alpha",Math.round((y-s.value.offsetWidth/2)/(p.width-s.value.offsetWidth)*100))}}function c(d){const{code:h,shiftKey:p}=d,v=p?10:1;switch(h){case qe.left:case qe.down:d.preventDefault(),d.stopPropagation(),u(-v);break;case qe.right:case qe.up:d.preventDefault(),d.stopPropagation(),u(v);break}}function u(d){let h=o.value+d;h=h<0?0:h>100?100:h,t.color.set("alpha",h)}return{thumb:s,bar:r,alpha:o,alphaLabel:a,handleDrag:l,handleClick:i,handleKeydown:c}},x6=(t,{bar:e,thumb:n,handleDrag:s})=>{const r=It(),o=Le("color-alpha-slider"),a=z(0),i=z(0),l=z();function c(){if(!n.value||t.vertical)return 0;const _=r.vnode.el,b=t.color.get("alpha");return _?Math.round(b*(_.offsetWidth-n.value.offsetWidth/2)/100):0}function u(){if(!n.value)return 0;const _=r.vnode.el;if(!t.vertical)return 0;const b=t.color.get("alpha");return _?Math.round(b*(_.offsetHeight-n.value.offsetHeight/2)/100):0}function d(){if(t.color&&t.color.value){const{r:_,g:b,b:S}=t.color.toRgb();return`linear-gradient(to right, rgba(${_}, ${b}, ${S}, 0) 0%, rgba(${_}, ${b}, ${S}, 1) 100%)`}return""}function h(){a.value=c(),i.value=u(),l.value=d()}wt(()=>{if(!e.value||!n.value)return;const _={drag:b=>{s(b)},end:b=>{s(b)}};Ad(e.value,_),Ad(n.value,_),h()}),De(()=>t.color.get("alpha"),()=>h()),De(()=>t.color.value,()=>h());const p=R(()=>[o.b(),o.is("vertical",t.vertical)]),v=R(()=>o.e("bar")),m=R(()=>o.e("thumb")),y=R(()=>({background:l.value})),g=R(()=>({left:Rn(a.value),top:Rn(i.value)}));return{rootKls:p,barKls:v,barStyle:y,thumbKls:m,thumbStyle:g,update:h}},A6="ElColorAlphaSlider",E6=se({name:A6}),T6=se({...E6,props:_6,setup(t,{expose:e}){const n=t,{alpha:s,alphaLabel:r,bar:o,thumb:a,handleDrag:i,handleClick:l,handleKeydown:c}=C6(n),{rootKls:u,barKls:d,barStyle:h,thumbKls:p,thumbStyle:v,update:m}=x6(n,{bar:o,thumb:a,handleDrag:i});return e({update:m,bar:o,thumb:a}),(y,g)=>(D(),H("div",{class:F(f(u))},[K("div",{ref_key:"bar",ref:o,class:F(f(d)),style:rt(f(h)),onClick:f(l)},null,14,["onClick"]),K("div",{ref_key:"thumb",ref:a,class:F(f(p)),style:rt(f(v)),"aria-label":f(r),"aria-valuenow":f(s),"aria-orientation":y.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:f(c)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var M6=He(T6,[["__file","alpha-slider.vue"]]);const I6=se({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Le("color-hue-slider"),n=It(),s=z(),r=z(),o=z(0),a=z(0),i=R(()=>t.color.get("hue"));De(()=>i.value,()=>{h()});function l(p){p.target!==s.value&&c(p)}function c(p){if(!r.value||!s.value)return;const m=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:g}=Hb(p);let _;if(t.vertical){let b=g-m.top;b=Math.min(b,m.height-s.value.offsetHeight/2),b=Math.max(s.value.offsetHeight/2,b),_=Math.round((b-s.value.offsetHeight/2)/(m.height-s.value.offsetHeight)*360)}else{let b=y-m.left;b=Math.min(b,m.width-s.value.offsetWidth/2),b=Math.max(s.value.offsetWidth/2,b),_=Math.round((b-s.value.offsetWidth/2)/(m.width-s.value.offsetWidth)*360)}t.color.set("hue",_)}function u(){if(!s.value)return 0;const p=n.vnode.el;if(t.vertical)return 0;const v=t.color.get("hue");return p?Math.round(v*(p.offsetWidth-s.value.offsetWidth/2)/360):0}function d(){if(!s.value)return 0;const p=n.vnode.el;if(!t.vertical)return 0;const v=t.color.get("hue");return p?Math.round(v*(p.offsetHeight-s.value.offsetHeight/2)/360):0}function h(){o.value=u(),a.value=d()}return wt(()=>{if(!r.value||!s.value)return;const p={drag:v=>{c(v)},end:v=>{c(v)}};Ad(r.value,p),Ad(s.value,p),h()}),{bar:r,thumb:s,thumbLeft:o,thumbTop:a,hueValue:i,handleClick:l,update:h,ns:e}}});function R6(t,e,n,s,r,o){return D(),H("div",{class:F([t.ns.b(),t.ns.is("vertical",t.vertical)])},[K("div",{ref:"bar",class:F(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),K("div",{ref:"thumb",class:F(t.ns.e("thumb")),style:rt({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var P6=He(I6,[["render",R6],["__file","hue-slider.vue"]]);const D6=$e({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Wn,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:ns.teleported,predefine:{type:le(Array)},validateEvent:{type:Boolean,default:!0},...ms(["ariaLabel"])}),k6={[Et]:t=>ot(t)||es(t),[nn]:t=>ot(t)||es(t),activeChange:t=>ot(t)||es(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},r2=Symbol("colorPickerContextKey"),DC=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},L6=function(t){return ot(t)&&t.includes(".")&&Number.parseFloat(t)===1},O6=function(t){return ot(t)&&t.includes("%")},Sc=function(t,e){L6(t)&&(t="100%");const n=O6(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},kC={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Cp=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${kC[e]||e}${kC[n]||n}`},LC=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${Cp(t)}${Cp(e)}${Cp(n)}`},Jm={A:10,B:11,C:12,D:13,E:14,F:15},Mi=function(t){return t.length===2?(Jm[t[0].toUpperCase()]||+t[0])*16+(Jm[t[1].toUpperCase()]||+t[1]):Jm[t[1].toUpperCase()]||+t[1]},B6=function(t,e,n){e=e/100,n=n/100;let s=e;const r=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,s*=r<=1?r:2-r;const o=(n+e)/2,a=n===0?2*s/(r+s):2*e/(n+e);return{h:t,s:a*100,v:o*100}},OC=(t,e,n)=>{t=Sc(t,255),e=Sc(e,255),n=Sc(n,255);const s=Math.max(t,e,n),r=Math.min(t,e,n);let o;const a=s,i=s-r,l=s===0?0:i/s;if(s===r)o=0;else{switch(s){case t:{o=(e-n)/i+(e<n?6:0);break}case e:{o=(n-t)/i+2;break}case n:{o=(t-e)/i+4;break}}o/=6}return{h:o*360,s:l*100,v:a*100}},Tu=function(t,e,n){t=Sc(t,360)*6,e=Sc(e,100),n=Sc(n,100);const s=Math.floor(t),r=t-s,o=n*(1-e),a=n*(1-r*e),i=n*(1-(1-r)*e),l=s%6,c=[n,a,o,o,i,n][l],u=[i,n,n,a,o,o][l],d=[o,o,i,n,n,a][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(d*255)}};let Qu=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)$t(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const s in e)$t(e,s)&&this.set(s,e[s]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Tu(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(s,r,o)=>{this._hue=Math.max(0,Math.min(360,s)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(e.includes("hsl")){const s=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:r,s:o,v:a}=B6(s[0],s[1],s[2]);n(r,o,a)}}else if(e.includes("hsv")){const s=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3&&n(s[0],s[1],s[2])}else if(e.includes("rgb")){const s=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:r,s:o,v:a}=OC(s[0],s[1],s[2]);n(r,o,a)}}else if(e.includes("#")){const s=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(s))return;let r,o,a;s.length===3?(r=Mi(s[0]+s[0]),o=Mi(s[1]+s[1]),a=Mi(s[2]+s[2])):(s.length===6||s.length===8)&&(r=Mi(s.slice(0,2)),o=Mi(s.slice(2,4)),a=Mi(s.slice(4,6))),s.length===8?this._alpha=Mi(s.slice(6))/255*100:(s.length===3||s.length===6)&&(this._alpha=100);const{h:i,s:l,v:c}=OC(r,o,a);n(i,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:s,_alpha:r,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const a=DC(e,n/100,s/100);this.value=`hsla(${e}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(s)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${LC(Tu(e,n,s))}${Cp(r*255/100)}`;break}default:{const{r:a,g:i,b:l}=Tu(e,n,s);this.value=`rgba(${a}, ${i}, ${l}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const a=DC(e,n/100,s/100);this.value=`hsl(${e}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(s)}%)`;break}case"rgb":{const{r:a,g:i,b:l}=Tu(e,n,s);this.value=`rgb(${a}, ${i}, ${l})`;break}default:this.value=LC(Tu(e,n,s))}}};const F6=se({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=Le("color-predefine"),{currentColor:n}=Qe(r2),s=z(o(t.colors,t.color));De(()=>n.value,a=>{const i=new Qu;i.fromString(a),s.value.forEach(l=>{l.selected=i.compare(l)})}),_s(()=>{s.value=o(t.colors,t.color)});function r(a){t.color.fromString(t.colors[a])}function o(a,i){return a.map(l=>{const c=new Qu;return c.enableAlpha=t.enableAlpha,c.format="rgba",c.fromString(l),c.selected=c.value===i.value,c})}return{rgbaColors:s,handleSelect:r,ns:e}}});function N6(t,e,n,s,r,o){return D(),H("div",{class:F(t.ns.b())},[K("div",{class:F(t.ns.e("colors"))},[(D(!0),H(Ze,null,Tt(t.rgbaColors,(a,i)=>(D(),H("div",{key:t.colors[i],class:F([t.ns.e("color-selector"),t.ns.is("alpha",a._alpha<100),{selected:a.selected}]),onClick:l=>t.handleSelect(i)},[K("div",{style:rt({backgroundColor:a.value})},null,4)],10,["onClick"]))),128))],2)],2)}var U6=He(F6,[["render",N6],["__file","predefine.vue"]]);const z6=se({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Le("color-svpanel"),n=It(),s=z(0),r=z(0),o=z("hsl(0, 100%, 50%)"),a=R(()=>{const c=t.color.get("hue"),u=t.color.get("value");return{hue:c,value:u}});function i(){const c=t.color.get("saturation"),u=t.color.get("value"),d=n.vnode.el,{clientWidth:h,clientHeight:p}=d;r.value=c*h/100,s.value=(100-u)*p/100,o.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(c){const d=n.vnode.el.getBoundingClientRect(),{clientX:h,clientY:p}=Hb(c);let v=h-d.left,m=p-d.top;v=Math.max(0,v),v=Math.min(v,d.width),m=Math.max(0,m),m=Math.min(m,d.height),r.value=v,s.value=m,t.color.set({saturation:v/d.width*100,value:100-m/d.height*100})}return De(()=>a.value,()=>{i()}),wt(()=>{Ad(n.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),i()}),{cursorTop:s,cursorLeft:r,background:o,colorValue:a,handleDrag:l,update:i,ns:e}}});function $6(t,e,n,s,r,o){return D(),H("div",{class:F(t.ns.b()),style:rt({backgroundColor:t.background})},[K("div",{class:F(t.ns.e("white"))},null,2),K("div",{class:F(t.ns.e("black"))},null,2),K("div",{class:F(t.ns.e("cursor")),style:rt({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[K("div")],6)],6)}var H6=He(z6,[["render",$6],["__file","sv-panel.vue"]]);const V6=se({name:"ElColorPicker"}),W6=se({...V6,props:D6,emits:k6,setup(t,{expose:e,emit:n}){const s=t,{t:r}=Ut(),o=Le("color"),{formItem:a}=As(),i=Hn(),l=Es(),{inputId:c,isLabeledByFormItem:u}=Yr(s,{formItemContext:a}),d=z(),h=z(),p=z(),v=z(),m=z(),y=z(),{isFocused:g,handleFocus:_,handleBlur:b}=Si(m,{beforeFocus(){return l.value},beforeBlur(ye){var Fe;return(Fe=v.value)==null?void 0:Fe.isFocusInsideContent(ye)},afterBlur(){B(!1),O()}});let S=!0;const w=qt(new Qu({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue})),C=z(!1),A=z(!1),T=z(""),x=R(()=>!s.modelValue&&!A.value?"transparent":U(w,s.showAlpha)),E=R(()=>!s.modelValue&&!A.value?"":w.value),M=R(()=>u.value?void 0:s.ariaLabel||r("el.colorpicker.defaultLabel")),I=R(()=>u.value?a==null?void 0:a.labelId:void 0),k=R(()=>[o.b("picker"),o.is("disabled",l.value),o.bm("picker",i.value),o.is("focused",g.value)]);function U(ye,Fe){if(!(ye instanceof Qu))throw new TypeError("color should be instance of _color Class");const{r:X,g:V,b:ce}=ye.toRgb();return Fe?`rgba(${X}, ${V}, ${ce}, ${ye.get("alpha")/100})`:`rgb(${X}, ${V}, ${ce})`}function B(ye){C.value=ye}const P=ir(B,100,{leading:!0});function N(){l.value||B(!0)}function L(){P(!1),O()}function O(){lt(()=>{s.modelValue?w.fromString(s.modelValue):(w.value="",lt(()=>{A.value=!1}))})}function $(){l.value||P(!C.value)}function W(){w.fromString(T.value)}function ee(){const ye=w.value;n(Et,ye),n("change",ye),s.validateEvent&&(a==null||a.validate("change").catch(Fe=>void 0)),P(!1),lt(()=>{const Fe=new Qu({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue});w.compare(Fe)||O()})}function Y(){P(!1),n(Et,null),n("change",null),s.modelValue!==null&&s.validateEvent&&(a==null||a.validate("change").catch(ye=>void 0)),O()}function Z(){C.value&&(L(),g.value&&re())}function ae(ye){ye.preventDefault(),ye.stopPropagation(),B(!1),O()}function ue(ye){switch(ye.code){case qe.enter:case qe.numpadEnter:case qe.space:ye.preventDefault(),ye.stopPropagation(),N(),y.value.focus();break;case qe.esc:ae(ye);break}}function re(){m.value.focus()}function ge(){m.value.blur()}return wt(()=>{s.modelValue&&(T.value=E.value)}),De(()=>s.modelValue,ye=>{ye?ye&&ye!==w.value&&(S=!1,w.fromString(ye)):A.value=!1}),De(()=>[s.colorFormat,s.showAlpha],()=>{w.enableAlpha=s.showAlpha,w.format=s.colorFormat||w.format,w.doOnChange(),n(Et,w.value)}),De(()=>E.value,ye=>{T.value=ye,S&&n("activeChange",ye),S=!0}),De(()=>w.value,()=>{!s.modelValue&&!A.value&&(A.value=!0)}),De(()=>C.value,()=>{lt(()=>{var ye,Fe,X;(ye=d.value)==null||ye.update(),(Fe=h.value)==null||Fe.update(),(X=p.value)==null||X.update()})}),Bt(r2,{currentColor:E}),e({color:w,show:N,hide:L,focus:re,blur:ge}),(ye,Fe)=>(D(),_e(f(xs),{ref_key:"popper",ref:v,visible:C.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[f(o).be("picker","panel"),f(o).b("dropdown"),ye.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:ye.teleported,transition:`${f(o).namespace.value}-zoom-in-top`,persistent:"",onHide:X=>B(!1)},{content:te(()=>[Ct((D(),H("div",{onKeydown:on(ae,["esc"])},[K("div",{class:F(f(o).be("dropdown","main-wrapper"))},[j(P6,{ref_key:"hue",ref:d,class:"hue-slider",color:f(w),vertical:""},null,8,["color"]),j(H6,{ref_key:"sv",ref:h,color:f(w)},null,8,["color"])],2),ye.showAlpha?(D(),_e(M6,{key:0,ref_key:"alpha",ref:p,color:f(w)},null,8,["color"])):he("v-if",!0),ye.predefine?(D(),_e(U6,{key:1,ref:"predefine","enable-alpha":ye.showAlpha,color:f(w),colors:ye.predefine},null,8,["enable-alpha","color","colors"])):he("v-if",!0),K("div",{class:F(f(o).be("dropdown","btns"))},[K("span",{class:F(f(o).be("dropdown","value"))},[j(f(ks),{ref_key:"inputRef",ref:y,modelValue:T.value,"onUpdate:modelValue":X=>T.value=X,"validate-event":!1,size:"small",onKeyup:on(W,["enter"]),onBlur:W},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),j(f(rs),{class:F(f(o).be("dropdown","link-btn")),text:"",size:"small",onClick:Y},{default:te(()=>[St(Ne(f(r)("el.colorpicker.clear")),1)]),_:1},8,["class"]),j(f(rs),{plain:"",size:"small",class:F(f(o).be("dropdown","btn")),onClick:ee},{default:te(()=>[St(Ne(f(r)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[f(ha),Z]])]),default:te(()=>[K("div",Dt({id:f(c),ref_key:"triggerRef",ref:m},ye.$attrs,{class:f(k),role:"button","aria-label":f(M),"aria-labelledby":f(I),"aria-description":f(r)("el.colorpicker.description",{color:ye.modelValue||""}),"aria-disabled":f(l),tabindex:f(l)?-1:ye.tabindex,onKeydown:ue,onFocus:f(_),onBlur:f(b)}),[f(l)?(D(),H("div",{key:0,class:F(f(o).be("picker","mask"))},null,2)):he("v-if",!0),K("div",{class:F(f(o).be("picker","trigger")),onClick:$},[K("span",{class:F([f(o).be("picker","color"),f(o).is("alpha",ye.showAlpha)])},[K("span",{class:F(f(o).be("picker","color-inner")),style:rt({backgroundColor:f(x)})},[Ct(j(f(tt),{class:F([f(o).be("picker","icon"),f(o).is("icon-arrow-down")])},{default:te(()=>[j(f(_a))]),_:1},8,["class"]),[[Vt,ye.modelValue||A.value]]),Ct(j(f(tt),{class:F([f(o).be("picker","empty"),f(o).is("icon-close")])},{default:te(()=>[j(f(mo))]),_:1},8,["class"]),[[Vt,!ye.modelValue&&!A.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var G6=He(W6,[["__file","color-picker.vue"]]);const K6=_t(G6),j6=$e({a11y:{type:Boolean,default:!0},locale:{type:le(Object)},size:Wn,button:{type:le(Object)},experimentalFeatures:{type:le(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:le(Object)},zIndex:Number,namespace:{type:String,default:"el"},...pu}),ro={},q6=se({name:"ElConfigProvider",props:j6,setup(t,{slots:e}){De(()=>t.message,s=>{Object.assign(ro,s??{})},{immediate:!0,deep:!0});const n=mb(t);return()=>pe(e,"default",{config:n==null?void 0:n.value})}}),Y6=_t(q6),X6=se({name:"ElContainer"}),Q6=se({...X6,props:{direction:{type:String}},setup(t){const e=t,n=Gn(),s=Le("container"),r=R(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(a=>{const i=a.type.name;return i==="ElHeader"||i==="ElFooter"}):!1);return(o,a)=>(D(),H("section",{class:F([f(s).b(),f(s).is("vertical",f(r))])},[pe(o.$slots,"default")],2))}});var Z6=He(Q6,[["__file","container.vue"]]);const J6=se({name:"ElAside"}),eW=se({...J6,props:{width:{type:String,default:null}},setup(t){const e=t,n=Le("aside"),s=R(()=>e.width?n.cssVarBlock({width:e.width}):{});return(r,o)=>(D(),H("aside",{class:F(f(n).b()),style:rt(f(s))},[pe(r.$slots,"default")],6))}});var o2=He(eW,[["__file","aside.vue"]]);const tW=se({name:"ElFooter"}),nW=se({...tW,props:{height:{type:String,default:null}},setup(t){const e=t,n=Le("footer"),s=R(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,o)=>(D(),H("footer",{class:F(f(n).b()),style:rt(f(s))},[pe(r.$slots,"default")],6))}});var a2=He(nW,[["__file","footer.vue"]]);const sW=se({name:"ElHeader"}),rW=se({...sW,props:{height:{type:String,default:null}},setup(t){const e=t,n=Le("header"),s=R(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,o)=>(D(),H("header",{class:F(f(n).b()),style:rt(f(s))},[pe(r.$slots,"default")],6))}});var i2=He(rW,[["__file","header.vue"]]);const oW=se({name:"ElMain"}),aW=se({...oW,setup(t){const e=Le("main");return(n,s)=>(D(),H("main",{class:F(f(e).b())},[pe(n.$slots,"default")],2))}});var l2=He(aW,[["__file","main.vue"]]);const iW=_t(Z6,{Aside:o2,Footer:a2,Header:i2,Main:l2}),lW=Tn(o2),cW=Tn(a2),uW=Tn(i2),dW=Tn(l2);var xp={exports:{}},fW=xp.exports,BC;function pW(){return BC||(BC=1,function(t,e){(function(n,s){t.exports=s()})(fW,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,o=/\d\d/,a=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,l={},c=function(y){return(y=+y)+(y>68?1900:2e3)},u=function(y){return function(g){this[y]=+g}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var _=g.match(/([+-]|\d\d)/g),b=60*_[1]+(+_[2]||0);return b===0?0:_[0]==="+"?-b:b}(y)}],h=function(y){var g=l[y];return g&&(g.indexOf?g:g.s.concat(g.f))},p=function(y,g){var _,b=l.meridiem;if(b){for(var S=1;S<=24;S+=1)if(y.indexOf(b(S,0,g))>-1){_=S>12;break}}else _=y===(g?"pm":"PM");return _},v={A:[i,function(y){this.afternoon=p(y,!1)}],a:[i,function(y){this.afternoon=p(y,!0)}],Q:[r,function(y){this.month=3*(y-1)+1}],S:[r,function(y){this.milliseconds=100*+y}],SS:[o,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[a,u("seconds")],ss:[a,u("seconds")],m:[a,u("minutes")],mm:[a,u("minutes")],H:[a,u("hours")],h:[a,u("hours")],HH:[a,u("hours")],hh:[a,u("hours")],D:[a,u("day")],DD:[o,u("day")],Do:[i,function(y){var g=l.ordinal,_=y.match(/\d+/);if(this.day=_[0],g)for(var b=1;b<=31;b+=1)g(b).replace(/\[|\]/g,"")===y&&(this.day=b)}],w:[a,u("week")],ww:[o,u("week")],M:[a,u("month")],MM:[o,u("month")],MMM:[i,function(y){var g=h("months"),_=(h("monthsShort")||g.map(function(b){return b.slice(0,3)})).indexOf(y)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[i,function(y){var g=h("months").indexOf(y)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,u("year")],YY:[o,function(y){this.year=c(y)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function m(y){var g,_;g=y,_=l&&l.formats;for(var b=(y=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(E,M,I){var k=I&&I.toUpperCase();return M||_[I]||n[I]||_[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(U,B,P){return B||P.slice(1)})})).match(s),S=b.length,w=0;w<S;w+=1){var C=b[w],A=v[C],T=A&&A[0],x=A&&A[1];b[w]=x?{regex:T,parser:x}:C.replace(/^\[|\]$/g,"")}return function(E){for(var M={},I=0,k=0;I<S;I+=1){var U=b[I];if(typeof U=="string")k+=U.length;else{var B=U.regex,P=U.parser,N=E.slice(k),L=B.exec(N)[0];P.call(M,L),E=E.replace(L,"")}}return function(O){var $=O.afternoon;if($!==void 0){var W=O.hours;$?W<12&&(O.hours+=12):W===12&&(O.hours=0),delete O.afternoon}}(M),M}}return function(y,g,_){_.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(c=y.parseTwoDigitYear);var b=g.prototype,S=b.parse;b.parse=function(w){var C=w.date,A=w.utc,T=w.args;this.$u=A;var x=T[1];if(typeof x=="string"){var E=T[2]===!0,M=T[3]===!0,I=E||M,k=T[2];M&&(k=T[2]),l=this.$locale(),!E&&k&&(l=_.Ls[k]),this.$d=function(N,L,O,$){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*N);var W=m(L)(N),ee=W.year,Y=W.month,Z=W.day,ae=W.hours,ue=W.minutes,re=W.seconds,ge=W.milliseconds,ye=W.zone,Fe=W.week,X=new Date,V=Z||(ee||Y?1:X.getDate()),ce=ee||X.getFullYear(),Q=0;ee&&!Y||(Q=Y>0?Y-1:X.getMonth());var Me,Pe=ae||0,Te=ue||0,ve=re||0,xe=ge||0;return ye?new Date(Date.UTC(ce,Q,V,Pe,Te,ve,xe+60*ye.offset*1e3)):O?new Date(Date.UTC(ce,Q,V,Pe,Te,ve,xe)):(Me=new Date(ce,Q,V,Pe,Te,ve,xe),Fe&&(Me=$(Me).week(Fe).toDate()),Me)}catch{return new Date("")}}(C,x,A,_),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),I&&C!=this.format(x)&&(this.$d=new Date("")),l={}}else if(x instanceof Array)for(var U=x.length,B=1;B<=U;B+=1){T[1]=x[B-1];var P=_.apply(this,T);if(P.isValid()){this.$d=P.$d,this.$L=P.$L,this.init();break}B===U&&(this.$d=new Date(""))}else S.call(this,w)}}})}(xp)),xp.exports}var hW=pW();const Vb=xa(hW);var Ap={exports:{}},mW=Ap.exports,FC;function vW(){return FC||(FC=1,function(t,e){(function(n,s){t.exports=s()})(mW,function(){return function(n,s){var r=s.prototype,o=r.format;r.format=function(a){var i=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var c=this.$utils(),u=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return l.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return l.ordinal(i.week(),"W");case"w":case"ww":return c.s(i.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(i.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(i.$H===0?24:i.$H),d==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return d}});return o.bind(this)(u)}}})}(Ap)),Ap.exports}var gW=vW();const yW=xa(gW);var Ep={exports:{}},bW=Ep.exports,NC;function SW(){return NC||(NC=1,function(t,e){(function(n,s){t.exports=s()})(bW,function(){var n="week",s="year";return function(r,o,a){var i=o.prototype;i.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=a(this).startOf(s).add(1,s).date(c),d=a(this).endOf(n);if(u.isBefore(d))return 1}var h=a(this).startOf(s).date(c).startOf(n).subtract(1,"millisecond"),p=this.diff(h,n,!0);return p<0?a(this).startOf("week").week():Math.ceil(p)},i.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(Ep)),Ep.exports}var _W=SW();const wW=xa(_W);var Tp={exports:{}},CW=Tp.exports,UC;function xW(){return UC||(UC=1,function(t,e){(function(n,s){t.exports=s()})(CW,function(){return function(n,s){s.prototype.weekYear=function(){var r=this.month(),o=this.week(),a=this.year();return o===1&&r===11?a+1:r===0&&o>=52?a-1:a}}})}(Tp)),Tp.exports}var AW=xW();const EW=xa(AW);var Mp={exports:{}},TW=Mp.exports,zC;function MW(){return zC||(zC=1,function(t,e){(function(n,s){t.exports=s()})(TW,function(){return function(n,s,r){s.prototype.dayOfYear=function(o){var a=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return o==null?a:this.add(o-a,"day")}}})}(Mp)),Mp.exports}var IW=MW();const RW=xa(IW);var Ip={exports:{}},PW=Ip.exports,$C;function DW(){return $C||($C=1,function(t,e){(function(n,s){t.exports=s()})(PW,function(){return function(n,s){s.prototype.isSameOrAfter=function(r,o){return this.isSame(r,o)||this.isAfter(r,o)}}})}(Ip)),Ip.exports}var kW=DW();const LW=xa(kW);var Rp={exports:{}},OW=Rp.exports,HC;function BW(){return HC||(HC=1,function(t,e){(function(n,s){t.exports=s()})(OW,function(){return function(n,s){s.prototype.isSameOrBefore=function(r,o){return this.isSame(r,o)||this.isBefore(r,o)}}})}(Rp)),Rp.exports}var FW=BW();const NW=xa(FW),VC=["hours","minutes","seconds"],Ug="HH:mm:ss",rc="YYYY-MM-DD",UW={date:rc,dates:rc,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${rc} ${Ug}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:rc,datetimerange:`${rc} ${Ug}`},c2=$e({disabledHours:{type:le(Function)},disabledMinutes:{type:le(Function)},disabledSeconds:{type:le(Function)}}),u2=$e({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Wb=$e({id:{type:le([Array,String])},name:{type:le([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:le([String,Object]),default:wa},editable:{type:Boolean,default:!0},prefixIcon:{type:le([String,Object]),default:""},size:Wn,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:le(Object),default:()=>({})},modelValue:{type:le([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:le([Date,Array])},defaultTime:{type:le([Date,Array])},isRange:Boolean,...c2,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:le([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:le(String),values:Ca,default:"bottom"},fallbackPlacements:{type:le(Array),default:["bottom","top","right","left"]},...pu,...ms(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),zW=$e({id:{type:le(Array)},name:{type:le(Array)},modelValue:{type:le([Array,String])},startPlaceholder:String,endPlaceholder:String}),$W=se({name:"PickerRangeTrigger",inheritAttrs:!1}),HW=se({...$W,props:zW,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:e,emit:n}){const s=Xd(),r=Le("date"),o=Le("range"),a=z(),i=z(),{wrapperRef:l,isFocused:c}=Si(a),u=S=>{n("click",S)},d=S=>{n("mouseenter",S)},h=S=>{n("mouseleave",S)},p=S=>{n("mouseenter",S)},v=S=>{n("startInput",S)},m=S=>{n("endInput",S)},y=S=>{n("startChange",S)},g=S=>{n("endChange",S)};return e({focus:()=>{var S;(S=a.value)==null||S.focus()},blur:()=>{var S,w;(S=a.value)==null||S.blur(),(w=i.value)==null||w.blur()}}),(S,w)=>(D(),H("div",{ref_key:"wrapperRef",ref:l,class:F([f(r).is("active",f(c)),S.$attrs.class]),style:rt(S.$attrs.style),onClick:u,onMouseenter:d,onMouseleave:h,onTouchstartPassive:p},[pe(S.$slots,"prefix"),K("input",Dt(f(s),{id:S.id&&S.id[0],ref_key:"inputRef",ref:a,name:S.name&&S.name[0],placeholder:S.startPlaceholder,value:S.modelValue&&S.modelValue[0],class:f(o).b("input"),onInput:v,onChange:y}),null,16,["id","name","placeholder","value"]),pe(S.$slots,"range-separator"),K("input",Dt(f(s),{id:S.id&&S.id[1],ref_key:"endInputRef",ref:i,name:S.name&&S.name[1],placeholder:S.endPlaceholder,value:S.modelValue&&S.modelValue[1],class:f(o).b("input"),onInput:m,onChange:g}),null,16,["id","name","placeholder","value"]),pe(S.$slots,"suffix")],38))}});var VW=He(HW,[["__file","picker-range-trigger.vue"]]);const WW=se({name:"Picker"}),GW=se({...WW,props:Wb,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const s=t,r=yi(),{lang:o}=Ut(),a=Le("date"),i=Le("input"),l=Le("range"),{form:c,formItem:u}=As(),d=Qe("ElPopperOptions",{}),{valueOnClear:h}=am(s,null),p=z(),v=z(),m=z(!1),y=z(!1),g=z(null);let _=!1;const{isFocused:b,handleFocus:S,handleBlur:w}=Si(v,{beforeFocus(){return s.readonly||O.value},afterFocus(){m.value=!0},beforeBlur(ne){var ze;return!_&&((ze=p.value)==null?void 0:ze.isFocusInsideContent(ne))},afterBlur(){we(),m.value=!1,_=!1,s.validateEvent&&(u==null||u.validate("blur").catch(ne=>void 0))}}),C=R(()=>[a.b("editor"),a.bm("editor",s.type),i.e("wrapper"),a.is("disabled",O.value),a.is("active",m.value),l.b("editor"),Pe?l.bm("editor",Pe.value):"",r.class]),A=R(()=>[i.e("icon"),l.e("close-icon"),ge.value?"":l.e("close-icon--hidden")]);De(m,ne=>{ne?lt(()=>{ne&&(g.value=s.modelValue)}):(xe.value=null,lt(()=>{T(s.modelValue)}))});const T=(ne,ze)=>{(ze||!SC(ne,g.value))&&(n("change",ne),s.validateEvent&&(u==null||u.validate("change").catch(ut=>void 0)))},x=ne=>{if(!SC(s.modelValue,ne)){let ze;Ue(ne)?ze=ne.map(ut=>wC(ut,s.valueFormat,o.value)):ne&&(ze=wC(ne,s.valueFormat,o.value)),n("update:modelValue",ne&&ze,o.value)}},E=ne=>{n("keydown",ne)},M=R(()=>v.value?Array.from(v.value.$el.querySelectorAll("input")):[]),I=(ne,ze,ut)=>{const Ce=M.value;Ce.length&&(!ut||ut==="min"?(Ce[0].setSelectionRange(ne,ze),Ce[0].focus()):ut==="max"&&(Ce[1].setSelectionRange(ne,ze),Ce[1].focus()))},k=(ne="",ze=!1)=>{m.value=ze;let ut;Ue(ne)?ut=ne.map(Ce=>Ce.toDate()):ut=ne&&ne.toDate(),xe.value=null,x(ut)},U=()=>{y.value=!0},B=()=>{n("visible-change",!0)},P=()=>{y.value=!1,m.value=!1,n("visible-change",!1)},N=()=>{m.value=!0},L=()=>{m.value=!1},O=R(()=>s.disabled||(c==null?void 0:c.disabled)),$=R(()=>{let ne;if(Fe.value?gt.value.getDefaultValue&&(ne=gt.value.getDefaultValue()):Ue(s.modelValue)?ne=s.modelValue.map(ze=>_C(ze,s.valueFormat,o.value)):ne=_C(s.modelValue,s.valueFormat,o.value),gt.value.getRangeAvailableTime){const ze=gt.value.getRangeAvailableTime(ne);ps(ze,ne)||(ne=ze,Fe.value||x(Ef(ne)))}return Ue(ne)&&ne.some(ze=>!ze)&&(ne=[]),ne}),W=R(()=>{if(!gt.value.panelReady)return"";const ne=G($.value);return Ue(xe.value)?[xe.value[0]||ne&&ne[0]||"",xe.value[1]||ne&&ne[1]||""]:xe.value!==null?xe.value:!Y.value&&Fe.value||!m.value&&Fe.value?"":ne?Z.value||ae.value||ue.value?ne.join(", "):ne:""}),ee=R(()=>s.type.includes("time")),Y=R(()=>s.type.startsWith("time")),Z=R(()=>s.type==="dates"),ae=R(()=>s.type==="months"),ue=R(()=>s.type==="years"),re=R(()=>s.prefixIcon||(ee.value?YT:J4)),ge=z(!1),ye=ne=>{s.readonly||O.value||(ge.value&&(ne.stopPropagation(),gt.value.handleClear?gt.value.handleClear():x(h.value),T(h.value,!0),ge.value=!1,P()),n("clear"))},Fe=R(()=>{const{modelValue:ne}=s;return!ne||Ue(ne)&&!ne.filter(Boolean).length}),X=async ne=>{var ze;s.readonly||O.value||(((ze=ne.target)==null?void 0:ze.tagName)!=="INPUT"||b.value)&&(m.value=!0)},V=()=>{s.readonly||O.value||!Fe.value&&s.clearable&&(ge.value=!0)},ce=()=>{ge.value=!1},Q=ne=>{var ze;s.readonly||O.value||(((ze=ne.touches[0].target)==null?void 0:ze.tagName)!=="INPUT"||b.value)&&(m.value=!0)},Me=R(()=>s.type.includes("range")),Pe=Hn(),Te=R(()=>{var ne,ze;return(ze=(ne=f(p))==null?void 0:ne.popperRef)==null?void 0:ze.contentRef}),ve=hb(v,ne=>{const ze=f(Te),ut=Hs(v);ze&&(ne.target===ze||ne.composedPath().includes(ze))||ne.target===ut||ut&&ne.composedPath().includes(ut)||(m.value=!1)});Qt(()=>{ve==null||ve()});const xe=z(null),we=()=>{if(xe.value){const ne=J(W.value);ne&&me(ne)&&(x(Ef(ne)),xe.value=null)}xe.value===""&&(x(h.value),T(h.value),xe.value=null)},J=ne=>ne?gt.value.parseUserInput(ne):null,G=ne=>ne?gt.value.formatToString(ne):null,me=ne=>gt.value.isValidValue(ne),de=async ne=>{if(s.readonly||O.value)return;const{code:ze}=ne;if(E(ne),ze===qe.esc){m.value===!0&&(m.value=!1,ne.preventDefault(),ne.stopPropagation());return}if(ze===qe.down&&(gt.value.handleFocusPicker&&(ne.preventDefault(),ne.stopPropagation()),m.value===!1&&(m.value=!0,await lt()),gt.value.handleFocusPicker)){gt.value.handleFocusPicker();return}if(ze===qe.tab){_=!0;return}if(ze===qe.enter||ze===qe.numpadEnter){(xe.value===null||xe.value===""||me(J(W.value)))&&(we(),m.value=!1),ne.stopPropagation();return}if(xe.value){ne.stopPropagation();return}gt.value.handleKeydownInput&&gt.value.handleKeydownInput(ne)},Re=ne=>{xe.value=ne,m.value||(m.value=!0)},ke=ne=>{const ze=ne.target;xe.value?xe.value=[ze.value,xe.value[1]]:xe.value=[ze.value,null]},Je=ne=>{const ze=ne.target;xe.value?xe.value=[xe.value[0],ze.value]:xe.value=[null,ze.value]},je=()=>{var ne;const ze=xe.value,ut=J(ze&&ze[0]),Ce=f($);if(ut&&ut.isValid()){xe.value=[G(ut),((ne=W.value)==null?void 0:ne[1])||null];const it=[ut,Ce&&(Ce[1]||null)];me(it)&&(x(Ef(it)),xe.value=null)}},at=()=>{var ne;const ze=f(xe),ut=J(ze&&ze[1]),Ce=f($);if(ut&&ut.isValid()){xe.value=[((ne=f(W))==null?void 0:ne[0])||null,G(ut)];const it=[Ce&&Ce[0],ut];me(it)&&(x(Ef(it)),xe.value=null)}},gt=z({}),nt=ne=>{gt.value[ne[0]]=ne[1],gt.value.panelReady=!0},q=ne=>{n("calendar-change",ne)},Ae=(ne,ze,ut)=>{n("panel-change",ne,ze,ut)},oe=()=>{var ne;(ne=v.value)==null||ne.focus()},be=()=>{var ne;(ne=v.value)==null||ne.blur()};return Bt("EP_PICKER_BASE",{props:s}),e({focus:oe,blur:be,handleOpen:N,handleClose:L,onPick:k}),(ne,ze)=>(D(),_e(f(xs),Dt({ref_key:"refPopper",ref:p,visible:m.value,effect:"light",pure:"",trigger:"click"},ne.$attrs,{role:"dialog",teleported:"",transition:`${f(a).namespace.value}-zoom-in-top`,"popper-class":[`${f(a).namespace.value}-picker__popper`,ne.popperClass],"popper-options":f(d),"fallback-placements":ne.fallbackPlacements,"gpu-acceleration":!1,placement:ne.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:U,onShow:B,onHide:P}),{default:te(()=>[f(Me)?(D(),_e(VW,{key:1,id:ne.id,ref_key:"inputRef",ref:v,"model-value":f(W),name:ne.name,disabled:f(O),readonly:!ne.editable||ne.readonly,"start-placeholder":ne.startPlaceholder,"end-placeholder":ne.endPlaceholder,class:F(f(C)),style:rt(ne.$attrs.style),"aria-label":ne.ariaLabel,tabindex:ne.tabindex,autocomplete:"off",role:"combobox",onClick:X,onFocus:f(S),onBlur:f(w),onStartInput:ke,onStartChange:je,onEndInput:Je,onEndChange:at,onMousedown:X,onMouseenter:V,onMouseleave:ce,onTouchstartPassive:Q,onKeydown:de},{prefix:te(()=>[f(re)?(D(),_e(f(tt),{key:0,class:F([f(i).e("icon"),f(l).e("icon")])},{default:te(()=>[(D(),_e(Rt(f(re))))]),_:1},8,["class"])):he("v-if",!0)]),"range-separator":te(()=>[pe(ne.$slots,"range-separator",{},()=>[K("span",{class:F(f(l).b("separator"))},Ne(ne.rangeSeparator),3)])]),suffix:te(()=>[ne.clearIcon?(D(),_e(f(tt),{key:0,class:F(f(A)),onMousedown:pt(f(Zt),["prevent"]),onClick:ye},{default:te(()=>[(D(),_e(Rt(ne.clearIcon)))]),_:1},8,["class","onMousedown"])):he("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(D(),_e(f(ks),{key:0,id:ne.id,ref_key:"inputRef",ref:v,"container-role":"combobox","model-value":f(W),name:ne.name,size:f(Pe),disabled:f(O),placeholder:ne.placeholder,class:F([f(a).b("editor"),f(a).bm("editor",ne.type),ne.$attrs.class]),style:rt(ne.$attrs.style),readonly:!ne.editable||ne.readonly||f(Z)||f(ae)||f(ue)||ne.type==="week","aria-label":ne.ariaLabel,tabindex:ne.tabindex,"validate-event":!1,onInput:Re,onFocus:f(S),onBlur:f(w),onKeydown:de,onChange:we,onMousedown:X,onMouseenter:V,onMouseleave:ce,onTouchstartPassive:Q,onClick:pt(()=>{},["stop"])},{prefix:te(()=>[f(re)?(D(),_e(f(tt),{key:0,class:F(f(i).e("icon")),onMousedown:pt(X,["prevent"]),onTouchstartPassive:Q},{default:te(()=>[(D(),_e(Rt(f(re))))]),_:1},8,["class","onMousedown"])):he("v-if",!0)]),suffix:te(()=>[ge.value&&ne.clearIcon?(D(),_e(f(tt),{key:0,class:F(`${f(i).e("icon")} clear-icon`),onMousedown:pt(f(Zt),["prevent"]),onClick:ye},{default:te(()=>[(D(),_e(Rt(ne.clearIcon)))]),_:1},8,["class","onMousedown"])):he("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:te(()=>[pe(ne.$slots,"default",{visible:m.value,actualVisible:y.value,parsedValue:f($),format:ne.format,dateFormat:ne.dateFormat,timeFormat:ne.timeFormat,unlinkPanels:ne.unlinkPanels,type:ne.type,defaultValue:ne.defaultValue,showNow:ne.showNow,onPick:k,onSelectRange:I,onSetPickerOption:nt,onCalendarChange:q,onPanelChange:Ae,onMousedown:pt(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var d2=He(GW,[["__file","picker.vue"]]);const KW=$e({...u2,datetimeRole:String,parsedValue:{type:le(Object)}}),f2=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const s=(a,i,l,c)=>{const u={hour:t,minute:e,second:n};let d=a;return["hour","minute","second"].forEach(h=>{if(u[h]){let p;const v=u[h];switch(h){case"minute":{p=v(d.hour(),i,c);break}case"second":{p=v(d.hour(),d.minute(),i,c);break}default:{p=v(i,c);break}}if(p!=null&&p.length&&!p.includes(d[h]())){const m=l?0:p.length-1;d=d[h](p[m])}}}),d},r={};return{timePickerOptions:r,getAvailableTime:s,onSetOption:([a,i])=>{r[a]=i}}},ev=t=>{const e=(s,r)=>s||r,n=s=>s!==!0;return t.map(e).filter(n)},p2=(t,e,n)=>({getHoursList:(a,i)=>Xm(24,t&&(()=>t==null?void 0:t(a,i))),getMinutesList:(a,i,l)=>Xm(60,e&&(()=>e==null?void 0:e(a,i,l))),getSecondsList:(a,i,l,c)=>Xm(60,n&&(()=>n==null?void 0:n(a,i,l,c)))}),h2=(t,e,n)=>{const{getHoursList:s,getMinutesList:r,getSecondsList:o}=p2(t,e,n);return{getAvailableHours:(c,u)=>ev(s(c,u)),getAvailableMinutes:(c,u,d)=>ev(r(c,u,d)),getAvailableSeconds:(c,u,d,h)=>ev(o(c,u,d,h))}},m2=t=>{const e=z(t.parsedValue);return De(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},jW=$e({role:{type:String,required:!0},spinnerDate:{type:le(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:le(String),default:""},...c2}),qW=100,YW=600,ch={beforeMount(t,e){const n=e.value,{interval:s=qW,delay:r=YW}=ct(n)?{}:n;let o,a;const i=()=>ct(n)?n():n.handler(),l=()=>{a&&(clearTimeout(a),a=void 0),o&&(clearInterval(o),o=void 0)};t.addEventListener("mousedown",c=>{c.button===0&&(l(),i(),document.addEventListener("mouseup",()=>l(),{once:!0}),a=setTimeout(()=>{o=setInterval(()=>{i()},s)},r))})}},XW=se({__name:"basic-time-spinner",props:jW,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,s=Qe("EP_PICKER_BASE"),{isRange:r}=s.props,o=Le("time"),{getHoursList:a,getMinutesList:i,getSecondsList:l}=p2(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let c=!1;const u=z(),d=z(),h=z(),p=z(),v={hours:d,minutes:h,seconds:p},m=R(()=>n.showSeconds?VC:VC.slice(0,2)),y=R(()=>{const{spinnerDate:W}=n,ee=W.hour(),Y=W.minute(),Z=W.second();return{hours:ee,minutes:Y,seconds:Z}}),g=R(()=>{const{hours:W,minutes:ee}=f(y),{role:Y,spinnerDate:Z}=n,ae=r?void 0:Z;return{hours:a(Y,ae),minutes:i(W,Y,ae),seconds:l(W,ee,Y,ae)}}),_=R(()=>{const{hours:W,minutes:ee,seconds:Y}=f(y);return{hours:Ym(W,23),minutes:Ym(ee,59),seconds:Ym(Y,59)}}),b=ir(W=>{c=!1,C(W)},200),S=W=>{if(!!!n.amPmMode)return"";const Y=n.amPmMode==="A";let Z=W<12?" am":" pm";return Y&&(Z=Z.toUpperCase()),Z},w=W=>{let ee;switch(W){case"hours":ee=[0,2];break;case"minutes":ee=[3,5];break;case"seconds":ee=[6,8];break}const[Y,Z]=ee;e("select-range",Y,Z),u.value=W},C=W=>{x(W,f(y)[W])},A=()=>{C("hours"),C("minutes"),C("seconds")},T=W=>W.querySelector(`.${o.namespace.value}-scrollbar__wrap`),x=(W,ee)=>{if(n.arrowControl)return;const Y=f(v[W]);Y&&Y.$el&&(T(Y.$el).scrollTop=Math.max(0,ee*E(W)))},E=W=>{const ee=f(v[W]),Y=ee==null?void 0:ee.$el.querySelector("li");return Y&&Number.parseFloat(na(Y,"height"))||0},M=()=>{k(1)},I=()=>{k(-1)},k=W=>{u.value||w("hours");const ee=u.value,Y=f(y)[ee],Z=u.value==="hours"?24:60,ae=U(ee,Y,W,Z);B(ee,ae),x(ee,ae),lt(()=>w(ee))},U=(W,ee,Y,Z)=>{let ae=(ee+Y+Z)%Z;const ue=f(g)[W];for(;ue[ae]&&ae!==ee;)ae=(ae+Y+Z)%Z;return ae},B=(W,ee)=>{if(f(g)[W][ee])return;const{hours:ae,minutes:ue,seconds:re}=f(y);let ge;switch(W){case"hours":ge=n.spinnerDate.hour(ee).minute(ue).second(re);break;case"minutes":ge=n.spinnerDate.hour(ae).minute(ee).second(re);break;case"seconds":ge=n.spinnerDate.hour(ae).minute(ue).second(ee);break}e("change",ge)},P=(W,{value:ee,disabled:Y})=>{Y||(B(W,ee),w(W),x(W,ee))},N=W=>{const ee=f(v[W]);if(!ee)return;c=!0,b(W);const Y=Math.min(Math.round((T(ee.$el).scrollTop-(L(W)*.5-10)/E(W)+3)/E(W)),W==="hours"?23:59);B(W,Y)},L=W=>f(v[W]).$el.offsetHeight,O=()=>{const W=ee=>{const Y=f(v[ee]);Y&&Y.$el&&(T(Y.$el).onscroll=()=>{N(ee)})};W("hours"),W("minutes"),W("seconds")};wt(()=>{lt(()=>{!n.arrowControl&&O(),A(),n.role==="start"&&w("hours")})});const $=(W,ee)=>{v[ee].value=W??void 0};return e("set-option",[`${n.role}_scrollDown`,k]),e("set-option",[`${n.role}_emitSelectRange`,w]),De(()=>n.spinnerDate,()=>{c||A()}),(W,ee)=>(D(),H("div",{class:F([f(o).b("spinner"),{"has-seconds":W.showSeconds}])},[W.arrowControl?he("v-if",!0):(D(!0),H(Ze,{key:0},Tt(f(m),Y=>(D(),_e(f($o),{key:Y,ref_for:!0,ref:Z=>$(Z,Y),class:F(f(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":f(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Z=>w(Y),onMousemove:Z=>C(Y)},{default:te(()=>[(D(!0),H(Ze,null,Tt(f(g)[Y],(Z,ae)=>(D(),H("li",{key:ae,class:F([f(o).be("spinner","item"),f(o).is("active",ae===f(y)[Y]),f(o).is("disabled",Z)]),onClick:ue=>P(Y,{value:ae,disabled:Z})},[Y==="hours"?(D(),H(Ze,{key:0},[St(Ne(("0"+(W.amPmMode?ae%12||12:ae)).slice(-2))+Ne(S(ae)),1)],64)):(D(),H(Ze,{key:1},[St(Ne(("0"+ae).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),W.arrowControl?(D(!0),H(Ze,{key:1},Tt(f(m),Y=>(D(),H("div",{key:Y,class:F([f(o).be("spinner","wrapper"),f(o).is("arrow")]),onMouseenter:Z=>w(Y)},[Ct((D(),_e(f(tt),{class:F(["arrow-up",f(o).be("spinner","arrow")])},{default:te(()=>[j(f(yb))]),_:1},8,["class"])),[[f(ch),I]]),Ct((D(),_e(f(tt),{class:F(["arrow-down",f(o).be("spinner","arrow")])},{default:te(()=>[j(f(_a))]),_:1},8,["class"])),[[f(ch),M]]),K("ul",{class:F(f(o).be("spinner","list"))},[(D(!0),H(Ze,null,Tt(f(_)[Y],(Z,ae)=>(D(),H("li",{key:ae,class:F([f(o).be("spinner","item"),f(o).is("active",Z===f(y)[Y]),f(o).is("disabled",f(g)[Y][Z])])},[f(ft)(Z)?(D(),H(Ze,{key:0},[Y==="hours"?(D(),H(Ze,{key:0},[St(Ne(("0"+(W.amPmMode?Z%12||12:Z)).slice(-2))+Ne(S(Z)),1)],64)):(D(),H(Ze,{key:1},[St(Ne(("0"+Z).slice(-2)),1)],64))],64)):he("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):he("v-if",!0)],2))}});var zg=He(XW,[["__file","basic-time-spinner.vue"]]);const QW=se({__name:"panel-time-pick",props:KW,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,s=Qe("EP_PICKER_BASE"),{arrowControl:r,disabledHours:o,disabledMinutes:a,disabledSeconds:i,defaultValue:l}=s.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=h2(o,a,i),h=Le("time"),{t:p,lang:v}=Ut(),m=z([0,2]),y=m2(n),g=R(()=>Jt(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),_=R(()=>n.format.includes("ss")),b=R(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),S=L=>{const O=yt(L).locale(v.value),$=U(O);return O.isSame($)},w=()=>{e("pick",y.value,!1)},C=(L=!1,O=!1)=>{O||e("pick",n.parsedValue,L)},A=L=>{if(!n.visible)return;const O=U(L).millisecond(0);e("pick",O,!0)},T=(L,O)=>{e("select-range",L,O),m.value=[L,O]},x=L=>{const O=[0,3].concat(_.value?[6]:[]),$=["hours","minutes"].concat(_.value?["seconds"]:[]),ee=(O.indexOf(m.value[0])+L+O.length)%O.length;M.start_emitSelectRange($[ee])},E=L=>{const O=L.code,{left:$,right:W,up:ee,down:Y}=qe;if([$,W].includes(O)){x(O===$?-1:1),L.preventDefault();return}if([ee,Y].includes(O)){const Z=O===ee?-1:1;M.start_scrollDown(Z),L.preventDefault();return}},{timePickerOptions:M,onSetOption:I,getAvailableTime:k}=f2({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),U=L=>k(L,n.datetimeRole||"",!0),B=L=>L?yt(L,n.format).locale(v.value):null,P=L=>L?L.format(n.format):null,N=()=>yt(l).locale(v.value);return e("set-picker-option",["isValidValue",S]),e("set-picker-option",["formatToString",P]),e("set-picker-option",["parseUserInput",B]),e("set-picker-option",["handleKeydownInput",E]),e("set-picker-option",["getRangeAvailableTime",U]),e("set-picker-option",["getDefaultValue",N]),(L,O)=>(D(),_e(Xn,{name:f(g)},{default:te(()=>[L.actualVisible||L.visible?(D(),H("div",{key:0,class:F(f(h).b("panel"))},[K("div",{class:F([f(h).be("panel","content"),{"has-seconds":f(_)}])},[j(zg,{ref:"spinner",role:L.datetimeRole||"start","arrow-control":f(r),"show-seconds":f(_),"am-pm-mode":f(b),"spinner-date":L.parsedValue,"disabled-hours":f(o),"disabled-minutes":f(a),"disabled-seconds":f(i),onChange:A,onSetOption:f(I),onSelectRange:T},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),K("div",{class:F(f(h).be("panel","footer"))},[K("button",{type:"button",class:F([f(h).be("panel","btn"),"cancel"]),onClick:w},Ne(f(p)("el.datepicker.cancel")),3),K("button",{type:"button",class:F([f(h).be("panel","btn"),"confirm"]),onClick:$=>C()},Ne(f(p)("el.datepicker.confirm")),11,["onClick"])],2)],2)):he("v-if",!0)]),_:1},8,["name"]))}});var uh=He(QW,[["__file","panel-time-pick.vue"]]);const ZW=$e({...u2,parsedValue:{type:le(Array)}}),JW=se({__name:"panel-time-range",props:ZW,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,s=(X,V)=>{const ce=[];for(let Q=X;Q<=V;Q++)ce.push(Q);return ce},{t:r,lang:o}=Ut(),a=Le("time"),i=Le("picker"),l=Qe("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:d,disabledSeconds:h,defaultValue:p}=l.props,v=R(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",c),S.value?"has-seconds":""]),m=R(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",c),S.value?"has-seconds":""]),y=R(()=>n.parsedValue[0]),g=R(()=>n.parsedValue[1]),_=m2(n),b=()=>{e("pick",_.value,!1)},S=R(()=>n.format.includes("ss")),w=R(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),C=(X=!1)=>{e("pick",[y.value,g.value],X)},A=X=>{E(X.millisecond(0),g.value)},T=X=>{E(y.value,X.millisecond(0))},x=X=>{const V=X.map(Q=>yt(Q).locale(o.value)),ce=W(V);return V[0].isSame(ce[0])&&V[1].isSame(ce[1])},E=(X,V)=>{n.visible&&e("pick",[X,V],!0)},M=R(()=>y.value>g.value),I=z([0,2]),k=(X,V)=>{e("select-range",X,V,"min"),I.value=[X,V]},U=R(()=>S.value?11:8),B=(X,V)=>{e("select-range",X,V,"max");const ce=f(U);I.value=[X+ce,V+ce]},P=X=>{const V=S.value?[0,3,6,11,14,17]:[0,3,8,11],ce=["hours","minutes"].concat(S.value?["seconds"]:[]),Me=(V.indexOf(I.value[0])+X+V.length)%V.length,Pe=V.length/2;Me<Pe?ae.start_emitSelectRange(ce[Me]):ae.end_emitSelectRange(ce[Me-Pe])},N=X=>{const V=X.code,{left:ce,right:Q,up:Me,down:Pe}=qe;if([ce,Q].includes(V)){P(V===ce?-1:1),X.preventDefault();return}if([Me,Pe].includes(V)){const Te=V===Me?-1:1,ve=I.value[0]<U.value?"start":"end";ae[`${ve}_scrollDown`](Te),X.preventDefault();return}},L=(X,V)=>{const ce=u?u(X):[],Q=X==="start",Pe=(V||(Q?g.value:y.value)).hour(),Te=Q?s(Pe+1,23):s(0,Pe-1);return Vm(ce,Te)},O=(X,V,ce)=>{const Q=d?d(X,V):[],Me=V==="start",Pe=ce||(Me?g.value:y.value),Te=Pe.hour();if(X!==Te)return Q;const ve=Pe.minute(),xe=Me?s(ve+1,59):s(0,ve-1);return Vm(Q,xe)},$=(X,V,ce,Q)=>{const Me=h?h(X,V,ce):[],Pe=ce==="start",Te=Q||(Pe?g.value:y.value),ve=Te.hour(),xe=Te.minute();if(X!==ve||V!==xe)return Me;const we=Te.second(),J=Pe?s(we+1,59):s(0,we-1);return Vm(Me,J)},W=([X,V])=>[ue(X,"start",!0,V),ue(V,"end",!1,X)],{getAvailableHours:ee,getAvailableMinutes:Y,getAvailableSeconds:Z}=h2(L,O,$),{timePickerOptions:ae,getAvailableTime:ue,onSetOption:re}=f2({getAvailableHours:ee,getAvailableMinutes:Y,getAvailableSeconds:Z}),ge=X=>X?Ue(X)?X.map(V=>yt(V,n.format).locale(o.value)):yt(X,n.format).locale(o.value):null,ye=X=>X?Ue(X)?X.map(V=>V.format(n.format)):X.format(n.format):null,Fe=()=>{if(Ue(p))return p.map(V=>yt(V).locale(o.value));const X=yt(p).locale(o.value);return[X,X.add(60,"m")]};return e("set-picker-option",["formatToString",ye]),e("set-picker-option",["parseUserInput",ge]),e("set-picker-option",["isValidValue",x]),e("set-picker-option",["handleKeydownInput",N]),e("set-picker-option",["getDefaultValue",Fe]),e("set-picker-option",["getRangeAvailableTime",W]),(X,V)=>X.actualVisible?(D(),H("div",{key:0,class:F([f(a).b("range-picker"),f(i).b("panel")])},[K("div",{class:F(f(a).be("range-picker","content"))},[K("div",{class:F(f(a).be("range-picker","cell"))},[K("div",{class:F(f(a).be("range-picker","header"))},Ne(f(r)("el.datepicker.startTime")),3),K("div",{class:F(f(v))},[j(zg,{ref:"minSpinner",role:"start","show-seconds":f(S),"am-pm-mode":f(w),"arrow-control":f(c),"spinner-date":f(y),"disabled-hours":L,"disabled-minutes":O,"disabled-seconds":$,onChange:A,onSetOption:f(re),onSelectRange:k},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),K("div",{class:F(f(a).be("range-picker","cell"))},[K("div",{class:F(f(a).be("range-picker","header"))},Ne(f(r)("el.datepicker.endTime")),3),K("div",{class:F(f(m))},[j(zg,{ref:"maxSpinner",role:"end","show-seconds":f(S),"am-pm-mode":f(w),"arrow-control":f(c),"spinner-date":f(g),"disabled-hours":L,"disabled-minutes":O,"disabled-seconds":$,onChange:T,onSetOption:f(re),onSelectRange:B},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),K("div",{class:F(f(a).be("panel","footer"))},[K("button",{type:"button",class:F([f(a).be("panel","btn"),"cancel"]),onClick:ce=>b()},Ne(f(r)("el.datepicker.cancel")),11,["onClick"]),K("button",{type:"button",class:F([f(a).be("panel","btn"),"confirm"]),disabled:f(M),onClick:ce=>C()},Ne(f(r)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):he("v-if",!0)}});var eG=He(JW,[["__file","panel-time-range.vue"]]);yt.extend(Vb);var tG=se({name:"ElTimePicker",install:null,props:{...Wb,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=z(),[s,r]=t.isRange?["timerange",eG]:["time",uh],o=a=>e.emit("update:modelValue",a);return Bt("ElPopperOptions",t.popperOptions),e.expose({focus:()=>{var a;(a=n.value)==null||a.focus()},blur:()=>{var a;(a=n.value)==null||a.blur()},handleOpen:()=>{var a;(a=n.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=n.value)==null||a.handleClose()}}),()=>{var a;const i=(a=t.format)!=null?a:Ug;return j(d2,Dt(t,{ref:n,type:s,format:i,"onUpdate:modelValue":o}),{default:l=>j(r,l,null)})}}});const nG=_t(tG),vm=Symbol(),sG=$e({...Wb,type:{type:le(String),default:"date"}}),rG=["date","dates","year","years","month","months","week","range"],Gb=$e({disabledDate:{type:le(Function)},date:{type:le(Object),required:!0},minDate:{type:le(Object)},maxDate:{type:le(Object)},parsedValue:{type:le([Object,Array])},rangeState:{type:le(Object),default:()=>({endDate:null,selecting:!1})}}),v2=$e({type:{type:le(String),required:!0,values:c8},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),Kb=$e({unlinkPanels:Boolean,parsedValue:{type:le(Array)}}),jb=t=>({type:String,values:rG,default:t}),oG=$e({...v2,parsedValue:{type:le([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Hc=t=>{if(!Ue(t))return!1;const[e,n]=t;return yt.isDayjs(e)&&yt.isDayjs(n)&&e.isSameOrBefore(n)},qb=(t,{lang:e,unit:n,unlinkPanels:s})=>{let r;if(Ue(t)){let[o,a]=t.map(i=>yt(i).locale(e));return s||(a=o.add(1,n)),[o,a]}else t?r=yt(t):r=yt();return r=r.locale(e),[r,r.add(1,n)]},aG=(t,e,{columnIndexOffset:n,startDate:s,nextEndDate:r,now:o,unit:a,relativeDateGetter:i,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<t.row;u++){const d=e[u];for(let h=0;h<t.column;h++){let p=d[h+n];p||(p={row:u,column:h,type:"normal",inRange:!1,start:!1,end:!1});const v=u*t.column+h,m=i(v);p.dayjs=m,p.date=m.toDate(),p.timestamp=m.valueOf(),p.type="normal",p.inRange=!!(s&&m.isSameOrAfter(s,a)&&r&&m.isSameOrBefore(r,a))||!!(s&&m.isSameOrBefore(s,a)&&r&&m.isSameOrAfter(r,a)),s!=null&&s.isSameOrAfter(r)?(p.start=!!r&&m.isSame(r,a),p.end=s&&m.isSame(s,a)):(p.start=!!s&&m.isSame(s,a),p.end=!!r&&m.isSame(r,a)),m.isSame(o,a)&&(p.type="today"),l==null||l(p,{rowIndex:u,columnIndex:h}),d[h+n]=p}c==null||c(d)}},dh=(t,e,n)=>{const s=yt().locale(n).startOf("month").month(e).year(t),r=s.daysInMonth();return Ja(r).map(o=>s.add(o,"day").toDate())},Ed=(t,e,n,s)=>{const r=yt().year(t).month(e).startOf("month"),o=dh(t,e,n).find(a=>!(s!=null&&s(a)));return o?yt(o).locale(n):r.locale(n)},$g=(t,e,n)=>{const s=t.year();if(!(n!=null&&n(t.toDate())))return t.locale(e);const r=t.month();if(!dh(s,r,e).every(n))return Ed(s,r,e,n);for(let o=0;o<12;o++)if(!dh(s,o,e).every(n))return Ed(s,o,e,n);return t},iG=$e({...Gb,cellClassName:{type:le(Function)},showWeekNumber:Boolean,selectionMode:jb("date")}),lG=["changerange","pick","select"],Hg=(t="")=>["normal","today"].includes(t),cG=(t,e)=>{const{lang:n}=Ut(),s=z(),r=z(),o=z(),a=z(),i=z([[],[],[],[],[],[]]);let l=!1;const c=t.date.$locale().weekStart||7,u=t.date.locale("en").localeData().weekdaysShort().map(O=>O.toLowerCase()),d=R(()=>c>3?7-c:-c),h=R(()=>{const O=t.date.startOf("month");return O.subtract(O.day()||7,"day")}),p=R(()=>u.concat(u).slice(c,c+7)),v=R(()=>nT(f(S)).some(O=>O.isCurrent)),m=R(()=>{const O=t.date.startOf("month"),$=O.day()||7,W=O.daysInMonth(),ee=O.subtract(1,"month").daysInMonth();return{startOfMonthDay:$,dateCountOfMonth:W,dateCountOfLastMonth:ee}}),y=R(()=>t.selectionMode==="dates"?$s(t.parsedValue):[]),g=(O,{count:$,rowIndex:W,columnIndex:ee})=>{const{startOfMonthDay:Y,dateCountOfMonth:Z,dateCountOfLastMonth:ae}=f(m),ue=f(d);if(W>=0&&W<=1){const re=Y+ue<0?7+Y+ue:Y+ue;if(ee+W*7>=re)return O.text=$,!0;O.text=ae-(re-ee%7)+1+W*7,O.type="prev-month"}else return $<=Z?O.text=$:(O.text=$-Z,O.type="next-month"),!0;return!1},_=(O,{columnIndex:$,rowIndex:W},ee)=>{const{disabledDate:Y,cellClassName:Z}=t,ae=f(y),ue=g(O,{count:ee,rowIndex:W,columnIndex:$}),re=O.dayjs.toDate();return O.selected=ae.find(ge=>ge.isSame(O.dayjs,"day")),O.isSelected=!!O.selected,O.isCurrent=C(O),O.disabled=Y==null?void 0:Y(re),O.customClass=Z==null?void 0:Z(re),ue},b=O=>{if(t.selectionMode==="week"){const[$,W]=t.showWeekNumber?[1,7]:[0,6],ee=L(O[$+1]);O[$].inRange=ee,O[$].start=ee,O[W].inRange=ee,O[W].end=ee}},S=R(()=>{const{minDate:O,maxDate:$,rangeState:W,showWeekNumber:ee}=t,Y=f(d),Z=f(i),ae="day";let ue=1;if(ee)for(let re=0;re<6;re++)Z[re][0]||(Z[re][0]={type:"week",text:f(h).add(re*7+1,ae).week()});return aG({row:6,column:7},Z,{startDate:O,columnIndexOffset:ee?1:0,nextEndDate:W.endDate||$||W.selecting&&O||null,now:yt().locale(f(n)).startOf(ae),unit:ae,relativeDateGetter:re=>f(h).add(re-Y,ae),setCellMetadata:(...re)=>{_(...re,ue)&&(ue+=1)},setRowMetadata:b}),Z});De(()=>t.date,async()=>{var O;(O=f(s))!=null&&O.contains(document.activeElement)&&(await lt(),await w())});const w=async()=>{var O;return(O=f(r))==null?void 0:O.focus()},C=O=>t.selectionMode==="date"&&Hg(O.type)&&A(O,t.parsedValue),A=(O,$)=>$?yt($).locale(f(n)).isSame(t.date.date(Number(O.text)),"day"):!1,T=(O,$)=>{const W=O*7+($-(t.showWeekNumber?1:0))-f(d);return f(h).add(W,"day")},x=O=>{var $;if(!t.rangeState.selecting)return;let W=O.target;if(W.tagName==="SPAN"&&(W=($=W.parentNode)==null?void 0:$.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const ee=W.parentNode.rowIndex-1,Y=W.cellIndex;f(S)[ee][Y].disabled||(ee!==f(o)||Y!==f(a))&&(o.value=ee,a.value=Y,e("changerange",{selecting:!0,endDate:T(ee,Y)}))},E=O=>!f(v)&&(O==null?void 0:O.text)===1&&O.type==="normal"||O.isCurrent,M=O=>{l||f(v)||t.selectionMode!=="date"||N(O,!0)},I=O=>{O.target.closest("td")&&(l=!0)},k=O=>{O.target.closest("td")&&(l=!1)},U=O=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:O,maxDate:null}),e("select",!0)):(O>=t.minDate?e("pick",{minDate:t.minDate,maxDate:O}):e("pick",{minDate:O,maxDate:t.minDate}),e("select",!1))},B=O=>{const $=O.week(),W=`${O.year()}w${$}`;e("pick",{year:O.year(),week:$,value:W,date:O.startOf("week")})},P=(O,$)=>{const W=$?$s(t.parsedValue).filter(ee=>(ee==null?void 0:ee.valueOf())!==O.valueOf()):$s(t.parsedValue).concat([O]);e("pick",W)},N=(O,$=!1)=>{const W=O.target.closest("td");if(!W)return;const ee=W.parentNode.rowIndex-1,Y=W.cellIndex,Z=f(S)[ee][Y];if(Z.disabled||Z.type==="week")return;const ae=T(ee,Y);switch(t.selectionMode){case"range":{U(ae);break}case"date":{e("pick",ae,$);break}case"week":{B(ae);break}case"dates":{P(ae,!!Z.selected);break}}},L=O=>{if(t.selectionMode!=="week")return!1;let $=t.date.startOf("day");if(O.type==="prev-month"&&($=$.subtract(1,"month")),O.type==="next-month"&&($=$.add(1,"month")),$=$.date(Number.parseInt(O.text,10)),t.parsedValue&&!Ue(t.parsedValue)){const W=(t.parsedValue.day()-c+7)%7-1;return t.parsedValue.subtract(W,"day").isSame($,"day")}return!1};return{WEEKS:p,rows:S,tbodyRef:s,currentCellRef:r,focus:w,isCurrent:C,isWeekActive:L,isSelectedCell:E,handlePickDate:N,handleMouseUp:k,handleMouseDown:I,handleMouseMove:x,handleFocus:M}},uG=(t,{isCurrent:e,isWeekActive:n})=>{const s=Le("date-table"),{t:r}=Ut(),o=R(()=>[s.b(),{"is-week-mode":t.selectionMode==="week"}]),a=R(()=>r("el.datepicker.dateTablePrompt")),i=R(()=>r("el.datepicker.week"));return{tableKls:o,tableLabel:a,weekLabel:i,getCellClasses:u=>{const d=[];return Hg(u.type)&&!u.disabled?(d.push("available"),u.type==="today"&&d.push("today")):d.push(u.type),e(u)&&d.push("current"),u.inRange&&(Hg(u.type)||t.selectionMode==="week")&&(d.push("in-range"),u.start&&d.push("start-date"),u.end&&d.push("end-date")),u.disabled&&d.push("disabled"),u.selected&&d.push("selected"),u.customClass&&d.push(u.customClass),d.join(" ")},getRowKls:u=>[s.e("row"),{current:n(u)}],t:r}},dG=$e({cell:{type:le(Object)}});var Yb=se({name:"ElDatePickerCell",props:dG,setup(t){const e=Le("date-table-cell"),{slots:n}=Qe(vm);return()=>{const{cell:s}=t;return pe(n,"default",{...s},()=>{var r;return[j("div",{class:e.b()},[j("span",{class:e.e("text")},[(r=s==null?void 0:s.renderText)!=null?r:s==null?void 0:s.text])])]})}}});const fG=se({__name:"basic-date-table",props:iG,emits:lG,setup(t,{expose:e,emit:n}){const s=t,{WEEKS:r,rows:o,tbodyRef:a,currentCellRef:i,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:d,handlePickDate:h,handleMouseUp:p,handleMouseDown:v,handleMouseMove:m,handleFocus:y}=cG(s,n),{tableLabel:g,tableKls:_,weekLabel:b,getCellClasses:S,getRowKls:w,t:C}=uG(s,{isCurrent:c,isWeekActive:u});return e({focus:l}),(A,T)=>(D(),H("table",{"aria-label":f(g),class:F(f(_)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:f(h),onMousemove:f(m),onMousedown:pt(f(v),["prevent"]),onMouseup:f(p)},[K("tbody",{ref_key:"tbodyRef",ref:a},[K("tr",null,[A.showWeekNumber?(D(),H("th",{key:0,scope:"col"},Ne(f(b)),1)):he("v-if",!0),(D(!0),H(Ze,null,Tt(f(r),(x,E)=>(D(),H("th",{key:E,"aria-label":f(C)("el.datepicker.weeksFull."+x),scope:"col"},Ne(f(C)("el.datepicker.weeks."+x)),9,["aria-label"]))),128))]),(D(!0),H(Ze,null,Tt(f(o),(x,E)=>(D(),H("tr",{key:E,class:F(f(w)(x[1]))},[(D(!0),H(Ze,null,Tt(x,(M,I)=>(D(),H("td",{key:`${E}.${I}`,ref_for:!0,ref:k=>f(d)(M)&&(i.value=k),class:F(f(S)(M)),"aria-current":M.isCurrent?"date":void 0,"aria-selected":M.isCurrent,tabindex:f(d)(M)?0:-1,onFocus:f(y)},[j(f(Yb),{cell:M},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var Vg=He(fG,[["__file","basic-date-table.vue"]]);const pG=$e({...Gb,selectionMode:jb("month")}),hG=se({__name:"basic-month-table",props:pG,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const s=t,r=Le("month-table"),{t:o,lang:a}=Ut(),i=z(),l=z(),c=z(s.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),u=z([[],[],[]]),d=z(),h=z(),p=R(()=>{var b,S;const w=u.value,C=yt().locale(a.value).startOf("month");for(let A=0;A<3;A++){const T=w[A];for(let x=0;x<4;x++){const E=T[x]||(T[x]={row:A,column:x,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});E.type="normal";const M=A*4+x,I=s.date.startOf("year").month(M),k=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;E.inRange=!!(s.minDate&&I.isSameOrAfter(s.minDate,"month")&&k&&I.isSameOrBefore(k,"month"))||!!(s.minDate&&I.isSameOrBefore(s.minDate,"month")&&k&&I.isSameOrAfter(k,"month")),(b=s.minDate)!=null&&b.isSameOrAfter(k)?(E.start=!!(k&&I.isSame(k,"month")),E.end=s.minDate&&I.isSame(s.minDate,"month")):(E.start=!!(s.minDate&&I.isSame(s.minDate,"month")),E.end=!!(k&&I.isSame(k,"month"))),C.isSame(I)&&(E.type="today"),E.text=M,E.disabled=((S=s.disabledDate)==null?void 0:S.call(s,I.toDate()))||!1}}return w}),v=()=>{var b;(b=l.value)==null||b.focus()},m=b=>{const S={},w=s.date.year(),C=new Date,A=b.text;return S.disabled=s.disabledDate?dh(w,A,a.value).every(s.disabledDate):!1,S.current=$s(s.parsedValue).findIndex(T=>yt.isDayjs(T)&&T.year()===w&&T.month()===A)>=0,S.today=C.getFullYear()===w&&C.getMonth()===A,b.inRange&&(S["in-range"]=!0,b.start&&(S["start-date"]=!0),b.end&&(S["end-date"]=!0)),S},y=b=>{const S=s.date.year(),w=b.text;return $s(s.date).findIndex(C=>C.year()===S&&C.month()===w)>=0},g=b=>{var S;if(!s.rangeState.selecting)return;let w=b.target;if(w.tagName==="SPAN"&&(w=(S=w.parentNode)==null?void 0:S.parentNode),w.tagName==="DIV"&&(w=w.parentNode),w.tagName!=="TD")return;const C=w.parentNode.rowIndex,A=w.cellIndex;p.value[C][A].disabled||(C!==d.value||A!==h.value)&&(d.value=C,h.value=A,n("changerange",{selecting:!0,endDate:s.date.startOf("year").month(C*4+A)}))},_=b=>{var S;const w=(S=b.target)==null?void 0:S.closest("td");if((w==null?void 0:w.tagName)!=="TD"||nr(w,"disabled"))return;const C=w.cellIndex,T=w.parentNode.rowIndex*4+C,x=s.date.startOf("year").month(T);if(s.selectionMode==="months"){if(b.type==="keydown"){n("pick",$s(s.parsedValue),!1);return}const E=Ed(s.date.year(),T,a.value,s.disabledDate),M=nr(w,"current")?$s(s.parsedValue).filter(I=>(I==null?void 0:I.month())!==E.month()):$s(s.parsedValue).concat([yt(E)]);n("pick",M)}else s.selectionMode==="range"?s.rangeState.selecting?(s.minDate&&x>=s.minDate?n("pick",{minDate:s.minDate,maxDate:x}):n("pick",{minDate:x,maxDate:s.minDate}),n("select",!1)):(n("pick",{minDate:x,maxDate:null}),n("select",!0)):n("pick",T)};return De(()=>s.date,async()=>{var b,S;(b=i.value)!=null&&b.contains(document.activeElement)&&(await lt(),(S=l.value)==null||S.focus())}),e({focus:v}),(b,S)=>(D(),H("table",{role:"grid","aria-label":f(o)("el.datepicker.monthTablePrompt"),class:F(f(r).b()),onClick:_,onMousemove:g},[K("tbody",{ref_key:"tbodyRef",ref:i},[(D(!0),H(Ze,null,Tt(f(p),(w,C)=>(D(),H("tr",{key:C},[(D(!0),H(Ze,null,Tt(w,(A,T)=>(D(),H("td",{key:T,ref_for:!0,ref:x=>y(A)&&(l.value=x),class:F(m(A)),"aria-selected":`${y(A)}`,"aria-label":f(o)(`el.datepicker.month${+A.text+1}`),tabindex:y(A)?0:-1,onKeydown:[on(pt(_,["prevent","stop"]),["space"]),on(pt(_,["prevent","stop"]),["enter"])]},[j(f(Yb),{cell:{...A,renderText:f(o)("el.datepicker.months."+c.value[A.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Wg=He(hG,[["__file","basic-month-table.vue"]]);const mG=$e({...Gb,selectionMode:jb("year")}),vG=se({__name:"basic-year-table",props:mG,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const s=t,r=(S,w)=>{const C=yt(String(S)).locale(w).startOf("year"),T=C.endOf("year").dayOfYear();return Ja(T).map(x=>C.add(x,"day").toDate())},o=Le("year-table"),{t:a,lang:i}=Ut(),l=z(),c=z(),u=R(()=>Math.floor(s.date.year()/10)*10),d=z([[],[],[]]),h=z(),p=z(),v=R(()=>{var S;const w=d.value,C=yt().locale(i.value).startOf("year");for(let A=0;A<3;A++){const T=w[A];for(let x=0;x<4&&!(A*4+x>=10);x++){let E=T[x];E||(E={row:A,column:x,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),E.type="normal";const M=A*4+x+u.value,I=yt().year(M),k=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;E.inRange=!!(s.minDate&&I.isSameOrAfter(s.minDate,"year")&&k&&I.isSameOrBefore(k,"year"))||!!(s.minDate&&I.isSameOrBefore(s.minDate,"year")&&k&&I.isSameOrAfter(k,"year")),(S=s.minDate)!=null&&S.isSameOrAfter(k)?(E.start=!!(k&&I.isSame(k,"year")),E.end=!!(s.minDate&&I.isSame(s.minDate,"year"))):(E.start=!!(s.minDate&&I.isSame(s.minDate,"year")),E.end=!!(k&&I.isSame(k,"year"))),C.isSame(I)&&(E.type="today"),E.text=M;const B=I.toDate();E.disabled=s.disabledDate&&s.disabledDate(B)||!1,T[x]=E}}return w}),m=()=>{var S;(S=c.value)==null||S.focus()},y=S=>{const w={},C=yt().locale(i.value),A=S.text;return w.disabled=s.disabledDate?r(A,i.value).every(s.disabledDate):!1,w.today=C.year()===A,w.current=$s(s.parsedValue).findIndex(T=>T.year()===A)>=0,S.inRange&&(w["in-range"]=!0,S.start&&(w["start-date"]=!0),S.end&&(w["end-date"]=!0)),w},g=S=>{const w=S.text;return $s(s.date).findIndex(C=>C.year()===w)>=0},_=S=>{var w;const C=(w=S.target)==null?void 0:w.closest("td");if(!C||!C.textContent||nr(C,"disabled"))return;const A=C.cellIndex,x=C.parentNode.rowIndex*4+A+u.value,E=yt().year(x);if(s.selectionMode==="range")s.rangeState.selecting?(s.minDate&&E>=s.minDate?n("pick",{minDate:s.minDate,maxDate:E}):n("pick",{minDate:E,maxDate:s.minDate}),n("select",!1)):(n("pick",{minDate:E,maxDate:null}),n("select",!0));else if(s.selectionMode==="years"){if(S.type==="keydown"){n("pick",$s(s.parsedValue),!1);return}const M=$g(E.startOf("year"),i.value,s.disabledDate),I=nr(C,"current")?$s(s.parsedValue).filter(k=>(k==null?void 0:k.year())!==x):$s(s.parsedValue).concat([M]);n("pick",I)}else n("pick",x)},b=S=>{var w;if(!s.rangeState.selecting)return;const C=(w=S.target)==null?void 0:w.closest("td");if(!C)return;const A=C.parentNode.rowIndex,T=C.cellIndex;v.value[A][T].disabled||(A!==h.value||T!==p.value)&&(h.value=A,p.value=T,n("changerange",{selecting:!0,endDate:yt().year(u.value).add(A*4+T,"year")}))};return De(()=>s.date,async()=>{var S,w;(S=l.value)!=null&&S.contains(document.activeElement)&&(await lt(),(w=c.value)==null||w.focus())}),e({focus:m}),(S,w)=>(D(),H("table",{role:"grid","aria-label":f(a)("el.datepicker.yearTablePrompt"),class:F(f(o).b()),onClick:_,onMousemove:b},[K("tbody",{ref_key:"tbodyRef",ref:l},[(D(!0),H(Ze,null,Tt(f(v),(C,A)=>(D(),H("tr",{key:A},[(D(!0),H(Ze,null,Tt(C,(T,x)=>(D(),H("td",{key:`${A}_${x}`,ref_for:!0,ref:E=>g(T)&&(c.value=E),class:F(["available",y(T)]),"aria-selected":g(T),"aria-label":String(T.text),tabindex:g(T)?0:-1,onKeydown:[on(pt(_,["prevent","stop"]),["space"]),on(pt(_,["prevent","stop"]),["enter"])]},[j(f(Yb),{cell:T},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Gg=He(vG,[["__file","basic-year-table.vue"]]);const gG=se({__name:"panel-date-pick",props:oG,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,s=(q,Ae,oe)=>!0,r=Le("picker-panel"),o=Le("date-picker"),a=yi(),i=Gn(),{t:l,lang:c}=Ut(),u=Qe("EP_PICKER_BASE"),d=Qe(hm),{shortcuts:h,disabledDate:p,cellClassName:v,defaultTime:m}=u.props,y=Yt(u.props,"defaultValue"),g=z(),_=z(yt().locale(c.value)),b=z(!1);let S=!1;const w=R(()=>yt(m).locale(c.value)),C=R(()=>_.value.month()),A=R(()=>_.value.year()),T=z([]),x=z(null),E=z(null),M=q=>T.value.length>0?s(q,T.value,n.format||"HH:mm:ss"):!0,I=q=>m&&!Me.value&&!b.value&&!S?w.value.year(q.year()).month(q.month()).date(q.date()):re.value?q.millisecond(0):q.startOf("day"),k=(q,...Ae)=>{if(!q)e("pick",q,...Ae);else if(Ue(q)){const oe=q.map(I);e("pick",oe,...Ae)}else e("pick",I(q),...Ae);x.value=null,E.value=null,b.value=!1,S=!1},U=async(q,Ae)=>{if($.value==="date"){q=q;let oe=n.parsedValue?n.parsedValue.year(q.year()).month(q.month()).date(q.date()):q;M(oe)||(oe=T.value[0][0].year(q.year()).month(q.month()).date(q.date())),_.value=oe,k(oe,re.value||Ae),n.type==="datetime"&&(await lt(),je())}else $.value==="week"?k(q.date):$.value==="dates"&&k(q,!0)},B=q=>{const Ae=q?"add":"subtract";_.value=_.value[Ae](1,"month"),nt("month")},P=q=>{const Ae=_.value,oe=q?"add":"subtract";_.value=N.value==="year"?Ae[oe](10,"year"):Ae[oe](1,"year"),nt("year")},N=z("date"),L=R(()=>{const q=l("el.datepicker.year");if(N.value==="year"){const Ae=Math.floor(A.value/10)*10;return q?`${Ae} ${q} - ${Ae+9} ${q}`:`${Ae} - ${Ae+9}`}return`${A.value} ${q}`}),O=q=>{const Ae=ct(q.value)?q.value():q.value;if(Ae){S=!0,k(yt(Ae).locale(c.value));return}q.onClick&&q.onClick({attrs:a,slots:i,emit:e})},$=R(()=>{const{type:q}=n;return["week","month","months","year","years","dates"].includes(q)?q:"date"}),W=R(()=>$.value==="dates"||$.value==="months"||$.value==="years"),ee=R(()=>$.value==="date"?N.value:$.value),Y=R(()=>!!h.length),Z=async(q,Ae)=>{$.value==="month"?(_.value=Ed(_.value.year(),q,c.value,p),k(_.value,!1)):$.value==="months"?k(q,Ae??!0):(_.value=Ed(_.value.year(),q,c.value,p),N.value="date",["month","year","date","week"].includes($.value)&&(k(_.value,!0),await lt(),je())),nt("month")},ae=async(q,Ae)=>{if($.value==="year"){const oe=_.value.startOf("year").year(q);_.value=$g(oe,c.value,p),k(_.value,!1)}else if($.value==="years")k(q,Ae??!0);else{const oe=_.value.year(q);_.value=$g(oe,c.value,p),N.value="month",["month","year","date","week"].includes($.value)&&(k(_.value,!0),await lt(),je())}nt("year")},ue=async q=>{N.value=q,await lt(),je()},re=R(()=>n.type==="datetime"||n.type==="datetimerange"),ge=R(()=>{const q=re.value||$.value==="dates",Ae=$.value==="years",oe=$.value==="months",be=N.value==="date",ne=N.value==="year",ze=N.value==="month";return q&&be||Ae&&ne||oe&&ze}),ye=R(()=>p?n.parsedValue?Ue(n.parsedValue)?p(n.parsedValue[0].toDate()):p(n.parsedValue.toDate()):!0:!1),Fe=()=>{if(W.value)k(n.parsedValue);else{let q=n.parsedValue;if(!q){const Ae=yt(m).locale(c.value),oe=Je();q=Ae.year(oe.year()).month(oe.month()).date(oe.date())}_.value=q,k(q)}},X=R(()=>p?p(yt().locale(c.value).toDate()):!1),V=()=>{const Ae=yt().locale(c.value).toDate();b.value=!0,(!p||!p(Ae))&&M(Ae)&&(_.value=yt().locale(c.value),k(_.value))},ce=R(()=>n.timeFormat||BM(n.format)),Q=R(()=>n.dateFormat||OM(n.format)),Me=R(()=>{if(E.value)return E.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||_.value).format(ce.value)}),Pe=R(()=>{if(x.value)return x.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||_.value).format(Q.value)}),Te=z(!1),ve=()=>{Te.value=!0},xe=()=>{Te.value=!1},we=q=>({hour:q.hour(),minute:q.minute(),second:q.second(),year:q.year(),month:q.month(),date:q.date()}),J=(q,Ae,oe)=>{const{hour:be,minute:ne,second:ze}=we(q),ut=n.parsedValue?n.parsedValue.hour(be).minute(ne).second(ze):q;_.value=ut,k(_.value,!0),oe||(Te.value=Ae)},G=q=>{const Ae=yt(q,ce.value).locale(c.value);if(Ae.isValid()&&M(Ae)){const{year:oe,month:be,date:ne}=we(_.value);_.value=Ae.year(oe).month(be).date(ne),E.value=null,Te.value=!1,k(_.value,!0)}},me=q=>{const Ae=yt(q,Q.value).locale(c.value);if(Ae.isValid()){if(p&&p(Ae.toDate()))return;const{hour:oe,minute:be,second:ne}=we(_.value);_.value=Ae.hour(oe).minute(be).second(ne),x.value=null,k(_.value,!0)}},de=q=>yt.isDayjs(q)&&q.isValid()&&(p?!p(q.toDate()):!0),Re=q=>Ue(q)?q.map(Ae=>Ae.format(n.format)):q.format(n.format),ke=q=>yt(q,n.format).locale(c.value),Je=()=>{const q=yt(y.value).locale(c.value);if(!y.value){const Ae=w.value;return yt().hour(Ae.hour()).minute(Ae.minute()).second(Ae.second()).locale(c.value)}return q},je=async()=>{var q;["week","month","year","date"].includes($.value)&&((q=g.value)==null||q.focus(),$.value==="week"&&gt(qe.down))},at=q=>{const{code:Ae}=q;[qe.up,qe.down,qe.left,qe.right,qe.home,qe.end,qe.pageUp,qe.pageDown].includes(Ae)&&(gt(Ae),q.stopPropagation(),q.preventDefault()),[qe.enter,qe.space,qe.numpadEnter].includes(Ae)&&x.value===null&&E.value===null&&(q.preventDefault(),k(_.value,!1))},gt=q=>{var Ae;const{up:oe,down:be,left:ne,right:ze,home:ut,end:Ce,pageUp:it,pageDown:Ve}=qe,Ge={year:{[oe]:-4,[be]:4,[ne]:-1,[ze]:1,offset:(Ye,kt)=>Ye.setFullYear(Ye.getFullYear()+kt)},month:{[oe]:-4,[be]:4,[ne]:-1,[ze]:1,offset:(Ye,kt)=>Ye.setMonth(Ye.getMonth()+kt)},week:{[oe]:-1,[be]:1,[ne]:-1,[ze]:1,offset:(Ye,kt)=>Ye.setDate(Ye.getDate()+kt*7)},date:{[oe]:-7,[be]:7,[ne]:-1,[ze]:1,[ut]:Ye=>-Ye.getDay(),[Ce]:Ye=>-Ye.getDay()+6,[it]:Ye=>-new Date(Ye.getFullYear(),Ye.getMonth(),0).getDate(),[Ve]:Ye=>new Date(Ye.getFullYear(),Ye.getMonth()+1,0).getDate(),offset:(Ye,kt)=>Ye.setDate(Ye.getDate()+kt)}},dt=_.value.toDate();for(;Math.abs(_.value.diff(dt,"year",!0))<1;){const Ye=Ge[ee.value];if(!Ye)return;if(Ye.offset(dt,ct(Ye[q])?Ye[q](dt):(Ae=Ye[q])!=null?Ae:0),p&&p(dt))break;const kt=yt(dt).locale(c.value);_.value=kt,e("pick",kt,!0);break}},nt=q=>{e("panel-change",_.value.toDate(),q,N.value)};return De(()=>$.value,q=>{if(["month","year"].includes(q)){N.value=q;return}else if(q==="years"){N.value="year";return}else if(q==="months"){N.value="month";return}N.value="date"},{immediate:!0}),De(()=>N.value,()=>{d==null||d.updatePopper()}),De(()=>y.value,q=>{q&&(_.value=Je())},{immediate:!0}),De(()=>n.parsedValue,q=>{if(q){if(W.value||Ue(q))return;_.value=q}else _.value=Je()},{immediate:!0}),e("set-picker-option",["isValidValue",de]),e("set-picker-option",["formatToString",Re]),e("set-picker-option",["parseUserInput",ke]),e("set-picker-option",["handleFocusPicker",je]),(q,Ae)=>(D(),H("div",{class:F([f(r).b(),f(o).b(),{"has-sidebar":q.$slots.sidebar||f(Y),"has-time":f(re)}])},[K("div",{class:F(f(r).e("body-wrapper"))},[pe(q.$slots,"sidebar",{class:F(f(r).e("sidebar"))}),f(Y)?(D(),H("div",{key:0,class:F(f(r).e("sidebar"))},[(D(!0),H(Ze,null,Tt(f(h),(oe,be)=>(D(),H("button",{key:be,type:"button",class:F(f(r).e("shortcut")),onClick:ne=>O(oe)},Ne(oe.text),11,["onClick"]))),128))],2)):he("v-if",!0),K("div",{class:F(f(r).e("body"))},[f(re)?(D(),H("div",{key:0,class:F(f(o).e("time-header"))},[K("span",{class:F(f(o).e("editor-wrap"))},[j(f(ks),{placeholder:f(l)("el.datepicker.selectDate"),"model-value":f(Pe),size:"small","validate-event":!1,onInput:oe=>x.value=oe,onChange:me},null,8,["placeholder","model-value","onInput"])],2),Ct((D(),H("span",{class:F(f(o).e("editor-wrap"))},[j(f(ks),{placeholder:f(l)("el.datepicker.selectTime"),"model-value":f(Me),size:"small","validate-event":!1,onFocus:ve,onInput:oe=>E.value=oe,onChange:G},null,8,["placeholder","model-value","onInput"]),j(f(uh),{visible:Te.value,format:f(ce),"parsed-value":_.value,onPick:J},null,8,["visible","format","parsed-value"])],2)),[[f(ha),xe]])],2)):he("v-if",!0),Ct(K("div",{class:F([f(o).e("header"),(N.value==="year"||N.value==="month")&&f(o).e("header--bordered")])},[K("span",{class:F(f(o).e("prev-btn"))},[K("button",{type:"button","aria-label":f(l)("el.datepicker.prevYear"),class:F(["d-arrow-left",f(r).e("icon-btn")]),onClick:oe=>P(!1)},[pe(q.$slots,"prev-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(di))]),_:1})])],10,["aria-label","onClick"]),Ct(K("button",{type:"button","aria-label":f(l)("el.datepicker.prevMonth"),class:F([f(r).e("icon-btn"),"arrow-left"]),onClick:oe=>B(!1)},[pe(q.$slots,"prev-month",{},()=>[j(f(tt),null,{default:te(()=>[j(f(ui))]),_:1})])],10,["aria-label","onClick"]),[[Vt,N.value==="date"]])],2),K("span",{role:"button",class:F(f(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:on(oe=>ue("year"),["enter"]),onClick:oe=>ue("year")},Ne(f(L)),43,["onKeydown","onClick"]),Ct(K("span",{role:"button","aria-live":"polite",tabindex:"0",class:F([f(o).e("header-label"),{active:N.value==="month"}]),onKeydown:on(oe=>ue("month"),["enter"]),onClick:oe=>ue("month")},Ne(f(l)(`el.datepicker.month${f(C)+1}`)),43,["onKeydown","onClick"]),[[Vt,N.value==="date"]]),K("span",{class:F(f(o).e("next-btn"))},[Ct(K("button",{type:"button","aria-label":f(l)("el.datepicker.nextMonth"),class:F([f(r).e("icon-btn"),"arrow-right"]),onClick:oe=>B(!0)},[pe(q.$slots,"next-month",{},()=>[j(f(tt),null,{default:te(()=>[j(f(Ws))]),_:1})])],10,["aria-label","onClick"]),[[Vt,N.value==="date"]]),K("button",{type:"button","aria-label":f(l)("el.datepicker.nextYear"),class:F([f(r).e("icon-btn"),"d-arrow-right"]),onClick:oe=>P(!0)},[pe(q.$slots,"next-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(fi))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[Vt,N.value!=="time"]]),K("div",{class:F(f(r).e("content")),onKeydown:at},[N.value==="date"?(D(),_e(Vg,{key:0,ref_key:"currentViewRef",ref:g,"selection-mode":f($),date:_.value,"parsed-value":q.parsedValue,"disabled-date":f(p),"cell-class-name":f(v),onPick:U},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):he("v-if",!0),N.value==="year"?(D(),_e(Gg,{key:1,ref_key:"currentViewRef",ref:g,"selection-mode":f($),date:_.value,"disabled-date":f(p),"parsed-value":q.parsedValue,onPick:ae},null,8,["selection-mode","date","disabled-date","parsed-value"])):he("v-if",!0),N.value==="month"?(D(),_e(Wg,{key:2,ref_key:"currentViewRef",ref:g,"selection-mode":f($),date:_.value,"parsed-value":q.parsedValue,"disabled-date":f(p),onPick:Z},null,8,["selection-mode","date","parsed-value","disabled-date"])):he("v-if",!0)],34)],2)],2),Ct(K("div",{class:F(f(r).e("footer"))},[Ct(j(f(rs),{text:"",size:"small",class:F(f(r).e("link-btn")),disabled:f(X),onClick:V},{default:te(()=>[St(Ne(f(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Vt,!f(W)&&q.showNow]]),j(f(rs),{plain:"",size:"small",class:F(f(r).e("link-btn")),disabled:f(ye),onClick:Fe},{default:te(()=>[St(Ne(f(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Vt,f(ge)]])],2))}});var yG=He(gG,[["__file","panel-date-pick.vue"]]);const bG=$e({...v2,...Kb,visible:Boolean}),g2=t=>{const{emit:e}=It(),n=yi(),s=Gn();return o=>{const a=ct(o.value)?o.value():o.value;if(a){e("pick",[yt(a[0]).locale(t.value),yt(a[1]).locale(t.value)]);return}o.onClick&&o.onClick({attrs:n,slots:s,emit:e})}},y2=(t,{defaultValue:e,leftDate:n,rightDate:s,unit:r,onParsedValueChanged:o})=>{const{emit:a}=It(),{pickerNs:i}=Qe(vm),l=Le("date-range-picker"),{t:c,lang:u}=Ut(),d=g2(u),h=z(),p=z(),v=z({endDate:null,selecting:!1}),m=S=>{v.value=S},y=(S=!1)=>{const w=f(h),C=f(p);Hc([w,C])&&a("pick",[w,C],S)},g=S=>{v.value.selecting=S,S||(v.value.endDate=null)},_=S=>{if(Ue(S)&&S.length===2){const[w,C]=S;h.value=w,n.value=w,p.value=C,o(f(h),f(p))}else b()},b=()=>{const[S,w]=qb(f(e),{lang:f(u),unit:r,unlinkPanels:t.unlinkPanels});h.value=void 0,p.value=void 0,n.value=S,s.value=w};return De(e,S=>{S&&b()},{immediate:!0}),De(()=>t.parsedValue,_,{immediate:!0}),{minDate:h,maxDate:p,rangeState:v,lang:u,ppNs:i,drpNs:l,handleChangeRange:m,handleRangeConfirm:y,handleShortcutClick:d,onSelect:g,onReset:_,t:c}},Tf="month",SG=se({__name:"panel-date-range",props:bG,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,s=Qe("EP_PICKER_BASE"),{disabledDate:r,cellClassName:o,defaultTime:a,clearable:i}=s.props,l=Yt(s.props,"format"),c=Yt(s.props,"shortcuts"),u=Yt(s.props,"defaultValue"),{lang:d}=Ut(),h=z(yt().locale(d.value)),p=z(yt().locale(d.value).add(1,Tf)),{minDate:v,maxDate:m,rangeState:y,ppNs:g,drpNs:_,handleChangeRange:b,handleRangeConfirm:S,handleShortcutClick:w,onSelect:C,onReset:A,t:T}=y2(n,{defaultValue:u,leftDate:h,rightDate:p,unit:Tf,onParsedValueChanged:Ae});De(()=>n.visible,oe=>{!oe&&y.value.selecting&&(A(n.parsedValue),C(!1))});const x=z({min:null,max:null}),E=z({min:null,max:null}),M=R(()=>`${h.value.year()} ${T("el.datepicker.year")} ${T(`el.datepicker.month${h.value.month()+1}`)}`),I=R(()=>`${p.value.year()} ${T("el.datepicker.year")} ${T(`el.datepicker.month${p.value.month()+1}`)}`),k=R(()=>h.value.year()),U=R(()=>h.value.month()),B=R(()=>p.value.year()),P=R(()=>p.value.month()),N=R(()=>!!c.value.length),L=R(()=>x.value.min!==null?x.value.min:v.value?v.value.format(Y.value):""),O=R(()=>x.value.max!==null?x.value.max:m.value||v.value?(m.value||v.value).format(Y.value):""),$=R(()=>E.value.min!==null?E.value.min:v.value?v.value.format(ee.value):""),W=R(()=>E.value.max!==null?E.value.max:m.value||v.value?(m.value||v.value).format(ee.value):""),ee=R(()=>n.timeFormat||BM(l.value)),Y=R(()=>n.dateFormat||OM(l.value)),Z=oe=>Hc(oe)&&(r?!r(oe[0].toDate())&&!r(oe[1].toDate()):!0),ae=()=>{h.value=h.value.subtract(1,"year"),n.unlinkPanels||(p.value=h.value.add(1,"month")),ce("year")},ue=()=>{h.value=h.value.subtract(1,"month"),n.unlinkPanels||(p.value=h.value.add(1,"month")),ce("month")},re=()=>{n.unlinkPanels?p.value=p.value.add(1,"year"):(h.value=h.value.add(1,"year"),p.value=h.value.add(1,"month")),ce("year")},ge=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(h.value=h.value.add(1,"month"),p.value=h.value.add(1,"month")),ce("month")},ye=()=>{h.value=h.value.add(1,"year"),ce("year")},Fe=()=>{h.value=h.value.add(1,"month"),ce("month")},X=()=>{p.value=p.value.subtract(1,"year"),ce("year")},V=()=>{p.value=p.value.subtract(1,"month"),ce("month")},ce=oe=>{e("panel-change",[h.value.toDate(),p.value.toDate()],oe)},Q=R(()=>{const oe=(U.value+1)%12,be=U.value+1>=12?1:0;return n.unlinkPanels&&new Date(k.value+be,oe)<new Date(B.value,P.value)}),Me=R(()=>n.unlinkPanels&&B.value*12+P.value-(k.value*12+U.value+1)>=12),Pe=R(()=>!(v.value&&m.value&&!y.value.selecting&&Hc([v.value,m.value]))),Te=R(()=>n.type==="datetime"||n.type==="datetimerange"),ve=(oe,be)=>{if(oe)return a?yt(a[be]||a).locale(d.value).year(oe.year()).month(oe.month()).date(oe.date()):oe},xe=(oe,be=!0)=>{const ne=oe.minDate,ze=oe.maxDate,ut=ve(ne,0),Ce=ve(ze,1);m.value===Ce&&v.value===ut||(e("calendar-change",[ne.toDate(),ze&&ze.toDate()]),m.value=Ce,v.value=ut,!(!be||Te.value)&&S())},we=z(!1),J=z(!1),G=()=>{we.value=!1},me=()=>{J.value=!1},de=(oe,be)=>{x.value[be]=oe;const ne=yt(oe,Y.value).locale(d.value);if(ne.isValid()){if(r&&r(ne.toDate()))return;be==="min"?(h.value=ne,v.value=(v.value||h.value).year(ne.year()).month(ne.month()).date(ne.date()),!n.unlinkPanels&&(!m.value||m.value.isBefore(v.value))&&(p.value=ne.add(1,"month"),m.value=v.value.add(1,"month"))):(p.value=ne,m.value=(m.value||p.value).year(ne.year()).month(ne.month()).date(ne.date()),!n.unlinkPanels&&(!v.value||v.value.isAfter(m.value))&&(h.value=ne.subtract(1,"month"),v.value=m.value.subtract(1,"month")))}},Re=(oe,be)=>{x.value[be]=null},ke=(oe,be)=>{E.value[be]=oe;const ne=yt(oe,ee.value).locale(d.value);ne.isValid()&&(be==="min"?(we.value=!0,v.value=(v.value||h.value).hour(ne.hour()).minute(ne.minute()).second(ne.second())):(J.value=!0,m.value=(m.value||p.value).hour(ne.hour()).minute(ne.minute()).second(ne.second()),p.value=m.value))},Je=(oe,be)=>{E.value[be]=null,be==="min"?(h.value=v.value,we.value=!1,(!m.value||m.value.isBefore(v.value))&&(m.value=v.value)):(p.value=m.value,J.value=!1,m.value&&m.value.isBefore(v.value)&&(v.value=m.value))},je=(oe,be,ne)=>{E.value.min||(oe&&(h.value=oe,v.value=(v.value||h.value).hour(oe.hour()).minute(oe.minute()).second(oe.second())),ne||(we.value=be),(!m.value||m.value.isBefore(v.value))&&(m.value=v.value,p.value=oe))},at=(oe,be,ne)=>{E.value.max||(oe&&(p.value=oe,m.value=(m.value||p.value).hour(oe.hour()).minute(oe.minute()).second(oe.second())),ne||(J.value=be),m.value&&m.value.isBefore(v.value)&&(v.value=m.value))},gt=()=>{h.value=qb(f(u),{lang:f(d),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=h.value.add(1,"month"),m.value=void 0,v.value=void 0,e("pick",null)},nt=oe=>Ue(oe)?oe.map(be=>be.format(l.value)):oe.format(l.value),q=oe=>Ue(oe)?oe.map(be=>yt(be,l.value).locale(d.value)):yt(oe,l.value).locale(d.value);function Ae(oe,be){if(n.unlinkPanels&&be){const ne=(oe==null?void 0:oe.year())||0,ze=(oe==null?void 0:oe.month())||0,ut=be.year(),Ce=be.month();p.value=ne===ut&&ze===Ce?be.add(1,Tf):be}else p.value=h.value.add(1,Tf),be&&(p.value=p.value.hour(be.hour()).minute(be.minute()).second(be.second()))}return e("set-picker-option",["isValidValue",Z]),e("set-picker-option",["parseUserInput",q]),e("set-picker-option",["formatToString",nt]),e("set-picker-option",["handleClear",gt]),(oe,be)=>(D(),H("div",{class:F([f(g).b(),f(_).b(),{"has-sidebar":oe.$slots.sidebar||f(N),"has-time":f(Te)}])},[K("div",{class:F(f(g).e("body-wrapper"))},[pe(oe.$slots,"sidebar",{class:F(f(g).e("sidebar"))}),f(N)?(D(),H("div",{key:0,class:F(f(g).e("sidebar"))},[(D(!0),H(Ze,null,Tt(f(c),(ne,ze)=>(D(),H("button",{key:ze,type:"button",class:F(f(g).e("shortcut")),onClick:ut=>f(w)(ne)},Ne(ne.text),11,["onClick"]))),128))],2)):he("v-if",!0),K("div",{class:F(f(g).e("body"))},[f(Te)?(D(),H("div",{key:0,class:F(f(_).e("time-header"))},[K("span",{class:F(f(_).e("editors-wrap"))},[K("span",{class:F(f(_).e("time-picker-wrap"))},[j(f(ks),{size:"small",disabled:f(y).selecting,placeholder:f(T)("el.datepicker.startDate"),class:F(f(_).e("editor")),"model-value":f(L),"validate-event":!1,onInput:ne=>de(ne,"min"),onChange:ne=>Re(ne,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Ct((D(),H("span",{class:F(f(_).e("time-picker-wrap"))},[j(f(ks),{size:"small",class:F(f(_).e("editor")),disabled:f(y).selecting,placeholder:f(T)("el.datepicker.startTime"),"model-value":f($),"validate-event":!1,onFocus:ne=>we.value=!0,onInput:ne=>ke(ne,"min"),onChange:ne=>Je(ne,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),j(f(uh),{visible:we.value,format:f(ee),"datetime-role":"start","parsed-value":h.value,onPick:je},null,8,["visible","format","parsed-value"])],2)),[[f(ha),G]])],2),K("span",null,[j(f(tt),null,{default:te(()=>[j(f(Ws))]),_:1})]),K("span",{class:F([f(_).e("editors-wrap"),"is-right"])},[K("span",{class:F(f(_).e("time-picker-wrap"))},[j(f(ks),{size:"small",class:F(f(_).e("editor")),disabled:f(y).selecting,placeholder:f(T)("el.datepicker.endDate"),"model-value":f(O),readonly:!f(v),"validate-event":!1,onInput:ne=>de(ne,"max"),onChange:ne=>Re(ne,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Ct((D(),H("span",{class:F(f(_).e("time-picker-wrap"))},[j(f(ks),{size:"small",class:F(f(_).e("editor")),disabled:f(y).selecting,placeholder:f(T)("el.datepicker.endTime"),"model-value":f(W),readonly:!f(v),"validate-event":!1,onFocus:ne=>f(v)&&(J.value=!0),onInput:ne=>ke(ne,"max"),onChange:ne=>Je(ne,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),j(f(uh),{"datetime-role":"end",visible:J.value,format:f(ee),"parsed-value":p.value,onPick:at},null,8,["visible","format","parsed-value"])],2)),[[f(ha),me]])],2)],2)):he("v-if",!0),K("div",{class:F([[f(g).e("content"),f(_).e("content")],"is-left"])},[K("div",{class:F(f(_).e("header"))},[K("button",{type:"button",class:F([f(g).e("icon-btn"),"d-arrow-left"]),"aria-label":f(T)("el.datepicker.prevYear"),onClick:ae},[pe(oe.$slots,"prev-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(di))]),_:1})])],10,["aria-label"]),K("button",{type:"button",class:F([f(g).e("icon-btn"),"arrow-left"]),"aria-label":f(T)("el.datepicker.prevMonth"),onClick:ue},[pe(oe.$slots,"prev-month",{},()=>[j(f(tt),null,{default:te(()=>[j(f(ui))]),_:1})])],10,["aria-label"]),oe.unlinkPanels?(D(),H("button",{key:0,type:"button",disabled:!f(Me),class:F([[f(g).e("icon-btn"),{"is-disabled":!f(Me)}],"d-arrow-right"]),"aria-label":f(T)("el.datepicker.nextYear"),onClick:ye},[pe(oe.$slots,"next-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(fi))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),oe.unlinkPanels?(D(),H("button",{key:1,type:"button",disabled:!f(Q),class:F([[f(g).e("icon-btn"),{"is-disabled":!f(Q)}],"arrow-right"]),"aria-label":f(T)("el.datepicker.nextMonth"),onClick:Fe},[pe(oe.$slots,"next-month",{},()=>[j(f(tt),null,{default:te(()=>[j(f(Ws))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),K("div",null,Ne(f(M)),1)],2),j(Vg,{"selection-mode":"range",date:h.value,"min-date":f(v),"max-date":f(m),"range-state":f(y),"disabled-date":f(r),"cell-class-name":f(o),onChangerange:f(b),onPick:xe,onSelect:f(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),K("div",{class:F([[f(g).e("content"),f(_).e("content")],"is-right"])},[K("div",{class:F(f(_).e("header"))},[oe.unlinkPanels?(D(),H("button",{key:0,type:"button",disabled:!f(Me),class:F([[f(g).e("icon-btn"),{"is-disabled":!f(Me)}],"d-arrow-left"]),"aria-label":f(T)("el.datepicker.prevYear"),onClick:X},[pe(oe.$slots,"prev-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(di))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),oe.unlinkPanels?(D(),H("button",{key:1,type:"button",disabled:!f(Q),class:F([[f(g).e("icon-btn"),{"is-disabled":!f(Q)}],"arrow-left"]),"aria-label":f(T)("el.datepicker.prevMonth"),onClick:V},[pe(oe.$slots,"prev-month",{},()=>[j(f(tt),null,{default:te(()=>[j(f(ui))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),K("button",{type:"button","aria-label":f(T)("el.datepicker.nextYear"),class:F([f(g).e("icon-btn"),"d-arrow-right"]),onClick:re},[pe(oe.$slots,"next-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(fi))]),_:1})])],10,["aria-label"]),K("button",{type:"button",class:F([f(g).e("icon-btn"),"arrow-right"]),"aria-label":f(T)("el.datepicker.nextMonth"),onClick:ge},[pe(oe.$slots,"next-month",{},()=>[j(f(tt),null,{default:te(()=>[j(f(Ws))]),_:1})])],10,["aria-label"]),K("div",null,Ne(f(I)),1)],2),j(Vg,{"selection-mode":"range",date:p.value,"min-date":f(v),"max-date":f(m),"range-state":f(y),"disabled-date":f(r),"cell-class-name":f(o),onChangerange:f(b),onPick:xe,onSelect:f(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),f(Te)?(D(),H("div",{key:0,class:F(f(g).e("footer"))},[f(i)?(D(),_e(f(rs),{key:0,text:"",size:"small",class:F(f(g).e("link-btn")),onClick:gt},{default:te(()=>[St(Ne(f(T)("el.datepicker.clear")),1)]),_:1},8,["class"])):he("v-if",!0),j(f(rs),{plain:"",size:"small",class:F(f(g).e("link-btn")),disabled:f(Pe),onClick:ne=>f(S)(!1)},{default:te(()=>[St(Ne(f(T)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):he("v-if",!0)],2))}});var _G=He(SG,[["__file","panel-date-range.vue"]]);const wG=$e({...Kb}),CG=["pick","set-picker-option","calendar-change"],xG=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:s}=Ut(),r=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},o=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{e.value=e.value.add(1,"year")},i=()=>{n.value=n.value.subtract(1,"year")},l=R(()=>`${e.value.year()} ${s("el.datepicker.year")}`),c=R(()=>`${n.value.year()} ${s("el.datepicker.year")}`),u=R(()=>e.value.year()),d=R(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:r,rightNextYear:o,leftNextYear:a,rightPrevYear:i,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},Mf="year",AG=se({name:"DatePickerMonthRange"}),EG=se({...AG,props:wG,emits:CG,setup(t,{emit:e}){const n=t,{lang:s}=Ut(),r=Qe("EP_PICKER_BASE"),{shortcuts:o,disabledDate:a}=r.props,i=Yt(r.props,"format"),l=Yt(r.props,"defaultValue"),c=z(yt().locale(s.value)),u=z(yt().locale(s.value).add(1,Mf)),{minDate:d,maxDate:h,rangeState:p,ppNs:v,drpNs:m,handleChangeRange:y,handleRangeConfirm:g,handleShortcutClick:_,onSelect:b}=y2(n,{defaultValue:l,leftDate:c,rightDate:u,unit:Mf,onParsedValueChanged:L}),S=R(()=>!!o.length),{leftPrevYear:w,rightNextYear:C,leftNextYear:A,rightPrevYear:T,leftLabel:x,rightLabel:E,leftYear:M,rightYear:I}=xG({unlinkPanels:Yt(n,"unlinkPanels"),leftDate:c,rightDate:u}),k=R(()=>n.unlinkPanels&&I.value>M.value+1),U=(O,$=!0)=>{const W=O.minDate,ee=O.maxDate;h.value===ee&&d.value===W||(e("calendar-change",[W.toDate(),ee&&ee.toDate()]),h.value=ee,d.value=W,$&&g())},B=()=>{c.value=qb(f(l),{lang:f(s),unit:"year",unlinkPanels:n.unlinkPanels})[0],u.value=c.value.add(1,"year"),e("pick",null)},P=O=>Ue(O)?O.map($=>$.format(i.value)):O.format(i.value),N=O=>Ue(O)?O.map($=>yt($,i.value).locale(s.value)):yt(O,i.value).locale(s.value);function L(O,$){if(n.unlinkPanels&&$){const W=(O==null?void 0:O.year())||0,ee=$.year();u.value=W===ee?$.add(1,Mf):$}else u.value=c.value.add(1,Mf)}return e("set-picker-option",["isValidValue",Hc]),e("set-picker-option",["formatToString",P]),e("set-picker-option",["parseUserInput",N]),e("set-picker-option",["handleClear",B]),(O,$)=>(D(),H("div",{class:F([f(v).b(),f(m).b(),{"has-sidebar":!!O.$slots.sidebar||f(S)}])},[K("div",{class:F(f(v).e("body-wrapper"))},[pe(O.$slots,"sidebar",{class:F(f(v).e("sidebar"))}),f(S)?(D(),H("div",{key:0,class:F(f(v).e("sidebar"))},[(D(!0),H(Ze,null,Tt(f(o),(W,ee)=>(D(),H("button",{key:ee,type:"button",class:F(f(v).e("shortcut")),onClick:Y=>f(_)(W)},Ne(W.text),11,["onClick"]))),128))],2)):he("v-if",!0),K("div",{class:F(f(v).e("body"))},[K("div",{class:F([[f(v).e("content"),f(m).e("content")],"is-left"])},[K("div",{class:F(f(m).e("header"))},[K("button",{type:"button",class:F([f(v).e("icon-btn"),"d-arrow-left"]),onClick:f(w)},[pe(O.$slots,"prev-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(di))]),_:1})])],10,["onClick"]),O.unlinkPanels?(D(),H("button",{key:0,type:"button",disabled:!f(k),class:F([[f(v).e("icon-btn"),{[f(v).is("disabled")]:!f(k)}],"d-arrow-right"]),onClick:f(A)},[pe(O.$slots,"next-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(fi))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),K("div",null,Ne(f(x)),1)],2),j(Wg,{"selection-mode":"range",date:c.value,"min-date":f(d),"max-date":f(h),"range-state":f(p),"disabled-date":f(a),onChangerange:f(y),onPick:U,onSelect:f(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),K("div",{class:F([[f(v).e("content"),f(m).e("content")],"is-right"])},[K("div",{class:F(f(m).e("header"))},[O.unlinkPanels?(D(),H("button",{key:0,type:"button",disabled:!f(k),class:F([[f(v).e("icon-btn"),{"is-disabled":!f(k)}],"d-arrow-left"]),onClick:f(T)},[pe(O.$slots,"prev-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(di))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),K("button",{type:"button",class:F([f(v).e("icon-btn"),"d-arrow-right"]),onClick:f(C)},[pe(O.$slots,"next-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(fi))]),_:1})])],10,["onClick"]),K("div",null,Ne(f(E)),1)],2),j(Wg,{"selection-mode":"range",date:u.value,"min-date":f(d),"max-date":f(h),"range-state":f(p),"disabled-date":f(a),onChangerange:f(y),onPick:U,onSelect:f(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var TG=He(EG,[["__file","panel-month-range.vue"]]);const MG=$e({...Kb}),IG=["pick","set-picker-option","calendar-change"],RG=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const s=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},r=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},o=()=>{e.value=e.value.add(10,"year")},a=()=>{n.value=n.value.subtract(10,"year")},i=R(()=>{const d=Math.floor(e.value.year()/10)*10;return`${d}-${d+9}`}),l=R(()=>{const d=Math.floor(n.value.year()/10)*10;return`${d}-${d+9}`}),c=R(()=>Math.floor(e.value.year()/10)*10+9),u=R(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:s,rightNextYear:r,leftNextYear:o,rightPrevYear:a,leftLabel:i,rightLabel:l,leftYear:c,rightYear:u}},WC="year",PG=se({name:"DatePickerYearRange"}),DG=se({...PG,props:MG,emits:IG,setup(t,{emit:e}){const n=t,{lang:s}=Ut(),r=z(yt().locale(s.value)),o=z(r.value.add(10,"year")),{pickerNs:a}=Qe(vm),i=Le("date-range-picker"),l=R(()=>!!U.length),c=R(()=>[a.b(),i.b(),{"has-sidebar":!!Gn().sidebar||l.value}]),u=R(()=>({content:[a.e("content"),i.e("content"),"is-left"],arrowLeftBtn:[a.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),{[a.is("disabled")]:!w.value},"d-arrow-right"]})),d=R(()=>({content:[a.e("content"),i.e("content"),"is-right"],arrowLeftBtn:[a.e("icon-btn"),{"is-disabled":!w.value},"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),"d-arrow-right"]})),h=g2(s),{leftPrevYear:p,rightNextYear:v,leftNextYear:m,rightPrevYear:y,leftLabel:g,rightLabel:_,leftYear:b,rightYear:S}=RG({unlinkPanels:Yt(n,"unlinkPanels"),leftDate:r,rightDate:o}),w=R(()=>n.unlinkPanels&&S.value>b.value+1),C=z(),A=z(),T=z({endDate:null,selecting:!1}),x=Y=>{T.value=Y},E=(Y,Z=!0)=>{const ae=Y.minDate,ue=Y.maxDate;A.value===ue&&C.value===ae||(e("calendar-change",[ae.toDate(),ue&&ue.toDate()]),A.value=ue,C.value=ae,Z&&M())},M=(Y=!1)=>{Hc([C.value,A.value])&&e("pick",[C.value,A.value],Y)},I=Y=>{T.value.selecting=Y,Y||(T.value.endDate=null)},k=Qe("EP_PICKER_BASE"),{shortcuts:U,disabledDate:B}=k.props,P=Yt(k.props,"format"),N=Yt(k.props,"defaultValue"),L=()=>{let Y;if(Ue(N.value)){const Z=yt(N.value[0]);let ae=yt(N.value[1]);return n.unlinkPanels||(ae=Z.add(10,WC)),[Z,ae]}else N.value?Y=yt(N.value):Y=yt();return Y=Y.locale(s.value),[Y,Y.add(10,WC)]};De(()=>N.value,Y=>{if(Y){const Z=L();r.value=Z[0],o.value=Z[1]}},{immediate:!0}),De(()=>n.parsedValue,Y=>{if(Y&&Y.length===2)if(C.value=Y[0],A.value=Y[1],r.value=C.value,n.unlinkPanels&&A.value){const Z=C.value.year(),ae=A.value.year();o.value=Z===ae?A.value.add(10,"year"):A.value}else o.value=r.value.add(10,"year");else{const Z=L();C.value=void 0,A.value=void 0,r.value=Z[0],o.value=Z[1]}},{immediate:!0});const O=Y=>Ue(Y)?Y.map(Z=>yt(Z,P.value).locale(s.value)):yt(Y,P.value).locale(s.value),$=Y=>Ue(Y)?Y.map(Z=>Z.format(P.value)):Y.format(P.value),W=Y=>Hc(Y)&&(B?!B(Y[0].toDate())&&!B(Y[1].toDate()):!0),ee=()=>{const Y=L();r.value=Y[0],o.value=Y[1],A.value=void 0,C.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",W]),e("set-picker-option",["parseUserInput",O]),e("set-picker-option",["formatToString",$]),e("set-picker-option",["handleClear",ee]),(Y,Z)=>(D(),H("div",{class:F(f(c))},[K("div",{class:F(f(a).e("body-wrapper"))},[pe(Y.$slots,"sidebar",{class:F(f(a).e("sidebar"))}),f(l)?(D(),H("div",{key:0,class:F(f(a).e("sidebar"))},[(D(!0),H(Ze,null,Tt(f(U),(ae,ue)=>(D(),H("button",{key:ue,type:"button",class:F(f(a).e("shortcut")),onClick:re=>f(h)(ae)},Ne(ae.text),11,["onClick"]))),128))],2)):he("v-if",!0),K("div",{class:F(f(a).e("body"))},[K("div",{class:F(f(u).content)},[K("div",{class:F(f(i).e("header"))},[K("button",{type:"button",class:F(f(u).arrowLeftBtn),onClick:f(p)},[pe(Y.$slots,"prev-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(di))]),_:1})])],10,["onClick"]),Y.unlinkPanels?(D(),H("button",{key:0,type:"button",disabled:!f(w),class:F(f(u).arrowRightBtn),onClick:f(m)},[pe(Y.$slots,"next-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(fi))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),K("div",null,Ne(f(g)),1)],2),j(Gg,{"selection-mode":"range",date:r.value,"min-date":C.value,"max-date":A.value,"range-state":T.value,"disabled-date":f(B),onChangerange:x,onPick:E,onSelect:I},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),K("div",{class:F(f(d).content)},[K("div",{class:F(f(i).e("header"))},[Y.unlinkPanels?(D(),H("button",{key:0,type:"button",disabled:!f(w),class:F(f(d).arrowLeftBtn),onClick:f(y)},[pe(Y.$slots,"prev-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(di))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),K("button",{type:"button",class:F(f(d).arrowRightBtn),onClick:f(v)},[pe(Y.$slots,"next-year",{},()=>[j(f(tt),null,{default:te(()=>[j(f(fi))]),_:1})])],10,["onClick"]),K("div",null,Ne(f(_)),1)],2),j(Gg,{"selection-mode":"range",date:o.value,"min-date":C.value,"max-date":A.value,"range-state":T.value,"disabled-date":f(B),onChangerange:x,onPick:E,onSelect:I},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var kG=He(DG,[["__file","panel-year-range.vue"]]);const LG=function(t){switch(t){case"daterange":case"datetimerange":return _G;case"monthrange":return TG;case"yearrange":return kG;default:return yG}};yt.extend(FM);yt.extend(yW);yt.extend(Vb);yt.extend(wW);yt.extend(EW);yt.extend(RW);yt.extend(LW);yt.extend(NW);var OG=se({name:"ElDatePicker",install:null,props:sG,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:s}){const r=Le("picker-panel");Bt("ElPopperOptions",qt(Yt(t,"popperOptions"))),Bt(vm,{slots:s,pickerNs:r});const o=z();e({focus:()=>{var l;(l=o.value)==null||l.focus()},blur:()=>{var l;(l=o.value)==null||l.blur()},handleOpen:()=>{var l;(l=o.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=o.value)==null||l.handleClose()}});const i=l=>{n("update:modelValue",l)};return()=>{var l;const c=(l=t.format)!=null?l:UW[t.type]||rc,u=LG(t.type);return j(d2,Dt(t,{format:c,type:t.type,ref:o,"onUpdate:modelValue":i}),{default:d=>j(u,d,{"prev-month":s["prev-month"],"next-month":s["next-month"],"prev-year":s["prev-year"],"next-year":s["next-year"]}),"range-separator":s["range-separator"]})}}});const BG=_t(OG),Xb=Symbol("elDescriptions");var Mu=se({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Qe(Xb,{})}},render(){var t;const e=k8(this.cell),n=(((t=this.cell)==null?void 0:t.dirs)||[]).map(g=>{const{dir:_,arg:b,modifiers:S,value:w}=g;return[_,w,b,S]}),{border:s,direction:r}=this.descriptions,o=r==="vertical",a=()=>{var g,_,b;return((b=(_=(g=this.cell)==null?void 0:g.children)==null?void 0:_.label)==null?void 0:b.call(_))||e.label},i=()=>{var g,_,b;return(b=(_=(g=this.cell)==null?void 0:g.children)==null?void 0:_.default)==null?void 0:b.call(_)},l=e.span,c=e.rowspan,u=e.align?`is-${e.align}`:"",d=e.labelAlign?`is-${e.labelAlign}`:u,h=e.className,p=e.labelClassName,v=this.type==="label"&&(e.labelWidth||this.descriptions.labelWidth)||e.width,m={width:Rn(v),minWidth:Rn(e.minWidth)},y=Le("descriptions");switch(this.type){case"label":return Ct(st(this.tag,{style:m,class:[y.e("cell"),y.e("label"),y.is("bordered-label",s),y.is("vertical-label",o),d,p],colSpan:o?l:1,rowspan:o?1:c},a()),n);case"content":return Ct(st(this.tag,{style:m,class:[y.e("cell"),y.e("content"),y.is("bordered-content",s),y.is("vertical-content",o),u,h],colSpan:o?l:l*2-1,rowspan:o?c*2-1:c},i()),n);default:{const g=a();return Ct(st("td",{style:m,class:[y.e("cell"),u],colSpan:l,rowspan:c},[es(g)?void 0:st("span",{class:[y.e("label"),p]},g),st("span",{class:[y.e("content"),h]},i())]),n)}}}});const FG=$e({row:{type:le(Array),default:()=>[]}}),NG=se({name:"ElDescriptionsRow"}),UG=se({...NG,props:FG,setup(t){const e=Qe(Xb,{});return(n,s)=>f(e).direction==="vertical"?(D(),H(Ze,{key:0},[K("tr",null,[(D(!0),H(Ze,null,Tt(n.row,(r,o)=>(D(),_e(f(Mu),{key:`tr1-${o}`,cell:r,tag:"th",type:"label"},null,8,["cell"]))),128))]),K("tr",null,[(D(!0),H(Ze,null,Tt(n.row,(r,o)=>(D(),_e(f(Mu),{key:`tr2-${o}`,cell:r,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(D(),H("tr",{key:1},[(D(!0),H(Ze,null,Tt(n.row,(r,o)=>(D(),H(Ze,{key:`tr3-${o}`},[f(e).border?(D(),H(Ze,{key:0},[j(f(Mu),{cell:r,tag:"td",type:"label"},null,8,["cell"]),j(f(Mu),{cell:r,tag:"td",type:"content"},null,8,["cell"])],64)):(D(),_e(f(Mu),{key:1,cell:r,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var zG=He(UG,[["__file","descriptions-row.vue"]]);const $G=$e({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Wn,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),HG=se({name:"ElDescriptions"}),VG=se({...HG,props:$G,setup(t){const e=t,n=Le("descriptions"),s=Hn(),r=Gn();Bt(Xb,e);const o=R(()=>[n.b(),n.m(s.value)]),a=(l,c,u,d=!1)=>(l.props||(l.props={}),c>u&&(l.props.span=u),d&&(l.props.span=c),l),i=()=>{if(!r.default)return[];const l=ei(r.default()).filter(v=>{var m;return((m=v==null?void 0:v.type)==null?void 0:m.name)==="ElDescriptionsItem"}),c=[];let u=[],d=e.column,h=0;const p=[];return l.forEach((v,m)=>{var y,g,_;const b=((y=v.props)==null?void 0:y.span)||1,S=((g=v.props)==null?void 0:g.rowspan)||1,w=c.length;if(p[w]||(p[w]=0),S>1)for(let C=1;C<S;C++)p[_=w+C]||(p[_]=0),p[w+C]++,h++;if(p[w]>0&&(d-=p[w],p[w]=0),m<l.length-1&&(h+=b>d?d:b),m===l.length-1){const C=e.column-h%e.column;u.push(a(v,C,d,!0)),c.push(u);return}b<d?(d-=b,u.push(v)):(u.push(a(v,b,d)),c.push(u),d=e.column,u=[])}),c};return(l,c)=>(D(),H("div",{class:F(f(o))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(D(),H("div",{key:0,class:F(f(n).e("header"))},[K("div",{class:F(f(n).e("title"))},[pe(l.$slots,"title",{},()=>[St(Ne(l.title),1)])],2),K("div",{class:F(f(n).e("extra"))},[pe(l.$slots,"extra",{},()=>[St(Ne(l.extra),1)])],2)],2)):he("v-if",!0),K("div",{class:F(f(n).e("body"))},[K("table",{class:F([f(n).e("table"),f(n).is("bordered",l.border)])},[K("tbody",null,[(D(!0),H(Ze,null,Tt(i(),(u,d)=>(D(),_e(zG,{key:d,row:u},null,8,["row"]))),128))])],2)],2)],2))}});var WG=He(VG,[["__file","description.vue"]]);const GG=$e({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),b2=se({name:"ElDescriptionsItem",props:GG}),KG=_t(WG,{DescriptionsItem:b2}),jG=Tn(b2),Qb=t=>{if(!t)return{onClick:Zt,onMousedown:Zt,onMouseup:Zt};let e=!1,n=!1;return{onClick:a=>{e&&n&&t(a),e=n=!1},onMousedown:a=>{e=a.target===a.currentTarget},onMouseup:a=>{n=a.target===a.currentTarget}}},qG=$e({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:le([String,Array,Object])},zIndex:{type:le([String,Number])}}),YG={click:t=>t instanceof MouseEvent},XG="overlay";var QG=se({name:"ElOverlay",props:qG,emits:YG,setup(t,{slots:e,emit:n}){const s=Le(XG),r=l=>{n("click",l)},{onClick:o,onMousedown:a,onMouseup:i}=Qb(t.customMaskEvent?void 0:r);return()=>t.mask?j("div",{class:[s.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:o,onMousedown:a,onMouseup:i},[pe(e,"default")],Pr.STYLE|Pr.CLASS|Pr.PROPS,["onClick","onMouseup","onMousedown"]):st("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[pe(e,"default")])}});const Zb=QG,S2=Symbol("dialogInjectionKey"),_2=$e({center:Boolean,alignCenter:Boolean,closeIcon:{type:sn},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ZG={close:()=>!0},w2=(t,e,n,s)=>{let r={offsetX:0,offsetY:0};const o=c=>{const u=c.clientX,d=c.clientY,{offsetX:h,offsetY:p}=r,v=t.value.getBoundingClientRect(),m=v.left,y=v.top,g=v.width,_=v.height,b=document.documentElement.clientWidth,S=document.documentElement.clientHeight,w=-m+h,C=-y+p,A=b-m-g+h,T=S-y-_+p,x=M=>{let I=h+M.clientX-u,k=p+M.clientY-d;s!=null&&s.value||(I=Math.min(Math.max(I,w),A),k=Math.min(Math.max(k,C),T)),r={offsetX:I,offsetY:k},t.value&&(t.value.style.transform=`translate(${Rn(I)}, ${Rn(k)})`)},E=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",E)},a=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",o)},i=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",o)},l=()=>{r={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return wt(()=>{_s(()=>{n.value?a():i()})}),Qt(()=>{i()}),{resetPosition:l}},gm=(...t)=>e=>{t.forEach(n=>{ct(n)?n(e):n.value=e})},JG=se({name:"ElDialogContent"}),e9=se({...JG,props:_2,emits:ZG,setup(t,{expose:e}){const n=t,{t:s}=Ut(),{Close:r}=wb,{dialogRef:o,headerRef:a,bodyId:i,ns:l,style:c}=Qe(S2),{focusTrapRef:u}=Qe(Mb),d=R(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),h=gm(u,o),p=R(()=>n.draggable),v=R(()=>n.overflow),{resetPosition:m}=w2(o,a,p,v);return e({resetPosition:m}),(y,g)=>(D(),H("div",{ref:f(h),class:F(f(d)),style:rt(f(c)),tabindex:"-1"},[K("header",{ref_key:"headerRef",ref:a,class:F([f(l).e("header"),{"show-close":y.showClose}])},[pe(y.$slots,"header",{},()=>[K("span",{role:"heading","aria-level":y.ariaLevel,class:F(f(l).e("title"))},Ne(y.title),11,["aria-level"])]),y.showClose?(D(),H("button",{key:0,"aria-label":f(s)("el.dialog.close"),class:F(f(l).e("headerbtn")),type:"button",onClick:_=>y.$emit("close")},[j(f(tt),{class:F(f(l).e("close"))},{default:te(()=>[(D(),_e(Rt(y.closeIcon||f(r))))]),_:1},8,["class"])],10,["aria-label","onClick"])):he("v-if",!0)],2),K("div",{id:f(i),class:F(f(l).e("body"))},[pe(y.$slots,"default")],10,["id"]),y.$slots.footer?(D(),H("footer",{key:0,class:F(f(l).e("footer"))},[pe(y.$slots,"footer")],2)):he("v-if",!0)],6))}});var t9=He(e9,[["__file","dialog-content.vue"]]);const C2=$e({..._2,appendToBody:Boolean,appendTo:{type:le([String,Object]),default:"body"},beforeClose:{type:le(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),x2={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Et]:t=>ln(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Jb=(t,e={})=>{fn(t)||Qn("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Le("popup"),s=R(()=>n.bm("parent","hidden"));if(!Nt||nr(document.body,s.value))return;let r=0,o=!1,a="0";const i=()=>{setTimeout(()=>{typeof document>"u"||(Os(document==null?void 0:document.body,s.value),o&&document&&(document.body.style.width=a))},200)};De(t,l=>{if(!l){i();return}o=!nr(document.body,s.value),o&&(a=document.body.style.width),r=GT(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,u=na(document.body,"overflowY");r>0&&(c||u==="scroll")&&o&&(document.body.style.width=`calc(100% - ${r}px)`),Br(document.body,s.value)}),NA(()=>i())},A2=(t,e)=>{var n;const r=It().emit,{nextZIndex:o}=fu();let a="";const i=hs(),l=hs(),c=z(!1),u=z(!1),d=z(!1),h=z((n=t.zIndex)!=null?n:o());let p,v;const m=im("namespace",ju),y=R(()=>{const B={},P=`--${m.value}-dialog`;return t.fullscreen||(t.top&&(B[`${P}-margin-top`]=t.top),t.width&&(B[`${P}-width`]=Rn(t.width))),B}),g=R(()=>t.alignCenter?{display:"flex"}:{});function _(){r("opened")}function b(){r("closed"),r(Et,!1),t.destroyOnClose&&(d.value=!1)}function S(){r("close")}function w(){v==null||v(),p==null||p(),t.openDelay&&t.openDelay>0?{stop:p}=dl(()=>x(),t.openDelay):x()}function C(){p==null||p(),v==null||v(),t.closeDelay&&t.closeDelay>0?{stop:v}=dl(()=>E(),t.closeDelay):E()}function A(){function B(P){P||(u.value=!0,c.value=!1)}t.beforeClose?t.beforeClose(B):C()}function T(){t.closeOnClickModal&&A()}function x(){Nt&&(c.value=!0)}function E(){c.value=!1}function M(){r("openAutoFocus")}function I(){r("closeAutoFocus")}function k(B){var P;((P=B.detail)==null?void 0:P.focusReason)==="pointer"&&B.preventDefault()}t.lockScroll&&Jb(c);function U(){t.closeOnPressEscape&&A()}return De(()=>t.modelValue,B=>{B?(u.value=!1,w(),d.value=!0,h.value=TT(t.zIndex)?o():h.value++,lt(()=>{r("open"),e.value&&(e.value.scrollTop=0)})):c.value&&C()}),De(()=>t.fullscreen,B=>{e.value&&(B?(a=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=a)}),wt(()=>{t.modelValue&&(c.value=!0,d.value=!0,w())}),{afterEnter:_,afterLeave:b,beforeLeave:S,handleClose:A,onModalClick:T,close:C,doClose:E,onOpenAutoFocus:M,onCloseAutoFocus:I,onCloseRequested:U,onFocusoutPrevented:k,titleId:i,bodyId:l,closed:u,style:y,overlayDialogStyle:g,rendered:d,visible:c,zIndex:h}},n9=se({name:"ElDialog",inheritAttrs:!1}),s9=se({...n9,props:C2,emits:x2,setup(t,{expose:e}){const n=t,s=Gn();Za({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},R(()=>!!s.title));const r=Le("dialog"),o=z(),a=z(),i=z(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:h,rendered:p,zIndex:v,afterEnter:m,afterLeave:y,beforeLeave:g,handleClose:_,onModalClick:b,onOpenAutoFocus:S,onCloseAutoFocus:w,onCloseRequested:C,onFocusoutPrevented:A}=A2(n,o);Bt(S2,{dialogRef:o,headerRef:a,bodyId:u,ns:r,rendered:p,style:d});const T=Qb(b),x=R(()=>n.draggable&&!n.fullscreen);return e({visible:l,dialogContentRef:i,resetPosition:()=>{var M;(M=i.value)==null||M.resetPosition()}}),(M,I)=>(D(),_e(f(mu),{to:M.appendTo,disabled:M.appendTo!=="body"?!1:!M.appendToBody},{default:te(()=>[j(Xn,{name:"dialog-fade",onAfterEnter:f(m),onAfterLeave:f(y),onBeforeLeave:f(g),persisted:""},{default:te(()=>[Ct(j(f(Zb),{"custom-mask-event":"",mask:M.modal,"overlay-class":M.modalClass,"z-index":f(v)},{default:te(()=>[K("div",{role:"dialog","aria-modal":"true","aria-label":M.title||void 0,"aria-labelledby":M.title?void 0:f(c),"aria-describedby":f(u),class:F(`${f(r).namespace.value}-overlay-dialog`),style:rt(f(h)),onClick:f(T).onClick,onMousedown:f(T).onMousedown,onMouseup:f(T).onMouseup},[j(f(hu),{loop:"",trapped:f(l),"focus-start-el":"container",onFocusAfterTrapped:f(S),onFocusAfterReleased:f(w),onFocusoutPrevented:f(A),onReleaseRequested:f(C)},{default:te(()=>[f(p)?(D(),_e(t9,Dt({key:0,ref_key:"dialogContentRef",ref:i},M.$attrs,{center:M.center,"align-center":M.alignCenter,"close-icon":M.closeIcon,draggable:f(x),overflow:M.overflow,fullscreen:M.fullscreen,"show-close":M.showClose,title:M.title,"aria-level":M.headerAriaLevel,onClose:f(_)}),Hr({header:te(()=>[M.$slots.title?pe(M.$slots,"title",{key:1}):pe(M.$slots,"header",{key:0,close:f(_),titleId:f(c),titleClass:f(r).e("title")})]),default:te(()=>[pe(M.$slots,"default")]),_:2},[M.$slots.footer?{name:"footer",fn:te(()=>[pe(M.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):he("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Vt,f(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var r9=He(s9,[["__file","dialog.vue"]]);const o9=_t(r9),a9=$e({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:le(String),default:"solid"}}),i9=se({name:"ElDivider"}),l9=se({...i9,props:a9,setup(t){const e=t,n=Le("divider"),s=R(()=>n.cssVar({"border-style":e.borderStyle}));return(r,o)=>(D(),H("div",{class:F([f(n).b(),f(n).m(r.direction)]),style:rt(f(s)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(D(),H("div",{key:0,class:F([f(n).e("text"),f(n).is(r.contentPosition)])},[pe(r.$slots,"default")],2)):he("v-if",!0)],6))}});var c9=He(l9,[["__file","divider.vue"]]);const E2=_t(c9),u9=$e({...C2,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),d9=x2,f9=se({name:"ElDrawer",inheritAttrs:!1}),p9=se({...f9,props:u9,emits:d9,setup(t,{expose:e}){const n=t,s=Gn();Za({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},R(()=>!!s.title));const r=z(),o=z(),a=Le("drawer"),{t:i}=Ut(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:d,rendered:h,titleId:p,bodyId:v,zIndex:m,onModalClick:y,onOpenAutoFocus:g,onCloseAutoFocus:_,onFocusoutPrevented:b,onCloseRequested:S,handleClose:w}=A2(n,r),C=R(()=>n.direction==="rtl"||n.direction==="ltr"),A=R(()=>Rn(n.size));return e({handleClose:w,afterEnter:l,afterLeave:c}),(T,x)=>(D(),_e(f(mu),{to:T.appendTo,disabled:T.appendTo!=="body"?!1:!T.appendToBody},{default:te(()=>[j(Xn,{name:f(a).b("fade"),onAfterEnter:f(l),onAfterLeave:f(c),onBeforeLeave:f(u),persisted:""},{default:te(()=>[Ct(j(f(Zb),{mask:T.modal,"overlay-class":T.modalClass,"z-index":f(m),onClick:f(y)},{default:te(()=>[j(f(hu),{loop:"",trapped:f(d),"focus-trap-el":r.value,"focus-start-el":o.value,onFocusAfterTrapped:f(g),onFocusAfterReleased:f(_),onFocusoutPrevented:f(b),onReleaseRequested:f(S)},{default:te(()=>[K("div",Dt({ref_key:"drawerRef",ref:r,"aria-modal":"true","aria-label":T.title||void 0,"aria-labelledby":T.title?void 0:f(p),"aria-describedby":f(v)},T.$attrs,{class:[f(a).b(),T.direction,f(d)&&"open"],style:f(C)?"width: "+f(A):"height: "+f(A),role:"dialog",onClick:pt(()=>{},["stop"])}),[K("span",{ref_key:"focusStartRef",ref:o,class:F(f(a).e("sr-focus")),tabindex:"-1"},null,2),T.withHeader?(D(),H("header",{key:0,class:F(f(a).e("header"))},[T.$slots.title?pe(T.$slots,"title",{key:1},()=>[he(" DEPRECATED SLOT ")]):pe(T.$slots,"header",{key:0,close:f(w),titleId:f(p),titleClass:f(a).e("title")},()=>[T.$slots.title?he("v-if",!0):(D(),H("span",{key:0,id:f(p),role:"heading","aria-level":T.headerAriaLevel,class:F(f(a).e("title"))},Ne(T.title),11,["id","aria-level"]))]),T.showClose?(D(),H("button",{key:2,"aria-label":f(i)("el.drawer.close"),class:F(f(a).e("close-btn")),type:"button",onClick:f(w)},[j(f(tt),{class:F(f(a).e("close"))},{default:te(()=>[j(f(mo))]),_:1},8,["class"])],10,["aria-label","onClick"])):he("v-if",!0)],2)):he("v-if",!0),f(h)?(D(),H("div",{key:1,id:f(v),class:F(f(a).e("body"))},[pe(T.$slots,"default")],10,["id"])):he("v-if",!0),T.$slots.footer?(D(),H("div",{key:2,class:F(f(a).e("footer"))},[pe(T.$slots,"footer")],2)):he("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Vt,f(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var h9=He(p9,[["__file","drawer.vue"]]);const m9=_t(h9),v9=se({inheritAttrs:!1});function g9(t,e,n,s,r,o){return pe(t.$slots,"default")}var y9=He(v9,[["render",g9],["__file","collection.vue"]]);const b9=se({name:"ElCollectionItem",inheritAttrs:!1});function S9(t,e,n,s,r,o){return pe(t.$slots,"default")}var _9=He(b9,[["render",S9],["__file","collection-item.vue"]]);const T2="data-el-collection-item",M2=t=>{const e=`El${t}Collection`,n=`${e}Item`,s=Symbol(e),r=Symbol(n),o={...y9,name:e,setup(){const i=z(null),l=new Map;Bt(s,{itemMap:l,getItems:()=>{const u=f(i);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${T2}]`));return[...l.values()].sort((p,v)=>d.indexOf(p.ref)-d.indexOf(v.ref))},collectionRef:i})}},a={..._9,name:n,setup(i,{attrs:l}){const c=z(null),u=Qe(s,void 0);Bt(r,{collectionItemRef:c}),wt(()=>{const d=f(c);d&&u.itemMap.set(d,{ref:d,...l})}),Qt(()=>{const d=f(c);u.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:o,ElCollectionItem:a}},w9=$e({style:{type:le([String,Array,Object])},currentTabId:{type:le(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:le(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:C9,ElCollectionItem:x9,COLLECTION_INJECTION_KEY:eS,COLLECTION_ITEM_INJECTION_KEY:A9}=M2("RovingFocusGroup"),tS=Symbol("elRovingFocusGroup"),I2=Symbol("elRovingFocusGroupItem"),E9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},T9=(t,e)=>t,M9=(t,e,n)=>{const s=T9(t.code);return E9[s]},I9=(t,e)=>t.map((n,s)=>t[(s+e)%t.length]),nS=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},GC="currentTabIdChange",KC="rovingFocusGroup.entryFocus",R9={bubbles:!1,cancelable:!0},P9=se({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:w9,emits:[GC,"entryFocus"],setup(t,{emit:e}){var n;const s=z((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),r=z(!1),o=z(!1),a=z(null),{getItems:i}=Qe(eS,void 0),l=R(()=>[{outline:"none"},t.style]),c=m=>{e(GC,m)},u=()=>{r.value=!0},d=In(m=>{var y;(y=t.onMousedown)==null||y.call(t,m)},()=>{o.value=!0}),h=In(m=>{var y;(y=t.onFocus)==null||y.call(t,m)},m=>{const y=!f(o),{target:g,currentTarget:_}=m;if(g===_&&y&&!f(r)){const b=new Event(KC,R9);if(_==null||_.dispatchEvent(b),!b.defaultPrevented){const S=i().filter(x=>x.focusable),w=S.find(x=>x.active),C=S.find(x=>x.id===f(s)),T=[w,C,...S].filter(Boolean).map(x=>x.ref);nS(T)}}o.value=!1}),p=In(m=>{var y;(y=t.onBlur)==null||y.call(t,m)},()=>{r.value=!1}),v=(...m)=>{e("entryFocus",...m)};Bt(tS,{currentTabbedId:au(s),loop:Yt(t,"loop"),tabIndex:R(()=>f(r)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:l,orientation:Yt(t,"orientation"),dir:Yt(t,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:p,onFocus:h,onMousedown:d}),De(()=>t.currentTabId,m=>{s.value=m??null}),en(a,KC,v)}});function D9(t,e,n,s,r,o){return pe(t.$slots,"default")}var k9=He(P9,[["render",D9],["__file","roving-focus-group-impl.vue"]]);const L9=se({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:C9,ElRovingFocusGroupImpl:k9}});function O9(t,e,n,s,r,o){const a=et("el-roving-focus-group-impl"),i=et("el-focus-group-collection");return D(),_e(i,null,{default:te(()=>[j(a,lo(ai(t.$attrs)),{default:te(()=>[pe(t.$slots,"default")]),_:3},16)]),_:3})}var B9=He(L9,[["render",O9],["__file","roving-focus-group.vue"]]);const Pp=$e({trigger:xd.trigger,triggerKeys:{type:le(Array),default:()=>[qe.enter,qe.numpadEnter,qe.space,qe.down]},effect:{...ns.effect,default:"light"},type:{type:le(String)},placement:{type:le(String),default:"bottom"},popperOptions:{type:le(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:le([Number,String]),default:0},maxHeight:{type:le([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:le(Object)},teleported:ns.teleported}),R2=$e({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:sn}}),F9=$e({onKeydown:{type:le(Function)}}),N9=[qe.down,qe.pageDown,qe.home],P2=[qe.up,qe.pageUp,qe.end],U9=[...N9,...P2],{ElCollection:z9,ElCollectionItem:$9,COLLECTION_INJECTION_KEY:H9,COLLECTION_ITEM_INJECTION_KEY:V9}=M2("Dropdown"),ym=Symbol("elDropdown"),{ButtonGroup:W9}=rs,G9=se({name:"ElDropdown",components:{ElButton:rs,ElButtonGroup:W9,ElScrollbar:$o,ElDropdownCollection:z9,ElTooltip:xs,ElRovingFocusGroup:B9,ElOnlyChild:lM,ElIcon:tt,ArrowDown:_a},props:Pp,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=It(),s=Le("dropdown"),{t:r}=Ut(),o=z(),a=z(),i=z(null),l=z(null),c=z(null),u=z(null),d=z(!1),h=R(()=>({maxHeight:Rn(t.maxHeight)})),p=R(()=>[s.m(S.value)]),v=R(()=>Ps(t.trigger)),m=hs().value,y=R(()=>t.id||m);De([o,v],([P,N],[L])=>{var O,$,W;(O=L==null?void 0:L.$el)!=null&&O.removeEventListener&&L.$el.removeEventListener("pointerenter",C),($=P==null?void 0:P.$el)!=null&&$.removeEventListener&&P.$el.removeEventListener("pointerenter",C),(W=P==null?void 0:P.$el)!=null&&W.addEventListener&&N.includes("hover")&&P.$el.addEventListener("pointerenter",C)},{immediate:!0}),Qt(()=>{var P,N;(N=(P=o.value)==null?void 0:P.$el)!=null&&N.removeEventListener&&o.value.$el.removeEventListener("pointerenter",C)});function g(){_()}function _(){var P;(P=i.value)==null||P.onClose()}function b(){var P;(P=i.value)==null||P.onOpen()}const S=Hn();function w(...P){e("command",...P)}function C(){var P,N;(N=(P=o.value)==null?void 0:P.$el)==null||N.focus()}function A(){}function T(){const P=f(l);v.value.includes("hover")&&(P==null||P.focus()),u.value=null}function x(P){u.value=P}function E(P){d.value||(P.preventDefault(),P.stopImmediatePropagation())}function M(){e("visible-change",!0)}function I(P){(P==null?void 0:P.type)==="keydown"&&l.value.focus()}function k(){e("visible-change",!1)}return Bt(ym,{contentRef:l,role:R(()=>t.role),triggerId:y,isUsingKeyboard:d,onItemEnter:A,onItemLeave:T}),Bt("elDropdown",{instance:n,dropdownSize:S,handleClick:g,commandHandler:w,trigger:Yt(t,"trigger"),hideOnClick:Yt(t,"hideOnClick")}),{t:r,ns:s,scrollbar:c,wrapStyle:h,dropdownTriggerKls:p,dropdownSize:S,triggerId:y,currentTabId:u,handleCurrentTabIdChange:x,handlerMainButtonClick:P=>{e("click",P)},handleEntryFocus:E,handleClose:_,handleOpen:b,handleBeforeShowTooltip:M,handleShowTooltip:I,handleBeforeHideTooltip:k,onFocusAfterTrapped:P=>{var N,L;P.preventDefault(),(L=(N=l.value)==null?void 0:N.focus)==null||L.call(N,{preventScroll:!0})},popperRef:i,contentRef:l,triggeringElementRef:o,referenceElementRef:a}}});function K9(t,e,n,s,r,o){var a;const i=et("el-dropdown-collection"),l=et("el-roving-focus-group"),c=et("el-scrollbar"),u=et("el-only-child"),d=et("el-tooltip"),h=et("el-button"),p=et("arrow-down"),v=et("el-icon"),m=et("el-button-group");return D(),H("div",{class:F([t.ns.b(),t.ns.is("disabled",t.disabled)])},[j(d,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(a=t.referenceElementRef)==null?void 0:a.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Hr({content:te(()=>[j(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:te(()=>[j(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:te(()=>[j(i,null,{default:te(()=>[pe(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:te(()=>[j(u,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:te(()=>[pe(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(D(),_e(m,{key:0},{default:te(()=>[j(h,Dt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:te(()=>[pe(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),j(h,Dt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:te(()=>[j(v,{class:F(t.ns.e("icon"))},{default:te(()=>[j(p)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):he("v-if",!0)],2)}var j9=He(G9,[["render",K9],["__file","dropdown.vue"]]);const q9=se({components:{ElRovingFocusCollectionItem:x9},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:s,onItemFocus:r,onItemShiftTab:o}=Qe(tS,void 0),{getItems:a}=Qe(eS,void 0),i=hs(),l=z(null),c=In(p=>{e("mousedown",p)},p=>{t.focusable?r(f(i)):p.preventDefault()}),u=In(p=>{e("focus",p)},()=>{r(f(i))}),d=In(p=>{e("keydown",p)},p=>{const{code:v,shiftKey:m,target:y,currentTarget:g}=p;if(v===qe.tab&&m){o();return}if(y!==g)return;const _=M9(p);if(_){p.preventDefault();let S=a().filter(w=>w.focusable).map(w=>w.ref);switch(_){case"last":{S.reverse();break}case"prev":case"next":{_==="prev"&&S.reverse();const w=S.indexOf(g);S=s.value?I9(S,w+1):S.slice(w+1);break}}lt(()=>{nS(S)})}}),h=R(()=>n.value===f(i));return Bt(I2,{rovingFocusGroupItemRef:l,tabIndex:R(()=>f(h)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:i,handleKeydown:d,handleFocus:u,handleMousedown:c}}});function Y9(t,e,n,s,r,o){const a=et("el-roving-focus-collection-item");return D(),_e(a,{id:t.id,focusable:t.focusable,active:t.active},{default:te(()=>[pe(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var X9=He(q9,[["render",Y9],["__file","roving-focus-item.vue"]]);const Q9=se({name:"DropdownItemImpl",components:{ElIcon:tt},props:R2,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Le("dropdown"),{role:s}=Qe(ym,void 0),{collectionItemRef:r}=Qe(V9,void 0),{collectionItemRef:o}=Qe(A9,void 0),{rovingFocusGroupItemRef:a,tabIndex:i,handleFocus:l,handleKeydown:c,handleMousedown:u}=Qe(I2,void 0),d=gm(r,o,a),h=R(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),p=In(v=>{if([qe.enter,qe.numpadEnter,qe.space].includes(v.code))return v.preventDefault(),v.stopImmediatePropagation(),e("clickimpl",v),!0},c);return{ns:n,itemRef:d,dataset:{[T2]:""},role:h,tabIndex:i,handleFocus:l,handleKeydown:p,handleMousedown:u}}});function Z9(t,e,n,s,r,o){const a=et("el-icon");return D(),H(Ze,null,[t.divided?(D(),H("li",{key:0,role:"separator",class:F(t.ns.bem("menu","item","divided"))},null,2)):he("v-if",!0),K("li",Dt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:i=>t.$emit("clickimpl",i),onFocus:t.handleFocus,onKeydown:pt(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:i=>t.$emit("pointermove",i),onPointerleave:i=>t.$emit("pointerleave",i)}),[t.icon?(D(),_e(a,{key:0},{default:te(()=>[(D(),_e(Rt(t.icon)))]),_:1})):he("v-if",!0),pe(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var J9=He(Q9,[["render",Z9],["__file","dropdown-item-impl.vue"]]);const D2=()=>{const t=Qe("elDropdown",{}),e=R(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},eK=se({name:"ElDropdownItem",components:{ElDropdownCollectionItem:$9,ElRovingFocusItem:X9,ElDropdownItemImpl:J9},inheritAttrs:!1,props:R2,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:s}=D2(),r=It(),o=z(null),a=R(()=>{var p,v;return(v=(p=f(o))==null?void 0:p.textContent)!=null?v:""}),{onItemEnter:i,onItemLeave:l}=Qe(ym,void 0),c=In(p=>(e("pointermove",p),p.defaultPrevented),pC(p=>{if(t.disabled){l(p);return}const v=p.currentTarget;v===document.activeElement||v.contains(document.activeElement)||(i(p),p.defaultPrevented||v==null||v.focus())})),u=In(p=>(e("pointerleave",p),p.defaultPrevented),pC(l)),d=In(p=>{if(!t.disabled)return e("click",p),p.type!=="keydown"&&p.defaultPrevented},p=>{var v,m,y;if(t.disabled){p.stopImmediatePropagation();return}(v=s==null?void 0:s.hideOnClick)!=null&&v.value&&((m=s.handleClick)==null||m.call(s)),(y=s.commandHandler)==null||y.call(s,t.command,r,p)}),h=R(()=>({...t,...n}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:a,propsAndAttrs:h}}});function tK(t,e,n,s,r,o){var a;const i=et("el-dropdown-item-impl"),l=et("el-roving-focus-item"),c=et("el-dropdown-collection-item");return D(),_e(c,{disabled:t.disabled,"text-value":(a=t.textValue)!=null?a:t.textContent},{default:te(()=>[j(l,{focusable:!t.disabled},{default:te(()=>[j(i,Dt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:te(()=>[pe(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var k2=He(eK,[["render",tK],["__file","dropdown-item.vue"]]);const nK=se({name:"ElDropdownMenu",props:F9,setup(t){const e=Le("dropdown"),{_elDropdownSize:n}=D2(),s=n.value,{focusTrapRef:r,onKeydown:o}=Qe(Mb,void 0),{contentRef:a,role:i,triggerId:l}=Qe(ym,void 0),{collectionRef:c,getItems:u}=Qe(H9,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:h,tabIndex:p,onBlur:v,onFocus:m,onMousedown:y}=Qe(tS,void 0),{collectionRef:g}=Qe(eS,void 0),_=R(()=>[e.b("menu"),e.bm("menu",s==null?void 0:s.value)]),b=gm(a,c,r,d,g),S=In(C=>{var A;(A=t.onKeydown)==null||A.call(t,C)},C=>{const{currentTarget:A,code:T,target:x}=C;if(A.contains(x),qe.tab===T&&C.stopImmediatePropagation(),C.preventDefault(),x!==f(a)||!U9.includes(T))return;const M=u().filter(I=>!I.disabled).map(I=>I.ref);P2.includes(T)&&M.reverse(),nS(M)});return{size:s,rovingFocusGroupRootStyle:h,tabIndex:p,dropdownKls:_,role:i,triggerId:l,dropdownListWrapperRef:b,handleKeydown:C=>{S(C),o(C)},onBlur:v,onFocus:m,onMousedown:y}}});function sK(t,e,n,s,r,o){return D(),H("ul",{ref:t.dropdownListWrapperRef,class:F(t.dropdownKls),style:rt(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:pt(t.handleKeydown,["self"]),onMousedown:pt(t.onMousedown,["self"])},[pe(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var L2=He(nK,[["render",sK],["__file","dropdown-menu.vue"]]);const rK=_t(j9,{DropdownItem:k2,DropdownMenu:L2}),oK=Tn(k2),aK=Tn(L2),iK=se({name:"ImgEmpty"}),lK=se({...iK,setup(t){const e=Le("empty"),n=hs();return(s,r)=>(D(),H("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[K("defs",null,[K("linearGradient",{id:`linearGradient-1-${f(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[K("stop",{"stop-color":`var(${f(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),K("stop",{"stop-color":`var(${f(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),K("linearGradient",{id:`linearGradient-2-${f(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[K("stop",{"stop-color":`var(${f(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),K("stop",{"stop-color":`var(${f(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),K("rect",{id:`path-3-${f(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),K("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[K("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[K("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[K("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${f(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),K("polygon",{id:"Rectangle-Copy-14",fill:`var(${f(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),K("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[K("polygon",{id:"Rectangle-Copy-10",fill:`var(${f(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),K("polygon",{id:"Rectangle-Copy-11",fill:`var(${f(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),K("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${f(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),K("polygon",{id:"Rectangle-Copy-13",fill:`var(${f(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),K("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${f(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),K("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[K("use",{id:"Mask",fill:`var(${f(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${f(n)}`},null,8,["fill","xlink:href"]),K("polygon",{id:"Rectangle-Copy",fill:`var(${f(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${f(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),K("polygon",{id:"Rectangle-Copy-18",fill:`var(${f(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var cK=He(lK,[["__file","img-empty.vue"]]);const uK=$e({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),dK=se({name:"ElEmpty"}),fK=se({...dK,props:uK,setup(t){const e=t,{t:n}=Ut(),s=Le("empty"),r=R(()=>e.description||n("el.table.emptyText")),o=R(()=>({width:Rn(e.imageSize)}));return(a,i)=>(D(),H("div",{class:F(f(s).b())},[K("div",{class:F(f(s).e("image")),style:rt(f(o))},[a.image?(D(),H("img",{key:0,src:a.image,ondragstart:"return false"},null,8,["src"])):pe(a.$slots,"image",{key:1},()=>[j(cK)])],6),K("div",{class:F(f(s).e("description"))},[a.$slots.description?pe(a.$slots,"description",{key:0}):(D(),H("p",{key:1},Ne(f(r)),1))],2),a.$slots.default?(D(),H("div",{key:0,class:F(f(s).e("bottom"))},[pe(a.$slots,"default")],2)):he("v-if",!0)],2))}});var pK=He(fK,[["__file","empty.vue"]]);const O2=_t(pK),hK=$e({size:{type:String,values:zo},disabled:Boolean}),mK=$e({...hK,model:Object,rules:{type:le(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),vK={validate:(t,e,n)=>(Ue(t)||ot(t))&&ln(e)&&ot(n)};function gK(){const t=z([]),e=R(()=>{if(!t.value.length)return"0";const o=Math.max(...t.value);return o?`${o}px`:""});function n(o){const a=t.value.indexOf(o);return a===-1&&e.value,a}function s(o,a){if(o&&a){const i=n(a);t.value.splice(i,1,o)}else o&&t.value.push(o)}function r(o){const a=n(o);a>-1&&t.value.splice(a,1)}return{autoLabelWidth:e,registerLabelWidth:s,deregisterLabelWidth:r}}const If=(t,e)=>{const n=Ps(e);return n.length>0?t.filter(s=>s.prop&&n.includes(s.prop)):t},yK="ElForm",bK=se({name:yK}),SK=se({...bK,props:mK,emits:vK,setup(t,{expose:e,emit:n}){const s=t,r=[],o=Hn(),a=Le("form"),i=R(()=>{const{labelPosition:b,inline:S}=s;return[a.b(),a.m(o.value||"default"),{[a.m(`label-${b}`)]:b,[a.m("inline")]:S}]}),l=b=>r.find(S=>S.prop===b),c=b=>{r.push(b)},u=b=>{b.prop&&r.splice(r.indexOf(b),1)},d=(b=[])=>{s.model&&If(r,b).forEach(S=>S.resetField())},h=(b=[])=>{If(r,b).forEach(S=>S.clearValidate())},p=R(()=>!!s.model),v=b=>{if(r.length===0)return[];const S=If(r,b);return S.length?S:[]},m=async b=>g(void 0,b),y=async(b=[])=>{if(!p.value)return!1;const S=v(b);if(S.length===0)return!0;let w={};for(const C of S)try{await C.validate("")}catch(A){w={...w,...A}}return Object.keys(w).length===0?!0:Promise.reject(w)},g=async(b=[],S)=>{const w=!ct(S);try{const C=await y(b);return C===!0&&await(S==null?void 0:S(C)),C}catch(C){if(C instanceof Error)throw C;const A=C;return s.scrollToError&&_(Object.keys(A)[0]),await(S==null?void 0:S(!1,A)),w&&Promise.reject(A)}},_=b=>{var S;const w=If(r,b)[0];w&&((S=w.$el)==null||S.scrollIntoView(s.scrollIntoViewOptions))};return De(()=>s.rules,()=>{s.validateOnRuleChange&&m().catch(b=>void 0)},{deep:!0}),Bt(xl,qt({...as(s),emit:n,resetFields:d,clearValidate:h,validateField:g,getField:l,addField:c,removeField:u,...gK()})),e({validate:m,validateField:g,resetFields:d,clearValidate:h,scrollToField:_,fields:r}),(b,S)=>(D(),H("form",{class:F(f(i))},[pe(b.$slots,"default")],2))}});var _K=He(SK,[["__file","form.vue"]]);function ji(){return ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ji.apply(this,arguments)}function wK(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Td(t,e)}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kg(t)}function Td(t,e){return Td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},Td(t,e)}function CK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dp(t,e,n){return CK()?Dp=Reflect.construct.bind():Dp=function(r,o,a){var i=[null];i.push.apply(i,o);var l=Function.bind.apply(r,i),c=new l;return a&&Td(c,a.prototype),c},Dp.apply(null,arguments)}function xK(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function jg(t){var e=typeof Map=="function"?new Map:void 0;return jg=function(s){if(s===null||!xK(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(s))return e.get(s);e.set(s,r)}function r(){return Dp(s,arguments,Kg(this).constructor)}return r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Td(r,s)},jg(t)}var AK=/%[sdj%]/g,EK=function(){};function qg(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var s=n.field;e[s]=e[s]||[],e[s].push(n)}),e}function mr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];var r=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(AK,function(i){if(i==="%%")return"%";if(r>=o)return i;switch(i){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return i}});return a}return t}function TK(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function is(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||TK(e)&&typeof t=="string"&&!t)}function MK(t,e,n){var s=[],r=0,o=t.length;function a(i){s.push.apply(s,i||[]),r++,r===o&&n(s)}t.forEach(function(i){e(i,a)})}function jC(t,e,n){var s=0,r=t.length;function o(a){if(a&&a.length){n(a);return}var i=s;s=s+1,i<r?e(t[i],o):n([])}o([])}function IK(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var qC=function(t){wK(e,t);function e(n,s){var r;return r=t.call(this,"Async Validation Error")||this,r.errors=n,r.fields=s,r}return e}(jg(Error));function RK(t,e,n,s,r){if(e.first){var o=new Promise(function(h,p){var v=function(g){return s(g),g.length?p(new qC(g,qg(g))):h(r)},m=IK(t);jC(m,n,v)});return o.catch(function(h){return h}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],i=Object.keys(t),l=i.length,c=0,u=[],d=new Promise(function(h,p){var v=function(y){if(u.push.apply(u,y),c++,c===l)return s(u),u.length?p(new qC(u,qg(u))):h(r)};i.length||(s(u),h(r)),i.forEach(function(m){var y=t[m];a.indexOf(m)!==-1?jC(y,n,v):MK(y,n,v)})});return d.catch(function(h){return h}),d}function PK(t){return!!(t&&t.message!==void 0)}function DK(t,e){for(var n=t,s=0;s<e.length;s++){if(n==null)return n;n=n[e[s]]}return n}function YC(t,e){return function(n){var s;return t.fullFields?s=DK(e,t.fullFields):s=e[n.field||t.fullField],PK(n)?(n.field=n.field||t.fullField,n.fieldValue=s,n):{message:typeof n=="function"?n():n,fieldValue:s,field:n.field||t.fullField}}}function XC(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];typeof s=="object"&&typeof t[n]=="object"?t[n]=ji({},t[n],s):t[n]=s}}return t}var B2=function(e,n,s,r,o,a){e.required&&(!s.hasOwnProperty(e.field)||is(n,a||e.type))&&r.push(mr(o.messages.required,e.fullField))},kK=function(e,n,s,r,o){(/^\s+$/.test(n)||n==="")&&r.push(mr(o.messages.whitespace,e.fullField))},Rf,LK=function(){if(Rf)return Rf;var t="[a-fA-F\\d:]",e=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+n+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+n+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+n+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+n+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+n+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+n+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+n+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),a=new RegExp("^"+n+"$"),i=new RegExp("^"+r+"$"),l=function(S){return S&&S.exact?o:new RegExp("(?:"+e(S)+n+e(S)+")|(?:"+e(S)+r+e(S)+")","g")};l.v4=function(b){return b&&b.exact?a:new RegExp(""+e(b)+n+e(b),"g")},l.v6=function(b){return b&&b.exact?i:new RegExp(""+e(b)+r+e(b),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,h=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',_="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+h+"|"+p+v+m+")"+y+g;return Rf=new RegExp("(?:^"+_+"$)","i"),Rf},QC={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Nu={integer:function(e){return Nu.number(e)&&parseInt(e,10)===e},float:function(e){return Nu.number(e)&&!Nu.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Nu.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(QC.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(LK())},hex:function(e){return typeof e=="string"&&!!e.match(QC.hex)}},OK=function(e,n,s,r,o){if(e.required&&n===void 0){B2(e,n,s,r,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],i=e.type;a.indexOf(i)>-1?Nu[i](n)||r.push(mr(o.messages.types[i],e.fullField,e.type)):i&&typeof n!==e.type&&r.push(mr(o.messages.types[i],e.fullField,e.type))},BK=function(e,n,s,r,o){var a=typeof e.len=="number",i=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,h=typeof n=="number",p=typeof n=="string",v=Array.isArray(n);if(h?d="number":p?d="string":v&&(d="array"),!d)return!1;v&&(u=n.length),p&&(u=n.replace(c,"_").length),a?u!==e.len&&r.push(mr(o.messages[d].len,e.fullField,e.len)):i&&!l&&u<e.min?r.push(mr(o.messages[d].min,e.fullField,e.min)):l&&!i&&u>e.max?r.push(mr(o.messages[d].max,e.fullField,e.max)):i&&l&&(u<e.min||u>e.max)&&r.push(mr(o.messages[d].range,e.fullField,e.min,e.max))},Ll="enum",FK=function(e,n,s,r,o){e[Ll]=Array.isArray(e[Ll])?e[Ll]:[],e[Ll].indexOf(n)===-1&&r.push(mr(o.messages[Ll],e.fullField,e[Ll].join(", ")))},NK=function(e,n,s,r,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push(mr(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||r.push(mr(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},cn={required:B2,whitespace:kK,type:OK,range:BK,enum:FK,pattern:NK},UK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n,"string")&&!e.required)return s();cn.required(e,n,r,a,o,"string"),is(n,"string")||(cn.type(e,n,r,a,o),cn.range(e,n,r,a,o),cn.pattern(e,n,r,a,o),e.whitespace===!0&&cn.whitespace(e,n,r,a,o))}s(a)},zK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n)&&!e.required)return s();cn.required(e,n,r,a,o),n!==void 0&&cn.type(e,n,r,a,o)}s(a)},$K=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(n===""&&(n=void 0),is(n)&&!e.required)return s();cn.required(e,n,r,a,o),n!==void 0&&(cn.type(e,n,r,a,o),cn.range(e,n,r,a,o))}s(a)},HK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n)&&!e.required)return s();cn.required(e,n,r,a,o),n!==void 0&&cn.type(e,n,r,a,o)}s(a)},VK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n)&&!e.required)return s();cn.required(e,n,r,a,o),is(n)||cn.type(e,n,r,a,o)}s(a)},WK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n)&&!e.required)return s();cn.required(e,n,r,a,o),n!==void 0&&(cn.type(e,n,r,a,o),cn.range(e,n,r,a,o))}s(a)},GK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n)&&!e.required)return s();cn.required(e,n,r,a,o),n!==void 0&&(cn.type(e,n,r,a,o),cn.range(e,n,r,a,o))}s(a)},KK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(n==null&&!e.required)return s();cn.required(e,n,r,a,o,"array"),n!=null&&(cn.type(e,n,r,a,o),cn.range(e,n,r,a,o))}s(a)},jK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n)&&!e.required)return s();cn.required(e,n,r,a,o),n!==void 0&&cn.type(e,n,r,a,o)}s(a)},qK="enum",YK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n)&&!e.required)return s();cn.required(e,n,r,a,o),n!==void 0&&cn[qK](e,n,r,a,o)}s(a)},XK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n,"string")&&!e.required)return s();cn.required(e,n,r,a,o),is(n,"string")||cn.pattern(e,n,r,a,o)}s(a)},QK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n,"date")&&!e.required)return s();if(cn.required(e,n,r,a,o),!is(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),cn.type(e,l,r,a,o),l&&cn.range(e,l.getTime(),r,a,o)}}s(a)},ZK=function(e,n,s,r,o){var a=[],i=Array.isArray(n)?"array":typeof n;cn.required(e,n,r,a,o,i),s(a)},tv=function(e,n,s,r,o){var a=e.type,i=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(is(n,a)&&!e.required)return s();cn.required(e,n,r,i,o,a),is(n,a)||cn.type(e,n,r,i,o)}s(i)},JK=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(is(n)&&!e.required)return s();cn.required(e,n,r,a,o)}s(a)},Zu={string:UK,method:zK,number:$K,boolean:HK,regexp:VK,integer:WK,float:GK,array:KK,object:jK,enum:YK,pattern:XK,date:QK,url:tv,hex:tv,email:tv,required:ZK,any:JK};function Yg(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Xg=Yg(),ef=function(){function t(n){this.rules=null,this._messages=Xg,this.define(n)}var e=t.prototype;return e.define=function(s){var r=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(o){var a=s[o];r.rules[o]=Array.isArray(a)?a:[a]})},e.messages=function(s){return s&&(this._messages=XC(Yg(),s)),this._messages},e.validate=function(s,r,o){var a=this;r===void 0&&(r={}),o===void 0&&(o=function(){});var i=s,l=r,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,i),Promise.resolve(i);function u(m){var y=[],g={};function _(S){if(Array.isArray(S)){var w;y=(w=y).concat.apply(w,S)}else y.push(S)}for(var b=0;b<m.length;b++)_(m[b]);y.length?(g=qg(y),c(y,g)):c(null,i)}if(l.messages){var d=this.messages();d===Xg&&(d=Yg()),XC(d,l.messages),l.messages=d}else l.messages=this.messages();var h={},p=l.keys||Object.keys(this.rules);p.forEach(function(m){var y=a.rules[m],g=i[m];y.forEach(function(_){var b=_;typeof b.transform=="function"&&(i===s&&(i=ji({},i)),g=i[m]=b.transform(g)),typeof b=="function"?b={validator:b}:b=ji({},b),b.validator=a.getValidationMethod(b),b.validator&&(b.field=m,b.fullField=b.fullField||m,b.type=a.getType(b),h[m]=h[m]||[],h[m].push({rule:b,value:g,source:i,field:m}))})});var v={};return RK(h,l,function(m,y){var g=m.rule,_=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");_=_&&(g.required||!g.required&&m.value),g.field=m.field;function b(C,A){return ji({},A,{fullField:g.fullField+"."+C,fullFields:g.fullFields?[].concat(g.fullFields,[C]):[C]})}function S(C){C===void 0&&(C=[]);var A=Array.isArray(C)?C:[C];!l.suppressWarning&&A.length&&t.warning("async-validator:",A),A.length&&g.message!==void 0&&(A=[].concat(g.message));var T=A.map(YC(g,i));if(l.first&&T.length)return v[g.field]=1,y(T);if(!_)y(T);else{if(g.required&&!m.value)return g.message!==void 0?T=[].concat(g.message).map(YC(g,i)):l.error&&(T=[l.error(g,mr(l.messages.required,g.field))]),y(T);var x={};g.defaultField&&Object.keys(m.value).map(function(I){x[I]=g.defaultField}),x=ji({},x,m.rule.fields);var E={};Object.keys(x).forEach(function(I){var k=x[I],U=Array.isArray(k)?k:[k];E[I]=U.map(b.bind(null,I))});var M=new t(E);M.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),M.validate(m.value,m.rule.options||l,function(I){var k=[];T&&T.length&&k.push.apply(k,T),I&&I.length&&k.push.apply(k,I),y(k.length?k:null)})}}var w;if(g.asyncValidator)w=g.asyncValidator(g,m.value,S,m.source,l);else if(g.validator){try{w=g.validator(g,m.value,S,m.source,l)}catch(C){console.error==null||console.error(C),l.suppressValidatorError||setTimeout(function(){throw C},0),S(C.message)}w===!0?S():w===!1?S(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):w instanceof Array?S(w):w instanceof Error&&S(w.message)}w&&w.then&&w.then(function(){return S()},function(C){return S(C)})},function(m){u(m)},i)},e.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!Zu.hasOwnProperty(s.type))throw new Error(mr("Unknown rule type %s",s.type));return s.type||"string"},e.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var r=Object.keys(s),o=r.indexOf("message");return o!==-1&&r.splice(o,1),r.length===1&&r[0]==="required"?Zu.required:Zu[this.getType(s)]||void 0},t}();ef.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Zu[e]=n};ef.warning=EK;ef.messages=Xg;ef.validators=Zu;const e7=["","error","validating","success"],t7=$e({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:le([String,Array])},required:{type:Boolean,default:void 0},rules:{type:le([Object,Array])},error:String,validateStatus:{type:String,values:e7},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:zo}}),ZC="ElLabelWrap";var n7=se({name:ZC,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=Qe(xl,void 0),s=Qe(Oo);s||Qn(ZC,"usage: <el-form-item><label-wrap /></el-form-item>");const r=Le("form"),o=z(),a=z(0),i=()=>{var u;if((u=o.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(u="update")=>{lt(()=>{e.default&&t.isAutoWidth&&(u==="update"?a.value=i():u==="remove"&&(n==null||n.deregisterLabelWidth(a.value)))})},c=()=>l("update");return wt(()=>{c()}),Qt(()=>{l("remove")}),qr(()=>c()),De(a,(u,d)=>{t.updateAll&&(n==null||n.registerLabelWidth(u,d))}),_n(R(()=>{var u,d;return(d=(u=o.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!e)return null;const{isAutoWidth:h}=t;if(h){const p=n==null?void 0:n.autoLabelWidth,v=s==null?void 0:s.hasLabel,m={};if(v&&p&&p!=="auto"){const y=Math.max(0,Number.parseInt(p,10)-a.value),_=(s.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";y&&(m[_]=`${y}px`)}return j("div",{ref:o,class:[r.be("item","label-wrap")],style:m},[(u=e.default)==null?void 0:u.call(e)])}else return j(Ze,{ref:o},[(d=e.default)==null?void 0:d.call(e)])}}});const s7=se({name:"ElFormItem"}),r7=se({...s7,props:t7,setup(t,{expose:e}){const n=t,s=Gn(),r=Qe(xl,void 0),o=Qe(Oo,void 0),a=Hn(void 0,{formItem:!1}),i=Le("form-item"),l=hs().value,c=z([]),u=z(""),d=s4(u,100),h=z(""),p=z();let v,m=!1;const y=R(()=>n.labelPosition||(r==null?void 0:r.labelPosition)),g=R(()=>{if(y.value==="top")return{};const ge=Rn(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return ge?{width:ge}:{}}),_=R(()=>{if(y.value==="top"||r!=null&&r.inline)return{};if(!n.label&&!n.labelWidth&&E)return{};const ge=Rn(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return!n.label&&!s.label?{marginLeft:ge}:{}}),b=R(()=>[i.b(),i.m(a.value),i.is("error",u.value==="error"),i.is("validating",u.value==="validating"),i.is("success",u.value==="success"),i.is("required",B.value||n.required),i.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),(r==null?void 0:r.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[i.m("feedback")]:r==null?void 0:r.statusIcon,[i.m(`label-${y.value}`)]:y.value}]),S=R(()=>ln(n.inlineMessage)?n.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),w=R(()=>[i.e("error"),{[i.em("error","inline")]:S.value}]),C=R(()=>n.prop?ot(n.prop)?n.prop:n.prop.join("."):""),A=R(()=>!!(n.label||s.label)),T=R(()=>n.for||(c.value.length===1?c.value[0]:void 0)),x=R(()=>!T.value&&A.value),E=!!o,M=R(()=>{const ge=r==null?void 0:r.model;if(!(!ge||!n.prop))return gp(ge,n.prop).value}),I=R(()=>{const{required:ge}=n,ye=[];n.rules&&ye.push(...Ps(n.rules));const Fe=r==null?void 0:r.rules;if(Fe&&n.prop){const X=gp(Fe,n.prop).value;X&&ye.push(...Ps(X))}if(ge!==void 0){const X=ye.map((V,ce)=>[V,ce]).filter(([V])=>Object.keys(V).includes("required"));if(X.length>0)for(const[V,ce]of X)V.required!==ge&&(ye[ce]={...V,required:ge});else ye.push({required:ge})}return ye}),k=R(()=>I.value.length>0),U=ge=>I.value.filter(Fe=>!Fe.trigger||!ge?!0:Ue(Fe.trigger)?Fe.trigger.includes(ge):Fe.trigger===ge).map(({trigger:Fe,...X})=>X),B=R(()=>I.value.some(ge=>ge.required)),P=R(()=>{var ge;return d.value==="error"&&n.showMessage&&((ge=r==null?void 0:r.showMessage)!=null?ge:!0)}),N=R(()=>`${n.label||""}${(r==null?void 0:r.labelSuffix)||""}`),L=ge=>{u.value=ge},O=ge=>{var ye,Fe;const{errors:X,fields:V}=ge;(!X||!V)&&console.error(ge),L("error"),h.value=X?(Fe=(ye=X==null?void 0:X[0])==null?void 0:ye.message)!=null?Fe:`${n.prop} is required`:"",r==null||r.emit("validate",n.prop,!1,h.value)},$=()=>{L("success"),r==null||r.emit("validate",n.prop,!0,"")},W=async ge=>{const ye=C.value;return new ef({[ye]:ge}).validate({[ye]:M.value},{firstFields:!0}).then(()=>($(),!0)).catch(X=>(O(X),Promise.reject(X)))},ee=async(ge,ye)=>{if(m||!n.prop)return!1;const Fe=ct(ye);if(!k.value)return ye==null||ye(!1),!1;const X=U(ge);return X.length===0?(ye==null||ye(!0),!0):(L("validating"),W(X).then(()=>(ye==null||ye(!0),!0)).catch(V=>{const{fields:ce}=V;return ye==null||ye(!1,ce),Fe?!1:Promise.reject(ce)}))},Y=()=>{L(""),h.value="",m=!1},Z=async()=>{const ge=r==null?void 0:r.model;if(!ge||!n.prop)return;const ye=gp(ge,n.prop);m=!0,ye.value=_w(v),await lt(),Y(),m=!1},ae=ge=>{c.value.includes(ge)||c.value.push(ge)},ue=ge=>{c.value=c.value.filter(ye=>ye!==ge)};De(()=>n.error,ge=>{h.value=ge||"",L(ge?"error":"")},{immediate:!0}),De(()=>n.validateStatus,ge=>L(ge||""));const re=qt({...as(n),$el:p,size:a,validateState:u,labelId:l,inputIds:c,isGroup:x,hasLabel:A,fieldValue:M,addInputId:ae,removeInputId:ue,resetField:Z,clearValidate:Y,validate:ee});return Bt(Oo,re),wt(()=>{n.prop&&(r==null||r.addField(re),v=_w(M.value))}),Qt(()=>{r==null||r.removeField(re)}),e({size:a,validateMessage:h,validateState:u,validate:ee,clearValidate:Y,resetField:Z}),(ge,ye)=>{var Fe;return D(),H("div",{ref_key:"formItemRef",ref:p,class:F(f(b)),role:f(x)?"group":void 0,"aria-labelledby":f(x)?f(l):void 0},[j(f(n7),{"is-auto-width":f(g).width==="auto","update-all":((Fe=f(r))==null?void 0:Fe.labelWidth)==="auto"},{default:te(()=>[f(A)?(D(),_e(Rt(f(T)?"label":"div"),{key:0,id:f(l),for:f(T),class:F(f(i).e("label")),style:rt(f(g))},{default:te(()=>[pe(ge.$slots,"label",{label:f(N)},()=>[St(Ne(f(N)),1)])]),_:3},8,["id","for","class","style"])):he("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),K("div",{class:F(f(i).e("content")),style:rt(f(_))},[pe(ge.$slots,"default"),j(OE,{name:`${f(i).namespace.value}-zoom-in-top`},{default:te(()=>[f(P)?pe(ge.$slots,"error",{key:0,error:h.value},()=>[K("div",{class:F(f(w))},Ne(h.value),3)]):he("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var F2=He(r7,[["__file","form-item.vue"]]);const o7=_t(_K,{FormItem:F2}),a7=Tn(F2),i7=$e({urlList:{type:le(Array),default:()=>En([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:le(String)}}),l7={close:()=>!0,switch:t=>ft(t),rotate:t=>ft(t)},c7=se({name:"ElImageViewer"}),u7=se({...c7,props:i7,emits:l7,setup(t,{expose:e,emit:n}){var s;const r=t,o={CONTAIN:{name:"contain",icon:ia(SU)},ORIGINAL:{name:"original",icon:ia(zU)}},{t:a}=Ut(),i=Le("image-viewer"),{nextZIndex:l}=fu(),c=z(),u=z([]),d=nD(),h=z(!0),p=z(r.initialIndex),v=dn(o.CONTAIN),m=z({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),y=z((s=r.zIndex)!=null?s:l()),g=R(()=>{const{urlList:ee}=r;return ee.length<=1}),_=R(()=>p.value===0),b=R(()=>p.value===r.urlList.length-1),S=R(()=>r.urlList[p.value]),w=R(()=>[i.e("btn"),i.e("prev"),i.is("disabled",!r.infinite&&_.value)]),C=R(()=>[i.e("btn"),i.e("next"),i.is("disabled",!r.infinite&&b.value)]),A=R(()=>{const{scale:ee,deg:Y,offsetX:Z,offsetY:ae,enableTransition:ue}=m.value;let re=Z/ee,ge=ae/ee;const ye=Y*Math.PI/180,Fe=Math.cos(ye),X=Math.sin(ye);re=re*Fe+ge*X,ge=ge*Fe-Z/ee*X;const V={transform:`scale(${ee}) rotate(${Y}deg) translate(${re}px, ${ge}px)`,transition:ue?"transform .3s":""};return v.value.name===o.CONTAIN.name&&(V.maxWidth=V.maxHeight="100%"),V});function T(){E(),n("close")}function x(){const ee=sl(Z=>{switch(Z.code){case qe.esc:r.closeOnPressEscape&&T();break;case qe.space:B();break;case qe.left:N();break;case qe.up:O("zoomIn");break;case qe.right:L();break;case qe.down:O("zoomOut");break}}),Y=sl(Z=>{const ae=Z.deltaY||Z.deltaX;O(ae<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});d.run(()=>{en(document,"keydown",ee),en(document,"wheel",Y)})}function E(){d.stop()}function M(){h.value=!1}function I(ee){h.value=!1,ee.target.alt=a("el.image.error")}function k(ee){if(h.value||ee.button!==0||!c.value)return;m.value.enableTransition=!1;const{offsetX:Y,offsetY:Z}=m.value,ae=ee.pageX,ue=ee.pageY,re=sl(ye=>{m.value={...m.value,offsetX:Y+ye.pageX-ae,offsetY:Z+ye.pageY-ue}}),ge=en(document,"mousemove",re);en(document,"mouseup",()=>{ge()}),ee.preventDefault()}function U(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function B(){if(h.value)return;const ee=Oc(o),Y=Object.values(o),Z=v.value.name,ue=(Y.findIndex(re=>re.name===Z)+1)%ee.length;v.value=o[ee[ue]],U()}function P(ee){const Y=r.urlList.length;p.value=(ee+Y)%Y}function N(){_.value&&!r.infinite||P(p.value-1)}function L(){b.value&&!r.infinite||P(p.value+1)}function O(ee,Y={}){if(h.value)return;const{minScale:Z,maxScale:ae}=r,{zoomRate:ue,rotateDeg:re,enableTransition:ge}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...Y};switch(ee){case"zoomOut":m.value.scale>Z&&(m.value.scale=Number.parseFloat((m.value.scale/ue).toFixed(3)));break;case"zoomIn":m.value.scale<ae&&(m.value.scale=Number.parseFloat((m.value.scale*ue).toFixed(3)));break;case"clockwise":m.value.deg+=re,n("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=re,n("rotate",m.value.deg);break}m.value.enableTransition=ge}function $(ee){var Y;((Y=ee.detail)==null?void 0:Y.focusReason)==="pointer"&&ee.preventDefault()}function W(){r.closeOnPressEscape&&T()}return De(S,()=>{lt(()=>{const ee=u.value[0];ee!=null&&ee.complete||(h.value=!0)})}),De(p,ee=>{U(),n("switch",ee)}),wt(()=>{x()}),e({setActiveItem:P}),(ee,Y)=>(D(),_e(f(mu),{to:"body",disabled:!ee.teleported},{default:te(()=>[j(Xn,{name:"viewer-fade",appear:""},{default:te(()=>[K("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:F(f(i).e("wrapper")),style:rt({zIndex:y.value})},[j(f(hu),{loop:"",trapped:"","focus-trap-el":c.value,"focus-start-el":"container",onFocusoutPrevented:$,onReleaseRequested:W},{default:te(()=>[K("div",{class:F(f(i).e("mask")),onClick:pt(Z=>ee.hideOnClickModal&&T(),["self"])},null,10,["onClick"]),he(" CLOSE "),K("span",{class:F([f(i).e("btn"),f(i).e("close")]),onClick:T},[j(f(tt),null,{default:te(()=>[j(f(mo))]),_:1})],2),he(" ARROW "),f(g)?he("v-if",!0):(D(),H(Ze,{key:0},[K("span",{class:F(f(w)),onClick:N},[j(f(tt),null,{default:te(()=>[j(f(ui))]),_:1})],2),K("span",{class:F(f(C)),onClick:L},[j(f(tt),null,{default:te(()=>[j(f(Ws))]),_:1})],2)],64)),he(" ACTIONS "),K("div",{class:F([f(i).e("btn"),f(i).e("actions")])},[K("div",{class:F(f(i).e("actions__inner"))},[j(f(tt),{onClick:Z=>O("zoomOut")},{default:te(()=>[j(f(nz))]),_:1},8,["onClick"]),j(f(tt),{onClick:Z=>O("zoomIn")},{default:te(()=>[j(f(ZT))]),_:1},8,["onClick"]),K("i",{class:F(f(i).e("actions__divider"))},null,2),j(f(tt),{onClick:B},{default:te(()=>[(D(),_e(Rt(f(v).icon)))]),_:1}),K("i",{class:F(f(i).e("actions__divider"))},null,2),j(f(tt),{onClick:Z=>O("anticlockwise")},{default:te(()=>[j(f(BU))]),_:1},8,["onClick"]),j(f(tt),{onClick:Z=>O("clockwise")},{default:te(()=>[j(f(NU))]),_:1},8,["onClick"])],2)],2),he(" CANVAS "),K("div",{class:F(f(i).e("canvas"))},[(D(!0),H(Ze,null,Tt(ee.urlList,(Z,ae)=>Ct((D(),H("img",{ref_for:!0,ref:ue=>u.value[ae]=ue,key:Z,src:Z,style:rt(f(A)),class:F(f(i).e("img")),crossorigin:ee.crossorigin,onLoad:M,onError:I,onMousedown:k},null,46,["src","crossorigin"])),[[Vt,ae===p.value]])),128))],2),pe(ee.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var d7=He(u7,[["__file","image-viewer.vue"]]);const N2=_t(d7),f7=$e({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:le([String,Object])},previewSrcList:{type:le(Array),default:()=>En([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:le(String)}}),p7={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>ft(t),close:()=>!0,show:()=>!0},h7=se({name:"ElImage",inheritAttrs:!1}),m7=se({...h7,props:f7,emits:p7,setup(t,{emit:e}){const n=t;let s="";const{t:r}=Ut(),o=Le("image"),a=yi(),i=R(()=>_d(Object.entries(a).filter(([L])=>/^(data-|on[A-Z])/i.test(L)||["id","style"].includes(L)))),l=Xd({excludeListeners:!0,excludeKeys:R(()=>Object.keys(i.value))}),c=z(),u=z(!1),d=z(!0),h=z(!1),p=z(),v=z(),m=Nt&&"loading"in HTMLImageElement.prototype;let y,g;const _=R(()=>[o.e("inner"),S.value&&o.e("preview"),d.value&&o.is("loading")]),b=R(()=>{const{fit:L}=n;return Nt&&L?{objectFit:L}:{}}),S=R(()=>{const{previewSrcList:L}=n;return Ue(L)&&L.length>0}),w=R(()=>{const{previewSrcList:L,initialIndex:O}=n;let $=O;return O>L.length-1&&($=0),$}),C=R(()=>n.loading==="eager"?!1:!m&&n.loading==="lazy"||n.lazy),A=()=>{Nt&&(d.value=!0,u.value=!1,c.value=n.src)};function T(L){d.value=!1,u.value=!1,e("load",L)}function x(L){d.value=!1,u.value=!0,e("error",L)}function E(){w6(p.value,v.value)&&(A(),k())}const M=PT(E,200,!0);async function I(){var L;if(!Nt)return;await lt();const{scrollContainer:O}=n;gr(O)?v.value=O:ot(O)&&O!==""?v.value=(L=document.querySelector(O))!=null?L:void 0:p.value&&(v.value=vb(p.value)),v.value&&(y=en(v,"scroll",M),setTimeout(()=>E(),100))}function k(){!Nt||!v.value||!M||(y==null||y(),v.value=void 0)}function U(L){if(L.ctrlKey){if(L.deltaY<0)return L.preventDefault(),!1;if(L.deltaY>0)return L.preventDefault(),!1}}function B(){S.value&&(g=en("wheel",U,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",h.value=!0,e("show"))}function P(){g==null||g(),document.body.style.overflow=s,h.value=!1,e("close")}function N(L){e("switch",L)}return De(()=>n.src,()=>{C.value?(d.value=!0,u.value=!1,k(),I()):A()}),wt(()=>{C.value?I():A()}),(L,O)=>(D(),H("div",Dt({ref_key:"container",ref:p},f(i),{class:[f(o).b(),L.$attrs.class]}),[u.value?pe(L.$slots,"error",{key:0},()=>[K("div",{class:F(f(o).e("error"))},Ne(f(r)("el.image.error")),3)]):(D(),H(Ze,{key:1},[c.value!==void 0?(D(),H("img",Dt({key:0},f(l),{src:c.value,loading:L.loading,style:f(b),class:f(_),crossorigin:L.crossorigin,onClick:B,onLoad:T,onError:x}),null,16,["src","loading","crossorigin"])):he("v-if",!0),d.value?(D(),H("div",{key:1,class:F(f(o).e("wrapper"))},[pe(L.$slots,"placeholder",{},()=>[K("div",{class:F(f(o).e("placeholder"))},null,2)])],2)):he("v-if",!0)],64)),f(S)?(D(),H(Ze,{key:2},[h.value?(D(),_e(f(N2),{key:0,"z-index":L.zIndex,"initial-index":f(w),infinite:L.infinite,"zoom-rate":L.zoomRate,"min-scale":L.minScale,"max-scale":L.maxScale,"url-list":L.previewSrcList,crossorigin:L.crossorigin,"hide-on-click-modal":L.hideOnClickModal,teleported:L.previewTeleported,"close-on-press-escape":L.closeOnPressEscape,onClose:P,onSwitch:N},{default:te(()=>[L.$slots.viewer?(D(),H("div",{key:0},[pe(L.$slots,"viewer")])):he("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):he("v-if",!0)],64)):he("v-if",!0)],16))}});var v7=He(m7,[["__file","image.vue"]]);const g7=_t(v7),y7=$e({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Wn,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||ft(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...ms(["ariaLabel"])}),b7={[nn]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[ws]:t=>ft(t)||es(t),[Et]:t=>ft(t)||es(t)},S7=se({name:"ElInputNumber"}),_7=se({...S7,props:y7,emits:b7,setup(t,{expose:e,emit:n}){const s=t,{t:r}=Ut(),o=Le("input-number"),a=z(),i=qt({currentValue:s.modelValue,userInput:null}),{formItem:l}=As(),c=R(()=>ft(s.modelValue)&&s.modelValue<=s.min),u=R(()=>ft(s.modelValue)&&s.modelValue>=s.max),d=R(()=>{const B=g(s.step);return Jt(s.precision)?Math.max(g(s.modelValue),B):(B>s.precision,s.precision)}),h=R(()=>s.controls&&s.controlsPosition==="right"),p=Hn(),v=Es(),m=R(()=>{if(i.userInput!==null)return i.userInput;let B=i.currentValue;if(es(B))return"";if(ft(B)){if(Number.isNaN(B))return"";Jt(s.precision)||(B=B.toFixed(s.precision))}return B}),y=(B,P)=>{if(Jt(P)&&(P=d.value),P===0)return Math.round(B);let N=String(B);const L=N.indexOf(".");if(L===-1||!N.replace(".","").split("")[L+P])return B;const W=N.length;return N.charAt(W-1)==="5"&&(N=`${N.slice(0,Math.max(0,W-1))}6`),Number.parseFloat(Number(N).toFixed(P))},g=B=>{if(es(B))return 0;const P=B.toString(),N=P.indexOf(".");let L=0;return N!==-1&&(L=P.length-N-1),L},_=(B,P=1)=>ft(B)?y(B+s.step*P):i.currentValue,b=()=>{if(s.readonly||v.value||u.value)return;const B=Number(m.value)||0,P=_(B);C(P),n(ws,i.currentValue),k()},S=()=>{if(s.readonly||v.value||c.value)return;const B=Number(m.value)||0,P=_(B,-1);C(P),n(ws,i.currentValue),k()},w=(B,P)=>{const{max:N,min:L,step:O,precision:$,stepStrictly:W,valueOnClear:ee}=s;N<L&&Qn("InputNumber","min should not be greater than max.");let Y=Number(B);if(es(B)||Number.isNaN(Y))return null;if(B===""){if(ee===null)return null;Y=ot(ee)?{min:L,max:N}[ee]:ee}return W&&(Y=y(Math.round(Y/O)*O,$),Y!==B&&P&&n(Et,Y)),Jt($)||(Y=y(Y,$)),(Y>N||Y<L)&&(Y=Y>N?N:L,P&&n(Et,Y)),Y},C=(B,P=!0)=>{var N;const L=i.currentValue,O=w(B);if(!P){n(Et,O);return}L===O&&B||(i.userInput=null,n(Et,O),L!==O&&n(nn,O,L),s.validateEvent&&((N=l==null?void 0:l.validate)==null||N.call(l,"change").catch($=>void 0)),i.currentValue=O)},A=B=>{i.userInput=B;const P=B===""?null:Number(B);n(ws,P),C(P,!1)},T=B=>{const P=B!==""?Number(B):"";(ft(P)&&!Number.isNaN(P)||B==="")&&C(P),k(),i.userInput=null},x=()=>{var B,P;(P=(B=a.value)==null?void 0:B.focus)==null||P.call(B)},E=()=>{var B,P;(P=(B=a.value)==null?void 0:B.blur)==null||P.call(B)},M=B=>{n("focus",B)},I=B=>{var P,N;i.userInput=null,dm()&&i.currentValue===null&&((P=a.value)!=null&&P.input)&&(a.value.input.value=""),n("blur",B),s.validateEvent&&((N=l==null?void 0:l.validate)==null||N.call(l,"blur").catch(L=>void 0))},k=()=>{i.currentValue!==s.modelValue&&(i.currentValue=s.modelValue)},U=B=>{document.activeElement===B.target&&B.preventDefault()};return De(()=>s.modelValue,(B,P)=>{const N=w(B,!0);i.userInput===null&&N!==P&&(i.currentValue=N)},{immediate:!0}),wt(()=>{var B;const{min:P,max:N,modelValue:L}=s,O=(B=a.value)==null?void 0:B.input;if(O.setAttribute("role","spinbutton"),Number.isFinite(N)?O.setAttribute("aria-valuemax",String(N)):O.removeAttribute("aria-valuemax"),Number.isFinite(P)?O.setAttribute("aria-valuemin",String(P)):O.removeAttribute("aria-valuemin"),O.setAttribute("aria-valuenow",i.currentValue||i.currentValue===0?String(i.currentValue):""),O.setAttribute("aria-disabled",String(v.value)),!ft(L)&&L!=null){let $=Number(L);Number.isNaN($)&&($=null),n(Et,$)}O.addEventListener("wheel",U,{passive:!1})}),qr(()=>{var B,P;const N=(B=a.value)==null?void 0:B.input;N==null||N.setAttribute("aria-valuenow",`${(P=i.currentValue)!=null?P:""}`)}),e({focus:x,blur:E}),(B,P)=>(D(),H("div",{class:F([f(o).b(),f(o).m(f(p)),f(o).is("disabled",f(v)),f(o).is("without-controls",!B.controls),f(o).is("controls-right",f(h))]),onDragstart:pt(()=>{},["prevent"])},[B.controls?Ct((D(),H("span",{key:0,role:"button","aria-label":f(r)("el.inputNumber.decrease"),class:F([f(o).e("decrease"),f(o).is("disabled",f(c))]),onKeydown:on(S,["enter"])},[pe(B.$slots,"decrease-icon",{},()=>[j(f(tt),null,{default:te(()=>[f(h)?(D(),_e(f(_a),{key:0})):(D(),_e(f(EU),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[f(ch),S]]):he("v-if",!0),B.controls?Ct((D(),H("span",{key:1,role:"button","aria-label":f(r)("el.inputNumber.increase"),class:F([f(o).e("increase"),f(o).is("disabled",f(u))]),onKeydown:on(b,["enter"])},[pe(B.$slots,"increase-icon",{},()=>[j(f(tt),null,{default:te(()=>[f(h)?(D(),_e(f(yb),{key:0})):(D(),_e(f(XT),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[f(ch),b]]):he("v-if",!0),j(f(ks),{id:B.id,ref_key:"input",ref:a,type:"number",step:B.step,"model-value":f(m),placeholder:B.placeholder,readonly:B.readonly,disabled:f(v),size:f(p),max:B.max,min:B.min,name:B.name,"aria-label":B.ariaLabel,"validate-event":!1,onKeydown:[on(pt(b,["prevent"]),["up"]),on(pt(S,["prevent"]),["down"])],onBlur:I,onFocus:M,onInput:A,onChange:T},Hr({_:2},[B.$slots.prefix?{name:"prefix",fn:te(()=>[pe(B.$slots,"prefix")])}:void 0,B.$slots.suffix?{name:"suffix",fn:te(()=>[pe(B.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var w7=He(_7,[["__file","input-number.vue"]]);const U2=_t(w7),C7=$e({modelValue:{type:le(Array)},max:Number,tagType:{...pa.type,default:"info"},tagEffect:pa.effect,trigger:{type:le(String),default:qe.enter},draggable:{type:Boolean,default:!1},size:Wn,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),x7={[Et]:t=>Ue(t)||Jt(t),[nn]:t=>Ue(t)||Jt(t),[ws]:t=>ot(t),"add-tag":t=>ot(t),"remove-tag":t=>ot(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0};function A7({props:t,emit:e,formItem:n}){const s=Es(),r=Hn(),o=dn(),a=z(),i=R(()=>["small"].includes(r.value)?"small":"default"),l=R(()=>{var x;return(x=t.modelValue)!=null&&x.length?void 0:t.placeholder}),c=R(()=>!(t.readonly||s.value)),u=R(()=>{var x,E;return Jt(t.max)?!1:((E=(x=t.modelValue)==null?void 0:x.length)!=null?E:0)>=t.max}),d=x=>{if(u.value){a.value=void 0;return}w.value||e(ws,x.target.value)},h=x=>{var E;if(!w.value)switch(x.code){case t.trigger:x.preventDefault(),x.stopPropagation(),p();break;case qe.numpadEnter:t.trigger===qe.enter&&(x.preventDefault(),x.stopPropagation(),p());break;case qe.backspace:!a.value&&((E=t.modelValue)!=null&&E.length)&&(x.preventDefault(),x.stopPropagation(),v(t.modelValue.length-1));break}},p=()=>{var x,E;const M=(x=a.value)==null?void 0:x.trim();if(!M||u.value)return;const I=[...(E=t.modelValue)!=null?E:[],M];e(Et,I),e(nn,I),e("add-tag",M),a.value=void 0},v=x=>{var E;const M=((E=t.modelValue)!=null?E:[]).slice(),[I]=M.splice(x,1);e(Et,M),e(nn,M),e("remove-tag",I)},m=()=>{a.value=void 0,e(Et,void 0),e(nn,void 0),e("clear")},y=(x,E,M)=>{var I;const k=((I=t.modelValue)!=null?I:[]).slice(),[U]=k.splice(x,1),B=E>x&&M==="before"?-1:E<x&&M==="after"?1:0;k.splice(E+B,0,U),e(Et,k),e(nn,k)},g=()=>{var x;(x=o.value)==null||x.focus()},_=()=>{var x;(x=o.value)==null||x.blur()},{wrapperRef:b,isFocused:S}=Si(o,{beforeFocus(){return s.value},afterBlur(){var x;p(),t.validateEvent&&((x=n==null?void 0:n.validate)==null||x.call(n,"blur").catch(E=>void 0))}}),{isComposing:w,handleCompositionStart:C,handleCompositionUpdate:A,handleCompositionEnd:T}=Qd({afterComposition:d});return De(()=>t.modelValue,()=>{var x;t.validateEvent&&((x=n==null?void 0:n.validate)==null||x.call(n,nn).catch(E=>void 0))}),{inputRef:o,wrapperRef:b,isFocused:S,isComposing:w,inputValue:a,size:r,tagSize:i,placeholder:l,closable:c,disabled:s,inputLimit:u,handleDragged:y,handleInput:d,handleKeydown:h,handleAddTag:p,handleRemoveTag:v,handleClear:m,handleCompositionStart:C,handleCompositionUpdate:A,handleCompositionEnd:T,focus:g,blur:_}}function E7(){const t=z(!1);return{hovering:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}function T7(){const t=dn(),e=z(0),n=11,s=R(()=>({minWidth:`${Math.max(e.value,n)}px`}));return _n(t,()=>{var o,a;e.value=(a=(o=t.value)==null?void 0:o.getBoundingClientRect().width)!=null?a:0}),{calculatorRef:t,calculatorWidth:e,inputStyle:s}}function M7({wrapperRef:t,handleDragged:e,afterDragged:n}){const s=Le("input-tag"),r=dn(),o=z(!1);let a,i,l,c;function u(v){return`.${s.e("inner")} .${s.namespace.value}-tag:nth-child(${v+1})`}function d(v,m){a=m,i=t.value.querySelector(u(m)),i&&(i.style.opacity="0.5"),v.dataTransfer.effectAllowed="move"}function h(v,m){if(l=m,v.preventDefault(),v.dataTransfer.dropEffect="move",Jt(a)||a===m){o.value=!1;return}const y=t.value.querySelector(u(m)).getBoundingClientRect(),g=a+1!==m,_=a-1!==m,b=v.clientX-y.left,S=g?_?.5:1:-1,w=_?g?.5:0:1;b<=y.width*S?c="before":b>y.width*w?c="after":c=void 0;const C=t.value.querySelector(`.${s.e("inner")}`),A=C.getBoundingClientRect(),T=Number.parseFloat(na(C,"gap"))/2,x=y.top-A.top;let E=-9999;if(c==="before")E=Math.max(y.left-A.left-T,Math.floor(-T/2));else if(c==="after"){const M=y.right-A.left;E=M+(A.width===M?Math.floor(T/2):T)}WT(r.value,{top:`${x}px`,left:`${E}px`}),o.value=!!c}function p(v){v.preventDefault(),i&&(i.style.opacity=""),c&&!Jt(a)&&!Jt(l)&&a!==l&&e(a,l,c),o.value=!1,a=void 0,i=null,l=void 0,c=void 0,n==null||n()}return{dropIndicatorRef:r,showDropIndicator:o,handleDragStart:d,handleDragOver:h,handleDragEnd:p}}function I7({props:t,isFocused:e,hovering:n,disabled:s,inputValue:r,size:o,validateState:a,validateIcon:i,needStatusIcon:l}){const c=yi(),u=Gn(),d=Le("input-tag"),h=Le("input"),p=R(()=>[d.b(),d.is("focused",e.value),d.is("hovering",n.value),d.is("disabled",s.value),d.m(o.value),d.e("wrapper"),c.class]),v=R(()=>[c.style]),m=R(()=>{var _,b;return[d.e("inner"),d.is("draggable",t.draggable),d.is("left-space",!((_=t.modelValue)!=null&&_.length)&&!u.prefix),d.is("right-space",!((b=t.modelValue)!=null&&b.length)&&!g.value)]}),y=R(()=>{var _;return t.clearable&&!s.value&&!t.readonly&&(((_=t.modelValue)==null?void 0:_.length)||r.value)&&(e.value||n.value)}),g=R(()=>u.suffix||y.value||a.value&&i.value&&l.value);return{ns:d,nsInput:h,containerKls:p,containerStyle:v,innerKls:m,showClear:y,showSuffix:g}}const R7=se({name:"ElInputTag",inheritAttrs:!1}),P7=se({...R7,props:C7,emits:x7,setup(t,{expose:e,emit:n}){const s=t,r=Xd(),o=Gn(),{form:a,formItem:i}=As(),{inputId:l}=Yr(s,{formItemContext:i}),c=R(()=>{var V;return(V=a==null?void 0:a.statusIcon)!=null?V:!1}),u=R(()=>(i==null?void 0:i.validateState)||""),d=R(()=>u.value&&um[u.value]),{inputRef:h,wrapperRef:p,isFocused:v,inputValue:m,size:y,tagSize:g,placeholder:_,closable:b,disabled:S,handleDragged:w,handleInput:C,handleKeydown:A,handleRemoveTag:T,handleClear:x,handleCompositionStart:E,handleCompositionUpdate:M,handleCompositionEnd:I,focus:k,blur:U}=A7({props:s,emit:n,formItem:i}),{hovering:B,handleMouseEnter:P,handleMouseLeave:N}=E7(),{calculatorRef:L,inputStyle:O}=T7(),{dropIndicatorRef:$,showDropIndicator:W,handleDragStart:ee,handleDragOver:Y,handleDragEnd:Z}=M7({wrapperRef:p,handleDragged:w,afterDragged:k}),{ns:ae,nsInput:ue,containerKls:re,containerStyle:ge,innerKls:ye,showClear:Fe,showSuffix:X}=I7({props:s,hovering:B,isFocused:v,inputValue:m,disabled:S,size:y,validateState:u,validateIcon:d,needStatusIcon:c});return e({focus:k,blur:U}),(V,ce)=>(D(),H("div",{ref_key:"wrapperRef",ref:p,class:F(f(re)),style:rt(f(ge)),onMouseenter:f(P),onMouseleave:f(N)},[f(o).prefix?(D(),H("div",{key:0,class:F(f(ae).e("prefix"))},[pe(V.$slots,"prefix")],2)):he("v-if",!0),K("div",{class:F(f(ye))},[(D(!0),H(Ze,null,Tt(V.modelValue,(Q,Me)=>(D(),_e(f($c),{key:Me,size:f(g),closable:f(b),type:V.tagType,effect:V.tagEffect,draggable:f(b)&&V.draggable,"disable-transitions":"",onClose:Pe=>f(T)(Me),onDragstart:Pe=>f(ee)(Pe,Me),onDragover:Pe=>f(Y)(Pe,Me),onDragend:f(Z),onDrop:pt(()=>{},["stop"])},{default:te(()=>[pe(V.$slots,"tag",{value:Q,index:Me},()=>[St(Ne(Q),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),K("div",{class:F(f(ae).e("input-wrapper"))},[Ct(K("input",Dt({id:f(l),ref_key:"inputRef",ref:h,"onUpdate:modelValue":Q=>fn(m)?m.value=Q:null},f(r),{type:"text",minlength:V.minlength,maxlength:V.maxlength,disabled:f(S),readonly:V.readonly,autocomplete:V.autocomplete,tabindex:V.tabindex,placeholder:f(_),autofocus:V.autofocus,ariaLabel:V.ariaLabel,class:f(ae).e("input"),style:f(O),onCompositionstart:f(E),onCompositionupdate:f(M),onCompositionend:f(I),onInput:f(C),onKeydown:f(A)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[Qh,f(m)]]),K("span",{ref_key:"calculatorRef",ref:L,"aria-hidden":"true",class:F(f(ae).e("input-calculator")),textContent:Ne(f(m))},null,10,["textContent"])],2),Ct(K("div",{ref_key:"dropIndicatorRef",ref:$,class:F(f(ae).e("drop-indicator"))},null,2),[[Vt,f(W)]])],2),f(X)?(D(),H("div",{key:1,class:F(f(ae).e("suffix"))},[pe(V.$slots,"suffix"),f(Fe)?(D(),_e(f(tt),{key:0,class:F([f(ae).e("icon"),f(ae).e("clear")]),onMousedown:pt(f(Zt),["prevent"]),onClick:f(x)},{default:te(()=>[j(f(wa))]),_:1},8,["class","onMousedown","onClick"])):he("v-if",!0),f(u)&&f(d)&&f(c)?(D(),_e(f(tt),{key:1,class:F([f(ue).e("icon"),f(ue).e("validateIcon"),f(ue).is("loading",f(u)==="validating")])},{default:te(()=>[(D(),_e(Rt(f(d))))]),_:1},8,["class"])):he("v-if",!0)],2)):he("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var D7=He(P7,[["__file","input-tag.vue"]]);const k7=_t(D7),L7=$e({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:sn}}),O7={click:t=>t instanceof MouseEvent},B7=se({name:"ElLink"}),F7=se({...B7,props:L7,emits:O7,setup(t,{emit:e}){const n=t,s=Le("link"),r=R(()=>[s.b(),s.m(n.type),s.is("disabled",n.disabled),s.is("underline",n.underline&&!n.disabled)]);function o(a){n.disabled||e("click",a)}return(a,i)=>(D(),H("a",{class:F(f(r)),href:a.disabled||!a.href?void 0:a.href,target:a.disabled||!a.href?void 0:a.target,onClick:o},[a.icon?(D(),_e(f(tt),{key:0},{default:te(()=>[(D(),_e(Rt(a.icon)))]),_:1})):he("v-if",!0),a.$slots.default?(D(),H("span",{key:1,class:F(f(s).e("inner"))},[pe(a.$slots,"default")],2)):he("v-if",!0),a.$slots.icon?pe(a.$slots,"icon",{key:2}):he("v-if",!0)],10,["href","target"]))}});var N7=He(F7,[["__file","link.vue"]]);const U7=_t(N7);let z7=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",s=>{let r=!1;switch(s.code){case qe.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case qe.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case qe.tab:{yp(e,"mouseleave");break}case qe.enter:case qe.numpadEnter:case qe.space:{r=!0,s.currentTarget.click();break}}return r&&(s.preventDefault(),s.stopPropagation()),!1})})}},$7=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new z7(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case qe.down:{yp(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case qe.up:{yp(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case qe.tab:{yp(e.currentTarget,"mouseleave");break}case qe.enter:case qe.numpadEnter:case qe.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},H7=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(s=>{s.nodeType===1&&new $7(s,e)})}};const V7=se({name:"ElMenuCollapseTransition",setup(){const t=Le("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,s){Br(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",s()},onAfterEnter(n){Os(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),nr(n,t.m("collapse"))?(Os(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Br(n,t.m("collapse"))):(Br(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Os(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Br(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function W7(t,e,n,s,r,o){return D(),_e(Xn,Dt({mode:"out-in"},t.listeners),{default:te(()=>[pe(t.$slots,"default")]),_:3},16)}var G7=He(V7,[["render",W7],["__file","menu-collapse-transition.vue"]]);function z2(t,e){const n=R(()=>{let r=t.parent;const o=[e.value];for(;r.type.name!=="ElMenu";)r.props.index&&o.unshift(r.props.index),r=r.parent;return o});return{parentMenu:R(()=>{let r=t.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:n}}function K7(t){return R(()=>{const n=t.backgroundColor;return n?new DM(n).shade(20).toString():""})}const $2=(t,e)=>{const n=Le("menu");return R(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":K7(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},j7=$e({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:sn},expandOpenIcon:{type:sn},collapseCloseIcon:{type:sn},collapseOpenIcon:{type:sn}}),nv="ElSubMenu";var sS=se({name:nv,props:j7,setup(t,{slots:e,expose:n}){const s=It(),{indexPath:r,parentMenu:o}=z2(s,R(()=>t.index)),a=Le("menu"),i=Le("sub-menu"),l=Qe("rootMenu");l||Qn(nv,"can not inject root menu");const c=Qe(`subMenu:${o.value.uid}`);c||Qn(nv,"can not inject sub menu");const u=z({}),d=z({});let h;const p=z(!1),v=z(),m=z(null),y=R(()=>T.value==="horizontal"&&_.value?"bottom-start":"right-start"),g=R(()=>T.value==="horizontal"&&_.value||T.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?C.value?t.expandOpenIcon:t.expandCloseIcon:_a:t.collapseCloseIcon&&t.collapseOpenIcon?C.value?t.collapseOpenIcon:t.collapseCloseIcon:Ws),_=R(()=>c.level===0),b=R(()=>{const $=t.teleported;return $===void 0?_.value:$}),S=R(()=>l.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`),w=R(()=>T.value==="horizontal"&&_.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),C=R(()=>l.openedMenus.includes(t.index)),A=R(()=>{let $=!1;return Object.values(u.value).forEach(W=>{W.active&&($=!0)}),Object.values(d.value).forEach(W=>{W.active&&($=!0)}),$}),T=R(()=>l.props.mode),x=qt({index:t.index,indexPath:r,active:A}),E=$2(l.props,c.level+1),M=R(()=>{var $;return($=t.popperOffset)!=null?$:l.props.popperOffset}),I=R(()=>{var $;return($=t.popperClass)!=null?$:l.props.popperClass}),k=R(()=>{var $;return($=t.showTimeout)!=null?$:l.props.showTimeout}),U=R(()=>{var $;return($=t.hideTimeout)!=null?$:l.props.hideTimeout}),B=()=>{var $,W,ee;return(ee=(W=($=m.value)==null?void 0:$.popperRef)==null?void 0:W.popperInstanceRef)==null?void 0:ee.destroy()},P=$=>{$||B()},N=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:r.value,active:A.value})},L=($,W=k.value)=>{var ee;if($.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,h==null||h(),{stop:h}=dl(()=>{l.openMenu(t.index,r.value)},W),b.value&&((ee=o.value.vnode.el)==null||ee.dispatchEvent(new MouseEvent("mouseenter")))}},O=($=!1)=>{var W;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){c.mouseInChild.value=!1;return}h==null||h(),c.mouseInChild.value=!1,{stop:h}=dl(()=>!p.value&&l.closeMenu(t.index,r.value),U.value),b.value&&$&&((W=c.handleMouseleave)==null||W.call(c,!0))};De(()=>l.props.collapse,$=>P(!!$));{const $=ee=>{d.value[ee.index]=ee},W=ee=>{delete d.value[ee.index]};Bt(`subMenu:${s.uid}`,{addSubMenu:$,removeSubMenu:W,handleMouseleave:O,mouseInChild:p,level:c.level+1})}return n({opened:C}),wt(()=>{l.addSubMenu(x),c.addSubMenu(x)}),Qt(()=>{c.removeSubMenu(x),l.removeSubMenu(x)}),()=>{var $;const W=[($=e.title)==null?void 0:$.call(e),st(tt,{class:i.e("icon-arrow"),style:{transform:C.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>ot(g.value)?st(s.appContext.components[g.value]):st(g.value)})],ee=l.isMenuPopup?st(xs,{ref:m,visible:C.value,effect:"light",pure:!0,offset:M.value,showArrow:!1,persistent:!0,popperClass:I.value,placement:y.value,teleported:b.value,fallbackPlacements:w.value,transition:S.value,gpuAcceleration:!1},{content:()=>{var Y;return st("div",{class:[a.m(T.value),a.m("popup-container"),I.value],onMouseenter:Z=>L(Z,100),onMouseleave:()=>O(!0),onFocus:Z=>L(Z,100)},[st("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${y.value}`)],style:E.value},[(Y=e.default)==null?void 0:Y.call(e)])])},default:()=>st("div",{class:i.e("title"),onClick:N},W)}):st(Ze,{},[st("div",{class:i.e("title"),ref:v,onClick:N},W),st(mm,{},{default:()=>{var Y;return Ct(st("ul",{role:"menu",class:[a.b(),a.m("inline")],style:E.value},[(Y=e.default)==null?void 0:Y.call(e)]),[[Vt,C.value]])}})]);return st("li",{class:[i.b(),i.is("active",A.value),i.is("opened",C.value),i.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:C.value,onMouseenter:L,onMouseleave:()=>O(),onFocus:L},[ee])}}});const q7=$e({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:le(Array),default:()=>En([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:sn,default:()=>IU},popperEffect:{type:le(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),sv=t=>Ue(t)&&t.every(e=>ot(e)),Y7={close:(t,e)=>ot(t)&&sv(e),open:(t,e)=>ot(t)&&sv(e),select:(t,e,n,s)=>ot(t)&&sv(e)&&Mt(n)&&(s===void 0||s instanceof Promise)};var X7=se({name:"ElMenu",props:q7,emits:Y7,setup(t,{emit:e,slots:n,expose:s}){const r=It(),o=r.appContext.config.globalProperties.$router,a=z(),i=Le("menu"),l=Le("sub-menu"),c=z(-1),u=z(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),d=z(t.defaultActive),h=z({}),p=z({}),v=R(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),m=()=>{const B=d.value&&h.value[d.value];if(!B||t.mode==="horizontal"||t.collapse)return;B.indexPath.forEach(N=>{const L=p.value[N];L&&y(N,L.indexPath)})},y=(B,P)=>{u.value.includes(B)||(t.uniqueOpened&&(u.value=u.value.filter(N=>P.includes(N))),u.value.push(B),e("open",B,P))},g=B=>{const P=u.value.indexOf(B);P!==-1&&u.value.splice(P,1)},_=(B,P)=>{g(B),e("close",B,P)},b=({index:B,indexPath:P})=>{u.value.includes(B)?_(B,P):y(B,P)},S=B=>{(t.mode==="horizontal"||t.collapse)&&(u.value=[]);const{index:P,indexPath:N}=B;if(!(es(P)||es(N)))if(t.router&&o){const L=B.route||P,O=o.push(L).then($=>($||(d.value=P),$));e("select",P,N,{index:P,indexPath:N,route:L},O)}else d.value=P,e("select",P,N,{index:P,indexPath:N})},w=B=>{const P=h.value,N=P[B]||d.value&&P[d.value]||P[t.defaultActive];N?d.value=N.index:d.value=B},C=B=>{const P=getComputedStyle(B),N=Number.parseInt(P.marginLeft,10),L=Number.parseInt(P.marginRight,10);return B.offsetWidth+N+L||0},A=()=>{var B,P;if(!a.value)return-1;const N=Array.from((P=(B=a.value)==null?void 0:B.childNodes)!=null?P:[]).filter(ae=>ae.nodeName!=="#comment"&&(ae.nodeName!=="#text"||ae.nodeValue)),L=64,O=getComputedStyle(a.value),$=Number.parseInt(O.paddingLeft,10),W=Number.parseInt(O.paddingRight,10),ee=a.value.clientWidth-$-W;let Y=0,Z=0;return N.forEach((ae,ue)=>{Y+=C(ae),Y<=ee-L&&(Z=ue+1)}),Z===N.length?-1:Z},T=B=>p.value[B].indexPath,x=(B,P=33.34)=>{let N;return()=>{N&&clearTimeout(N),N=setTimeout(()=>{B()},P)}};let E=!0;const M=()=>{if(c.value===A())return;const B=()=>{c.value=-1,lt(()=>{c.value=A()})};E?B():x(B)(),E=!1};De(()=>t.defaultActive,B=>{h.value[B]||(d.value=""),w(B)}),De(()=>t.collapse,B=>{B&&(u.value=[])}),De(h.value,m);let I;_s(()=>{t.mode==="horizontal"&&t.ellipsis?I=_n(a,M).stop:I==null||I()});const k=z(!1);{const B=O=>{p.value[O.index]=O},P=O=>{delete p.value[O.index]};Bt("rootMenu",qt({props:t,openedMenus:u,items:h,subMenus:p,activeIndex:d,isMenuPopup:v,addMenuItem:O=>{h.value[O.index]=O},removeMenuItem:O=>{delete h.value[O.index]},addSubMenu:B,removeSubMenu:P,openMenu:y,closeMenu:_,handleMenuItemClick:S,handleSubMenuClick:b})),Bt(`subMenu:${r.uid}`,{addSubMenu:B,removeSubMenu:P,mouseInChild:k,level:0})}wt(()=>{t.mode==="horizontal"&&new H7(r.vnode.el,i.namespace.value)}),s({open:P=>{const{indexPath:N}=p.value[P];N.forEach(L=>y(L,N))},close:g,handleResize:M});const U=$2(t,0);return()=>{var B,P;let N=(P=(B=n.default)==null?void 0:B.call(n))!=null?P:[];const L=[];if(t.mode==="horizontal"&&a.value){const W=ei(N),ee=c.value===-1?W:W.slice(0,c.value),Y=c.value===-1?[]:W.slice(c.value);Y!=null&&Y.length&&t.ellipsis&&(N=ee,L.push(st(sS,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>st(tt,{class:l.e("icon-more")},{default:()=>st(t.ellipsisIcon)}),default:()=>Y})))}const O=t.closeOnClickOutside?[[ha,()=>{u.value.length&&(k.value||(u.value.forEach(W=>e("close",W,T(W))),u.value=[]))}]]:[],$=Ct(st("ul",{key:String(t.collapse),role:"menubar",ref:a,style:U.value,class:{[i.b()]:!0,[i.m(t.mode)]:!0,[i.m("collapse")]:t.collapse}},[...N,...L]),O);return t.collapseTransition&&t.mode==="vertical"?st(G7,()=>$):$}}});const Q7=$e({index:{type:le([String,null]),default:null},route:{type:le([String,Object])},disabled:Boolean}),Z7={click:t=>ot(t.index)&&Ue(t.indexPath)},rv="ElMenuItem",J7=se({name:rv,components:{ElTooltip:xs},props:Q7,emits:Z7,setup(t,{emit:e}){const n=It(),s=Qe("rootMenu"),r=Le("menu"),o=Le("menu-item");s||Qn(rv,"can not inject root menu");const{parentMenu:a,indexPath:i}=z2(n,Yt(t,"index")),l=Qe(`subMenu:${a.value.uid}`);l||Qn(rv,"can not inject sub menu");const c=R(()=>t.index===s.activeIndex),u=qt({index:t.index,indexPath:i,active:c}),d=()=>{t.disabled||(s.handleMenuItemClick({index:t.index,indexPath:i.value,route:t.route}),e("click",u))};return wt(()=>{l.addSubMenu(u),s.addMenuItem(u)}),Qt(()=>{l.removeSubMenu(u),s.removeMenuItem(u)}),{parentMenu:a,rootMenu:s,active:c,nsMenu:r,nsMenuItem:o,handleClick:d}}});function ej(t,e,n,s,r,o){const a=et("el-tooltip");return D(),H("li",{class:F([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:t.handleClick},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(D(),_e(a,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:te(()=>[pe(t.$slots,"title")]),default:te(()=>[K("div",{class:F(t.nsMenu.be("tooltip","trigger"))},[pe(t.$slots,"default")],2)]),_:3},8,["effect"])):(D(),H(Ze,{key:1},[pe(t.$slots,"default"),pe(t.$slots,"title")],64))],10,["onClick"])}var H2=He(J7,[["render",ej],["__file","menu-item.vue"]]);const tj={title:String},nj="ElMenuItemGroup",sj=se({name:nj,props:tj,setup(){return{ns:Le("menu-item-group")}}});function rj(t,e,n,s,r,o){return D(),H("li",{class:F(t.ns.b())},[K("div",{class:F(t.ns.e("title"))},[t.$slots.title?pe(t.$slots,"title",{key:1}):(D(),H(Ze,{key:0},[St(Ne(t.title),1)],64))],2),K("ul",null,[pe(t.$slots,"default")])],2)}var V2=He(sj,[["render",rj],["__file","menu-item-group.vue"]]);const oj=_t(X7,{MenuItem:H2,MenuItemGroup:V2,SubMenu:sS}),aj=Tn(H2),ij=Tn(V2),lj=Tn(sS),cj=$e({icon:{type:sn,default:()=>Q4},title:String,content:{type:String,default:""}}),uj={back:()=>!0},dj=se({name:"ElPageHeader"}),fj=se({...dj,props:cj,emits:uj,setup(t,{emit:e}){const n=Gn(),{t:s}=Ut(),r=Le("page-header"),o=R(()=>[r.b(),{[r.m("has-breadcrumb")]:!!n.breadcrumb,[r.m("has-extra")]:!!n.extra,[r.is("contentful")]:!!n.default}]);function a(){e("back")}return(i,l)=>(D(),H("div",{class:F(f(o))},[i.$slots.breadcrumb?(D(),H("div",{key:0,class:F(f(r).e("breadcrumb"))},[pe(i.$slots,"breadcrumb")],2)):he("v-if",!0),K("div",{class:F(f(r).e("header"))},[K("div",{class:F(f(r).e("left"))},[K("div",{class:F(f(r).e("back")),role:"button",tabindex:"0",onClick:a},[i.icon||i.$slots.icon?(D(),H("div",{key:0,"aria-label":i.title||f(s)("el.pageHeader.title"),class:F(f(r).e("icon"))},[pe(i.$slots,"icon",{},()=>[i.icon?(D(),_e(f(tt),{key:0},{default:te(()=>[(D(),_e(Rt(i.icon)))]),_:1})):he("v-if",!0)])],10,["aria-label"])):he("v-if",!0),K("div",{class:F(f(r).e("title"))},[pe(i.$slots,"title",{},()=>[St(Ne(i.title||f(s)("el.pageHeader.title")),1)])],2)],2),j(f(E2),{direction:"vertical"}),K("div",{class:F(f(r).e("content"))},[pe(i.$slots,"content",{},()=>[St(Ne(i.content),1)])],2)],2),i.$slots.extra?(D(),H("div",{key:0,class:F(f(r).e("extra"))},[pe(i.$slots,"extra")],2)):he("v-if",!0)],2),i.$slots.default?(D(),H("div",{key:1,class:F(f(r).e("main"))},[pe(i.$slots,"default")],2)):he("v-if",!0)],2))}});var pj=He(fj,[["__file","page-header.vue"]]);const hj=_t(pj),W2=Symbol("elPaginationKey"),mj=$e({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:sn}}),vj={click:t=>t instanceof MouseEvent},gj=se({name:"ElPaginationPrev"}),yj=se({...gj,props:mj,emits:vj,setup(t){const e=t,{t:n}=Ut(),s=R(()=>e.disabled||e.currentPage<=1);return(r,o)=>(D(),H("button",{type:"button",class:"btn-prev",disabled:f(s),"aria-label":r.prevText||f(n)("el.pagination.prev"),"aria-disabled":f(s),onClick:a=>r.$emit("click",a)},[r.prevText?(D(),H("span",{key:0},Ne(r.prevText),1)):(D(),_e(f(tt),{key:1},{default:te(()=>[(D(),_e(Rt(r.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var bj=He(yj,[["__file","prev.vue"]]);const Sj=$e({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:sn}}),_j=se({name:"ElPaginationNext"}),wj=se({..._j,props:Sj,emits:["click"],setup(t){const e=t,{t:n}=Ut(),s=R(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(r,o)=>(D(),H("button",{type:"button",class:"btn-next",disabled:f(s),"aria-label":r.nextText||f(n)("el.pagination.next"),"aria-disabled":f(s),onClick:a=>r.$emit("click",a)},[r.nextText?(D(),H("span",{key:0},Ne(r.nextText),1)):(D(),_e(f(tt),{key:1},{default:te(()=>[(D(),_e(Rt(r.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Cj=He(wj,[["__file","next.vue"]]);const G2=Symbol("ElSelectGroup"),gu=Symbol("ElSelect");function xj(t,e){const n=Qe(gu),s=Qe(G2,{disabled:!1}),r=R(()=>u(Ps(n.props.modelValue),t.value)),o=R(()=>{var p;if(n.props.multiple){const v=Ps((p=n.props.modelValue)!=null?p:[]);return!r.value&&v.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=R(()=>t.label||(Mt(t.value)?"":t.value)),i=R(()=>t.value||t.label||""),l=R(()=>t.disabled||e.groupDisabled||o.value),c=It(),u=(p=[],v)=>{if(Mt(t.value)){const m=n.props.valueKey;return p&&p.some(y=>rn(Un(y,m))===Un(v,m))}else return p&&p.includes(v)},d=()=>{!t.disabled&&!s.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(c.proxy))},h=p=>{const v=new RegExp($b(p),"i");e.visible=v.test(a.value)||t.created};return De(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),De(()=>t.value,(p,v)=>{const{remote:m,valueKey:y}=n.props;if(p!==v&&(n.onOptionDestroy(v,c.proxy),n.onOptionCreate(c.proxy)),!t.created&&!m){if(y&&Mt(p)&&Mt(v)&&p[y]===v[y])return;n.setSelected()}}),De(()=>s.disabled,()=>{e.groupDisabled=s.disabled},{immediate:!0}),{select:n,currentLabel:a,currentValue:i,itemSelected:r,isDisabled:l,hoverItem:d,updateOption:h}}const Aj=se({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=Le("select"),n=hs(),s=R(()=>[e.be("dropdown","item"),e.is("disabled",f(i)),e.is("selected",f(a)),e.is("hovering",f(h))]),r=qt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:a,isDisabled:i,select:l,hoverItem:c,updateOption:u}=xj(t,r),{visible:d,hover:h}=as(r),p=It().proxy;l.onOptionCreate(p),Qt(()=>{const m=p.value,{selected:y}=l.states,g=y.some(_=>_.value===p.value);lt(()=>{l.states.cachedOptions.get(m)===p&&!g&&l.states.cachedOptions.delete(m)}),l.onOptionDestroy(m,p)});function v(){i.value||l.handleOptionSelect(p)}return{ns:e,id:n,containerKls:s,currentLabel:o,itemSelected:a,isDisabled:i,select:l,hoverItem:c,updateOption:u,visible:d,hover:h,selectOptionClick:v,states:r}}});function Ej(t,e,n,s,r,o){return Ct((D(),H("li",{id:t.id,class:F(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:t.hoverItem,onClick:pt(t.selectOptionClick,["stop"])},[pe(t.$slots,"default",{},()=>[K("span",null,Ne(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Vt,t.visible]])}var rS=He(Aj,[["render",Ej],["__file","option.vue"]]);const Tj=se({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=Qe(gu),e=Le("select"),n=R(()=>t.props.popperClass),s=R(()=>t.props.multiple),r=R(()=>t.props.fitInputWidth),o=z("");function a(){var i;o.value=`${(i=t.selectRef)==null?void 0:i.offsetWidth}px`}return wt(()=>{a(),_n(t.selectRef,a)}),{ns:e,minWidth:o,popperClass:n,isMultiple:s,isFitInputWidth:r}}});function Mj(t,e,n,s,r,o){return D(),H("div",{class:F([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:rt({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(D(),H("div",{key:0,class:F(t.ns.be("dropdown","header"))},[pe(t.$slots,"header")],2)):he("v-if",!0),pe(t.$slots,"default"),t.$slots.footer?(D(),H("div",{key:1,class:F(t.ns.be("dropdown","footer"))},[pe(t.$slots,"footer")],2)):he("v-if",!0)],6)}var Ij=He(Tj,[["render",Mj],["__file","select-dropdown.vue"]]);const Rj=11,Pj=(t,e)=>{const{t:n}=Ut(),s=hs(),r=Le("select"),o=Le("input"),a=qt({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),i=z(null),l=z(null),c=z(null),u=z(null),d=z(null),h=z(null),p=z(null),v=z(null),m=z(null),y=z(null),g=z(null),_=z(null),{isComposing:b,handleCompositionStart:S,handleCompositionUpdate:w,handleCompositionEnd:C}=Qd({afterComposition:We=>at(We)}),{wrapperRef:A,isFocused:T,handleBlur:x}=Si(d,{beforeFocus(){return N.value},afterFocus(){t.automaticDropdown&&!E.value&&(E.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(We){var vt,Kt;return((vt=c.value)==null?void 0:vt.isFocusInsideContent(We))||((Kt=u.value)==null?void 0:Kt.isFocusInsideContent(We))},afterBlur(){E.value=!1,a.menuVisibleOnFocus=!1}}),E=z(!1),M=z(),{form:I,formItem:k}=As(),{inputId:U}=Yr(t,{formItemContext:k}),{valueOnClear:B,isEmptyValue:P}=am(t),N=R(()=>t.disabled||(I==null?void 0:I.disabled)),L=R(()=>Ue(t.modelValue)?t.modelValue.length>0:!P(t.modelValue)),O=R(()=>{var We;return(We=I==null?void 0:I.statusIcon)!=null?We:!1}),$=R(()=>t.clearable&&!N.value&&a.inputHovering&&L.value),W=R(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),ee=R(()=>r.is("reverse",W.value&&E.value)),Y=R(()=>(k==null?void 0:k.validateState)||""),Z=R(()=>um[Y.value]),ae=R(()=>t.remote?300:0),ue=R(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!a.inputValue&&a.options.size===0?!1:t.filterable&&a.inputValue&&a.options.size>0&&re.value===0?t.noMatchText||n("el.select.noMatch"):a.options.size===0?t.noDataText||n("el.select.noData"):null),re=R(()=>ge.value.filter(We=>We.visible).length),ge=R(()=>{const We=Array.from(a.options.values()),vt=[];return a.optionValues.forEach(Kt=>{const zn=We.findIndex(us=>us.value===Kt);zn>-1&&vt.push(We[zn])}),vt.length>=We.length?vt:We}),ye=R(()=>Array.from(a.cachedOptions.values())),Fe=R(()=>{const We=ge.value.filter(vt=>!vt.created).some(vt=>vt.currentLabel===a.inputValue);return t.filterable&&t.allowCreate&&a.inputValue!==""&&!We}),X=()=>{t.filterable&&ct(t.filterMethod)||t.filterable&&t.remote&&ct(t.remoteMethod)||ge.value.forEach(We=>{var vt;(vt=We.updateOption)==null||vt.call(We,a.inputValue)})},V=Hn(),ce=R(()=>["small"].includes(V.value)?"small":"default"),Q=R({get(){return E.value&&ue.value!==!1},set(We){E.value=We}}),Me=R(()=>{if(t.multiple&&!Jt(t.modelValue))return Ps(t.modelValue).length===0&&!a.inputValue;const We=Ue(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||Jt(We)?!a.inputValue:!0}),Pe=R(()=>{var We;const vt=(We=t.placeholder)!=null?We:n("el.select.placeholder");return t.multiple||!L.value?vt:a.selectedLabel}),Te=R(()=>Tg?null:"mouseenter");De(()=>t.modelValue,(We,vt)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(a.inputValue="",ve("")),we(),!ps(We,vt)&&t.validateEvent&&(k==null||k.validate("change").catch(Kt=>void 0))},{flush:"post",deep:!0}),De(()=>E.value,We=>{We?ve(a.inputValue):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0),e("visible-change",We)}),De(()=>a.options.entries(),()=>{Nt&&(we(),t.defaultFirstOption&&(t.filterable||t.remote)&&re.value&&xe())},{flush:"post"}),De(()=>a.hoveringIndex,We=>{ft(We)&&We>-1?M.value=ge.value[We]||{}:M.value={},ge.value.forEach(vt=>{vt.hover=M.value===vt})}),_s(()=>{a.isBeforeHide||X()});const ve=We=>{a.previousQuery===We||b.value||(a.previousQuery=We,t.filterable&&ct(t.filterMethod)?t.filterMethod(We):t.filterable&&t.remote&&ct(t.remoteMethod)&&t.remoteMethod(We),t.defaultFirstOption&&(t.filterable||t.remote)&&re.value?lt(xe):lt(G))},xe=()=>{const We=ge.value.filter(us=>us.visible&&!us.disabled&&!us.states.groupDisabled),vt=We.find(us=>us.created),Kt=We[0],zn=ge.value.map(us=>us.value);a.hoveringIndex=ze(zn,vt||Kt)},we=()=>{if(t.multiple)a.selectedLabel="";else{const vt=Ue(t.modelValue)?t.modelValue[0]:t.modelValue,Kt=J(vt);a.selectedLabel=Kt.currentLabel,a.selected=[Kt];return}const We=[];Jt(t.modelValue)||Ps(t.modelValue).forEach(vt=>{We.push(J(vt))}),a.selected=We},J=We=>{let vt;const Kt=id(We);for(let bo=a.cachedOptions.size-1;bo>=0;bo--){const xr=ye.value[bo];if(Kt?Un(xr.value,t.valueKey)===Un(We,t.valueKey):xr.value===We){vt={value:We,currentLabel:xr.currentLabel,get isDisabled(){return xr.isDisabled}};break}}if(vt)return vt;const zn=Kt?We.label:We??"";return{value:We,currentLabel:zn}},G=()=>{a.hoveringIndex=ge.value.findIndex(We=>a.selected.some(vt=>gs(vt)===gs(We)))},me=()=>{a.selectionWidth=l.value.getBoundingClientRect().width},de=()=>{a.calculatorWidth=h.value.getBoundingClientRect().width},Re=()=>{a.collapseItemWidth=g.value.getBoundingClientRect().width},ke=()=>{var We,vt;(vt=(We=c.value)==null?void 0:We.updatePopper)==null||vt.call(We)},Je=()=>{var We,vt;(vt=(We=u.value)==null?void 0:We.updatePopper)==null||vt.call(We)},je=()=>{a.inputValue.length>0&&!E.value&&(E.value=!0),ve(a.inputValue)},at=We=>{if(a.inputValue=We.target.value,t.remote)gt();else return je()},gt=ir(()=>{je()},ae.value),nt=We=>{ps(t.modelValue,We)||e(nn,We)},q=We=>ET(We,vt=>{const Kt=a.cachedOptions.get(vt);return Kt&&!Kt.disabled&&!Kt.states.groupDisabled}),Ae=We=>{if(t.multiple&&We.code!==qe.delete&&We.target.value.length<=0){const vt=Ps(t.modelValue).slice(),Kt=q(vt);if(Kt<0)return;const zn=vt[Kt];vt.splice(Kt,1),e(Et,vt),nt(vt),e("remove-tag",zn)}},oe=(We,vt)=>{const Kt=a.selected.indexOf(vt);if(Kt>-1&&!N.value){const zn=Ps(t.modelValue).slice();zn.splice(Kt,1),e(Et,zn),nt(zn),e("remove-tag",vt.value)}We.stopPropagation(),dt()},be=We=>{We.stopPropagation();const vt=t.multiple?[]:B.value;if(t.multiple)for(const Kt of a.selected)Kt.isDisabled&&vt.push(Kt.value);e(Et,vt),nt(vt),a.hoveringIndex=-1,E.value=!1,e("clear"),dt()},ne=We=>{var vt;if(t.multiple){const Kt=Ps((vt=t.modelValue)!=null?vt:[]).slice(),zn=ze(Kt,We);zn>-1?Kt.splice(zn,1):(t.multipleLimit<=0||Kt.length<t.multipleLimit)&&Kt.push(We.value),e(Et,Kt),nt(Kt),We.created&&ve(""),t.filterable&&!t.reserveKeyword&&(a.inputValue="")}else e(Et,We.value),nt(We.value),E.value=!1;dt(),!E.value&&lt(()=>{ut(We)})},ze=(We=[],vt)=>Jt(vt)?-1:Mt(vt.value)?We.findIndex(Kt=>ps(Un(Kt,t.valueKey),gs(vt))):We.indexOf(vt.value),ut=We=>{var vt,Kt,zn,us,bo;const xr=Ue(We)?We[0]:We;let So=null;if(xr!=null&&xr.value){const ie=ge.value.filter(Oe=>Oe.value===xr.value);ie.length>0&&(So=ie[0].$el)}if(c.value&&So){const ie=(us=(zn=(Kt=(vt=c.value)==null?void 0:vt.popperRef)==null?void 0:Kt.contentRef)==null?void 0:zn.querySelector)==null?void 0:us.call(zn,`.${r.be("dropdown","wrap")}`);ie&&gb(ie,So)}(bo=_.value)==null||bo.handleScroll()},Ce=We=>{a.options.set(We.value,We),a.cachedOptions.set(We.value,We)},it=(We,vt)=>{a.options.get(We)===vt&&a.options.delete(We)},Ve=R(()=>{var We,vt;return(vt=(We=c.value)==null?void 0:We.popperRef)==null?void 0:vt.contentRef}),Ge=()=>{a.isBeforeHide=!1,lt(()=>ut(a.selected))},dt=()=>{var We;(We=d.value)==null||We.focus()},Ye=()=>{var We;if(E.value){E.value=!1,lt(()=>{var vt;return(vt=d.value)==null?void 0:vt.blur()});return}(We=d.value)==null||We.blur()},kt=We=>{be(We)},hn=We=>{if(E.value=!1,T.value){const vt=new FocusEvent("focus",We);lt(()=>x(vt))}},Kn=()=>{a.inputValue.length>0?a.inputValue="":E.value=!1},un=()=>{N.value||(Tg&&(a.inputHovering=!0),a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:E.value=!E.value)},vs=()=>{if(!E.value)un();else{const We=ge.value[a.hoveringIndex];We&&!We.isDisabled&&ne(We)}},gs=We=>Mt(We.value)?Un(We.value,t.valueKey):We.value,wi=R(()=>ge.value.filter(We=>We.visible).every(We=>We.isDisabled)),El=R(()=>t.multiple?t.collapseTags?a.selected.slice(0,t.maxCollapseTags):a.selected:[]),qs=R(()=>t.multiple?t.collapseTags?a.selected.slice(t.maxCollapseTags):[]:[]),Ea=We=>{if(!E.value){E.value=!0;return}if(!(a.options.size===0||re.value===0||b.value)&&!wi.value){We==="next"?(a.hoveringIndex++,a.hoveringIndex===a.options.size&&(a.hoveringIndex=0)):We==="prev"&&(a.hoveringIndex--,a.hoveringIndex<0&&(a.hoveringIndex=a.options.size-1));const vt=ge.value[a.hoveringIndex];(vt.isDisabled||!vt.visible)&&Ea(We),lt(()=>ut(M.value))}},Tl=()=>{if(!l.value)return 0;const We=window.getComputedStyle(l.value);return Number.parseFloat(We.gap||"6px")},Ml=R(()=>{const We=Tl();return{maxWidth:`${g.value&&t.maxCollapseTags===1?a.selectionWidth-a.collapseItemWidth-We:a.selectionWidth}px`}}),Ta=R(()=>({maxWidth:`${a.selectionWidth}px`})),Il=R(()=>({width:`${Math.max(a.calculatorWidth,Rj)}px`}));return _n(l,me),_n(h,de),_n(m,ke),_n(A,ke),_n(y,Je),_n(g,Re),wt(()=>{we()}),{inputId:U,contentId:s,nsSelect:r,nsInput:o,states:a,isFocused:T,expanded:E,optionsArray:ge,hoverOption:M,selectSize:V,filteredOptionsCount:re,resetCalculatorWidth:de,updateTooltip:ke,updateTagTooltip:Je,debouncedOnInputChange:gt,onInput:at,deletePrevTag:Ae,deleteTag:oe,deleteSelected:be,handleOptionSelect:ne,scrollToOption:ut,hasModelValue:L,shouldShowPlaceholder:Me,currentPlaceholder:Pe,mouseEnterEventName:Te,needStatusIcon:O,showClose:$,iconComponent:W,iconReverse:ee,validateState:Y,validateIcon:Z,showNewOption:Fe,updateOptions:X,collapseTagSize:ce,setSelected:we,selectDisabled:N,emptyText:ue,handleCompositionStart:S,handleCompositionUpdate:w,handleCompositionEnd:C,onOptionCreate:Ce,onOptionDestroy:it,handleMenuEnter:Ge,focus:dt,blur:Ye,handleClearClick:kt,handleClickOutside:hn,handleEsc:Kn,toggleMenu:un,selectOption:vs,getValueKey:gs,navigateOptions:Ea,dropdownMenuVisible:Q,showTagList:El,collapseTagList:qs,tagStyle:Ml,collapseTagStyle:Ta,inputStyle:Il,popperRef:Ve,inputRef:d,tooltipRef:c,tagTooltipRef:u,calculatorRef:h,prefixRef:p,suffixRef:v,selectRef:i,wrapperRef:A,selectionRef:l,scrollbarRef:_,menuRef:m,tagMenuRef:y,collapseItemRef:g}};var Dj=se({name:"ElOptions",setup(t,{slots:e}){const n=Qe(gu);let s=[];return()=>{var r,o;const a=(r=e.default)==null?void 0:r.call(e),i=[];function l(c){Ue(c)&&c.forEach(u=>{var d,h,p,v;const m=(d=(u==null?void 0:u.type)||{})==null?void 0:d.name;m==="ElOptionGroup"?l(!ot(u.children)&&!Ue(u.children)&&ct((h=u.children)==null?void 0:h.default)?(p=u.children)==null?void 0:p.default():u.children):m==="ElOption"?i.push((v=u.props)==null?void 0:v.value):Ue(u.children)&&l(u.children)})}return a.length&&l((o=a[0])==null?void 0:o.children),ps(i,s)||(s=i,n&&(n.states.optionValues=i)),a}}});const kj=$e({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Wn,effect:{type:le(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:le(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:ns.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:sn,default:wa},fitInputWidth:Boolean,suffixIcon:{type:sn,default:_a},tagType:{...pa.type,default:"info"},tagEffect:{...pa.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:le(String),values:Ca,default:"bottom-start"},fallbackPlacements:{type:le(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...pu,...ms(["ariaLabel"])}),JC="ElSelect",Lj=se({name:JC,componentName:JC,components:{ElSelectMenu:Ij,ElOption:rS,ElOptions:Dj,ElTag:$c,ElScrollbar:$o,ElTooltip:xs,ElIcon:tt},directives:{ClickOutside:ha},props:kj,emits:[Et,nn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=R(()=>{const{modelValue:a,multiple:i}=t,l=i?[]:void 0;return Ue(a)?i?a:l:i?l:a}),s=qt({...as(t),modelValue:n}),r=Pj(s,e);Bt(gu,qt({props:s,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected}));const o=R(()=>t.multiple?r.states.selected.map(a=>a.currentLabel):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:o}}});function Oj(t,e,n,s,r,o){const a=et("el-tag"),i=et("el-tooltip"),l=et("el-icon"),c=et("el-option"),u=et("el-options"),d=et("el-scrollbar"),h=et("el-select-menu"),p=qh("click-outside");return Ct((D(),H("div",{ref:"selectRef",class:F([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[Hu(t.mouseEnterEventName)]:v=>t.states.inputHovering=!0,onMouseleave:v=>t.states.inputHovering=!1},[j(i,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:v=>t.states.isBeforeHide=!1},{default:te(()=>{var v;return[K("div",{ref:"wrapperRef",class:F([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:pt(t.toggleMenu,["prevent"])},[t.$slots.prefix?(D(),H("div",{key:0,ref:"prefixRef",class:F(t.nsSelect.e("prefix"))},[pe(t.$slots,"prefix")],2)):he("v-if",!0),K("div",{ref:"selectionRef",class:F([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?pe(t.$slots,"tag",{key:0},()=>[(D(!0),H(Ze,null,Tt(t.showTagList,m=>(D(),H("div",{key:t.getValueKey(m),class:F(t.nsSelect.e("selected-item"))},[j(a,{closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:rt(t.tagStyle),onClose:y=>t.deleteTag(y,m)},{default:te(()=>[K("span",{class:F(t.nsSelect.e("tags-text"))},[pe(t.$slots,"label",{label:m.currentLabel,value:m.value},()=>[St(Ne(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(D(),_e(i,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:te(()=>[K("div",{ref:"collapseItemRef",class:F(t.nsSelect.e("selected-item"))},[j(a,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:rt(t.collapseTagStyle)},{default:te(()=>[K("span",{class:F(t.nsSelect.e("tags-text"))}," + "+Ne(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:te(()=>[K("div",{ref:"tagMenuRef",class:F(t.nsSelect.e("selection"))},[(D(!0),H(Ze,null,Tt(t.collapseTagList,m=>(D(),H("div",{key:t.getValueKey(m),class:F(t.nsSelect.e("selected-item"))},[j(a,{class:"in-tooltip",closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:y=>t.deleteTag(y,m)},{default:te(()=>[K("span",{class:F(t.nsSelect.e("tags-text"))},[pe(t.$slots,"label",{label:m.currentLabel,value:m.value},()=>[St(Ne(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):he("v-if",!0)]):he("v-if",!0),K("div",{class:F([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Ct(K("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":m=>t.states.inputValue=m,type:"text",name:t.name,class:F([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:rt(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((v=t.hoverOption)==null?void 0:v.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[on(pt(m=>t.navigateOptions("next"),["stop","prevent"]),["down"]),on(pt(m=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),on(pt(t.handleEsc,["stop","prevent"]),["esc"]),on(pt(t.selectOption,["stop","prevent"]),["enter"]),on(pt(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:pt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[Qh,t.states.inputValue]]),t.filterable?(D(),H("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:F(t.nsSelect.e("input-calculator")),textContent:Ne(t.states.inputValue)},null,10,["textContent"])):he("v-if",!0)],2),t.shouldShowPlaceholder?(D(),H("div",{key:1,class:F([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?pe(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[K("span",null,Ne(t.currentPlaceholder),1)]):(D(),H("span",{key:1},Ne(t.currentPlaceholder),1))],2)):he("v-if",!0)],2),K("div",{ref:"suffixRef",class:F(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(D(),_e(l,{key:0,class:F([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:te(()=>[(D(),_e(Rt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),t.showClose&&t.clearIcon?(D(),_e(l,{key:1,class:F([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:te(()=>[(D(),_e(Rt(t.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(D(),_e(l,{key:2,class:F([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:te(()=>[(D(),_e(Rt(t.validateIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],10,["onClick"])]}),content:te(()=>[j(h,{ref:"menuRef"},{default:te(()=>[t.$slots.header?(D(),H("div",{key:0,class:F(t.nsSelect.be("dropdown","header")),onClick:pt(()=>{},["stop"])},[pe(t.$slots,"header")],10,["onClick"])):he("v-if",!0),Ct(j(d,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:F([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:te(()=>[t.showNewOption?(D(),_e(c,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):he("v-if",!0),j(u,null,{default:te(()=>[pe(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Vt,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(D(),H("div",{key:1,class:F(t.nsSelect.be("dropdown","loading"))},[pe(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(D(),H("div",{key:2,class:F(t.nsSelect.be("dropdown","empty"))},[pe(t.$slots,"empty",{},()=>[K("span",null,Ne(t.emptyText),1)])],2)):he("v-if",!0),t.$slots.footer?(D(),H("div",{key:3,class:F(t.nsSelect.be("dropdown","footer")),onClick:pt(()=>{},["stop"])},[pe(t.$slots,"footer")],10,["onClick"])):he("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[p,t.handleClickOutside,t.popperRef]])}var Bj=He(Lj,[["render",Oj],["__file","select.vue"]]);const Fj=se({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Le("select"),n=z(null),s=It(),r=z([]);Bt(G2,qt({...as(t)}));const o=R(()=>r.value.some(c=>c.visible===!0)),a=c=>{var u,d;return((u=c.type)==null?void 0:u.name)==="ElOption"&&!!((d=c.component)!=null&&d.proxy)},i=c=>{const u=Ps(c),d=[];return u.forEach(h=>{var p,v;a(h)?d.push(h.component.proxy):(p=h.children)!=null&&p.length?d.push(...i(h.children)):(v=h.component)!=null&&v.subTree&&d.push(...i(h.component.subTree))}),d},l=()=>{r.value=i(s.subTree)};return wt(()=>{l()}),kT(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:e}}});function Nj(t,e,n,s,r,o){return Ct((D(),H("ul",{ref:"groupRef",class:F(t.ns.be("group","wrap"))},[K("li",{class:F(t.ns.be("group","title"))},Ne(t.label),3),K("li",null,[K("ul",{class:F(t.ns.b("group"))},[pe(t.$slots,"default")],2)])],2)),[[Vt,t.visible]])}var K2=He(Fj,[["render",Nj],["__file","option-group.vue"]]);const pl=_t(Bj,{Option:rS,OptionGroup:K2}),fh=Tn(rS),Uj=Tn(K2),oS=()=>Qe(W2,{}),zj=$e({pageSize:{type:Number,required:!0},pageSizes:{type:le(Array),default:()=>En([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:zo},appendSizeTo:String}),$j=se({name:"ElPaginationSizes"}),Hj=se({...$j,props:zj,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:s}=Ut(),r=Le("pagination"),o=oS(),a=z(n.pageSize);De(()=>n.pageSizes,(c,u)=>{if(!ps(c,u)&&Ue(c)){const d=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",d)}}),De(()=>n.pageSize,c=>{a.value=c});const i=R(()=>n.pageSizes);function l(c){var u;c!==a.value&&(a.value=c,(u=o.handleSizeChange)==null||u.call(o,Number(c)))}return(c,u)=>(D(),H("span",{class:F(f(r).e("sizes"))},[j(f(pl),{"model-value":a.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:l},{default:te(()=>[(D(!0),H(Ze,null,Tt(f(i),d=>(D(),_e(f(fh),{key:d,value:d,label:d+f(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var Vj=He(Hj,[["__file","sizes.vue"]]);const Wj=$e({size:{type:String,values:zo}}),Gj=se({name:"ElPaginationJumper"}),Kj=se({...Gj,props:Wj,setup(t){const{t:e}=Ut(),n=Le("pagination"),{pageCount:s,disabled:r,currentPage:o,changeEvent:a}=oS(),i=z(),l=R(()=>{var d;return(d=i.value)!=null?d:o==null?void 0:o.value});function c(d){i.value=d?+d:""}function u(d){d=Math.trunc(+d),a==null||a(d),i.value=void 0}return(d,h)=>(D(),H("span",{class:F(f(n).e("jump")),disabled:f(r)},[K("span",{class:F([f(n).e("goto")])},Ne(f(e)("el.pagination.goto")),3),j(f(ks),{size:d.size,class:F([f(n).e("editor"),f(n).is("in-pagination")]),min:1,max:f(s),disabled:f(r),"model-value":f(l),"validate-event":!1,"aria-label":f(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value","aria-label"]),K("span",{class:F([f(n).e("classifier")])},Ne(f(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var jj=He(Kj,[["__file","jumper.vue"]]);const qj=$e({total:{type:Number,default:1e3}}),Yj=se({name:"ElPaginationTotal"}),Xj=se({...Yj,props:qj,setup(t){const{t:e}=Ut(),n=Le("pagination"),{disabled:s}=oS();return(r,o)=>(D(),H("span",{class:F(f(n).e("total")),disabled:f(s)},Ne(f(e)("el.pagination.total",{total:r.total})),11,["disabled"]))}});var Qj=He(Xj,[["__file","total.vue"]]);const Zj=$e({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Jj=se({name:"ElPaginationPager"}),eq=se({...Jj,props:Zj,emits:["change"],setup(t,{emit:e}){const n=t,s=Le("pager"),r=Le("icon"),{t:o}=Ut(),a=z(!1),i=z(!1),l=z(!1),c=z(!1),u=z(!1),d=z(!1),h=R(()=>{const S=n.pagerCount,w=(S-1)/2,C=Number(n.currentPage),A=Number(n.pageCount);let T=!1,x=!1;A>S&&(C>S-w&&(T=!0),C<A-w&&(x=!0));const E=[];if(T&&!x){const M=A-(S-2);for(let I=M;I<A;I++)E.push(I)}else if(!T&&x)for(let M=2;M<S;M++)E.push(M);else if(T&&x){const M=Math.floor(S/2)-1;for(let I=C-M;I<=C+M;I++)E.push(I)}else for(let M=2;M<A;M++)E.push(M);return E}),p=R(()=>["more","btn-quickprev",r.b(),s.is("disabled",n.disabled)]),v=R(()=>["more","btn-quicknext",r.b(),s.is("disabled",n.disabled)]),m=R(()=>n.disabled?-1:0);_s(()=>{const S=(n.pagerCount-1)/2;a.value=!1,i.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-S&&(a.value=!0),n.currentPage<n.pageCount-S&&(i.value=!0))});function y(S=!1){n.disabled||(S?l.value=!0:c.value=!0)}function g(S=!1){S?u.value=!0:d.value=!0}function _(S){const w=S.target;if(w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("number")){const C=Number(w.textContent);C!==n.currentPage&&e("change",C)}else w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("more")&&b(S)}function b(S){const w=S.target;if(w.tagName.toLowerCase()==="ul"||n.disabled)return;let C=Number(w.textContent);const A=n.pageCount,T=n.currentPage,x=n.pagerCount-2;w.className.includes("more")&&(w.className.includes("quickprev")?C=T-x:w.className.includes("quicknext")&&(C=T+x)),Number.isNaN(+C)||(C<1&&(C=1),C>A&&(C=A)),C!==T&&e("change",C)}return(S,w)=>(D(),H("ul",{class:F(f(s).b()),onClick:b,onKeyup:on(_,["enter"])},[S.pageCount>0?(D(),H("li",{key:0,class:F([[f(s).is("active",S.currentPage===1),f(s).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===1,"aria-label":f(o)("el.pagination.currentPage",{pager:1}),tabindex:f(m)}," 1 ",10,["aria-current","aria-label","tabindex"])):he("v-if",!0),a.value?(D(),H("li",{key:1,class:F(f(p)),tabindex:f(m),"aria-label":f(o)("el.pagination.prevPages",{pager:S.pagerCount-2}),onMouseenter:C=>y(!0),onMouseleave:C=>l.value=!1,onFocus:C=>g(!0),onBlur:C=>u.value=!1},[(l.value||u.value)&&!S.disabled?(D(),_e(f(di),{key:0})):(D(),_e(f(Vw),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):he("v-if",!0),(D(!0),H(Ze,null,Tt(f(h),C=>(D(),H("li",{key:C,class:F([[f(s).is("active",S.currentPage===C),f(s).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===C,"aria-label":f(o)("el.pagination.currentPage",{pager:C}),tabindex:f(m)},Ne(C),11,["aria-current","aria-label","tabindex"]))),128)),i.value?(D(),H("li",{key:2,class:F(f(v)),tabindex:f(m),"aria-label":f(o)("el.pagination.nextPages",{pager:S.pagerCount-2}),onMouseenter:C=>y(),onMouseleave:C=>c.value=!1,onFocus:C=>g(),onBlur:C=>d.value=!1},[(c.value||d.value)&&!S.disabled?(D(),_e(f(fi),{key:0})):(D(),_e(f(Vw),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):he("v-if",!0),S.pageCount>1?(D(),H("li",{key:3,class:F([[f(s).is("active",S.currentPage===S.pageCount),f(s).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===S.pageCount,"aria-label":f(o)("el.pagination.currentPage",{pager:S.pageCount}),tabindex:f(m)},Ne(S.pageCount),11,["aria-current","aria-label","tabindex"])):he("v-if",!0)],42,["onKeyup"]))}});var tq=He(eq,[["__file","pager.vue"]]);const Fs=t=>typeof t!="number",nq=$e({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>ft(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:le(Array),default:()=>En([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:sn,default:()=>ui},nextText:{type:String,default:""},nextIcon:{type:sn,default:()=>Ws},teleported:{type:Boolean,default:!0},small:Boolean,size:Wn,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),sq={"update:current-page":t=>ft(t),"update:page-size":t=>ft(t),"size-change":t=>ft(t),change:(t,e)=>ft(t)&&ft(e),"current-change":t=>ft(t),"prev-click":t=>ft(t),"next-click":t=>ft(t)},e1="ElPagination";var rq=se({name:e1,props:nq,emits:sq,setup(t,{emit:e,slots:n}){const{t:s}=Ut(),r=Le("pagination"),o=It().vnode.props||{},a=zT(),i=R(()=>{var w;return t.small?"small":(w=t.size)!=null?w:a.value});Za({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},R(()=>!!t.small));const l="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,c="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,u=R(()=>{if(Fs(t.total)&&Fs(t.pageCount)||!Fs(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(Fs(t.pageCount)){if(!Fs(t.total)&&!Fs(t.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),d=z(Fs(t.defaultPageSize)?10:t.defaultPageSize),h=z(Fs(t.defaultCurrentPage)?1:t.defaultCurrentPage),p=R({get(){return Fs(t.pageSize)?d.value:t.pageSize},set(w){Fs(t.pageSize)&&(d.value=w),c&&(e("update:page-size",w),e("size-change",w))}}),v=R(()=>{let w=0;return Fs(t.pageCount)?Fs(t.total)||(w=Math.max(1,Math.ceil(t.total/p.value))):w=t.pageCount,w}),m=R({get(){return Fs(t.currentPage)?h.value:t.currentPage},set(w){let C=w;w<1?C=1:w>v.value&&(C=v.value),Fs(t.currentPage)&&(h.value=C),l&&(e("update:current-page",C),e("current-change",C))}});De(v,w=>{m.value>w&&(m.value=w)}),De([m,p],w=>{e("change",...w)},{flush:"post"});function y(w){m.value=w}function g(w){p.value=w;const C=v.value;m.value>C&&(m.value=C)}function _(){t.disabled||(m.value-=1,e("prev-click",m.value))}function b(){t.disabled||(m.value+=1,e("next-click",m.value))}function S(w,C){w&&(w.props||(w.props={}),w.props.class=[w.props.class,C].join(" "))}return Bt(W2,{pageCount:v,disabled:R(()=>t.disabled),currentPage:m,changeEvent:y,handleSizeChange:g}),()=>{var w,C;if(!u.value)return s("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&v.value<=1)return null;const A=[],T=[],x=st("div",{class:r.e("rightwrapper")},T),E={prev:st(bj,{disabled:t.disabled,currentPage:m.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:_}),jumper:st(jj,{size:i.value}),pager:st(tq,{currentPage:m.value,pageCount:v.value,pagerCount:t.pagerCount,onChange:y,disabled:t.disabled}),next:st(Cj,{disabled:t.disabled,currentPage:m.value,pageCount:v.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:b}),sizes:st(Vj,{pageSize:p.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:i.value,appendSizeTo:t.appendSizeTo}),slot:(C=(w=n==null?void 0:n.default)==null?void 0:w.call(n))!=null?C:null,total:st(Qj,{total:Fs(t.total)?0:t.total})},M=t.layout.split(",").map(k=>k.trim());let I=!1;return M.forEach(k=>{if(k==="->"){I=!0;return}I?T.push(E[k]):A.push(E[k])}),S(A[0],r.is("first")),S(A[A.length-1],r.is("last")),I&&T.length>0&&(S(T[0],r.is("first")),S(T[T.length-1],r.is("last")),A.push(x)),st("div",{class:[r.b(),r.is("background",t.background),r.m(i.value)]},A)}}});const oq=_t(rq),aq=$e({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Rg,default:"primary"},cancelButtonType:{type:String,values:Rg,default:"text"},icon:{type:sn,default:()=>LU},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:ns.teleported,persistent:ns.persistent,width:{type:[String,Number],default:150}}),iq={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},lq=se({name:"ElPopconfirm"}),cq=se({...lq,props:aq,emits:iq,setup(t,{emit:e}){const n=t,{t:s}=Ut(),r=Le("popconfirm"),o=z(),a=()=>{var h,p;(p=(h=o.value)==null?void 0:h.onClose)==null||p.call(h)},i=R(()=>({width:Rn(n.width)})),l=h=>{e("confirm",h),a()},c=h=>{e("cancel",h),a()},u=R(()=>n.confirmButtonText||s("el.popconfirm.confirmButtonText")),d=R(()=>n.cancelButtonText||s("el.popconfirm.cancelButtonText"));return(h,p)=>(D(),_e(f(xs),Dt({ref_key:"tooltipRef",ref:o,trigger:"click",effect:"light"},h.$attrs,{"popper-class":`${f(r).namespace.value}-popover`,"popper-style":f(i),teleported:h.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":h.hideAfter,persistent:h.persistent}),{content:te(()=>[K("div",{class:F(f(r).b())},[K("div",{class:F(f(r).e("main"))},[!h.hideIcon&&h.icon?(D(),_e(f(tt),{key:0,class:F(f(r).e("icon")),style:rt({color:h.iconColor})},{default:te(()=>[(D(),_e(Rt(h.icon)))]),_:1},8,["class","style"])):he("v-if",!0),St(" "+Ne(h.title),1)],2),K("div",{class:F(f(r).e("action"))},[pe(h.$slots,"actions",{confirm:l,cancel:c},()=>[j(f(rs),{size:"small",type:h.cancelButtonType==="text"?"":h.cancelButtonType,text:h.cancelButtonType==="text",onClick:c},{default:te(()=>[St(Ne(f(d)),1)]),_:1},8,["type","text"]),j(f(rs),{size:"small",type:h.confirmButtonType==="text"?"":h.confirmButtonType,text:h.confirmButtonType==="text",onClick:l},{default:te(()=>[St(Ne(f(u)),1)]),_:1},8,["type","text"])])],2)],2)]),default:te(()=>[h.$slots.reference?pe(h.$slots,"reference",{key:0}):he("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var uq=He(cq,[["__file","popconfirm.vue"]]);const dq=_t(uq),fq=$e({trigger:xd.trigger,placement:Pp.placement,disabled:xd.disabled,visible:ns.visible,transition:ns.transition,popperOptions:Pp.popperOptions,tabindex:Pp.tabindex,content:ns.content,popperStyle:ns.popperStyle,popperClass:ns.popperClass,enterable:{...ns.enterable,default:!0},effect:{...ns.effect,default:"light"},teleported:ns.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),pq={"update:visible":t=>ln(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},hq="onUpdate:visible",mq=se({name:"ElPopover"}),vq=se({...mq,props:fq,emits:pq,setup(t,{expose:e,emit:n}){const s=t,r=R(()=>s[hq]),o=Le("popover"),a=z(),i=R(()=>{var y;return(y=f(a))==null?void 0:y.popperRef}),l=R(()=>[{width:Rn(s.width)},s.popperStyle]),c=R(()=>[o.b(),s.popperClass,{[o.m("plain")]:!!s.content}]),u=R(()=>s.transition===`${o.namespace.value}-fade-in-linear`),d=()=>{var y;(y=a.value)==null||y.hide()},h=()=>{n("before-enter")},p=()=>{n("before-leave")},v=()=>{n("after-enter")},m=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:i,hide:d}),(y,g)=>(D(),_e(f(xs),Dt({ref_key:"tooltipRef",ref:a},y.$attrs,{trigger:y.trigger,placement:y.placement,disabled:y.disabled,visible:y.visible,transition:y.transition,"popper-options":y.popperOptions,tabindex:y.tabindex,content:y.content,offset:y.offset,"show-after":y.showAfter,"hide-after":y.hideAfter,"auto-close":y.autoClose,"show-arrow":y.showArrow,"aria-label":y.title,effect:y.effect,enterable:y.enterable,"popper-class":f(c),"popper-style":f(l),teleported:y.teleported,persistent:y.persistent,"gpu-acceleration":f(u),"onUpdate:visible":f(r),onBeforeShow:h,onBeforeHide:p,onShow:v,onHide:m}),{content:te(()=>[y.title?(D(),H("div",{key:0,class:F(f(o).e("title")),role:"title"},Ne(y.title),3)):he("v-if",!0),pe(y.$slots,"default",{},()=>[St(Ne(y.content),1)])]),default:te(()=>[y.$slots.reference?pe(y.$slots,"reference",{key:0}):he("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var gq=He(vq,[["__file","popover.vue"]]);const t1=(t,e)=>{const n=e.arg||e.value,s=n==null?void 0:n.popperRef;s&&(s.triggerRef=t)};var yq={mounted(t,e){t1(t,e)},updated(t,e){t1(t,e)}};const bq="popover",j2=z4(yq,bq),Sq=_t(gq,{directive:j2}),_q=$e({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:le(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:le([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:le(Function),default:t=>`${t}%`}}),wq=se({name:"ElProgress"}),Cq=se({...wq,props:_q,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=Le("progress"),r=R(()=>{const b={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},S=_(e.percentage);return S.includes("gradient")?b.background=S:b.backgroundColor=S,b}),o=R(()=>(e.strokeWidth/e.width*100).toFixed(1)),a=R(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),i=R(()=>{const b=a.value,S=e.type==="dashboard";return`
          M 50 50
          m 0 ${S?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${S?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${S?"":"-"}${b*2}
          `}),l=R(()=>2*Math.PI*a.value),c=R(()=>e.type==="dashboard"?.75:1),u=R(()=>`${-1*l.value*(1-c.value)/2}px`),d=R(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),h=R(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),p=R(()=>{let b;return e.color?b=_(e.percentage):b=n[e.status]||n.default,b}),v=R(()=>e.status==="warning"?cm:e.type==="line"?e.status==="success"?bb:wa:e.status==="success"?Yd:mo),m=R(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),y=R(()=>e.format(e.percentage));function g(b){const S=100/b.length;return b.map((C,A)=>ot(C)?{color:C,percentage:(A+1)*S}:C).sort((C,A)=>C.percentage-A.percentage)}const _=b=>{var S;const{color:w}=e;if(ct(w))return w(b);if(ot(w))return w;{const C=g(w);for(const A of C)if(A.percentage>b)return A.color;return(S=C[C.length-1])==null?void 0:S.color}};return(b,S)=>(D(),H("div",{class:F([f(s).b(),f(s).m(b.type),f(s).is(b.status),{[f(s).m("without-text")]:!b.showText,[f(s).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(D(),H("div",{key:0,class:F(f(s).b("bar"))},[K("div",{class:F(f(s).be("bar","outer")),style:rt({height:`${b.strokeWidth}px`})},[K("div",{class:F([f(s).be("bar","inner"),{[f(s).bem("bar","inner","indeterminate")]:b.indeterminate},{[f(s).bem("bar","inner","striped")]:b.striped},{[f(s).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:rt(f(r))},[(b.showText||b.$slots.default)&&b.textInside?(D(),H("div",{key:0,class:F(f(s).be("bar","innerText"))},[pe(b.$slots,"default",{percentage:b.percentage},()=>[K("span",null,Ne(f(y)),1)])],2)):he("v-if",!0)],6)],6)],2)):(D(),H("div",{key:1,class:F(f(s).b("circle")),style:rt({height:`${b.width}px`,width:`${b.width}px`})},[(D(),H("svg",{viewBox:"0 0 100 100"},[K("path",{class:F(f(s).be("circle","track")),d:f(i),stroke:`var(${f(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":f(o),fill:"none",style:rt(f(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),K("path",{class:F(f(s).be("circle","path")),d:f(i),stroke:f(p),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":f(o),style:rt(f(h))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(D(),H("div",{key:2,class:F(f(s).e("text")),style:rt({fontSize:`${f(m)}px`})},[pe(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(D(),_e(f(tt),{key:1},{default:te(()=>[(D(),_e(Rt(f(v))))]),_:1})):(D(),H("span",{key:0},Ne(f(y)),1))])],6)):he("v-if",!0)],10,["aria-valuenow"]))}});var xq=He(Cq,[["__file","progress.vue"]]);const q2=_t(xq),Aq=$e({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:le([Array,Object]),default:()=>En(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:le([Array,Object]),default:()=>[bf,bf,bf]},voidIcon:{type:sn,default:()=>YU},disabledVoidIcon:{type:sn,default:()=>bf},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:le(Array),default:()=>En(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Wn,clearable:Boolean,...ms(["ariaLabel"])}),Eq={[nn]:t=>ft(t),[Et]:t=>ft(t)},Tq=se({name:"ElRate"}),Mq=se({...Tq,props:Aq,emits:Eq,setup(t,{expose:e,emit:n}){const s=t;function r(P,N){const L=W=>Mt(W),O=Object.keys(N).map(W=>+W).filter(W=>{const ee=N[W];return(L(ee)?ee.excluded:!1)?P<W:P<=W}).sort((W,ee)=>W-ee),$=N[O[0]];return L($)&&$.value||$}const o=Qe(xl,void 0),a=Qe(Oo,void 0),i=Hn(),l=Le("rate"),{inputId:c,isLabeledByFormItem:u}=Yr(s,{formItemContext:a}),d=z(s.modelValue),h=z(-1),p=z(!0),v=R(()=>[l.b(),l.m(i.value)]),m=R(()=>s.disabled||(o==null?void 0:o.disabled)),y=R(()=>l.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":S.value})),g=R(()=>{let P="";return s.showScore?P=s.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${s.modelValue}`:`${d.value}`):s.showText&&(P=s.texts[Math.ceil(d.value)-1]),P}),_=R(()=>s.modelValue*100-Math.floor(s.modelValue)*100),b=R(()=>Ue(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),S=R(()=>{const P=r(d.value,b.value);return Mt(P)?"":P}),w=R(()=>{let P="";return m.value?P=`${_.value}%`:s.allowHalf&&(P="50%"),{color:S.value,width:P}}),C=R(()=>{let P=Ue(s.icons)?[...s.icons]:{...s.icons};return P=ia(P),Ue(P)?{[s.lowThreshold]:P[0],[s.highThreshold]:{value:P[1],excluded:!0},[s.max]:P[2]}:P}),A=R(()=>r(s.modelValue,C.value)),T=R(()=>m.value?ot(s.disabledVoidIcon)?s.disabledVoidIcon:ia(s.disabledVoidIcon):ot(s.voidIcon)?s.voidIcon:ia(s.voidIcon)),x=R(()=>r(d.value,C.value));function E(P){const N=m.value&&_.value>0&&P-1<s.modelValue&&P>s.modelValue,L=s.allowHalf&&p.value&&P-.5<=d.value&&P>d.value;return N||L}function M(P){s.clearable&&P===s.modelValue&&(P=0),n(Et,P),s.modelValue!==P&&n("change",P)}function I(P){m.value||(s.allowHalf&&p.value?M(d.value):M(P))}function k(P){if(m.value)return;let N=d.value;const L=P.code;return L===qe.up||L===qe.right?(s.allowHalf?N+=.5:N+=1,P.stopPropagation(),P.preventDefault()):(L===qe.left||L===qe.down)&&(s.allowHalf?N-=.5:N-=1,P.stopPropagation(),P.preventDefault()),N=N<0?0:N,N=N>s.max?s.max:N,n(Et,N),n("change",N),N}function U(P,N){if(!m.value){if(s.allowHalf&&N){let L=N.target;nr(L,l.e("item"))&&(L=L.querySelector(`.${l.e("icon")}`)),(L.clientWidth===0||nr(L,l.e("decimal")))&&(L=L.parentNode),p.value=N.offsetX*2<=L.clientWidth,d.value=p.value?P-.5:P}else d.value=P;h.value=P}}function B(){m.value||(s.allowHalf&&(p.value=s.modelValue!==Math.floor(s.modelValue)),d.value=s.modelValue,h.value=-1)}return De(()=>s.modelValue,P=>{d.value=P,p.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||n(Et,0),e({setCurrentValue:U,resetCurrentValue:B}),(P,N)=>{var L;return D(),H("div",{id:f(c),class:F([f(v),f(l).is("disabled",f(m))]),role:"slider","aria-label":f(u)?void 0:P.ariaLabel||"rating","aria-labelledby":f(u)?(L=f(a))==null?void 0:L.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":f(g)||void 0,"aria-valuemin":"0","aria-valuemax":P.max,tabindex:"0",style:rt(f(y)),onKeydown:k},[(D(!0),H(Ze,null,Tt(P.max,(O,$)=>(D(),H("span",{key:$,class:F(f(l).e("item")),onMousemove:W=>U(O,W),onMouseleave:B,onClick:W=>I(O)},[j(f(tt),{class:F([f(l).e("icon"),{hover:h.value===O},f(l).is("active",O<=d.value)])},{default:te(()=>[E(O)?he("v-if",!0):(D(),H(Ze,{key:0},[Ct((D(),_e(Rt(f(x)),null,null,512)),[[Vt,O<=d.value]]),Ct((D(),_e(Rt(f(T)),null,null,512)),[[Vt,!(O<=d.value)]])],64)),E(O)?(D(),H(Ze,{key:1},[(D(),_e(Rt(f(T)),{class:F([f(l).em("decimal","box")])},null,8,["class"])),j(f(tt),{style:rt(f(w)),class:F([f(l).e("icon"),f(l).e("decimal")])},{default:te(()=>[(D(),_e(Rt(f(A))))]),_:1},8,["style","class"])],64)):he("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),P.showText||P.showScore?(D(),H("span",{key:0,class:F(f(l).e("text")),style:rt({color:P.textColor})},Ne(f(g)),7)):he("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var Iq=He(Mq,[["__file","rate.vue"]]);const Rq=_t(Iq),cc={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},n1={[cc.success]:oU,[cc.warning]:cm,[cc.error]:Sb,[cc.info]:_b},Pq=$e({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),Dq=se({name:"ElResult"}),kq=se({...Dq,props:Pq,setup(t){const e=t,n=Le("result"),s=R(()=>{const r=e.icon,o=r&&cc[r]?cc[r]:"icon-info",a=n1[o]||n1["icon-info"];return{class:o,component:a}});return(r,o)=>(D(),H("div",{class:F(f(n).b())},[K("div",{class:F(f(n).e("icon"))},[pe(r.$slots,"icon",{},()=>[f(s).component?(D(),_e(Rt(f(s).component),{key:0,class:F(f(s).class)},null,8,["class"])):he("v-if",!0)])],2),r.title||r.$slots.title?(D(),H("div",{key:0,class:F(f(n).e("title"))},[pe(r.$slots,"title",{},()=>[K("p",null,Ne(r.title),1)])],2)):he("v-if",!0),r.subTitle||r.$slots["sub-title"]?(D(),H("div",{key:1,class:F(f(n).e("subtitle"))},[pe(r.$slots,"sub-title",{},()=>[K("p",null,Ne(r.subTitle),1)])],2)):he("v-if",!0),r.$slots.extra?(D(),H("div",{key:2,class:F(f(n).e("extra"))},[pe(r.$slots,"extra")],2)):he("v-if",!0)],2))}});var Lq=He(kq,[["__file","result.vue"]]);const Oq=_t(Lq),Bq=["start","center","end","space-around","space-between","space-evenly"],Fq=["top","middle","bottom"],Nq=$e({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Bq,default:"start"},align:{type:String,values:Fq}}),Uq=se({name:"ElRow"}),zq=se({...Uq,props:Nq,setup(t){const e=t,n=Le("row"),s=R(()=>e.gutter);Bt(t2,{gutter:s});const r=R(()=>{const a={};return e.gutter&&(a.marginRight=a.marginLeft=`-${e.gutter/2}px`),a}),o=R(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(a,i)=>(D(),_e(Rt(a.tag),{class:F(f(o)),style:rt(f(r))},{default:te(()=>[pe(a.$slots,"default")]),_:3},8,["class","style"]))}});var $q=He(zq,[["__file","row.vue"]]);const Hq=_t($q),Vq=se({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Le("select")}}});function Wq(t,e,n,s,r,o){return D(),H("div",{class:F(t.ns.be("group","title")),style:rt({...t.style,lineHeight:`${t.height}px`})},Ne(t.item.label),7)}var Gq=He(Vq,[["render",Wq],["__file","group-item.vue"]]);function Kq(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const Y2={label:"label",value:"value",disabled:"disabled",options:"options"};function bm(t){const e=R(()=>({...Y2,...t.props}));return{aliasProps:e,getLabel:a=>Un(a,e.value.label),getValue:a=>Un(a,e.value.value),getDisabled:a=>Un(a,e.value.disabled),getOptions:a=>Un(a,e.value.options)}}const jq=$e({allowCreate:Boolean,autocomplete:{type:le(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:sn,default:wa},effect:{type:le(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:le([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:le(Array),required:!0},placeholder:{type:String},teleported:ns.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:le(Object),default:()=>({})},remote:Boolean,size:Wn,props:{type:le(Object),default:()=>Y2},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:le(String),values:Ca,default:"bottom-start"},fallbackPlacements:{type:le(Array),default:["bottom-start","top-start","right","left"]},tagType:{...pa.type,default:"info"},tagEffect:{...pa.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,...pu,...ms(["ariaLabel"])}),qq=$e({data:Array,disabled:Boolean,hovering:Boolean,item:{type:le(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Yq={[Et]:t=>!0,[nn]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},Xq={hover:t=>ft(t),select:(t,e)=>!0},aS=Symbol("ElSelectV2Injection"),Qq=se({props:qq,emits:Xq,setup(t,{emit:e}){const n=Qe(aS),s=Le("select"),{hoverItem:r,selectOptionClick:o}=Kq(t,{emit:e}),{getLabel:a}=bm(n.props);return{ns:s,hoverItem:r,selectOptionClick:o,getLabel:a}}});function Zq(t,e,n,s,r,o){return D(),H("li",{"aria-selected":t.selected,style:rt(t.style),class:F([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMousemove:t.hoverItem,onClick:pt(t.selectOptionClick,["stop"])},[pe(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[K("span",null,Ne(t.getLabel(t.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var Jq=He(Qq,[["render",Zq],["__file","option-item.vue"]]),s1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function eY(t,e){return!!(t===e||s1(t)&&s1(e))}function tY(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!eY(t[n],e[n]))return!1;return!0}function nY(t,e){e===void 0&&(e=tY);var n=null;function s(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var a=t.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return s.clear=function(){n=null},s}const X2=()=>{const e=It().proxy.$props;return R(()=>{const n=(s,r,o)=>({});return e.perfMode?nm(n):nY(n)})},Qg=50,ph="itemRendered",hh="scroll",uc="forward",mh="backward",Fr="auto",Sm="smart",Md="start",Eo="center",Id="end",Vc="horizontal",iS="vertical",sY="ltr",_c="rtl",Rd="negative",lS="positive-ascending",cS="positive-descending",rY={[Vc]:"left",[iS]:"top"},oY=20,aY={[Vc]:"deltaX",[iS]:"deltaY"},iY=({atEndEdge:t,atStartEdge:e,layout:n},s)=>{let r,o=0;const a=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:a,onWheel:l=>{fl(r);const c=l[aY[n.value]];a(o)&&a(o+c)||(o+=c,dm()||l.preventDefault(),r=ci(()=>{s(o),o=0}))}}},Zg=go({type:le([Number,Function]),required:!0}),Jg=go({type:Number}),e0=go({type:Number,default:2}),lY=go({type:String,values:["ltr","rtl"],default:"ltr"}),t0=go({type:Number,default:0}),vh=go({type:Number,required:!0}),Q2=go({type:String,values:["horizontal","vertical"],default:iS}),Z2=$e({className:{type:String,default:""},containerElement:{type:le([String,Object]),default:"div"},data:{type:le(Array),default:()=>En([])},direction:lY,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:le([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),J2=$e({cache:e0,estimatedItemSize:Jg,layout:Q2,initScrollOffset:t0,total:vh,itemSize:Zg,...Z2}),n0={type:Number,default:6},eI={type:Number,default:0},tI={type:Number,default:2},ol=$e({columnCache:e0,columnWidth:Zg,estimatedColumnWidth:Jg,estimatedRowHeight:Jg,initScrollLeft:t0,initScrollTop:t0,itemKey:{type:le(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:e0,rowHeight:Zg,totalColumn:vh,totalRow:vh,hScrollbarSize:n0,vScrollbarSize:n0,scrollbarStartGap:eI,scrollbarEndGap:tI,role:String,...Z2}),nI=$e({alwaysOn:Boolean,class:String,layout:Q2,total:vh,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:n0,startGap:eI,endGap:tI,visible:Boolean}),qi=(t,e)=>t<e?uc:mh,Pd=t=>t===sY||t===_c||t===Vc,r1=t=>t===_c;let Ol=null;function gh(t=!1){if(Ol===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const s=document.createElement("div"),r=s.style;return r.width="100px",r.height="100px",e.appendChild(s),document.body.appendChild(e),e.scrollLeft>0?Ol=cS:(e.scrollLeft=1,e.scrollLeft===0?Ol=Rd:Ol=lS),document.body.removeChild(e),Ol}return Ol}function cY({move:t,size:e,bar:n},s){const r={},o=`translate${n.axis}(${t}px)`;return r[n.size]=e,r.transform=o,r.msTransform=o,r.webkitTransform=o,s==="horizontal"?r.height="100%":r.width="100%",r}const s0=se({name:"ElVirtualScrollBar",props:nI,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=R(()=>t.startGap+t.endGap),s=Le("virtual-scrollbar"),r=Le("scrollbar"),o=z(),a=z();let i=null,l=null;const c=qt({isDragging:!1,traveled:0}),u=R(()=>eM[t.layout]),d=R(()=>t.clientSize-f(n)),h=R(()=>({position:"absolute",width:`${Vc===t.layout?d.value:t.scrollbarSize}px`,height:`${Vc===t.layout?t.scrollbarSize:d.value}px`,[rY[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),p=R(()=>{const C=t.ratio,A=t.clientSize;if(C>=100)return Number.POSITIVE_INFINITY;if(C>=50)return C*A/100;const T=A/3;return Math.floor(Math.min(Math.max(C*A,oY),T))}),v=R(()=>{if(!Number.isFinite(p.value))return{display:"none"};const C=`${p.value}px`;return cY({bar:u.value,size:C,move:c.traveled},t.layout)}),m=R(()=>Math.floor(t.clientSize-p.value-f(n))),y=()=>{window.addEventListener("mousemove",S),window.addEventListener("mouseup",b);const C=f(a);C&&(l=document.onselectstart,document.onselectstart=()=>!1,C.addEventListener("touchmove",S,{passive:!0}),C.addEventListener("touchend",b))},g=()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const C=f(a);C&&(C.removeEventListener("touchmove",S),C.removeEventListener("touchend",b))},_=C=>{C.stopImmediatePropagation(),!(C.ctrlKey||[1,2].includes(C.button))&&(c.isDragging=!0,c[u.value.axis]=C.currentTarget[u.value.offset]-(C[u.value.client]-C.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),y())},b=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),g()},S=C=>{const{isDragging:A}=c;if(!A||!a.value||!o.value)return;const T=c[u.value.axis];if(!T)return;fl(i);const x=(o.value.getBoundingClientRect()[u.value.direction]-C[u.value.client])*-1,E=a.value[u.value.offset]-T,M=x-E;i=ci(()=>{c.traveled=Math.max(t.startGap,Math.min(M,m.value)),e("scroll",M,m.value)})},w=C=>{const A=Math.abs(C.target.getBoundingClientRect()[u.value.direction]-C[u.value.client]),T=a.value[u.value.offset]/2,x=A-T;c.traveled=Math.max(0,Math.min(x,m.value)),e("scroll",x,m.value)};return De(()=>t.scrollFrom,C=>{c.isDragging||(c.traveled=Math.ceil(C*m.value))}),Qt(()=>{g()}),()=>st("div",{role:"presentation",ref:o,class:[s.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:h.value,onMousedown:pt(w,["stop","prevent"]),onTouchstartPrevent:_},st("div",{ref:a,class:r.e("thumb"),style:v.value,onMousedown:_},[]))}}),sI=({name:t,getOffset:e,getItemSize:n,getItemOffset:s,getEstimatedTotalSize:r,getStartIndexForOffset:o,getStopIndexForStartIndex:a,initCache:i,clearCache:l,validateProps:c})=>se({name:t??"ElVirtualList",props:J2,emits:[ph,hh],setup(u,{emit:d,expose:h}){c(u);const p=It(),v=Le("vl"),m=z(i(u,p)),y=X2(),g=z(),_=z(),b=z(),S=z({isScrolling:!1,scrollDir:"forward",scrollOffset:ft(u.initScrollOffset)?u.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:u.scrollbarAlwaysOn}),w=R(()=>{const{total:Y,cache:Z}=u,{isScrolling:ae,scrollDir:ue,scrollOffset:re}=f(S);if(Y===0)return[0,0,0,0];const ge=o(u,re,f(m)),ye=a(u,ge,re,f(m)),Fe=!ae||ue===mh?Math.max(1,Z):1,X=!ae||ue===uc?Math.max(1,Z):1;return[Math.max(0,ge-Fe),Math.max(0,Math.min(Y-1,ye+X)),ge,ye]}),C=R(()=>r(u,f(m))),A=R(()=>Pd(u.layout)),T=R(()=>[{position:"relative",[`overflow-${A.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:ft(u.height)?`${u.height}px`:u.height,width:ft(u.width)?`${u.width}px`:u.width},u.style]),x=R(()=>{const Y=f(C),Z=f(A);return{height:Z?"100%":`${Y}px`,pointerEvents:f(S).isScrolling?"none":void 0,width:Z?`${Y}px`:"100%"}}),E=R(()=>A.value?u.width:u.height),{onWheel:M}=iY({atStartEdge:R(()=>S.value.scrollOffset<=0),atEndEdge:R(()=>S.value.scrollOffset>=C.value),layout:R(()=>u.layout)},Y=>{var Z,ae;(ae=(Z=b.value).onMouseUp)==null||ae.call(Z),N(Math.min(S.value.scrollOffset+Y,C.value-E.value))});en(g,"wheel",M,{passive:!1});const I=()=>{const{total:Y}=u;if(Y>0){const[re,ge,ye,Fe]=f(w);d(ph,re,ge,ye,Fe)}const{scrollDir:Z,scrollOffset:ae,updateRequested:ue}=f(S);d(hh,Z,ae,ue)},k=Y=>{const{clientHeight:Z,scrollHeight:ae,scrollTop:ue}=Y.currentTarget,re=f(S);if(re.scrollOffset===ue)return;const ge=Math.max(0,Math.min(ue,ae-Z));S.value={...re,isScrolling:!0,scrollDir:qi(re.scrollOffset,ge),scrollOffset:ge,updateRequested:!1},lt($)},U=Y=>{const{clientWidth:Z,scrollLeft:ae,scrollWidth:ue}=Y.currentTarget,re=f(S);if(re.scrollOffset===ae)return;const{direction:ge}=u;let ye=ae;if(ge===_c)switch(gh()){case Rd:{ye=-ae;break}case cS:{ye=ue-Z-ae;break}}ye=Math.max(0,Math.min(ye,ue-Z)),S.value={...re,isScrolling:!0,scrollDir:qi(re.scrollOffset,ye),scrollOffset:ye,updateRequested:!1},lt($)},B=Y=>{f(A)?U(Y):k(Y),I()},P=(Y,Z)=>{const ae=(C.value-E.value)/Z*Y;N(Math.min(C.value-E.value,ae))},N=Y=>{Y=Math.max(Y,0),Y!==f(S).scrollOffset&&(S.value={...f(S),scrollOffset:Y,scrollDir:qi(f(S).scrollOffset,Y),updateRequested:!0},lt($))},L=(Y,Z=Fr)=>{const{scrollOffset:ae}=f(S);Y=Math.max(0,Math.min(Y,u.total-1)),N(e(u,Y,Z,ae,f(m)))},O=Y=>{const{direction:Z,itemSize:ae,layout:ue}=u,re=y.value(l&&ae,l&&ue,l&&Z);let ge;if($t(re,String(Y)))ge=re[Y];else{const ye=s(u,Y,f(m)),Fe=n(u,Y,f(m)),X=f(A),V=Z===_c,ce=X?ye:0;re[Y]=ge={position:"absolute",left:V?void 0:`${ce}px`,right:V?`${ce}px`:void 0,top:X?0:`${ye}px`,height:X?"100%":`${Fe}px`,width:X?`${Fe}px`:"100%"}}return ge},$=()=>{S.value.isScrolling=!1,lt(()=>{y.value(-1,null,null)})},W=()=>{const Y=g.value;Y&&(Y.scrollTop=0)};wt(()=>{if(!Nt)return;const{initScrollOffset:Y}=u,Z=f(g);ft(Y)&&Z&&(f(A)?Z.scrollLeft=Y:Z.scrollTop=Y),I()}),qr(()=>{const{direction:Y,layout:Z}=u,{scrollOffset:ae,updateRequested:ue}=f(S),re=f(g);if(ue&&re)if(Z===Vc)if(Y===_c)switch(gh()){case Rd:{re.scrollLeft=-ae;break}case lS:{re.scrollLeft=ae;break}default:{const{clientWidth:ge,scrollWidth:ye}=re;re.scrollLeft=ye-ge-ae;break}}else re.scrollLeft=ae;else re.scrollTop=ae}),Vy(()=>{f(g).scrollTop=f(S).scrollOffset});const ee={ns:v,clientSize:E,estimatedTotalSize:C,windowStyle:T,windowRef:g,innerRef:_,innerStyle:x,itemsToRender:w,scrollbarRef:b,states:S,getItemStyle:O,onScroll:B,onScrollbarScroll:P,onWheel:M,scrollTo:N,scrollToItem:L,resetScrollTop:W};return h({windowRef:g,innerRef:_,getItemStyleCache:y,scrollTo:N,scrollToItem:L,resetScrollTop:W,states:S}),ee},render(u){var d;const{$slots:h,className:p,clientSize:v,containerElement:m,data:y,getItemStyle:g,innerElement:_,itemsToRender:b,innerStyle:S,layout:w,total:C,onScroll:A,onScrollbarScroll:T,states:x,useIsScrolling:E,windowStyle:M,ns:I}=u,[k,U]=b,B=Rt(m),P=Rt(_),N=[];if(C>0)for(let W=k;W<=U;W++)N.push(st(Ze,{key:W},(d=h.default)==null?void 0:d.call(h,{data:y,index:W,isScrolling:E?x.isScrolling:void 0,style:g(W)})));const L=[st(P,{style:S,ref:"innerRef"},ot(P)?N:{default:()=>N})],O=st(s0,{ref:"scrollbarRef",clientSize:v,layout:w,onScroll:T,ratio:v*100/this.estimatedTotalSize,scrollFrom:x.scrollOffset/(this.estimatedTotalSize-v),total:C}),$=st(B,{class:[I.e("window"),p],style:M,onScroll:A,ref:"windowRef",key:0},ot(B)?[L]:{default:()=>[L]});return st("div",{key:0,class:[I.e("wrapper"),x.scrollbarAlwaysOn?"always-on":""]},[$,O])}}),rI=sI({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:s,width:r},o,a,i)=>{const l=Pd(s)?r:t,c=Math.max(0,e*n-l),u=Math.min(c,o*n),d=Math.max(0,(o+1)*n-l);switch(a===Sm&&(i>=d-l&&i<=u+l?a=Fr:a=Eo),a){case Md:return u;case Id:return d;case Eo:{const h=Math.round(d+(u-d)/2);return h<Math.ceil(l/2)?0:h>c+Math.floor(l/2)?c:h}case Fr:default:return i>=d&&i<=u?i:i<d?d:u}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:s,width:r},o,a)=>{const i=o*n,l=Pd(s)?r:t,c=Math.ceil((l+a-i)/n);return Math.max(0,Math.min(e-1,o+c-1))},initCache(){},clearCache:!0,validateProps(){}}),dc=(t,e,n)=>{const{itemSize:s}=t,{items:r,lastVisitedIndex:o}=n;if(e>o){let a=0;if(o>=0){const i=r[o];a=i.offset+i.size}for(let i=o+1;i<=e;i++){const l=s(i);r[i]={offset:a,size:l},a+=l}n.lastVisitedIndex=e}return r[e]},uY=(t,e,n)=>{const{items:s,lastVisitedIndex:r}=e;return(r>0?s[r].offset:0)>=n?oI(t,e,0,r,n):dY(t,e,Math.max(0,r),n)},oI=(t,e,n,s,r)=>{for(;n<=s;){const o=n+Math.floor((s-n)/2),a=dc(t,o,e).offset;if(a===r)return o;a<r?n=o+1:a>r&&(s=o-1)}return Math.max(0,n-1)},dY=(t,e,n,s)=>{const{total:r}=t;let o=1;for(;n<r&&dc(t,n,e).offset<s;)n+=o,o*=2;return oI(t,e,Math.floor(n/2),Math.min(n,r-1),s)},o1=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:s})=>{let r=0;if(s>=t&&(s=t-1),s>=0){const i=e[s];r=i.offset+i.size}const a=(t-s-1)*n;return r+a},fY=sI({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>dc(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:o1,getOffset:(t,e,n,s,r)=>{const{height:o,layout:a,width:i}=t,l=Pd(a)?i:o,c=dc(t,e,r),u=o1(t,r),d=Math.max(0,Math.min(u-l,c.offset)),h=Math.max(0,c.offset-l+c.size);switch(n===Sm&&(s>=h-l&&s<=d+l?n=Fr:n=Eo),n){case Md:return d;case Id:return h;case Eo:return Math.round(h+(d-h)/2);case Fr:default:return s>=h&&s<=d?s:s<h?h:d}},getStartIndexForOffset:(t,e,n)=>uY(t,n,e),getStopIndexForStartIndex:(t,e,n,s)=>{const{height:r,total:o,layout:a,width:i}=t,l=Pd(a)?i:r,c=dc(t,e,s),u=n+l;let d=c.offset+c.size,h=e;for(;h<o-1&&d<u;)h++,d+=dc(t,h,s).size;return h},initCache({estimatedItemSize:t=Qg},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(s,r=!0)=>{var o,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,s-1),(o=e.exposed)==null||o.getItemStyleCache(-1),r&&((a=e.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),pY={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var hY=se({name:"ElSelectDropdown",props:pY,setup(t,{slots:e,expose:n}){const s=Qe(aS),r=Le("select"),{getLabel:o,getValue:a,getDisabled:i}=bm(s.props),l=z([]),c=z(),u=R(()=>t.data.length);De(()=>u.value,()=>{var M,I;(I=(M=s.tooltipRef.value).updatePopper)==null||I.call(M)});const d=R(()=>Jt(s.props.estimatedOptionHeight)),h=R(()=>d.value?{itemSize:s.props.itemHeight}:{estimatedSize:s.props.estimatedOptionHeight,itemSize:M=>l.value[M]}),p=(M=[],I)=>{const{props:{valueKey:k}}=s;return Mt(I)?M&&M.some(U=>rn(Un(U,k))===Un(I,k)):M.includes(I)},v=(M,I)=>{if(Mt(I)){const{valueKey:k}=s.props;return Un(M,k)===Un(I,k)}else return M===I},m=(M,I)=>s.props.multiple?p(M,a(I)):v(M,a(I)),y=(M,I)=>{const{disabled:k,multiple:U,multipleLimit:B}=s.props;return k||!I&&(U?B>0&&M.length>=B:!1)},g=M=>t.hoveringIndex===M;n({listRef:c,isSized:d,isItemDisabled:y,isItemHovering:g,isItemSelected:m,scrollToItem:M=>{const I=c.value;I&&I.scrollToItem(M)},resetScrollTop:()=>{const M=c.value;M&&M.resetScrollTop()}});const w=M=>{const{index:I,data:k,style:U}=M,B=f(d),{itemSize:P,estimatedSize:N}=f(h),{modelValue:L}=s.props,{onSelect:O,onHover:$}=s,W=k[I];if(W.type==="Group")return j(Gq,{item:W,style:U,height:B?P:N},null);const ee=m(L,W),Y=y(L,ee),Z=g(I);return j(Jq,Dt(M,{selected:ee,disabled:i(W)||Y,created:!!W.created,hovering:Z,item:W,onSelect:O,onHover:$}),{default:ae=>{var ue;return((ue=e.default)==null?void 0:ue.call(e,ae))||j("span",null,[o(W)])}})},{onKeyboardNavigate:C,onKeyboardSelect:A}=s,T=()=>{C("forward")},x=()=>{C("backward")},E=M=>{const{code:I}=M,{tab:k,esc:U,down:B,up:P,enter:N,numpadEnter:L}=qe;switch(I!==k&&(M.preventDefault(),M.stopPropagation()),I){case k:case U:break;case B:T();break;case P:x();break;case N:case L:A();break}};return()=>{var M,I,k,U;const{data:B,width:P}=t,{height:N,multiple:L,scrollbarAlwaysOn:O}=s.props,$=f(d)?rI:fY;return j("div",{class:[r.b("dropdown"),r.is("multiple",L)],style:{width:`${P}px`}},[(M=e.header)==null?void 0:M.call(e),((I=e.loading)==null?void 0:I.call(e))||((k=e.empty)==null?void 0:k.call(e))||j($,Dt({ref:c},f(h),{className:r.be("dropdown","list"),scrollbarAlwaysOn:O,data:B,height:N,width:P,total:B.length,onKeydown:E}),{default:W=>j(w,W,null)}),(U=e.footer)==null?void 0:U.call(e)])}}});function mY(t,e){const{aliasProps:n,getLabel:s,getValue:r}=bm(t),o=z(0),a=z(),i=R(()=>t.allowCreate&&t.filterable);function l(p){const v=m=>s(m)===p;return t.options&&t.options.some(v)||e.createdOptions.some(v)}function c(p){i.value&&(t.multiple&&p.created?o.value++:a.value=p)}function u(p){if(i.value)if(p&&p.length>0){if(l(p))return;const v={[n.value.value]:p,[n.value.label]:p,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=o.value?e.createdOptions[o.value]=v:e.createdOptions.push(v)}else if(t.multiple)e.createdOptions.length=o.value;else{const v=a.value;e.createdOptions.length=0,v&&v.created&&e.createdOptions.push(v)}}function d(p){if(!i.value||!p||!p.created||p.created&&t.reserveKeyword&&e.inputValue===s(p))return;const v=e.createdOptions.findIndex(m=>r(m)===r(p));~v&&(e.createdOptions.splice(v,1),o.value--)}function h(){i.value&&(e.createdOptions.length=0,o.value=0)}return{createNewOption:u,removeNewOption:d,selectNewOption:c,clearAllNewOption:h}}const vY=11,gY=(t,e)=>{const{t:n}=Ut(),s=Le("select"),r=Le("input"),{form:o,formItem:a}=As(),{inputId:i}=Yr(t,{formItemContext:a}),{aliasProps:l,getLabel:c,getValue:u,getDisabled:d,getOptions:h}=bm(t),{valueOnClear:p,isEmptyValue:v}=am(t),m=qt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),y=z(-1),g=z(),_=z(),b=z(),S=z(),w=z(),C=z(),A=z(),T=z(),x=z(),E=z(),M=z(),{isComposing:I,handleCompositionStart:k,handleCompositionEnd:U,handleCompositionUpdate:B}=Qd({afterComposition:fe=>us(fe)}),{wrapperRef:P,isFocused:N,handleBlur:L}=Si(w,{beforeFocus(){return ee.value},afterFocus(){t.automaticDropdown&&!W.value&&(W.value=!0,m.menuVisibleOnFocus=!0)},beforeBlur(fe){var Ie,Ee;return((Ie=b.value)==null?void 0:Ie.isFocusInsideContent(fe))||((Ee=S.value)==null?void 0:Ee.isFocusInsideContent(fe))},afterBlur(){W.value=!1,m.menuVisibleOnFocus=!1}}),O=z([]),$=z([]),W=z(!1),ee=R(()=>t.disabled||(o==null?void 0:o.disabled)),Y=R(()=>{var fe;return(fe=o==null?void 0:o.statusIcon)!=null?fe:!1}),Z=R(()=>{const fe=$.value.length*t.itemHeight;return fe>t.height?t.height:fe}),ae=R(()=>t.multiple?Ue(t.modelValue)&&t.modelValue.length>0:!v(t.modelValue)),ue=R(()=>t.clearable&&!ee.value&&m.inputHovering&&ae.value),re=R(()=>t.remote&&t.filterable?"":_a),ge=R(()=>re.value&&s.is("reverse",W.value)),ye=R(()=>(a==null?void 0:a.validateState)||""),Fe=R(()=>{if(ye.value)return um[ye.value]}),X=R(()=>t.remote?300:0),V=R(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!m.inputValue&&O.value.length===0?!1:t.filterable&&m.inputValue&&O.value.length>0&&$.value.length===0?t.noMatchText||n("el.select.noMatch"):O.value.length===0?t.noDataText||n("el.select.noData"):null),ce=fe=>{const Ie=Ee=>{if(t.filterable&&ct(t.filterMethod)||t.filterable&&t.remote&&ct(t.remoteMethod))return!0;const Ke=new RegExp($b(fe),"i");return fe?Ke.test(c(Ee)||""):!0};return t.loading?[]:[...m.createdOptions,...t.options].reduce((Ee,Ke)=>{const ht=h(Ke);if(Ue(ht)){const xt=ht.filter(Ie);xt.length>0&&Ee.push({label:c(Ke),type:"Group"},...xt)}else(t.remote||Ie(Ke))&&Ee.push(Ke);return Ee},[])},Q=()=>{O.value=ce(""),$.value=ce(m.inputValue)},Me=R(()=>{const fe=new Map;return O.value.forEach((Ie,Ee)=>{fe.set(Ye(u(Ie)),{option:Ie,index:Ee})}),fe}),Pe=R(()=>{const fe=new Map;return $.value.forEach((Ie,Ee)=>{fe.set(Ye(u(Ie)),{option:Ie,index:Ee})}),fe}),Te=R(()=>$.value.every(fe=>d(fe))),ve=Hn(),xe=R(()=>ve.value==="small"?"small":"default"),we=()=>{var fe;y.value=((fe=g.value)==null?void 0:fe.offsetWidth)||200},J=()=>{if(!_.value)return 0;const fe=window.getComputedStyle(_.value);return Number.parseFloat(fe.gap||"6px")},G=R(()=>{const fe=J();return{maxWidth:`${M.value&&t.maxCollapseTags===1?m.selectionWidth-m.collapseItemWidth-fe:m.selectionWidth}px`}}),me=R(()=>({maxWidth:`${m.selectionWidth}px`})),de=R(()=>({width:`${Math.max(m.calculatorWidth,vY)}px`})),Re=R(()=>Ue(t.modelValue)?t.modelValue.length===0&&!m.inputValue:t.filterable?!m.inputValue:!0),ke=R(()=>{var fe;const Ie=(fe=t.placeholder)!=null?fe:n("el.select.placeholder");return t.multiple||!ae.value?Ie:m.selectedLabel}),Je=R(()=>{var fe,Ie;return(Ie=(fe=b.value)==null?void 0:fe.popperRef)==null?void 0:Ie.contentRef}),je=R(()=>{if(t.multiple){const fe=t.modelValue.length;if(t.modelValue.length>0&&Pe.value.has(t.modelValue[fe-1])){const{index:Ie}=Pe.value.get(t.modelValue[fe-1]);return Ie}}else if(!v(t.modelValue)&&Pe.value.has(t.modelValue)){const{index:fe}=Pe.value.get(t.modelValue);return fe}return-1}),at=R({get(){return W.value&&V.value!==!1},set(fe){W.value=fe}}),gt=R(()=>t.multiple?t.collapseTags?m.cachedOptions.slice(0,t.maxCollapseTags):m.cachedOptions:[]),nt=R(()=>t.multiple?t.collapseTags?m.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:q,removeNewOption:Ae,selectNewOption:oe,clearAllNewOption:be}=mY(t,m),ne=()=>{ee.value||(m.menuVisibleOnFocus?m.menuVisibleOnFocus=!1:W.value=!W.value)},ze=()=>{m.inputValue.length>0&&!W.value&&(W.value=!0),q(m.inputValue),Ce(m.inputValue)},ut=ir(ze,X.value),Ce=fe=>{m.previousQuery===fe||I.value||(m.previousQuery=fe,t.filterable&&ct(t.filterMethod)?t.filterMethod(fe):t.filterable&&t.remote&&ct(t.remoteMethod)&&t.remoteMethod(fe),t.defaultFirstOption&&(t.filterable||t.remote)&&$.value.length?lt(it):lt(zn))},it=()=>{const fe=$.value.filter(Ke=>!Ke.disabled&&Ke.type!=="Group"),Ie=fe.find(Ke=>Ke.created),Ee=fe[0];m.hoveringIndex=dt($.value,Ie||Ee)},Ve=fe=>{ps(t.modelValue,fe)||e(nn,fe)},Ge=fe=>{e(Et,fe),Ve(fe),m.previousValue=t.multiple?String(fe):fe},dt=(fe=[],Ie)=>{if(!Mt(Ie))return fe.indexOf(Ie);const Ee=t.valueKey;let Ke=-1;return fe.some((ht,xt)=>Un(ht,Ee)===Un(Ie,Ee)?(Ke=xt,!0):!1),Ke},Ye=fe=>Mt(fe)?Un(fe,t.valueKey):fe,kt=()=>{we()},hn=()=>{m.selectionWidth=_.value.getBoundingClientRect().width},Kn=()=>{m.calculatorWidth=C.value.getBoundingClientRect().width},un=()=>{m.collapseItemWidth=M.value.getBoundingClientRect().width},vs=()=>{var fe,Ie;(Ie=(fe=b.value)==null?void 0:fe.updatePopper)==null||Ie.call(fe)},gs=()=>{var fe,Ie;(Ie=(fe=S.value)==null?void 0:fe.updatePopper)==null||Ie.call(fe)},wi=fe=>{if(t.multiple){let Ie=t.modelValue.slice();const Ee=dt(Ie,u(fe));Ee>-1?(Ie=[...Ie.slice(0,Ee),...Ie.slice(Ee+1)],m.cachedOptions.splice(Ee,1),Ae(fe)):(t.multipleLimit<=0||Ie.length<t.multipleLimit)&&(Ie=[...Ie,u(fe)],m.cachedOptions.push(fe),oe(fe)),Ge(Ie),fe.created&&Ce(""),t.filterable&&!t.reserveKeyword&&(m.inputValue="")}else m.selectedLabel=c(fe),Ge(u(fe)),W.value=!1,oe(fe),fe.created||be();qs()},El=(fe,Ie)=>{let Ee=t.modelValue.slice();const Ke=dt(Ee,u(Ie));Ke>-1&&!ee.value&&(Ee=[...t.modelValue.slice(0,Ke),...t.modelValue.slice(Ke+1)],m.cachedOptions.splice(Ke,1),Ge(Ee),e("remove-tag",u(Ie)),Ae(Ie)),fe.stopPropagation(),qs()},qs=()=>{var fe;(fe=w.value)==null||fe.focus()},Ea=()=>{var fe;if(W.value){W.value=!1,lt(()=>{var Ie;return(Ie=w.value)==null?void 0:Ie.blur()});return}(fe=w.value)==null||fe.blur()},Tl=()=>{m.inputValue.length>0?m.inputValue="":W.value=!1},Ml=fe=>ET(fe,Ie=>!m.cachedOptions.some(Ee=>u(Ee)===Ie&&d(Ee))),Ta=fe=>{if(t.multiple&&fe.code!==qe.delete&&m.inputValue.length===0){fe.preventDefault();const Ie=t.modelValue.slice(),Ee=Ml(Ie);if(Ee<0)return;const Ke=Ie[Ee];Ie.splice(Ee,1);const ht=m.cachedOptions[Ee];m.cachedOptions.splice(Ee,1),Ae(ht),Ge(Ie),e("remove-tag",Ke)}},Il=()=>{let fe;Ue(t.modelValue)?fe=[]:fe=p.value,t.multiple?m.cachedOptions=[]:m.selectedLabel="",W.value=!1,Ge(fe),e("clear"),be(),qs()},We=(fe,Ie=void 0)=>{const Ee=$.value;if(!["forward","backward"].includes(fe)||ee.value||Ee.length<=0||Te.value||I.value)return;if(!W.value)return ne();Ie===void 0&&(Ie=m.hoveringIndex);let Ke=-1;fe==="forward"?(Ke=Ie+1,Ke>=Ee.length&&(Ke=0)):fe==="backward"&&(Ke=Ie-1,(Ke<0||Ke>=Ee.length)&&(Ke=Ee.length-1));const ht=Ee[Ke];if(d(ht)||ht.type==="Group")return We(fe,Ke);m.hoveringIndex=Ke,So(Ke)},vt=()=>{if(W.value)~m.hoveringIndex&&$.value[m.hoveringIndex]&&wi($.value[m.hoveringIndex]);else return ne()},Kt=fe=>{m.hoveringIndex=fe??-1},zn=()=>{t.multiple?m.hoveringIndex=$.value.findIndex(fe=>t.modelValue.some(Ie=>Ye(Ie)===Ye(fe))):m.hoveringIndex=$.value.findIndex(fe=>Ye(fe)===Ye(t.modelValue))},us=fe=>{if(m.inputValue=fe.target.value,t.remote)ut();else return ze()},bo=fe=>{if(W.value=!1,N.value){const Ie=new FocusEvent("focus",fe);L(Ie)}},xr=()=>(m.isBeforeHide=!1,lt(()=>{~je.value&&So(m.hoveringIndex)})),So=fe=>{x.value.scrollToItem(fe)},ie=(fe,Ie)=>{const Ee=Ye(fe);if(Me.value.has(Ee)){const{option:Ke}=Me.value.get(Ee);return Ke}if(Ie&&Ie.length){const Ke=Ie.find(ht=>Ye(u(ht))===Ee);if(Ke)return Ke}return{[l.value.value]:fe,[l.value.label]:fe}},Oe=(fe=!1)=>{if(t.multiple)if(t.modelValue.length>0){const Ie=m.cachedOptions.slice();m.cachedOptions.length=0,m.previousValue=t.modelValue.toString();for(const Ee of t.modelValue){const Ke=ie(Ee,Ie);m.cachedOptions.push(Ke)}}else m.cachedOptions=[],m.previousValue=void 0;else if(ae.value){m.previousValue=t.modelValue;const Ie=$.value,Ee=Ie.findIndex(Ke=>Ye(u(Ke))===Ye(t.modelValue));~Ee?m.selectedLabel=c(Ie[Ee]):(!m.selectedLabel||fe)&&(m.selectedLabel=Ye(t.modelValue))}else m.selectedLabel="",m.previousValue=void 0;be(),we()};return De(W,fe=>{fe?Ce(""):(m.inputValue="",m.previousQuery=null,m.isBeforeHide=!0,q("")),e("visible-change",fe)}),De(()=>t.modelValue,(fe,Ie)=>{var Ee;(!fe||Ue(fe)&&fe.length===0||t.multiple&&!ps(fe.toString(),m.previousValue)||!t.multiple&&Ye(fe)!==Ye(m.previousValue))&&Oe(!0),!ps(fe,Ie)&&t.validateEvent&&((Ee=a==null?void 0:a.validate)==null||Ee.call(a,"change").catch(ht=>void 0))},{deep:!0}),De(()=>t.options,()=>{const fe=w.value;(!fe||fe&&document.activeElement!==fe)&&Oe()},{deep:!0,flush:"post"}),De(()=>$.value,()=>x.value&&lt(x.value.resetScrollTop)),_s(()=>{m.isBeforeHide||Q()}),_s(()=>{const{valueKey:fe,options:Ie}=t,Ee=new Map;for(const Ke of Ie){const ht=u(Ke);let xt=ht;if(Mt(xt)&&(xt=Un(ht,fe)),Ee.get(xt))break;Ee.set(xt,!0)}}),wt(()=>{Oe()}),_n(g,kt),_n(_,hn),_n(C,Kn),_n(x,vs),_n(P,vs),_n(E,gs),_n(M,un),{inputId:i,collapseTagSize:xe,currentPlaceholder:ke,expanded:W,emptyText:V,popupHeight:Z,debounce:X,allOptions:O,filteredOptions:$,iconComponent:re,iconReverse:ge,tagStyle:G,collapseTagStyle:me,inputStyle:de,popperSize:y,dropdownMenuVisible:at,hasModelValue:ae,shouldShowPlaceholder:Re,selectDisabled:ee,selectSize:ve,needStatusIcon:Y,showClearBtn:ue,states:m,isFocused:N,nsSelect:s,nsInput:r,calculatorRef:C,inputRef:w,menuRef:x,tagMenuRef:E,tooltipRef:b,tagTooltipRef:S,selectRef:g,wrapperRef:P,selectionRef:_,prefixRef:A,suffixRef:T,collapseItemRef:M,popperRef:Je,validateState:ye,validateIcon:Fe,showTagList:gt,collapseTagList:nt,debouncedOnInputChange:ut,deleteTag:El,getLabel:c,getValue:u,getDisabled:d,getValueKey:Ye,handleClear:Il,handleClickOutside:bo,handleDel:Ta,handleEsc:Tl,focus:qs,blur:Ea,handleMenuEnter:xr,handleResize:kt,resetSelectionWidth:hn,resetCalculatorWidth:Kn,updateTooltip:vs,updateTagTooltip:gs,updateOptions:Q,toggleMenu:ne,scrollTo:So,onInput:us,onKeyboardNavigate:We,onKeyboardSelect:vt,onSelect:wi,onHover:Kt,handleCompositionStart:k,handleCompositionEnd:U,handleCompositionUpdate:B}},yY=se({name:"ElSelectV2",components:{ElSelectMenu:hY,ElTag:$c,ElTooltip:xs,ElIcon:tt},directives:{ClickOutside:ha},props:jq,emits:Yq,setup(t,{emit:e}){const n=R(()=>{const{modelValue:o,multiple:a}=t,i=a?[]:void 0;return Ue(o)?a?o:i:a?i:o}),s=gY(qt({...as(t),modelValue:n}),e);Bt(aS,{props:qt({...as(t),height:s.popupHeight,modelValue:n}),expanded:s.expanded,tooltipRef:s.tooltipRef,onSelect:s.onSelect,onHover:s.onHover,onKeyboardNavigate:s.onKeyboardNavigate,onKeyboardSelect:s.onKeyboardSelect});const r=R(()=>t.multiple?s.states.cachedOptions.map(o=>o.label):s.states.selectedLabel);return{...s,modelValue:n,selectedLabel:r}}});function bY(t,e,n,s,r,o){const a=et("el-tag"),i=et("el-tooltip"),l=et("el-icon"),c=et("el-select-menu"),u=qh("click-outside");return Ct((D(),H("div",{ref:"selectRef",class:F([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:d=>t.states.inputHovering=!0,onMouseleave:d=>t.states.inputHovering=!1},[j(i,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:d=>t.states.isBeforeHide=!1},{default:te(()=>[K("div",{ref:"wrapperRef",class:F([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:pt(t.toggleMenu,["prevent"])},[t.$slots.prefix?(D(),H("div",{key:0,ref:"prefixRef",class:F(t.nsSelect.e("prefix"))},[pe(t.$slots,"prefix")],2)):he("v-if",!0),K("div",{ref:"selectionRef",class:F([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?pe(t.$slots,"tag",{key:0},()=>[(D(!0),H(Ze,null,Tt(t.showTagList,d=>(D(),H("div",{key:t.getValueKey(t.getValue(d)),class:F(t.nsSelect.e("selected-item"))},[j(a,{closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:rt(t.tagStyle),onClose:h=>t.deleteTag(h,d)},{default:te(()=>[K("span",{class:F(t.nsSelect.e("tags-text"))},[pe(t.$slots,"label",{label:t.getLabel(d),value:t.getValue(d)},()=>[St(Ne(t.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(D(),_e(i,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:te(()=>[K("div",{ref:"collapseItemRef",class:F(t.nsSelect.e("selected-item"))},[j(a,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:rt(t.collapseTagStyle),"disable-transitions":""},{default:te(()=>[K("span",{class:F(t.nsSelect.e("tags-text"))}," + "+Ne(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:te(()=>[K("div",{ref:"tagMenuRef",class:F(t.nsSelect.e("selection"))},[(D(!0),H(Ze,null,Tt(t.collapseTagList,d=>(D(),H("div",{key:t.getValueKey(t.getValue(d)),class:F(t.nsSelect.e("selected-item"))},[j(a,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:h=>t.deleteTag(h,d)},{default:te(()=>[K("span",{class:F(t.nsSelect.e("tags-text"))},[pe(t.$slots,"label",{label:t.getLabel(d),value:t.getValue(d)},()=>[St(Ne(t.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):he("v-if",!0)]):he("v-if",!0),K("div",{class:F([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Ct(K("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":d=>t.states.inputValue=d,style:rt(t.inputStyle),autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:F([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[on(pt(d=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),on(pt(d=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),on(pt(t.onKeyboardSelect,["stop","prevent"]),["enter"]),on(pt(t.handleEsc,["stop","prevent"]),["esc"]),on(pt(t.handleDel,["stop"]),["delete"])],onClick:pt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[Qh,t.states.inputValue]]),t.filterable?(D(),H("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:F(t.nsSelect.e("input-calculator")),textContent:Ne(t.states.inputValue)},null,10,["textContent"])):he("v-if",!0)],2),t.shouldShowPlaceholder?(D(),H("div",{key:1,class:F([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?pe(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[K("span",null,Ne(t.currentPlaceholder),1)]):(D(),H("span",{key:1},Ne(t.currentPlaceholder),1))],2)):he("v-if",!0)],2),K("div",{ref:"suffixRef",class:F(t.nsSelect.e("suffix"))},[t.iconComponent?Ct((D(),_e(l,{key:0,class:F([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:te(()=>[(D(),_e(Rt(t.iconComponent)))]),_:1},8,["class"])),[[Vt,!t.showClearBtn]]):he("v-if",!0),t.showClearBtn&&t.clearIcon?(D(),_e(l,{key:1,class:F([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:pt(t.handleClear,["prevent","stop"])},{default:te(()=>[(D(),_e(Rt(t.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(D(),_e(l,{key:2,class:F([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:te(()=>[(D(),_e(Rt(t.validateIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],10,["onClick"])]),content:te(()=>[j(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Hr({default:te(d=>[pe(t.$slots,"default",lo(ai(d)))]),_:2},[t.$slots.header?{name:"header",fn:te(()=>[K("div",{class:F(t.nsSelect.be("dropdown","header"))},[pe(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:te(()=>[K("div",{class:F(t.nsSelect.be("dropdown","loading"))},[pe(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:te(()=>[K("div",{class:F(t.nsSelect.be("dropdown","empty"))},[pe(t.$slots,"empty",{},()=>[K("span",null,Ne(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:te(()=>[K("div",{class:F(t.nsSelect.be("dropdown","footer"))},[pe(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[u,t.handleClickOutside,t.popperRef]])}var SY=He(yY,[["render",bY],["__file","select.vue"]]);const _Y=_t(SY),wY=$e({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:le([Number,Object])}}),CY=$e({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),xY=se({name:"ElSkeletonItem"}),AY=se({...xY,props:CY,setup(t){const e=Le("skeleton");return(n,s)=>(D(),H("div",{class:F([f(e).e("item"),f(e).e(n.variant)])},[n.variant==="image"?(D(),_e(f(PU),{key:0})):he("v-if",!0)],2))}});var yh=He(AY,[["__file","skeleton-item.vue"]]);const EY=(t,e=0)=>{if(e===0)return t;const n=Mt(e)&&!!e.initVal,s=z(n);let r=null;const o=i=>{if(Jt(i)){s.value=t.value;return}r&&clearTimeout(r),r=setTimeout(()=>{s.value=t.value},i)},a=i=>{i==="leading"?ft(e)?o(e):o(e.leading):Mt(e)?o(e.trailing):s.value=!1};return wt(()=>a("leading")),De(()=>t.value,i=>{a(i?"leading":"trailing")}),s},TY=se({name:"ElSkeleton"}),MY=se({...TY,props:wY,setup(t,{expose:e}){const n=t,s=Le("skeleton"),r=EY(Yt(n,"loading"),n.throttle);return e({uiLoading:r}),(o,a)=>f(r)?(D(),H("div",Dt({key:0,class:[f(s).b(),f(s).is("animated",o.animated)]},o.$attrs),[(D(!0),H(Ze,null,Tt(o.count,i=>(D(),H(Ze,{key:i},[f(r)?pe(o.$slots,"template",{key:i},()=>[j(yh,{class:F(f(s).is("first")),variant:"p"},null,8,["class"]),(D(!0),H(Ze,null,Tt(o.rows,l=>(D(),_e(yh,{key:l,class:F([f(s).e("paragraph"),f(s).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):he("v-if",!0)],64))),128))],16)):pe(o.$slots,"default",lo(Dt({key:1},o.$attrs)))}});var IY=He(MY,[["__file","skeleton.vue"]]);const RY=_t(IY,{SkeletonItem:yh}),PY=Tn(yh),aI=Symbol("sliderContextKey"),DY=$e({modelValue:{type:le([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Wn,inputSize:Wn,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:le(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:le(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ca,default:"top"},marks:{type:le(Object)},validateEvent:{type:Boolean,default:!0},...ms(["ariaLabel"])}),ov=t=>ft(t)||Ue(t)&&t.every(ft),kY={[Et]:ov,[ws]:ov,[nn]:ov},LY=$e({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ca,default:"top"}}),OY={[Et]:t=>ft(t)},BY=(t,e,n)=>{const s=z(),r=z(!1),o=R(()=>e.value instanceof Function),a=R(()=>o.value&&e.value(t.modelValue)||t.modelValue),i=ir(()=>{n.value&&(r.value=!0)},50),l=ir(()=>{n.value&&(r.value=!1)},50);return{tooltip:s,tooltipVisible:r,formatValue:a,displayTooltip:i,hideTooltip:l}},FY=(t,e,n)=>{const{disabled:s,min:r,max:o,step:a,showTooltip:i,precision:l,sliderSize:c,formatTooltip:u,emitChange:d,resetSize:h,updateDragging:p}=Qe(aI),{tooltip:v,tooltipVisible:m,formatValue:y,displayTooltip:g,hideTooltip:_}=BY(t,u,i),b=z(),S=R(()=>`${(t.modelValue-r.value)/(o.value-r.value)*100}%`),w=R(()=>t.vertical?{bottom:S.value}:{left:S.value}),C=()=>{e.hovering=!0,g()},A=()=>{e.hovering=!1,e.dragging||_()},T=ee=>{s.value||(ee.preventDefault(),L(ee),window.addEventListener("mousemove",O),window.addEventListener("touchmove",O),window.addEventListener("mouseup",$),window.addEventListener("touchend",$),window.addEventListener("contextmenu",$),b.value.focus())},x=ee=>{s.value||(e.newPosition=Number.parseFloat(S.value)+ee/(o.value-r.value)*100,W(e.newPosition),d())},E=()=>{x(-a.value)},M=()=>{x(a.value)},I=()=>{x(-a.value*4)},k=()=>{x(a.value*4)},U=()=>{s.value||(W(0),d())},B=()=>{s.value||(W(100),d())},P=ee=>{let Y=!0;switch(ee.code){case qe.left:case qe.down:E();break;case qe.right:case qe.up:M();break;case qe.home:U();break;case qe.end:B();break;case qe.pageDown:I();break;case qe.pageUp:k();break;default:Y=!1;break}Y&&ee.preventDefault()},N=ee=>{let Y,Z;return ee.type.startsWith("touch")?(Z=ee.touches[0].clientY,Y=ee.touches[0].clientX):(Z=ee.clientY,Y=ee.clientX),{clientX:Y,clientY:Z}},L=ee=>{e.dragging=!0,e.isClick=!0;const{clientX:Y,clientY:Z}=N(ee);t.vertical?e.startY=Z:e.startX=Y,e.startPosition=Number.parseFloat(S.value),e.newPosition=e.startPosition},O=ee=>{if(e.dragging){e.isClick=!1,g(),h();let Y;const{clientX:Z,clientY:ae}=N(ee);t.vertical?(e.currentY=ae,Y=(e.startY-e.currentY)/c.value*100):(e.currentX=Z,Y=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+Y,W(e.newPosition)}},$=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||_(),e.isClick||W(e.newPosition),d()},0),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$),window.removeEventListener("contextmenu",$))},W=async ee=>{if(ee===null||Number.isNaN(+ee))return;ee<0?ee=0:ee>100&&(ee=100);const Y=100/((o.value-r.value)/a.value);let ae=Math.round(ee/Y)*Y*(o.value-r.value)*.01+r.value;ae=Number.parseFloat(ae.toFixed(l.value)),ae!==t.modelValue&&n(Et,ae),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await lt(),e.dragging&&g(),v.value.updatePopper()};return De(()=>e.dragging,ee=>{p(ee)}),en(b,"touchstart",T,{passive:!1}),{disabled:s,button:b,tooltip:v,tooltipVisible:m,showTooltip:i,wrapperStyle:w,formatValue:y,handleMouseEnter:C,handleMouseLeave:A,onButtonDown:T,onKeyDown:P,setPosition:W}},NY=se({name:"ElSliderButton"}),UY=se({...NY,props:LY,emits:OY,setup(t,{expose:e,emit:n}){const s=t,r=Le("slider"),o=qt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:s.modelValue}),{disabled:a,button:i,tooltip:l,showTooltip:c,tooltipVisible:u,wrapperStyle:d,formatValue:h,handleMouseEnter:p,handleMouseLeave:v,onButtonDown:m,onKeyDown:y,setPosition:g}=FY(s,o,n),{hovering:_,dragging:b}=as(o);return e({onButtonDown:m,onKeyDown:y,setPosition:g,hovering:_,dragging:b}),(S,w)=>(D(),H("div",{ref_key:"button",ref:i,class:F([f(r).e("button-wrapper"),{hover:f(_),dragging:f(b)}]),style:rt(f(d)),tabindex:f(a)?-1:0,onMouseenter:f(p),onMouseleave:f(v),onMousedown:f(m),onFocus:f(p),onBlur:f(v),onKeydown:f(y)},[j(f(xs),{ref_key:"tooltip",ref:l,visible:f(u),placement:S.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":S.tooltipClass,disabled:!f(c),persistent:f(c)},{content:te(()=>[K("span",null,Ne(f(h)),1)]),default:te(()=>[K("div",{class:F([f(r).e("button"),{hover:f(_),dragging:f(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var a1=He(UY,[["__file","button.vue"]]);const zY=$e({mark:{type:le([String,Object]),default:void 0}});var $Y=se({name:"ElSliderMarker",props:zY,setup(t){const e=Le("slider"),n=R(()=>ot(t.mark)?t.mark:t.mark.label),s=R(()=>ot(t.mark)?void 0:t.mark.style);return()=>st("div",{class:e.e("marks-text"),style:s.value},n.value)}});const HY=(t,e,n)=>{const{form:s,formItem:r}=As(),o=dn(),a=z(),i=z(),l={firstButton:a,secondButton:i},c=R(()=>t.disabled||(s==null?void 0:s.disabled)||!1),u=R(()=>Math.min(e.firstValue,e.secondValue)),d=R(()=>Math.max(e.firstValue,e.secondValue)),h=R(()=>t.range?`${100*(d.value-u.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),p=R(()=>t.range?`${100*(u.value-t.min)/(t.max-t.min)}%`:"0%"),v=R(()=>t.vertical?{height:t.height}:{}),m=R(()=>t.vertical?{height:h.value,bottom:p.value}:{width:h.value,left:p.value}),y=()=>{o.value&&(e.sliderSize=o.value[`client${t.vertical?"Height":"Width"}`])},g=I=>{const k=t.min+I*(t.max-t.min)/100;if(!t.range)return a;let U;return Math.abs(u.value-k)<Math.abs(d.value-k)?U=e.firstValue<e.secondValue?"firstButton":"secondButton":U=e.firstValue>e.secondValue?"firstButton":"secondButton",l[U]},_=I=>{const k=g(I);return k.value.setPosition(I),k},b=I=>{e.firstValue=I??t.min,w(t.range?[u.value,d.value]:I??t.min)},S=I=>{e.secondValue=I,t.range&&w([u.value,d.value])},w=I=>{n(Et,I),n(ws,I)},C=async()=>{await lt(),n(nn,t.range?[u.value,d.value]:t.modelValue)},A=I=>{var k,U,B,P,N,L;if(c.value||e.dragging)return;y();let O=0;if(t.vertical){const $=(B=(U=(k=I.touches)==null?void 0:k.item(0))==null?void 0:U.clientY)!=null?B:I.clientY;O=(o.value.getBoundingClientRect().bottom-$)/e.sliderSize*100}else{const $=(L=(N=(P=I.touches)==null?void 0:P.item(0))==null?void 0:N.clientX)!=null?L:I.clientX,W=o.value.getBoundingClientRect().left;O=($-W)/e.sliderSize*100}if(!(O<0||O>100))return _(O)};return{elFormItem:r,slider:o,firstButton:a,secondButton:i,sliderDisabled:c,minValue:u,maxValue:d,runwayStyle:v,barStyle:m,resetSize:y,setPosition:_,emitChange:C,onSliderWrapperPrevent:I=>{var k,U;((k=l.firstButton.value)!=null&&k.dragging||(U=l.secondButton.value)!=null&&U.dragging)&&I.preventDefault()},onSliderClick:I=>{A(I)&&C()},onSliderDown:async I=>{const k=A(I);k&&(await lt(),k.value.onButtonDown(I))},onSliderMarkerDown:I=>{c.value||e.dragging||_(I)},setFirstValue:b,setSecondValue:S}},VY=(t,e,n,s)=>({stops:R(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const a=(t.max-t.min)/t.step,i=100*t.step/(t.max-t.min),l=Array.from({length:a-1}).map((c,u)=>(u+1)*i);return t.range?l.filter(c=>c<100*(n.value-t.min)/(t.max-t.min)||c>100*(s.value-t.min)/(t.max-t.min)):l.filter(c=>c>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:a=>t.vertical?{bottom:`${a}%`}:{left:`${a}%`}}),WY=t=>R(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,s)=>n-s).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),GY=(t,e,n,s,r,o)=>{const a=c=>{r(Et,c),r(ws,c)},i=()=>t.range?![n.value,s.value].every((c,u)=>c===e.oldValue[u]):t.modelValue!==e.oldValue,l=()=>{var c,u;t.min>t.max&&Qn("Slider","min should not be greater than max.");const d=t.modelValue;t.range&&Ue(d)?d[1]<t.min?a([t.min,t.min]):d[0]>t.max?a([t.max,t.max]):d[0]<t.min?a([t.min,d[1]]):d[1]>t.max?a([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],i()&&(t.validateEvent&&((c=o==null?void 0:o.validate)==null||c.call(o,"change").catch(h=>void 0)),e.oldValue=d.slice())):!t.range&&ft(d)&&!Number.isNaN(d)&&(d<t.min?a(t.min):d>t.max?a(t.max):(e.firstValue=d,i()&&(t.validateEvent&&((u=o==null?void 0:o.validate)==null||u.call(o,"change").catch(h=>void 0)),e.oldValue=d)))};l(),De(()=>e.dragging,c=>{c||l()}),De(()=>t.modelValue,(c,u)=>{e.dragging||Ue(c)&&Ue(u)&&c.every((d,h)=>d===u[h])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),De(()=>[t.min,t.max],()=>{l()})},KY=(t,e,n)=>{const s=z();return wt(async()=>{t.range?(Ue(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!ft(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),en(window,"resize",n),await lt(),n()}),{sliderWrapper:s}},jY=se({name:"ElSlider"}),qY=se({...jY,props:DY,emits:kY,setup(t,{expose:e,emit:n}){const s=t,r=Le("slider"),{t:o}=Ut(),a=qt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:l,firstButton:c,secondButton:u,sliderDisabled:d,minValue:h,maxValue:p,runwayStyle:v,barStyle:m,resetSize:y,emitChange:g,onSliderWrapperPrevent:_,onSliderClick:b,onSliderDown:S,onSliderMarkerDown:w,setFirstValue:C,setSecondValue:A}=HY(s,a,n),{stops:T,getStopStyle:x}=VY(s,a,h,p),{inputId:E,isLabeledByFormItem:M}=Yr(s,{formItemContext:i}),I=Hn(),k=R(()=>s.inputSize||I.value),U=R(()=>s.ariaLabel||o("el.slider.defaultLabel",{min:s.min,max:s.max})),B=R(()=>s.range?s.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):U.value),P=R(()=>s.formatValueText?s.formatValueText(Y.value):`${Y.value}`),N=R(()=>s.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),L=R(()=>s.formatValueText?s.formatValueText(Z.value):`${Z.value}`),O=R(()=>[r.b(),r.m(I.value),r.is("vertical",s.vertical),{[r.m("with-input")]:s.showInput}]),$=WY(s);GY(s,a,h,p,n,i);const W=R(()=>{const re=[s.min,s.max,s.step].map(ge=>{const ye=`${ge}`.split(".")[1];return ye?ye.length:0});return Math.max.apply(null,re)}),{sliderWrapper:ee}=KY(s,a,y),{firstValue:Y,secondValue:Z,sliderSize:ae}=as(a),ue=re=>{a.dragging=re};return en(ee,"touchstart",_,{passive:!1}),en(ee,"touchmove",_,{passive:!1}),Bt(aI,{...as(s),sliderSize:ae,disabled:d,precision:W,emitChange:g,resetSize:y,updateDragging:ue}),e({onSliderClick:b}),(re,ge)=>{var ye,Fe;return D(),H("div",{id:re.range?f(E):void 0,ref_key:"sliderWrapper",ref:ee,class:F(f(O)),role:re.range?"group":void 0,"aria-label":re.range&&!f(M)?f(U):void 0,"aria-labelledby":re.range&&f(M)?(ye=f(i))==null?void 0:ye.labelId:void 0},[K("div",{ref_key:"slider",ref:l,class:F([f(r).e("runway"),{"show-input":re.showInput&&!re.range},f(r).is("disabled",f(d))]),style:rt(f(v)),onMousedown:f(S),onTouchstartPassive:f(S)},[K("div",{class:F(f(r).e("bar")),style:rt(f(m))},null,6),j(a1,{id:re.range?void 0:f(E),ref_key:"firstButton",ref:c,"model-value":f(Y),vertical:re.vertical,"tooltip-class":re.tooltipClass,placement:re.placement,role:"slider","aria-label":re.range||!f(M)?f(B):void 0,"aria-labelledby":!re.range&&f(M)?(Fe=f(i))==null?void 0:Fe.labelId:void 0,"aria-valuemin":re.min,"aria-valuemax":re.range?f(Z):re.max,"aria-valuenow":f(Y),"aria-valuetext":f(P),"aria-orientation":re.vertical?"vertical":"horizontal","aria-disabled":f(d),"onUpdate:modelValue":f(C)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),re.range?(D(),_e(a1,{key:0,ref_key:"secondButton",ref:u,"model-value":f(Z),vertical:re.vertical,"tooltip-class":re.tooltipClass,placement:re.placement,role:"slider","aria-label":f(N),"aria-valuemin":f(Y),"aria-valuemax":re.max,"aria-valuenow":f(Z),"aria-valuetext":f(L),"aria-orientation":re.vertical?"vertical":"horizontal","aria-disabled":f(d),"onUpdate:modelValue":f(A)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):he("v-if",!0),re.showStops?(D(),H("div",{key:1},[(D(!0),H(Ze,null,Tt(f(T),(X,V)=>(D(),H("div",{key:V,class:F(f(r).e("stop")),style:rt(f(x)(X))},null,6))),128))])):he("v-if",!0),f($).length>0?(D(),H(Ze,{key:2},[K("div",null,[(D(!0),H(Ze,null,Tt(f($),(X,V)=>(D(),H("div",{key:V,style:rt(f(x)(X.position)),class:F([f(r).e("stop"),f(r).e("marks-stop")])},null,6))),128))]),K("div",{class:F(f(r).e("marks"))},[(D(!0),H(Ze,null,Tt(f($),(X,V)=>(D(),_e(f($Y),{key:V,mark:X.mark,style:rt(f(x)(X.position)),onMousedown:pt(ce=>f(w)(X.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):he("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),re.showInput&&!re.range?(D(),_e(f(U2),{key:0,ref:"input","model-value":f(Y),class:F(f(r).e("input")),step:re.step,disabled:f(d),controls:re.showInputControls,min:re.min,max:re.max,precision:f(W),debounce:re.debounce,size:f(k),"onUpdate:modelValue":f(C),onChange:f(g)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):he("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var YY=He(qY,[["__file","slider.vue"]]);const XY=_t(YY),QY=$e({prefixCls:{type:String}}),i1=se({name:"ElSpaceItem",props:QY,setup(t,{slots:e}){const n=Le("space"),s=R(()=>`${t.prefixCls||n.b()}__item`);return()=>st("div",{class:s.value},pe(e,"default"))}}),l1={small:8,default:12,large:16};function ZY(t){const e=Le("space"),n=R(()=>[e.b(),e.m(t.direction),t.class]),s=z(0),r=z(0),o=R(()=>{const i=t.wrap||t.fill?{flexWrap:"wrap"}:{},l={alignItems:t.alignment},c={rowGap:`${r.value}px`,columnGap:`${s.value}px`};return[i,l,c,t.style]}),a=R(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return _s(()=>{const{size:i="small",wrap:l,direction:c,fill:u}=t;if(Ue(i)){const[d=0,h=0]=i;s.value=d,r.value=h}else{let d;ft(i)?d=i:d=l1[i||"small"]||l1.small,(l||u)&&c==="horizontal"?s.value=r.value=d:c==="horizontal"?(s.value=d,r.value=0):(r.value=d,s.value=0)}}),{classes:n,containerStyle:o,itemStyle:a}}const JY=$e({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:le([String,Object,Array]),default:""},style:{type:le([String,Array,Object]),default:""},alignment:{type:le(String),default:"center"},prefixCls:{type:String},spacer:{type:le([Object,String,Number,Array]),default:null,validator:t=>Cn(t)||ft(t)||ot(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:zo,validator:t=>ft(t)||Ue(t)&&t.length===2&&t.every(ft)}}),eX=se({name:"ElSpace",props:JY,setup(t,{slots:e}){const{classes:n,containerStyle:s,itemStyle:r}=ZY(t);function o(a,i="",l=[]){const{prefixCls:c}=t;return a.forEach((u,d)=>{Lg(u)?Ue(u.children)&&u.children.forEach((h,p)=>{Lg(h)&&Ue(h.children)?o(h.children,`${i+p}-`,l):l.push(j(i1,{style:r.value,prefixCls:c,key:`nested-${i+p}`},{default:()=>[h]},Pr.PROPS|Pr.STYLE,["style","prefixCls"]))}):D8(u)&&l.push(j(i1,{style:r.value,prefixCls:c,key:`LoopKey${i+d}`},{default:()=>[u]},Pr.PROPS|Pr.STYLE,["style","prefixCls"]))}),l}return()=>{var a;const{spacer:i,direction:l}=t,c=pe(e,"default",{key:0},()=>[]);if(((a=c.children)!=null?a:[]).length===0)return null;if(Ue(c.children)){let u=o(c.children);if(i){const d=u.length-1;u=u.reduce((h,p,v)=>{const m=[...h,p];return v!==d&&m.push(j("span",{style:[r.value,l==="vertical"?"width: 100%":null],key:v},[Cn(i)?i:St(i,Pr.TEXT)],Pr.STYLE)),m},[])}return j("div",{class:n.value,style:s.value},u,Pr.STYLE|Pr.CLASS)}return c.children}}}),tX=_t(eX),nX=$e({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:le([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:le([String,Object,Array])}}),sX=se({name:"ElStatistic"}),rX=se({...sX,props:nX,setup(t,{expose:e}){const n=t,s=Le("statistic"),r=R(()=>{const{value:o,formatter:a,precision:i,decimalSeparator:l,groupSeparator:c}=n;if(ct(a))return a(o);if(!ft(o)||Number.isNaN(o))return o;let[u,d=""]=String(o).split(".");return d=d.padEnd(i,"0").slice(0,i>0?i:0),u=u.replace(/\B(?=(\d{3})+(?!\d))/g,c),[u,d].join(d?l:"")});return e({displayValue:r}),(o,a)=>(D(),H("div",{class:F(f(s).b())},[o.$slots.title||o.title?(D(),H("div",{key:0,class:F(f(s).e("head"))},[pe(o.$slots,"title",{},()=>[St(Ne(o.title),1)])],2)):he("v-if",!0),K("div",{class:F(f(s).e("content"))},[o.$slots.prefix||o.prefix?(D(),H("div",{key:0,class:F(f(s).e("prefix"))},[pe(o.$slots,"prefix",{},()=>[K("span",null,Ne(o.prefix),1)])],2)):he("v-if",!0),K("span",{class:F(f(s).e("number")),style:rt(o.valueStyle)},Ne(f(r)),7),o.$slots.suffix||o.suffix?(D(),H("div",{key:1,class:F(f(s).e("suffix"))},[pe(o.$slots,"suffix",{},()=>[K("span",null,Ne(o.suffix),1)])],2)):he("v-if",!0)],2)],2))}});var oX=He(rX,[["__file","statistic.vue"]]);const iI=_t(oX),aX=$e({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:le([Number,Object]),default:0},valueStyle:{type:le([String,Object,Array])}}),iX={finish:()=>!0,[nn]:t=>ft(t)},lX=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],c1=t=>ft(t)?new Date(t).getTime():t.valueOf(),u1=(t,e)=>{let n=t;const s=/\[([^\]]*)]/g;return lX.reduce((o,[a,i])=>{const l=new RegExp(`${a}+(?![^\\[\\]]*\\])`,"g");if(l.test(o)){const c=Math.floor(n/i);return n-=c*i,o.replace(l,u=>String(c).padStart(u.length,"0"))}return o},e).replace(s,"$1")},cX=se({name:"ElCountdown"}),uX=se({...cX,props:aX,emits:iX,setup(t,{expose:e,emit:n}){const s=t;let r;const o=z(0),a=R(()=>u1(o.value,s.format)),i=u=>u1(u,s.format),l=()=>{r&&(fl(r),r=void 0)},c=()=>{const u=c1(s.value),d=()=>{let h=u-Date.now();n("change",h),h<=0?(h=0,l(),n("finish")):r=ci(d),o.value=h};r=ci(d)};return wt(()=>{o.value=c1(s.value)-Date.now(),De(()=>[s.value,s.format],()=>{l(),c()},{immediate:!0})}),Qt(()=>{l()}),e({displayValue:a}),(u,d)=>(D(),_e(f(iI),{value:o.value,title:u.title,prefix:u.prefix,suffix:u.suffix,"value-style":u.valueStyle,formatter:i},Hr({_:2},[Tt(u.$slots,(h,p)=>({name:p,fn:te(()=>[pe(u.$slots,p)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var dX=He(uX,[["__file","countdown.vue"]]);const fX=_t(dX),pX=$e({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),hX={[nn]:(t,e)=>[t,e].every(ft)},mX=se({name:"ElSteps"}),vX=se({...mX,props:pX,emits:hX,setup(t,{emit:e}){const n=t,s=Le("steps"),{children:r,addChild:o,removeChild:a}=Ub(It(),"ElStep");return De(r,()=>{r.value.forEach((i,l)=>{i.setIndex(l)})}),Bt("ElSteps",{props:n,steps:r,addStep:o,removeStep:a}),De(()=>n.active,(i,l)=>{e(nn,i,l)}),(i,l)=>(D(),H("div",{class:F([f(s).b(),f(s).m(i.simple?"simple":i.direction)])},[pe(i.$slots,"default")],2))}});var gX=He(vX,[["__file","steps.vue"]]);const yX=$e({title:{type:String,default:""},icon:{type:sn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),bX=se({name:"ElStep"}),SX=se({...bX,props:yX,setup(t){const e=t,n=Le("step"),s=z(-1),r=z({}),o=z(""),a=Qe("ElSteps"),i=It();wt(()=>{De([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([C])=>{S(C)},{immediate:!0})}),Qt(()=>{a.removeStep(w.uid)});const l=R(()=>e.status||o.value),c=R(()=>{const C=a.steps.value[s.value-1];return C?C.currentStatus:"wait"}),u=R(()=>a.props.alignCenter),d=R(()=>a.props.direction==="vertical"),h=R(()=>a.props.simple),p=R(()=>a.steps.value.length),v=R(()=>{var C;return((C=a.steps.value[p.value-1])==null?void 0:C.uid)===(i==null?void 0:i.uid)}),m=R(()=>h.value?"":a.props.space),y=R(()=>[n.b(),n.is(h.value?"simple":a.props.direction),n.is("flex",v.value&&!m.value&&!u.value),n.is("center",u.value&&!d.value&&!h.value)]),g=R(()=>{const C={flexBasis:ft(m.value)?`${m.value}px`:m.value?m.value:`${100/(p.value-(u.value?0:1))}%`};return d.value||v.value&&(C.maxWidth=`${100/p.value}%`),C}),_=C=>{s.value=C},b=C=>{const A=C==="wait",T={transitionDelay:`${A?"-":""}${150*s.value}ms`},x=C===a.props.processStatus||A?0:100;T.borderWidth=x&&!h.value?"1px":0,T[a.props.direction==="vertical"?"height":"width"]=`${x}%`,r.value=T},S=C=>{C>s.value?o.value=a.props.finishStatus:C===s.value&&c.value!=="error"?o.value=a.props.processStatus:o.value="wait";const A=a.steps.value[s.value-1];A&&A.calcProgress(o.value)},w=qt({uid:i.uid,currentStatus:l,setIndex:_,calcProgress:b});return a.addStep(w),(C,A)=>(D(),H("div",{style:rt(f(g)),class:F(f(y))},[he(" icon & line "),K("div",{class:F([f(n).e("head"),f(n).is(f(l))])},[f(h)?he("v-if",!0):(D(),H("div",{key:0,class:F(f(n).e("line"))},[K("i",{class:F(f(n).e("line-inner")),style:rt(r.value)},null,6)],2)),K("div",{class:F([f(n).e("icon"),f(n).is(C.icon||C.$slots.icon?"icon":"text")])},[pe(C.$slots,"icon",{},()=>[C.icon?(D(),_e(f(tt),{key:0,class:F(f(n).e("icon-inner"))},{default:te(()=>[(D(),_e(Rt(C.icon)))]),_:1},8,["class"])):f(l)==="success"?(D(),_e(f(tt),{key:1,class:F([f(n).e("icon-inner"),f(n).is("status")])},{default:te(()=>[j(f(Yd))]),_:1},8,["class"])):f(l)==="error"?(D(),_e(f(tt),{key:2,class:F([f(n).e("icon-inner"),f(n).is("status")])},{default:te(()=>[j(f(mo))]),_:1},8,["class"])):f(h)?he("v-if",!0):(D(),H("div",{key:3,class:F(f(n).e("icon-inner"))},Ne(s.value+1),3))])],2)],2),he(" title & description "),K("div",{class:F(f(n).e("main"))},[K("div",{class:F([f(n).e("title"),f(n).is(f(l))])},[pe(C.$slots,"title",{},()=>[St(Ne(C.title),1)])],2),f(h)?(D(),H("div",{key:0,class:F(f(n).e("arrow"))},null,2)):(D(),H("div",{key:1,class:F([f(n).e("description"),f(n).is(f(l))])},[pe(C.$slots,"description",{},()=>[St(Ne(C.description),1)])],2))],2)],6))}});var lI=He(SX,[["__file","item.vue"]]);const _X=_t(gX,{Step:lI}),wX=Tn(lI),cI=t=>["",...zo].includes(t),CX=$e({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:cI},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:sn},activeActionIcon:{type:sn},activeIcon:{type:sn},inactiveIcon:{type:sn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:le(Function)},id:String,tabindex:{type:[String,Number]},...ms(["ariaLabel"])}),xX={[Et]:t=>ln(t)||ot(t)||ft(t),[nn]:t=>ln(t)||ot(t)||ft(t),[ws]:t=>ln(t)||ot(t)||ft(t)},uI="ElSwitch",AX=se({name:uI}),EX=se({...AX,props:CX,emits:xX,setup(t,{expose:e,emit:n}){const s=t,{formItem:r}=As(),o=Hn(),a=Le("switch"),{inputId:i}=Yr(s,{formItemContext:r}),l=Es(R(()=>s.loading)),c=z(s.modelValue!==!1),u=z(),d=z(),h=R(()=>[a.b(),a.m(o.value),a.is("disabled",l.value),a.is("checked",g.value)]),p=R(()=>[a.e("label"),a.em("label","left"),a.is("active",!g.value)]),v=R(()=>[a.e("label"),a.em("label","right"),a.is("active",g.value)]),m=R(()=>({width:Rn(s.width)}));De(()=>s.modelValue,()=>{c.value=!0});const y=R(()=>c.value?s.modelValue:!1),g=R(()=>y.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(y.value)||(n(Et,s.inactiveValue),n(nn,s.inactiveValue),n(ws,s.inactiveValue)),De(g,w=>{var C;u.value.checked=w,s.validateEvent&&((C=r==null?void 0:r.validate)==null||C.call(r,"change").catch(A=>void 0))});const _=()=>{const w=g.value?s.inactiveValue:s.activeValue;n(Et,w),n(nn,w),n(ws,w),lt(()=>{u.value.checked=g.value})},b=()=>{if(l.value)return;const{beforeChange:w}=s;if(!w){_();return}const C=w();[ad(C),ln(C)].includes(!0)||Qn(uI,"beforeChange must return type `Promise<boolean>` or `boolean`"),ad(C)?C.then(T=>{T&&_()}).catch(T=>{}):C&&_()},S=()=>{var w,C;(C=(w=u.value)==null?void 0:w.focus)==null||C.call(w)};return wt(()=>{u.value.checked=g.value}),e({focus:S,checked:g}),(w,C)=>(D(),H("div",{class:F(f(h)),onClick:pt(b,["prevent"])},[K("input",{id:f(i),ref_key:"input",ref:u,class:F(f(a).e("input")),type:"checkbox",role:"switch","aria-checked":f(g),"aria-disabled":f(l),"aria-label":w.ariaLabel,name:w.name,"true-value":w.activeValue,"false-value":w.inactiveValue,disabled:f(l),tabindex:w.tabindex,onChange:_,onKeydown:on(b,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!w.inlinePrompt&&(w.inactiveIcon||w.inactiveText)?(D(),H("span",{key:0,class:F(f(p))},[w.inactiveIcon?(D(),_e(f(tt),{key:0},{default:te(()=>[(D(),_e(Rt(w.inactiveIcon)))]),_:1})):he("v-if",!0),!w.inactiveIcon&&w.inactiveText?(D(),H("span",{key:1,"aria-hidden":f(g)},Ne(w.inactiveText),9,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0),K("span",{ref_key:"core",ref:d,class:F(f(a).e("core")),style:rt(f(m))},[w.inlinePrompt?(D(),H("div",{key:0,class:F(f(a).e("inner"))},[w.activeIcon||w.inactiveIcon?(D(),_e(f(tt),{key:0,class:F(f(a).is("icon"))},{default:te(()=>[(D(),_e(Rt(f(g)?w.activeIcon:w.inactiveIcon)))]),_:1},8,["class"])):w.activeText||w.inactiveText?(D(),H("span",{key:1,class:F(f(a).is("text")),"aria-hidden":!f(g)},Ne(f(g)?w.activeText:w.inactiveText),11,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0),K("div",{class:F(f(a).e("action"))},[w.loading?(D(),_e(f(tt),{key:0,class:F(f(a).is("loading"))},{default:te(()=>[j(f(Lo))]),_:1},8,["class"])):f(g)?pe(w.$slots,"active-action",{key:1},()=>[w.activeActionIcon?(D(),_e(f(tt),{key:0},{default:te(()=>[(D(),_e(Rt(w.activeActionIcon)))]),_:1})):he("v-if",!0)]):f(g)?he("v-if",!0):pe(w.$slots,"inactive-action",{key:2},()=>[w.inactiveActionIcon?(D(),_e(f(tt),{key:0},{default:te(()=>[(D(),_e(Rt(w.inactiveActionIcon)))]),_:1})):he("v-if",!0)])],2)],6),!w.inlinePrompt&&(w.activeIcon||w.activeText)?(D(),H("span",{key:1,class:F(f(v))},[w.activeIcon?(D(),_e(f(tt),{key:0},{default:te(()=>[(D(),_e(Rt(w.activeIcon)))]),_:1})):he("v-if",!0),!w.activeIcon&&w.activeText?(D(),H("span",{key:1,"aria-hidden":!f(g)},Ne(w.activeText),9,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0)],10,["onClick"]))}});var TX=He(EX,[["__file","switch.vue"]]);const MX=_t(TX),av=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},IX=function(t,e,n,s,r){if(!e&&!s&&(!r||Ue(r)&&!r.length))return t;ot(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=s?null:function(i,l){return r?(Ue(r)||(r=[r]),r.map(c=>ot(c)?Un(i,c):c(i,l,t))):(e!=="$key"&&Mt(i)&&"$value"in i&&(i=i.$value),[Mt(i)?Un(i,e):i])},a=function(i,l){if(s)return s(i.value,l.value);for(let c=0,u=i.key.length;c<u;c++){if(i.key[c]<l.key[c])return-1;if(i.key[c]>l.key[c])return 1}return 0};return t.map((i,l)=>({value:i,index:l,key:o?o(i,l):null})).sort((i,l)=>{let c=a(i,l);return c||(c=i.index-l.index),c*+n}).map(i=>i.value)},dI=function(t,e){let n=null;return t.columns.forEach(s=>{s.id===e&&(n=s)}),n},RX=function(t,e){let n=null;for(let s=0;s<t.columns.length;s++){const r=t.columns[s];if(r.columnKey===e){n=r;break}}return n||Qn("ElTable",`No column matching with column-key: ${e}`),n},d1=function(t,e,n){const s=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return s?dI(t,s[0]):null},Ds=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(ot(e)){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let s=t;for(const r of n)s=s[r];return`${s}`}else if(ct(e))return e.call(null,t)},Yi=function(t,e){const n={};return(t||[]).forEach((s,r)=>{n[Ds(s,e)]={row:s,index:r}}),n};function PX(t,e){const n={};let s;for(s in t)n[s]=t[s];for(s in e)if($t(e,s)){const r=e[s];typeof r<"u"&&(n[s]=r)}return n}function uS(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function fI(t){return t===""||t!==void 0&&(t=uS(t),Number.isNaN(t)&&(t=80)),t}function DX(t){return ft(t)?t:ot(t)?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function kX(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function bh(t,e,n,s,r,o){let a=o??0,i=!1;const l=t.indexOf(e),c=l!==-1,u=r==null?void 0:r.call(null,e,o),d=p=>{p==="add"?t.push(e):t.splice(l,1),i=!0},h=p=>{let v=0;const m=(s==null?void 0:s.children)&&p[s.children];return m&&Ue(m)&&(v+=m.length,m.forEach(y=>{v+=h(y)})),v};return(!r||u)&&(ln(n)?n&&!c?d("add"):!n&&c&&d("remove"):d(c?"remove":"add")),!(s!=null&&s.checkStrictly)&&(s!=null&&s.children)&&Ue(e[s.children])&&e[s.children].forEach(p=>{bh(t,p,n??!c,s,r,a+1),a+=h(p)+1}),i}function LX(t,e,n="children",s="hasChildren"){const r=a=>!(Ue(a)&&a.length);function o(a,i,l){e(a,i,l),i.forEach(c=>{if(c[s]){e(c,null,l+1);return}const u=c[n];r(u)||o(c,u,l+1)})}t.forEach(a=>{if(a[s]){e(a,null,0);return}const i=a[n];r(i)||o(a,i,0)})}const f1=(t,e)=>({content:e,...t,popperOptions:{strategy:"fixed",...t.popperOptions}});let Ir=null;function OX(t,e,n,s){if((Ir==null?void 0:Ir.trigger)===n){MT(Ir.vm.component.props,f1(t,e));return}Ir==null||Ir();const r=s==null?void 0:s.refs.tableWrapper,o=r==null?void 0:r.dataset.prefix,a=j(xs,{virtualTriggering:!0,virtualRef:n,appendTo:r,placement:"top",transition:"none",offset:0,hideAfter:0,...f1(t,e)});a.appContext={...s.appContext,...s};const i=document.createElement("div");ii(a,i),a.component.exposed.onOpen();const l=r==null?void 0:r.querySelector(`.${o}-scrollbar__wrap`);Ir=()=>{ii(null,i),l==null||l.removeEventListener("scroll",Ir),Ir=null},Ir.trigger=n,Ir.vm=a,l==null||l.addEventListener("scroll",Ir)}function pI(t){return t.children?xN(t.children,pI):[t]}function p1(t,e){return t+e.colSpan}const hI=(t,e,n,s)=>{let r=0,o=t;const a=n.states.columns.value;if(s){const l=pI(s[t]);r=a.slice(0,a.indexOf(l[0])).reduce(p1,0),o=r+l.reduce(p1,0)-1}else r=t;let i;switch(e){case"left":o<n.states.fixedLeafColumnsLength.value&&(i="left");break;case"right":r>=a.length-n.states.rightFixedLeafColumnsLength.value&&(i="right");break;default:o<n.states.fixedLeafColumnsLength.value?i="left":r>=a.length-n.states.rightFixedLeafColumnsLength.value&&(i="right")}return i?{direction:i,start:r,after:o}:{}},dS=(t,e,n,s,r,o=0)=>{const a=[],{direction:i,start:l,after:c}=hI(e,n,s,r);if(i){const u=i==="left";a.push(`${t}-fixed-column--${i}`),u&&c+o===s.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):!u&&l-o===s.states.columns.value.length-s.states.rightFixedLeafColumnsLength.value&&a.push("is-first-column")}return a};function h1(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const fS=(t,e,n,s)=>{const{direction:r,start:o=0,after:a=0}=hI(t,e,n,s);if(!r)return;const i={},l=r==="left",c=n.states.columns.value;return l?i.left=c.slice(0,o).reduce(h1,0):i.right=c.slice(a+1).reverse().reduce(h1,0),i},Wc=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function BX(t){const e=It(),n=z(!1),s=z([]);return{updateExpandRows:()=>{const l=t.data.value||[],c=t.rowKey.value;if(n.value)s.value=l.slice();else if(c){const u=Yi(s.value,c);s.value=l.reduce((d,h)=>{const p=Ds(h,c);return u[p]&&d.push(h),d},[])}else s.value=[]},toggleRowExpansion:(l,c)=>{bh(s.value,l,c)&&e.emit("expand-change",l,s.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=t.data.value||[],u=t.rowKey.value,d=Yi(c,u);s.value=l.reduce((h,p)=>{const v=d[p];return v&&h.push(v.row),h},[])},isRowExpanded:l=>{const c=t.rowKey.value;return c?!!Yi(s.value,c)[Ds(l,c)]:s.value.includes(l)},states:{expandRows:s,defaultExpandAll:n}}}function FX(t){const e=It(),n=z(null),s=z(null),r=c=>{e.store.assertRowKey(),n.value=c,a(c)},o=()=>{n.value=null},a=c=>{const{data:u,rowKey:d}=t;let h=null;d.value&&(h=(f(u)||[]).find(p=>Ds(p,d.value)===c)),s.value=h,e.emit("current-change",s.value,null)};return{setCurrentRowKey:r,restoreCurrentRowKey:o,setCurrentRowByKey:a,updateCurrentRow:c=>{const u=s.value;if(c&&c!==u){s.value=c,e.emit("current-change",s.value,u);return}!c&&u&&(s.value=null,e.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=t.rowKey.value,u=t.data.value||[],d=s.value;if(!u.includes(d)&&d){if(c){const h=Ds(d,c);a(h)}else s.value=null;s.value===null&&e.emit("current-change",null,d)}else n.value&&(a(n.value),o())},states:{_currentRowKey:n,currentRow:s}}}function NX(t){const e=z([]),n=z({}),s=z(16),r=z(!1),o=z({}),a=z("hasChildren"),i=z("children"),l=z(!1),c=It(),u=R(()=>{if(!t.rowKey.value)return{};const b=t.data.value||[];return h(b)}),d=R(()=>{const b=t.rowKey.value,S=Object.keys(o.value),w={};return S.length&&S.forEach(C=>{if(o.value[C].length){const A={children:[]};o.value[C].forEach(T=>{const x=Ds(T,b);A.children.push(x),T[a.value]&&!w[x]&&(w[x]={children:[]})}),w[C]=A}}),w}),h=b=>{const S=t.rowKey.value,w={};return LX(b,(C,A,T)=>{const x=Ds(C,S);Ue(A)?w[x]={children:A.map(E=>Ds(E,S)),level:T}:r.value&&(w[x]={children:[],lazy:!0,level:T})},i.value,a.value),w},p=(b=!1,S=(w=>(w=c.store)==null?void 0:w.states.defaultExpandAll.value)())=>{var w;const C=u.value,A=d.value,T=Object.keys(C),x={};if(T.length){const E=f(n),M=[],I=(U,B)=>{if(b)return e.value?S||e.value.includes(B):!!(S||U!=null&&U.expanded);{const P=S||e.value&&e.value.includes(B);return!!(U!=null&&U.expanded||P)}};T.forEach(U=>{const B=E[U],P={...C[U]};if(P.expanded=I(B,U),P.lazy){const{loaded:N=!1,loading:L=!1}=B||{};P.loaded=!!N,P.loading=!!L,M.push(U)}x[U]=P});const k=Object.keys(A);r.value&&k.length&&M.length&&k.forEach(U=>{const B=E[U],P=A[U].children;if(M.includes(U)){if(x[U].children.length!==0)throw new Error("[ElTable]children must be an empty array.");x[U].children=P}else{const{loaded:N=!1,loading:L=!1}=B||{};x[U]={lazy:!0,loaded:!!N,loading:!!L,expanded:I(B,U),children:P,level:""}}})}n.value=x,(w=c.store)==null||w.updateTableScrollY()};De(()=>e.value,()=>{p(!0)}),De(()=>u.value,()=>{p()}),De(()=>d.value,()=>{p()});const v=b=>{e.value=b,p()},m=(b,S)=>{c.store.assertRowKey();const w=t.rowKey.value,C=Ds(b,w),A=C&&n.value[C];if(C&&A&&"expanded"in A){const T=A.expanded;S=Jt(S)?!A.expanded:S,n.value[C].expanded=S,T!==S&&c.emit("expand-change",b,S),c.store.updateTableScrollY()}},y=b=>{c.store.assertRowKey();const S=t.rowKey.value,w=Ds(b,S),C=n.value[w];r.value&&C&&"loaded"in C&&!C.loaded?g(b,w,C):m(b,void 0)},g=(b,S,w)=>{const{load:C}=c.props;C&&!n.value[S].loaded&&(n.value[S].loading=!0,C(b,w,A=>{if(!Ue(A))throw new TypeError("[ElTable] data must be an array");n.value[S].loading=!1,n.value[S].loaded=!0,n.value[S].expanded=!0,A.length&&(o.value[S]=A),c.emit("expand-change",b,!0)}))};return{loadData:g,loadOrToggle:y,toggleTreeExpansion:m,updateTreeExpandKeys:v,updateTreeData:p,updateKeyChildren:(b,S)=>{const{lazy:w,rowKey:C}=c.props;if(w){if(!C)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[b]&&(o.value[b]=S)}},normalize:h,states:{expandRowKeys:e,treeData:n,indent:s,lazy:r,lazyTreeNodeMap:o,lazyColumnIdentifier:a,childrenColumnName:i,checkStrictly:l}}}const UX=(t,e)=>{const n=e.sortingColumn;return!n||ot(n.sortable)?t:IX(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},kp=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,kp(n.children)):e.push(n)}),e};function zX(){var t;const e=It(),{size:n}=as((t=e.proxy)==null?void 0:t.$props),s=z(null),r=z([]),o=z([]),a=z(!1),i=z([]),l=z([]),c=z([]),u=z([]),d=z([]),h=z([]),p=z([]),v=z([]),m=[],y=z(0),g=z(0),_=z(0),b=z(!1),S=z([]),w=z(!1),C=z(!1),A=z(null),T=z({}),x=z(null),E=z(null),M=z(null),I=z(null),k=z(null);De(r,()=>{var q;e.state&&(L(!1),e.props.tableLayout==="auto"&&((q=e.refs.tableHeaderRef)==null||q.updateFixedColumnStyle()))},{deep:!0});const U=()=>{if(!s.value)throw new Error("[ElTable] prop row-key is required")},B=q=>{var Ae;(Ae=q.children)==null||Ae.forEach(oe=>{oe.fixed=q.fixed,B(oe)})};let P;const N=()=>{i.value.forEach(ne=>{B(ne)}),u.value=i.value.filter(ne=>ne.fixed===!0||ne.fixed==="left"),d.value=i.value.filter(ne=>ne.fixed==="right"),Jt(P)&&i.value[0]&&i.value[0].type==="selection"&&(P=!!i.value[0].fixed),u.value.length>0&&i.value[0]&&i.value[0].type==="selection"&&(i.value[0].fixed?u.value.some(ze=>ze.type!=="selection")?P=void 0:(i.value[0].fixed=P,P||u.value.shift()):(i.value[0].fixed=!0,u.value.unshift(i.value[0])));const q=i.value.filter(ne=>!ne.fixed);l.value=[].concat(u.value).concat(q).concat(d.value);const Ae=kp(q),oe=kp(u.value),be=kp(d.value);y.value=Ae.length,g.value=oe.length,_.value=be.length,c.value=[].concat(oe).concat(Ae).concat(be),a.value=u.value.length>0||d.value.length>0},L=(q,Ae=!1)=>{q&&N(),Ae?e.state.doLayout():e.state.debouncedUpdateLayout()},O=q=>S.value.some(Ae=>ps(Ae,q)),$=()=>{b.value=!1;const q=S.value;S.value=[],q.length&&e.emit("selection-change",[])},W=()=>{let q;if(s.value){q=[];const Ae=Yi(S.value,s.value),oe=Yi(r.value,s.value);for(const be in Ae)$t(Ae,be)&&!oe[be]&&q.push(Ae[be].row)}else q=S.value.filter(Ae=>!r.value.includes(Ae));if(q.length){const Ae=S.value.filter(oe=>!q.includes(oe));S.value=Ae,e.emit("selection-change",Ae.slice())}},ee=()=>(S.value||[]).slice(),Y=(q,Ae,oe=!0,be=!1)=>{var ne,ze,ut,Ce;const it={children:(ze=(ne=e==null?void 0:e.store)==null?void 0:ne.states)==null?void 0:ze.childrenColumnName.value,checkStrictly:(Ce=(ut=e==null?void 0:e.store)==null?void 0:ut.states)==null?void 0:Ce.checkStrictly.value};if(bh(S.value,q,Ae,it,be?void 0:A.value)){const Ge=(S.value||[]).slice();oe&&e.emit("select",Ge,q),e.emit("selection-change",Ge)}},Z=()=>{var q,Ae;const oe=C.value?!b.value:!(b.value||S.value.length);b.value=oe;let be=!1,ne=0;const ze=(Ae=(q=e==null?void 0:e.store)==null?void 0:q.states)==null?void 0:Ae.rowKey.value,{childrenColumnName:ut}=e.store.states,Ce={children:ut.value,checkStrictly:!1};r.value.forEach((it,Ve)=>{const Ge=Ve+ne;bh(S.value,it,oe,Ce,A.value,Ge)&&(be=!0),ne+=re(Ds(it,ze))}),be&&e.emit("selection-change",S.value?S.value.slice():[]),e.emit("select-all",(S.value||[]).slice())},ae=()=>{const q=Yi(S.value,s.value);r.value.forEach(Ae=>{const oe=Ds(Ae,s.value),be=q[oe];be&&(S.value[be.index]=Ae)})},ue=()=>{var q;if(((q=r.value)==null?void 0:q.length)===0){b.value=!1;return}const{childrenColumnName:Ae}=e.store.states,oe=s.value?Yi(S.value,s.value):void 0;let be=0,ne=0;const ze=it=>oe?!!oe[Ds(it,s.value)]:S.value.includes(it),ut=it=>{var Ve;for(const Ge of it){const dt=A.value&&A.value.call(null,Ge,be);if(ze(Ge))ne++;else if(!A.value||dt)return!1;if(be++,(Ve=Ge[Ae.value])!=null&&Ve.length&&!ut(Ge[Ae.value]))return!1}return!0},Ce=ut(r.value||[]);b.value=ne===0?!1:Ce},re=q=>{var Ae;if(!e||!e.store)return 0;const{treeData:oe}=e.store.states;let be=0;const ne=(Ae=oe.value[q])==null?void 0:Ae.children;return ne&&(be+=ne.length,ne.forEach(ze=>{be+=re(ze)})),be},ge=(q,Ae)=>{Ue(q)||(q=[q]);const oe={};return q.forEach(be=>{T.value[be.id]=Ae,oe[be.columnKey||be.id]=Ae}),oe},ye=(q,Ae,oe)=>{E.value&&E.value!==q&&(E.value.order=null),E.value=q,M.value=Ae,I.value=oe},Fe=()=>{let q=f(o);Object.keys(T.value).forEach(Ae=>{const oe=T.value[Ae];if(!oe||oe.length===0)return;const be=dI({columns:c.value},Ae);be&&be.filterMethod&&(q=q.filter(ne=>oe.some(ze=>be.filterMethod.call(null,ze,ne,be))))}),x.value=q},X=()=>{r.value=UX(x.value,{sortingColumn:E.value,sortProp:M.value,sortOrder:I.value})},V=(q=void 0)=>{q&&q.filter||Fe(),X()},ce=q=>{const{tableHeaderRef:Ae}=e.refs;if(!Ae)return;const oe=Object.assign({},Ae.filterPanels),be=Object.keys(oe);if(be.length)if(ot(q)&&(q=[q]),Ue(q)){const ne=q.map(ze=>RX({columns:c.value},ze));be.forEach(ze=>{const ut=ne.find(Ce=>Ce.id===ze);ut&&(ut.filteredValue=[])}),e.store.commit("filterChange",{column:ne,values:[],silent:!0,multi:!0})}else be.forEach(ne=>{const ze=c.value.find(ut=>ut.id===ne);ze&&(ze.filteredValue=[])}),T.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},Q=()=>{E.value&&(ye(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Me,toggleRowExpansion:Pe,updateExpandRows:Te,states:ve,isRowExpanded:xe}=BX({data:r,rowKey:s}),{updateTreeExpandKeys:we,toggleTreeExpansion:J,updateTreeData:G,updateKeyChildren:me,loadOrToggle:de,states:Re}=NX({data:r,rowKey:s}),{updateCurrentRowData:ke,updateCurrentRow:Je,setCurrentRowKey:je,states:at}=FX({data:r,rowKey:s});return{assertRowKey:U,updateColumns:N,scheduleLayout:L,isSelected:O,clearSelection:$,cleanSelection:W,getSelectionRows:ee,toggleRowSelection:Y,_toggleAllSelection:Z,toggleAllSelection:null,updateSelectionByRowKey:ae,updateAllSelected:ue,updateFilters:ge,updateCurrentRow:Je,updateSort:ye,execFilter:Fe,execSort:X,execQuery:V,clearFilter:ce,clearSort:Q,toggleRowExpansion:Pe,setExpandRowKeysAdapter:q=>{Me(q),we(q)},setCurrentRowKey:je,toggleRowExpansionAdapter:(q,Ae)=>{c.value.some(({type:be})=>be==="expand")?Pe(q,Ae):J(q,Ae)},isRowExpanded:xe,updateExpandRows:Te,updateCurrentRowData:ke,loadOrToggle:de,updateTreeData:G,updateKeyChildren:me,states:{tableSize:n,rowKey:s,data:r,_data:o,isComplex:a,_columns:i,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:d,leafColumns:h,fixedLeafColumns:p,rightFixedLeafColumns:v,updateOrderFns:m,leafColumnsLength:y,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:_,isAllSelected:b,selection:S,reserveSelection:w,selectOnIndeterminate:C,selectable:A,filters:T,filteredData:x,sortingColumn:E,sortProp:M,sortOrder:I,hoverRow:k,...ve,...Re,...at}}}function r0(t,e){return t.map(n=>{var s;return n.id===e.id?e:((s=n.children)!=null&&s.length&&(n.children=r0(n.children,e)),n)})}function o0(t){t.forEach(e=>{var n,s;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(s=e.children)!=null&&s.length&&o0(e.children)}),t.sort((e,n)=>e.no-n.no)}function $X(){const t=It(),e=zX();return{ns:Le("table"),...e,mutations:{setData(a,i){const l=f(a._data)!==i;a.data.value=i,a._data.value=i,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),f(a.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(a,i,l,c){const u=f(a._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(i),d=r0(u,l)):(u.push(i),d=u),o0(d),a._columns.value=d,a.updateOrderFns.push(c),i.type==="selection"&&(a.selectable.value=i.selectable,a.reserveSelection.value=i.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(a,i){var l;((l=i.getColumnIndex)==null?void 0:l.call(i))!==i.no&&(o0(a._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(a,i,l,c){const u=f(a._columns)||[];if(l)l.children.splice(l.children.findIndex(h=>h.id===i.id),1),lt(()=>{var h;((h=l.children)==null?void 0:h.length)===0&&delete l.children}),a._columns.value=r0(u,l);else{const h=u.indexOf(i);h>-1&&(u.splice(h,1),a._columns.value=u)}const d=a.updateOrderFns.indexOf(c);d>-1&&a.updateOrderFns.splice(d,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(a,i){const{prop:l,order:c,init:u}=i;if(l){const d=f(a.columns).find(h=>h.property===l);d&&(d.order=c,t.store.updateSort(d,l,c),t.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(a,i){const{sortingColumn:l,sortProp:c,sortOrder:u}=a,d=f(l),h=f(c),p=f(u);p===null&&(a.sortingColumn.value=null,a.sortProp.value=null);const v={filter:!0};t.store.execQuery(v),(!i||!(i.silent||i.init))&&t.emit("sort-change",{column:d,prop:h,order:p}),t.store.updateTableScrollY()},filterChange(a,i){const{column:l,values:c,silent:u}=i,d=t.store.updateFilters(l,c);t.store.execQuery(),u||t.emit("filter-change",d),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(a,i){t.store.toggleRowSelection(i),t.store.updateAllSelected()},setHoverRow(a,i){a.hoverRow.value=i},setCurrentRow(a,i){t.store.updateCurrentRow(i)}},commit:function(a,...i){const l=t.store.mutations;if(l[a])l[a].apply(t,[t.store.states].concat(i));else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){lt(()=>t.layout.updateScrollY.apply(t.layout))}}}const Ju={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function HX(t,e){if(!t)throw new Error("Table is required.");const n=$X();return n.toggleAllSelection=ir(n._toggleAllSelection,10),Object.keys(Ju).forEach(s=>{mI(vI(e,s),s,n)}),VX(n,e),n}function VX(t,e){Object.keys(Ju).forEach(n=>{De(()=>vI(e,n),s=>{mI(s,n,t)})})}function mI(t,e,n){let s=t,r=Ju[e];typeof Ju[e]=="object"&&(r=r.key,s=s||Ju[e].default),n.states[r].value=s}function vI(t,e){if(e.includes(".")){const n=e.split(".");let s=t;return n.forEach(r=>{s=s[r]}),s}else return t[e]}class WX{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=z(null),this.scrollX=z(!1),this.scrollY=z(!1),this.bodyWidth=z(null),this.fixedWidth=z(null),this.rightFixedWidth=z(null),this.gutterWidth=0;for(const n in e)$t(e,n)&&(fn(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let s=!0;const r=this.scrollY.value;return s=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=s,r!==s}return!1}setHeight(e,n="height"){if(!Nt)return;const s=this.table.vnode.el;if(e=DX(e),this.height.value=Number(e),!s&&(e||e===0))return lt(()=>this.setHeight(e,n));ft(e)?(s.style[n]=`${e}px`,this.updateElsHeight()):ot(e)&&(s.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(s=>{s.isColumnGroup?e.push.apply(e,s.columns):e.push(s)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Nt)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let s=0;const r=this.getFlattenColumns(),o=r.filter(l=>!ft(l.width));if(r.forEach(l=>{ft(l.width)&&l.realWidth&&(l.realWidth=null)}),o.length>0&&e){if(r.forEach(l=>{s+=Number(l.width||l.minWidth||80)}),s<=n){this.scrollX.value=!1;const l=n-s;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+l;else{const c=o.reduce((h,p)=>h+Number(p.minWidth||80),0),u=l/c;let d=0;o.forEach((h,p)=>{if(p===0)return;const v=Math.floor(Number(h.minWidth||80)*u);d+=v,h.realWidth=Number(h.minWidth||80)+v}),o[0].realWidth=Number(o[0].minWidth||80)+l-d}}else this.scrollX.value=!0,o.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(s,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),s+=l.realWidth}),this.scrollX.value=s>n,this.bodyWidth.value=s;const a=this.store.states.fixedColumns.value;if(a.length>0){let l=0;a.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const i=this.store.states.rightFixedColumns.value;if(i.length>0){let l=0;i.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(s=>{var r,o;switch(e){case"columns":(r=s.state)==null||r.onColumnsChange(this);break;case"scrollable":(o=s.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:GX}=Kr,KX=se({name:"ElTableFilterPanel",components:{ElCheckbox:Kr,ElCheckboxGroup:GX,ElScrollbar:$o,ElTooltip:xs,ElIcon:tt,ArrowDown:_a,ArrowUp:yb},directives:{ClickOutside:ha},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(t){const e=It(),{t:n}=Ut(),s=Le("table-filter"),r=e==null?void 0:e.parent;r.filterPanels.value[t.column.id]||(r.filterPanels.value[t.column.id]=e);const o=z(!1),a=z(null),i=R(()=>t.column&&t.column.filters),l=R(()=>t.column.filterClassName?`${s.b()} ${t.column.filterClassName}`:s.b()),c=R({get:()=>{var w;return(((w=t.column)==null?void 0:w.filteredValue)||[])[0]},set:w=>{u.value&&(typeof w<"u"&&w!==null?u.value.splice(0,1,w):u.value.splice(0,1))}}),u=R({get(){return t.column?t.column.filteredValue||[]:[]},set(w){t.column&&t.upDataColumn("filteredValue",w)}}),d=R(()=>t.column?t.column.filterMultiple:!0),h=w=>w.value===c.value,p=()=>{o.value=!1},v=w=>{w.stopPropagation(),o.value=!o.value},m=()=>{o.value=!1},y=()=>{b(u.value),p()},g=()=>{u.value=[],b(u.value),p()},_=w=>{c.value=w,b(typeof w<"u"&&w!==null?u.value:[]),p()},b=w=>{t.store.commit("filterChange",{column:t.column,values:w}),t.store.updateAllSelected()};De(o,w=>{t.column&&t.upDataColumn("filterOpened",w)},{immediate:!0});const S=R(()=>{var w,C;return(C=(w=a.value)==null?void 0:w.popperRef)==null?void 0:C.contentRef});return{tooltipVisible:o,multiple:d,filterClassName:l,filteredValue:u,filterValue:c,filters:i,handleConfirm:y,handleReset:g,handleSelect:_,isActive:h,t:n,ns:s,showFilterPanel:v,hideFilterPanel:m,popperPaneRef:S,tooltip:a}}});function jX(t,e,n,s,r,o){const a=et("el-checkbox"),i=et("el-checkbox-group"),l=et("el-scrollbar"),c=et("arrow-up"),u=et("arrow-down"),d=et("el-icon"),h=et("el-tooltip"),p=qh("click-outside");return D(),_e(h,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:te(()=>[t.multiple?(D(),H("div",{key:0},[K("div",{class:F(t.ns.e("content"))},[j(l,{"wrap-class":t.ns.e("wrap")},{default:te(()=>[j(i,{modelValue:t.filteredValue,"onUpdate:modelValue":v=>t.filteredValue=v,class:F(t.ns.e("checkbox-group"))},{default:te(()=>[(D(!0),H(Ze,null,Tt(t.filters,v=>(D(),_e(a,{key:v.value,value:v.value},{default:te(()=>[St(Ne(v.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),K("div",{class:F(t.ns.e("bottom"))},[K("button",{class:F({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},Ne(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),K("button",{type:"button",onClick:t.handleReset},Ne(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(D(),H("ul",{key:1,class:F(t.ns.e("list"))},[K("li",{class:F([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:v=>t.handleSelect(null)},Ne(t.t("el.table.clearFilter")),11,["onClick"]),(D(!0),H(Ze,null,Tt(t.filters,v=>(D(),H("li",{key:v.value,class:F([t.ns.e("list-item"),t.ns.is("active",t.isActive(v))]),label:v.value,onClick:m=>t.handleSelect(v.value)},Ne(v.text),11,["label","onClick"]))),128))],2))]),default:te(()=>[Ct((D(),H("span",{class:F([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[j(d,null,{default:te(()=>[pe(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(D(),_e(c,{key:0})):(D(),_e(u,{key:1}))])]),_:3})],10,["onClick"])),[[p,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var qX=He(KX,[["render",jX],["__file","filter-panel.vue"]]);function gI(t){const e=It();jh(()=>{n.value.addObserver(e)}),wt(()=>{s(n.value),r(n.value)}),qr(()=>{s(n.value),r(n.value)}),ya(()=>{n.value.removeObserver(e)});const n=R(()=>{const o=t.layout;if(!o)throw new Error("Can not find table layout.");return o}),s=o=>{var a;const i=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!i.length)return;const l=o.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,d=i.length;u<d;u++){const h=i[u],p=h.getAttribute("name"),v=c[p];v&&h.setAttribute("width",v.realWidth||v.width)}},r=o=>{var a,i;const l=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,d=l.length;u<d;u++)l[u].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const c=((i=t.vnode.el)==null?void 0:i.querySelectorAll("th.gutter"))||[];for(let u=0,d=c.length;u<d;u++){const h=c[u];h.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",h.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:s,onScrollableChange:r}}const Ho=Symbol("ElTable");function YX(t,e){const n=It(),s=Qe(Ho),r=m=>{m.stopPropagation()},o=(m,y)=>{!y.filters&&y.sortable?v(m,y,!1):y.filterable&&!y.sortable&&r(m),s==null||s.emit("header-click",y,m)},a=(m,y)=>{s==null||s.emit("header-contextmenu",y,m)},i=z(null),l=z(!1),c=z({}),u=(m,y)=>{if(Nt&&!(y.children&&y.children.length>0)&&i.value&&t.border){l.value=!0;const g=s;e("set-drag-visible",!0);const b=(g==null?void 0:g.vnode.el).getBoundingClientRect().left,S=n.vnode.el.querySelector(`th.${y.id}`),w=S.getBoundingClientRect(),C=w.left-b+30;Br(S,"noclick"),c.value={startMouseLeft:m.clientX,startLeft:w.right-b,startColumnLeft:w.left-b,tableLeft:b};const A=g==null?void 0:g.refs.resizeProxy;A.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const T=E=>{const M=E.clientX-c.value.startMouseLeft,I=c.value.startLeft+M;A.style.left=`${Math.max(C,I)}px`},x=()=>{if(l.value){const{startColumnLeft:E,startLeft:M}=c.value,k=Number.parseInt(A.style.left,10)-E;y.width=y.realWidth=k,g==null||g.emit("header-dragend",y.width,M-E,y,m),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,i.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",x),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Os(S,"noclick")},0)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",x)}},d=(m,y)=>{var g;if(y.children&&y.children.length>0)return;const _=m.target;if(!gr(_))return;const b=_==null?void 0:_.closest("th");if(!(!y||!y.resizable||!b)&&!l.value&&t.border){const S=b.getBoundingClientRect(),w=document.body.style,C=((g=b.parentNode)==null?void 0:g.lastElementChild)===b;S.width>12&&S.right-m.pageX<8&&!C?(w.cursor="col-resize",nr(b,"is-sortable")&&(b.style.cursor="col-resize"),i.value=y):l.value||(w.cursor="",nr(b,"is-sortable")&&(b.style.cursor="pointer"),i.value=null)}},h=()=>{Nt&&(document.body.style.cursor="")},p=({order:m,sortOrders:y})=>{if(m==="")return y[0];const g=y.indexOf(m||null);return y[g>y.length-2?0:g+1]},v=(m,y,g)=>{var _;m.stopPropagation();const b=y.order===g?null:g||p(y),S=(_=m.target)==null?void 0:_.closest("th");if(S&&nr(S,"noclick")){Os(S,"noclick");return}if(!y.sortable)return;const w=m.currentTarget;if(["ascending","descending"].some(E=>nr(w,E)&&!y.sortOrders.includes(E)))return;const C=t.store.states;let A=C.sortProp.value,T;const x=C.sortingColumn.value;(x!==y||x===y&&x.order===null)&&(x&&(x.order=null),C.sortingColumn.value=y,A=y.property),b?T=y.order=b:T=y.order=null,C.sortProp.value=A,C.sortOrder.value=T,s==null||s.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:a,handleMouseDown:u,handleMouseMove:d,handleMouseOut:h,handleSortClick:v,handleFilterClick:r}}function XX(t){const e=Qe(Ho),n=Le("table");return{getHeaderRowStyle:i=>{const l=e==null?void 0:e.props.headerRowStyle;return ct(l)?l.call(null,{rowIndex:i}):l},getHeaderRowClass:i=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return ot(c)?l.push(c):ct(c)&&l.push(c.call(null,{rowIndex:i})),l.join(" ")},getHeaderCellStyle:(i,l,c,u)=>{var d;let h=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};ct(h)&&(h=h.call(null,{rowIndex:i,columnIndex:l,row:c,column:u}));const p=fS(l,u.fixed,t.store,c);return Wc(p,"left"),Wc(p,"right"),Object.assign({},h,p)},getHeaderCellClass:(i,l,c,u)=>{const d=dS(n.b(),l,u.fixed,t.store,c),h=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...d];u.children||h.push("is-leaf"),u.sortable&&h.push("is-sortable");const p=e==null?void 0:e.props.headerCellClassName;return ot(p)?h.push(p):ct(p)&&h.push(p.call(null,{rowIndex:i,columnIndex:l,row:c,column:u})),h.push(n.e("cell")),h.filter(v=>!!v).join(" ")}}}const yI=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,yI(n.children))):e.push(n)}),e},bI=t=>{let e=1;const n=(o,a)=>{if(a&&(o.level=a.level+1,e<o.level&&(e=o.level)),o.children){let i=0;o.children.forEach(l=>{n(l,o),i+=l.colSpan}),o.colSpan=i}else o.colSpan=1};t.forEach(o=>{o.level=1,n(o,void 0)});const s=[];for(let o=0;o<e;o++)s.push([]);return yI(t).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(a=>a.isSubColumn=!0)):o.rowSpan=e-o.level+1,s[o.level-1].push(o)}),s};function QX(t){const e=Qe(Ho),n=R(()=>bI(t.store.states.originColumns.value));return{isGroup:R(()=>{const o=n.value.length>1;return o&&e&&(e.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var ZX=se({name:"ElTableHeader",components:{ElCheckbox:Kr},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(t,{emit:e}){const n=It(),s=Qe(Ho),r=Le("table"),o=z({}),{onColumnsChange:a,onScrollableChange:i}=gI(s),l=(s==null?void 0:s.props.tableLayout)==="auto",c=qt(new Map),u=z(),d=()=>{setTimeout(()=>{c.size>0&&(c.forEach((E,M)=>{const I=u.value.querySelector(`.${M.replace(/\s/g,".")}`);if(I){const k=I.getBoundingClientRect().width;E.width=k}}),c.clear())})};De(c,d),wt(async()=>{await lt(),await lt();const{prop:E,order:M}=t.defaultSort;s==null||s.store.commit("sort",{prop:E,order:M,init:!0}),d()});const{handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:v,handleMouseMove:m,handleMouseOut:y,handleSortClick:g,handleFilterClick:_}=YX(t,e),{getHeaderRowStyle:b,getHeaderRowClass:S,getHeaderCellStyle:w,getHeaderCellClass:C}=XX(t),{isGroup:A,toggleAllSelection:T,columnRows:x}=QX(t);return n.state={onColumnsChange:a,onScrollableChange:i},n.filterPanels=o,{ns:r,filterPanels:o,onColumnsChange:a,onScrollableChange:i,columnRows:x,getHeaderRowClass:S,getHeaderRowStyle:b,getHeaderCellClass:C,getHeaderCellStyle:w,handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:v,handleMouseMove:m,handleMouseOut:y,handleSortClick:g,handleFilterClick:_,isGroup:A,toggleAllSelection:T,saveIndexSelection:c,isTableLayoutAuto:l,theadRef:u,updateFixedColumnStyle:d}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:s,getHeaderCellClass:r,getHeaderRowClass:o,getHeaderRowStyle:a,handleHeaderClick:i,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:h,store:p,$parent:v,saveIndexSelection:m,isTableLayoutAuto:y}=this;let g=1;return st("thead",{ref:"theadRef",class:{[t.is("group")]:e}},n.map((_,b)=>st("tr",{class:o(b),key:b,style:a(b)},_.map((S,w)=>{S.rowSpan>g&&(g=S.rowSpan);const C=r(b,w,_,S);return y&&S.fixed&&m.set(C,S),st("th",{class:C,colspan:S.colSpan,key:`${S.id}-thead`,rowspan:S.rowSpan,style:s(b,w,_,S),onClick:A=>{A.currentTarget.classList.contains("noclick")||i(A,S)},onContextmenu:A=>l(A,S),onMousedown:A=>c(A,S),onMousemove:A=>u(A,S),onMouseout:h},[st("div",{class:["cell",S.filteredValue&&S.filteredValue.length>0?"highlight":""]},[S.renderHeader?S.renderHeader({column:S,$index:w,store:p,_self:v}):S.label,S.sortable&&st("span",{onClick:A=>d(A,S),class:"caret-wrapper"},[st("i",{onClick:A=>d(A,S,"ascending"),class:"sort-caret ascending"}),st("i",{onClick:A=>d(A,S,"descending"),class:"sort-caret descending"})]),S.filterable&&st(qX,{store:p,placement:S.filterPlacement||"bottom-start",appendTo:v.appendFilterPanelTo,column:S,upDataColumn:(A,T)=>{S[A]=T}},{"filter-icon":()=>S.renderFilterIcon?S.renderFilterIcon({filterOpened:S.filterOpened}):null})])])}))))}});function iv(t,e,n=.03){return t-e>n}function JX(t){const e=Qe(Ho),n=z(""),s=z(st("div")),r=(v,m,y)=>{var g;const _=e,b=av(v);let S;const w=(g=_==null?void 0:_.vnode.el)==null?void 0:g.dataset.prefix;b&&(S=d1({columns:t.store.states.columns.value},b,w),S&&(_==null||_.emit(`cell-${y}`,m,S,b,v))),_==null||_.emit(`row-${y}`,m,S,v)},o=(v,m)=>{r(v,m,"dblclick")},a=(v,m)=>{t.store.commit("setCurrentRow",m),r(v,m,"click")},i=(v,m)=>{r(v,m,"contextmenu")},l=ir(v=>{t.store.commit("setHoverRow",v)},30),c=ir(()=>{t.store.commit("setHoverRow",null)},30),u=v=>{const m=window.getComputedStyle(v,null),y=Number.parseInt(m.paddingLeft,10)||0,g=Number.parseInt(m.paddingRight,10)||0,_=Number.parseInt(m.paddingTop,10)||0,b=Number.parseInt(m.paddingBottom,10)||0;return{left:y,right:g,top:_,bottom:b}},d=(v,m,y)=>{let g=m.target.parentNode;for(;v>1&&(g=g==null?void 0:g.nextSibling,!(!g||g.nodeName!=="TR"));)y(g,"hover-row hover-fixed-row"),v--};return{handleDoubleClick:o,handleClick:a,handleContextMenu:i,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(v,m,y)=>{var g;const _=e,b=av(v),S=(g=_==null?void 0:_.vnode.el)==null?void 0:g.dataset.prefix;if(b){const N=d1({columns:t.store.states.columns.value},b,S);b.rowSpan>1&&d(b.rowSpan,v,Br);const L=_.hoverState={cell:b,column:N,row:m};_==null||_.emit("cell-mouse-enter",L.row,L.column,L.cell,v)}if(!y)return;const w=v.target.querySelector(".cell");if(!(nr(w,`${S}-tooltip`)&&w.childNodes.length))return;const C=document.createRange();C.setStart(w,0),C.setEnd(w,w.childNodes.length);const{width:A,height:T}=C.getBoundingClientRect(),{width:x,height:E}=w.getBoundingClientRect(),{top:M,left:I,right:k,bottom:U}=u(w),B=I+k,P=M+U;(iv(A+B,x)||iv(T+P,E)||iv(w.scrollWidth,x))&&OX(y,b.innerText||b.textContent,b,_)},handleCellMouseLeave:v=>{const m=av(v);if(!m)return;m.rowSpan>1&&d(m.rowSpan,v,Os);const y=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",y==null?void 0:y.row,y==null?void 0:y.column,y==null?void 0:y.cell,v)},tooltipContent:n,tooltipTrigger:s}}function eQ(t){const e=Qe(Ho),n=Le("table");return{getRowStyle:(c,u)=>{const d=e==null?void 0:e.props.rowStyle;return ct(d)?d.call(null,{row:c,rowIndex:u}):d||null},getRowClass:(c,u)=>{const d=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&c===t.store.states.currentRow.value&&d.push("current-row"),t.stripe&&u%2===1&&d.push(n.em("row","striped"));const h=e==null?void 0:e.props.rowClassName;return ot(h)?d.push(h):ct(h)&&d.push(h.call(null,{row:c,rowIndex:u})),d},getCellStyle:(c,u,d,h)=>{const p=e==null?void 0:e.props.cellStyle;let v=p??{};ct(p)&&(v=p.call(null,{rowIndex:c,columnIndex:u,row:d,column:h}));const m=fS(u,t==null?void 0:t.fixed,t.store);return Wc(m,"left"),Wc(m,"right"),Object.assign({},v,m)},getCellClass:(c,u,d,h,p)=>{const v=dS(n.b(),u,t==null?void 0:t.fixed,t.store,void 0,p),m=[h.id,h.align,h.className,...v],y=e==null?void 0:e.props.cellClassName;return ot(y)?m.push(y):ct(y)&&m.push(y.call(null,{rowIndex:c,columnIndex:u,row:d,column:h})),m.push(n.e("cell")),m.filter(g=>!!g).join(" ")},getSpan:(c,u,d,h)=>{let p=1,v=1;const m=e==null?void 0:e.props.spanMethod;if(ct(m)){const y=m({row:c,column:u,rowIndex:d,columnIndex:h});Ue(y)?(p=y[0],v=y[1]):typeof y=="object"&&(p=y.rowspan,v=y.colspan)}return{rowspan:p,colspan:v}},getColspanRealWidth:(c,u,d)=>{if(u<1)return c[d].realWidth;const h=c.map(({realWidth:p,width:v})=>p||v).slice(d,d+u);return Number(h.reduce((p,v)=>Number(p)+Number(v),-1))}}}const tQ=se({name:"TableTdWrapper"}),nQ=se({...tQ,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(t){return(e,n)=>(D(),H("td",{colspan:t.colspan,rowspan:t.rowspan},[pe(e.$slots,"default")],8,["colspan","rowspan"]))}});var sQ=He(nQ,[["__file","td-wrapper.vue"]]);function rQ(t){const e=Qe(Ho),n=Le("table"),{handleDoubleClick:s,handleClick:r,handleContextMenu:o,handleMouseEnter:a,handleMouseLeave:i,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=JX(t),{getRowStyle:h,getRowClass:p,getCellStyle:v,getCellClass:m,getSpan:y,getColspanRealWidth:g}=eQ(t),_=R(()=>t.store.states.columns.value.findIndex(({type:A})=>A==="default")),b=(A,T)=>{const x=e.props.rowKey;return x?Ds(A,x):T},S=(A,T,x,E=!1)=>{const{tooltipEffect:M,tooltipOptions:I,store:k}=t,{indent:U,columns:B}=k.states,P=p(A,T);let N=!0;return x&&(P.push(n.em("row",`level-${x.level}`)),N=x.display),st("tr",{style:[N?null:{display:"none"},h(A,T)],class:P,key:b(A,T),onDblclick:O=>s(O,A),onClick:O=>r(O,A),onContextmenu:O=>o(O,A),onMouseenter:()=>a(T),onMouseleave:i},B.value.map((O,$)=>{const{rowspan:W,colspan:ee}=y(A,O,T,$);if(!W||!ee)return null;const Y=Object.assign({},O);Y.realWidth=g(B.value,ee,$);const Z={store:t.store,_self:t.context||e,column:Y,row:A,$index:T,cellIndex:$,expanded:E};$===_.value&&x&&(Z.treeNode={indent:x.level*U.value,level:x.level},ln(x.expanded)&&(Z.treeNode.expanded=x.expanded,"loading"in x&&(Z.treeNode.loading=x.loading),"noLazyChildren"in x&&(Z.treeNode.noLazyChildren=x.noLazyChildren)));const ae=`${b(A,T)},${$}`,ue=Y.columnKey||Y.rawColumnKey||"",re=O.showOverflowTooltip&&MT({effect:M},I,O.showOverflowTooltip);return st(sQ,{style:v(T,$,A,O),class:m(T,$,A,O,ee-1),key:`${ue}${ae}`,rowspan:W,colspan:ee,onMouseenter:ge=>l(ge,A,re),onMouseleave:c},{default:()=>w($,O,Z)})}))},w=(A,T,x)=>T.renderCell(x);return{wrappedRowRender:(A,T)=>{const x=t.store,{isRowExpanded:E,assertRowKey:M}=x,{treeData:I,lazyTreeNodeMap:k,childrenColumnName:U,rowKey:B}=x.states,P=x.states.columns.value;if(P.some(({type:L})=>L==="expand")){const L=E(A),O=S(A,T,void 0,L),$=e.renderExpanded;return L?$?[[O,st("tr",{key:`expanded-row__${O.key}`},[st("td",{colspan:P.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[$({row:A,$index:T,store:x,expanded:L})])])]]:(console.error("[Element Error]renderExpanded is required."),O):[[O]]}else if(Object.keys(I.value).length){M();const L=Ds(A,B.value);let O=I.value[L],$=null;O&&($={expanded:O.expanded,level:O.level,display:!0},ln(O.lazy)&&(ln(O.loaded)&&O.loaded&&($.noLazyChildren=!(O.children&&O.children.length)),$.loading=O.loading));const W=[S(A,T,$)];if(O){let ee=0;const Y=(ae,ue)=>{ae&&ae.length&&ue&&ae.forEach(re=>{const ge={display:ue.display&&ue.expanded,level:ue.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ye=Ds(re,B.value);if(ye==null)throw new Error("For nested data item, row-key is required.");if(O={...I.value[ye]},O&&(ge.expanded=O.expanded,O.level=O.level||ge.level,O.display=!!(O.expanded&&ge.display),ln(O.lazy)&&(ln(O.loaded)&&O.loaded&&(ge.noLazyChildren=!(O.children&&O.children.length)),ge.loading=O.loading)),ee++,W.push(S(re,T+ee,ge)),O){const Fe=k.value[ye]||re[U.value];Y(Fe,O)}})};O.display=!0;const Z=k.value[L]||A[U.value];Y(Z,O)}return W}else return S(A,T,void 0)},tooltipContent:u,tooltipTrigger:d}}const oQ={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var aQ=se({name:"ElTableBody",props:oQ,setup(t){const e=It(),n=Qe(Ho),s=Le("table"),{wrappedRowRender:r,tooltipContent:o,tooltipTrigger:a}=rQ(t),{onColumnsChange:i,onScrollableChange:l}=gI(n),c=[];return De(t.store.states.hoverRow,(u,d)=>{var h;const p=e==null?void 0:e.vnode.el,v=Array.from((p==null?void 0:p.children)||[]).filter(g=>g==null?void 0:g.classList.contains(`${s.e("row")}`));let m=u;const y=(h=v[m])==null?void 0:h.childNodes;if(y!=null&&y.length){let g=0;Array.from(y).reduce((b,S,w)=>{var C,A;return((C=y[w])==null?void 0:C.colSpan)>1&&(g=(A=y[w])==null?void 0:A.colSpan),S.nodeName!=="TD"&&g===0&&b.push(w),g>0&&g--,b},[]).forEach(b=>{var S;for(m=u;m>0;){const w=(S=v[m-1])==null?void 0:S.childNodes;if(w[b]&&w[b].nodeName==="TD"&&w[b].rowSpan>1){Br(w[b],"hover-cell"),c.push(w[b]);break}m--}})}else c.forEach(g=>Os(g,"hover-cell")),c.length=0;!t.store.states.isComplex.value||!Nt||ci(()=>{const g=v[d],_=v[u];g&&!g.classList.contains("hover-fixed-row")&&Os(g,"hover-row"),_&&Br(_,"hover-row")})}),ya(()=>{var u;(u=Ir)==null||u()}),{ns:s,onColumnsChange:i,onScrollableChange:l,wrappedRowRender:r,tooltipContent:o,tooltipTrigger:a}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return st("tbody",{tabIndex:-1},[n.reduce((s,r)=>s.concat(t(r,s.length)),[])])}});function iQ(){const t=Qe(Ho),e=t==null?void 0:t.store,n=R(()=>e.states.fixedLeafColumnsLength.value),s=R(()=>e.states.rightFixedColumns.value.length),r=R(()=>e.states.columns.value.length),o=R(()=>e.states.fixedColumns.value.length),a=R(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:s,columnsCount:r,leftFixedCount:o,rightFixedCount:a,columns:e.states.columns}}function lQ(t){const{columns:e}=iQ(),n=Le("table");return{getCellClasses:(o,a)=>{const i=o[a],l=[n.e("cell"),i.id,i.align,i.labelClassName,...dS(n.b(),a,i.fixed,t.store)];return i.className&&l.push(i.className),i.children||l.push(n.is("leaf")),l},getCellStyles:(o,a)=>{const i=fS(a,o.fixed,t.store);return Wc(i,"left"),Wc(i,"right"),i},columns:e}}var cQ=se({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:s}=lQ(t);return{ns:Le("table"),getCellClasses:e,getCellStyles:n,columns:s}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:s,sumText:r}=this,o=this.store.states.data.value;let a=[];return s?a=s({columns:t,data:o}):t.forEach((i,l)=>{if(l===0){a[l]=r;return}const c=o.map(p=>Number(p[i.property])),u=[];let d=!0;c.forEach(p=>{if(!Number.isNaN(+p)){d=!1;const v=`${p}`.split(".")[1];u.push(v?v.length:0)}});const h=Math.max.apply(null,u);d?a[l]="":a[l]=c.reduce((p,v)=>{const m=Number(v);return Number.isNaN(+m)?p:Number.parseFloat((p+v).toFixed(Math.min(h,20)))},0)}),st(st("tfoot",[st("tr",{},[...t.map((i,l)=>st("td",{key:l,colspan:i.colSpan,rowspan:i.rowSpan,class:n(t,l),style:e(i,l)},[st("div",{class:["cell",i.labelClassName]},[a[l]])]))])]))}});function uQ(t){return{setCurrentRow:d=>{t.commit("setCurrentRow",d)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(d,h,p=!0)=>{t.toggleRowSelection(d,h,!1,p),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:d=>{t.clearFilter(d)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(d,h)=>{t.toggleRowExpansionAdapter(d,h)},clearSort:()=>{t.clearSort()},sort:(d,h)=>{t.commit("sort",{prop:d,order:h})},updateKeyChildren:(d,h)=>{t.updateKeyChildren(d,h)}}}function dQ(t,e,n,s){const r=z(!1),o=z(null),a=z(!1),i=L=>{a.value=L},l=z({width:null,height:null,headerHeight:null}),c=z(!1),u={display:"inline-block",verticalAlign:"middle"},d=z(),h=z(0),p=z(0),v=z(0),m=z(0),y=z(0);_s(()=>{e.setHeight(t.height)}),_s(()=>{e.setMaxHeight(t.maxHeight)}),De(()=>[t.currentRowKey,n.states.rowKey],([L,O])=>{!f(O)||!f(L)||n.setCurrentRowKey(`${L}`)},{immediate:!0}),De(()=>t.data,L=>{s.store.commit("setData",L)},{immediate:!0,deep:!0}),_s(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const g=()=>{s.store.commit("setHoverRow",null),s.hoverState&&(s.hoverState=null)},_=(L,O)=>{const{pixelX:$,pixelY:W}=O;Math.abs($)>=Math.abs(W)&&(s.refs.bodyWrapper.scrollLeft+=O.pixelX/5)},b=R(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),S=R(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),w=()=>{b.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(x)};wt(async()=>{await lt(),n.updateColumns(),E(),requestAnimationFrame(w);const L=s.vnode.el,O=s.refs.headerWrapper;t.flexible&&L&&L.parentElement&&(L.parentElement.style.minWidth="0"),l.value={width:d.value=L.offsetWidth,height:L.offsetHeight,headerHeight:t.showHeader&&O?O.offsetHeight:null},n.states.columns.value.forEach($=>{$.filteredValue&&$.filteredValue.length&&s.store.commit("filterChange",{column:$,values:$.filteredValue,silent:!0})}),s.$ready=!0});const C=(L,O)=>{if(!L)return;const $=Array.from(L.classList).filter(W=>!W.startsWith("is-scrolling-"));$.push(e.scrollX.value?O:"is-scrolling-none"),L.className=$.join(" ")},A=L=>{const{tableWrapper:O}=s.refs;C(O,L)},T=L=>{const{tableWrapper:O}=s.refs;return!!(O&&O.classList.contains(L))},x=function(){if(!s.refs.scrollBarRef)return;if(!e.scrollX.value){const ae="is-scrolling-none";T(ae)||A(ae);return}const L=s.refs.scrollBarRef.wrapRef;if(!L)return;const{scrollLeft:O,offsetWidth:$,scrollWidth:W}=L,{headerWrapper:ee,footerWrapper:Y}=s.refs;ee&&(ee.scrollLeft=O),Y&&(Y.scrollLeft=O);const Z=W-$-1;O>=Z?A("is-scrolling-right"):A(O===0?"is-scrolling-left":"is-scrolling-middle")},E=()=>{s.refs.scrollBarRef&&(s.refs.scrollBarRef.wrapRef&&en(s.refs.scrollBarRef.wrapRef,"scroll",x,{passive:!0}),t.fit?_n(s.vnode.el,M):en(window,"resize",M),_n(s.refs.bodyWrapper,()=>{var L,O;M(),(O=(L=s.refs)==null?void 0:L.scrollBarRef)==null||O.update()}))},M=()=>{var L,O,$,W;const ee=s.vnode.el;if(!s.$ready||!ee)return;let Y=!1;const{width:Z,height:ae,headerHeight:ue}=l.value,re=d.value=ee.offsetWidth;Z!==re&&(Y=!0);const ge=ee.offsetHeight;(t.height||b.value)&&ae!==ge&&(Y=!0);const ye=t.tableLayout==="fixed"?s.refs.headerWrapper:(L=s.refs.tableHeaderRef)==null?void 0:L.$el;t.showHeader&&(ye==null?void 0:ye.offsetHeight)!==ue&&(Y=!0),h.value=((O=s.refs.tableWrapper)==null?void 0:O.scrollHeight)||0,v.value=(ye==null?void 0:ye.scrollHeight)||0,m.value=(($=s.refs.footerWrapper)==null?void 0:$.offsetHeight)||0,y.value=((W=s.refs.appendWrapper)==null?void 0:W.offsetHeight)||0,p.value=h.value-v.value-m.value-y.value,Y&&(l.value={width:re,height:ge,headerHeight:t.showHeader&&(ye==null?void 0:ye.offsetHeight)||0},w())},I=Hn(),k=R(()=>{const{bodyWidth:L,scrollY:O,gutterWidth:$}=e;return L.value?`${L.value-(O.value?$:0)}px`:""}),U=R(()=>t.maxHeight?"fixed":t.tableLayout),B=R(()=>{if(t.data&&t.data.length)return null;let L="100%";t.height&&p.value&&(L=`${p.value}px`);const O=d.value;return{width:O?`${O}px`:"",height:L}}),P=R(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${v.value+m.value}px)`}:{maxHeight:`${t.maxHeight-v.value-m.value}px`}:{});return{isHidden:r,renderExpanded:o,setDragVisible:i,isGroup:c,handleMouseLeave:g,handleHeaderFooterMousewheel:_,tableSize:I,emptyBlockStyle:B,handleFixedMousewheel:(L,O)=>{const $=s.refs.bodyWrapper;if(Math.abs(O.spinY)>0){const W=$.scrollTop;O.pixelY<0&&W!==0&&L.preventDefault(),O.pixelY>0&&$.scrollHeight-$.clientHeight>W&&L.preventDefault(),$.scrollTop+=Math.ceil(O.pixelY/5)}else $.scrollLeft+=Math.ceil(O.pixelX/5)},resizeProxyVisible:a,bodyWidth:k,resizeState:l,doLayout:w,tableBodyStyles:S,tableLayout:U,scrollbarViewStyle:u,scrollbarStyle:P}}function fQ(t){const e=z(),n=()=>{const r=t.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},a=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{a.forEach(i=>i())}),e.value.observe(r,o)};wt(()=>{n()}),ya(()=>{var s;(s=e.value)==null||s.disconnect()})}var pQ={data:{type:Array,default:()=>[]},size:Wn,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function SI(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(r=>r.width===void 0)&&(n=[]);const s=r=>{const o={key:`${t.tableLayout}_${r.id}`,style:{},name:void 0};return e?o.style={width:`${r.width}px`}:o.name=r.id,o};return st("colgroup",{},n.map(r=>st("col",s(r))))}SI.props=["columns","tableLayout"];const hQ=()=>{const t=z(),e=(o,a)=>{const i=t.value;i&&i.scrollTo(o,a)},n=(o,a)=>{const i=t.value;i&&ft(a)&&["Top","Left"].includes(o)&&i[`setScroll${o}`](a)};return{scrollBarRef:t,scrollTo:e,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};var m1=!1,Ui,a0,i0,Lp,Op,_I,Bp,l0,c0,u0,wI,d0,f0,CI,xI;function Xs(){if(!m1){m1=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(d0=/\b(iPhone|iP[ao]d)/.exec(t),f0=/\b(iP[ao]d)/.exec(t),u0=/Android/i.exec(t),CI=/FBAN\/\w+;/i.exec(t),xI=/Mobile/i.exec(t),wI=!!/Win64/.exec(t),e){Ui=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Ui&&document&&document.documentMode&&(Ui=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(t);_I=s?parseFloat(s[1])+4:Ui,a0=e[2]?parseFloat(e[2]):NaN,i0=e[3]?parseFloat(e[3]):NaN,Lp=e[4]?parseFloat(e[4]):NaN,Lp?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Op=e&&e[1]?parseFloat(e[1]):NaN):Op=NaN}else Ui=a0=i0=Op=Lp=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Bp=r?parseFloat(r[1].replace("_",".")):!0}else Bp=!1;l0=!!n[2],c0=!!n[3]}else Bp=l0=c0=!1}}var p0={ie:function(){return Xs()||Ui},ieCompatibilityMode:function(){return Xs()||_I>Ui},ie64:function(){return p0.ie()&&wI},firefox:function(){return Xs()||a0},opera:function(){return Xs()||i0},webkit:function(){return Xs()||Lp},safari:function(){return p0.webkit()},chrome:function(){return Xs()||Op},windows:function(){return Xs()||l0},osx:function(){return Xs()||Bp},linux:function(){return Xs()||c0},iphone:function(){return Xs()||d0},mobile:function(){return Xs()||d0||f0||u0||xI},nativeApp:function(){return Xs()||CI},android:function(){return Xs()||u0},ipad:function(){return Xs()||f0}},mQ=p0,vQ=!!(typeof window<"u"&&window.document&&window.document.createElement),gQ={canUseDOM:vQ},AI=gQ,EI;AI.canUseDOM&&(EI=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function yQ(t,e){if(!AI.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,s=n in document;if(!s){var r=document.createElement("div");r.setAttribute(n,"return;"),s=typeof r[n]=="function"}return!s&&EI&&t==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var bQ=yQ,v1=10,g1=40,y1=800;function TI(t){var e=0,n=0,s=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),s=e*v1,r=n*v1,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(s=t.deltaX),(s||r)&&t.deltaMode&&(t.deltaMode==1?(s*=g1,r*=g1):(s*=y1,r*=y1)),s&&!e&&(e=s<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:s,pixelY:r}}TI.getEventType=function(){return mQ.firefox()?"DOMMouseScroll":bQ("wheel")?"wheel":"mousewheel"};var SQ=TI;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const _Q=function(t,e){if(t&&t.addEventListener){const n=function(s){const r=SQ(s);e&&Reflect.apply(e,this,[s,r])};t.addEventListener("wheel",n,{passive:!0})}},wQ={beforeMount(t,e){_Q(t,e.value)}};let CQ=1;const xQ=se({name:"ElTable",directives:{Mousewheel:wQ},components:{TableHeader:ZX,TableBody:aQ,TableFooter:cQ,ElScrollbar:$o,hColgroup:SI},props:pQ,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:e}=Ut(),n=Le("table"),s=It();Bt(Ho,s);const r=HX(s,t);s.store=r;const o=new WX({store:s.store,table:s,fit:t.fit,showHeader:t.showHeader});s.layout=o;const a=R(()=>(r.states.data.value||[]).length===0),{setCurrentRow:i,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:p,clearSort:v,sort:m,updateKeyChildren:y}=uQ(r),{isHidden:g,renderExpanded:_,setDragVisible:b,isGroup:S,handleMouseLeave:w,handleHeaderFooterMousewheel:C,tableSize:A,emptyBlockStyle:T,handleFixedMousewheel:x,resizeProxyVisible:E,bodyWidth:M,resizeState:I,doLayout:k,tableBodyStyles:U,tableLayout:B,scrollbarViewStyle:P,scrollbarStyle:N}=dQ(t,o,r,s),{scrollBarRef:L,scrollTo:O,setScrollLeft:$,setScrollTop:W}=hQ(),ee=ir(k,50),Y=`${n.namespace.value}-table_${CQ++}`;s.tableId=Y,s.state={isGroup:S,resizeState:I,doLayout:k,debouncedUpdateLayout:ee};const Z=R(()=>{var re;return(re=t.sumText)!=null?re:e("el.table.sumText")}),ae=R(()=>{var re;return(re=t.emptyText)!=null?re:e("el.table.emptyText")}),ue=R(()=>bI(r.states.originColumns.value)[0]);return fQ(s),Qt(()=>{ee.cancel()}),{ns:n,layout:o,store:r,columns:ue,handleHeaderFooterMousewheel:C,handleMouseLeave:w,tableId:Y,tableSize:A,isHidden:g,isEmpty:a,renderExpanded:_,resizeProxyVisible:E,resizeState:I,isGroup:S,bodyWidth:M,tableBodyStyles:U,emptyBlockStyle:T,debouncedUpdateLayout:ee,handleFixedMousewheel:x,setCurrentRow:i,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:p,clearSort:v,doLayout:k,sort:m,updateKeyChildren:y,t:e,setDragVisible:b,context:s,computedSumText:Z,computedEmptyText:ae,tableLayout:B,scrollbarViewStyle:P,scrollbarStyle:N,scrollBarRef:L,scrollTo:O,setScrollLeft:$,setScrollTop:W}}});function AQ(t,e,n,s,r,o){const a=et("hColgroup"),i=et("table-header"),l=et("table-body"),c=et("table-footer"),u=et("el-scrollbar"),d=qh("mousewheel");return D(),H("div",{ref:"tableWrapper",class:F([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:rt(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[K("div",{class:F(t.ns.e("inner-wrapper"))},[K("div",{ref:"hiddenColumns",class:"hidden-columns"},[pe(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Ct((D(),H("div",{key:0,ref:"headerWrapper",class:F(t.ns.e("header-wrapper"))},[K("table",{ref:"tableHeader",class:F(t.ns.e("header")),style:rt(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[j(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),j(i,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):he("v-if",!0),K("div",{ref:"bodyWrapper",class:F(t.ns.e("body-wrapper"))},[j(u,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,onScroll:h=>t.$emit("scroll",h)},{default:te(()=>[K("table",{ref:"tableBody",class:F(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:rt({width:t.bodyWidth,tableLayout:t.tableLayout})},[j(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(D(),_e(i,{key:0,ref:"tableHeaderRef",class:F(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):he("v-if",!0),j(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(D(),_e(c,{key:1,class:F(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):he("v-if",!0)],6),t.isEmpty?(D(),H("div",{key:0,ref:"emptyBlock",style:rt(t.emptyBlockStyle),class:F(t.ns.e("empty-block"))},[K("span",{class:F(t.ns.e("empty-text"))},[pe(t.$slots,"empty",{},()=>[St(Ne(t.computedEmptyText),1)])],2)],6)):he("v-if",!0),t.$slots.append?(D(),H("div",{key:1,ref:"appendWrapper",class:F(t.ns.e("append-wrapper"))},[pe(t.$slots,"append")],2)):he("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),t.showSummary&&t.tableLayout==="fixed"?Ct((D(),H("div",{key:1,ref:"footerWrapper",class:F(t.ns.e("footer-wrapper"))},[K("table",{class:F(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:rt(t.tableBodyStyles)},[j(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),j(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Vt,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):he("v-if",!0),t.border||t.isGroup?(D(),H("div",{key:2,class:F(t.ns.e("border-left-patch"))},null,2)):he("v-if",!0)],2),Ct(K("div",{ref:"resizeProxy",class:F(t.ns.e("column-resize-proxy"))},null,2),[[Vt,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var EQ=He(xQ,[["render",AQ],["__file","table.vue"]]);const TQ={selection:"table-column--selection",expand:"table__expand-column"},MQ={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},IQ=t=>TQ[t]||"",RQ={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return st(Kr,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:s}){return st(Kr,{disabled:e.selectable?!e.selectable.call(null,t,s):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:r=>r.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const s=t.index;return ft(s)?n=e+s:ct(s)&&(n=s(e)),st("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:s}=e,r=[s.e("expand-icon")];return n&&r.push(s.em("expand-icon","expanded")),st("div",{class:r,onClick:function(a){a.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[st(tt,null,{default:()=>[st(Ws)]})]})},sortable:!1,resizable:!1}};function PQ({row:t,column:e,$index:n}){var s;const r=e.property,o=r&&gp(t,r).value;return e&&e.formatter?e.formatter(t,e,o,n):((s=o==null?void 0:o.toString)==null?void 0:s.call(o))||""}function DQ({row:t,treeNode:e,store:n},s=!1){const{ns:r}=n;if(!e)return s?[st("span",{class:r.e("placeholder")})]:null;const o=[],a=function(i){i.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&o.push(st("span",{class:r.e("indent"),style:{"padding-left":`${e.indent}px`}})),ln(e.expanded)&&!e.noLazyChildren){const i=[r.e("expand-icon"),e.expanded?r.em("expand-icon","expanded"):""];let l=Ws;e.loading&&(l=Lo),o.push(st("div",{class:i,onClick:a},{default:()=>[st(tt,{class:{[r.is("loading")]:e.loading}},{default:()=>[st(l)]})]}))}else o.push(st("span",{class:r.e("placeholder")}));return o}function b1(t,e){return t.reduce((n,s)=>(n[s]=s,n),e)}function kQ(t,e){const n=It();return{registerComplexWatchers:()=>{const o=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},i=b1(o,a);Object.keys(i).forEach(l=>{const c=a[l];$t(e,c)&&De(()=>e[c],u=>{let d=u;c==="width"&&l==="realWidth"&&(d=uS(u)),c==="minWidth"&&l==="realMinWidth"&&(d=fI(u)),n.columnConfig.value[c]=d,n.columnConfig.value[l]=d;const h=c==="fixed";t.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],a={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},i=b1(o,a);Object.keys(i).forEach(l=>{const c=a[l];$t(e,c)&&De(()=>e[c],u=>{n.columnConfig.value[l]=u})})}}}function LQ(t,e,n){const s=It(),r=z(""),o=z(!1),a=z(),i=z(),l=Le("table");_s(()=>{a.value=t.align?`is-${t.align}`:null,a.value}),_s(()=>{i.value=t.headerAlign?`is-${t.headerAlign}`:a.value,i.value});const c=R(()=>{let S=s.vnode.vParent||s.parent;for(;S&&!S.tableId&&!S.columnId;)S=S.vnode.vParent||S.parent;return S}),u=R(()=>{const{store:S}=s.parent;if(!S)return!1;const{treeData:w}=S.states,C=w.value;return C&&Object.keys(C).length>0}),d=z(uS(t.width)),h=z(fI(t.minWidth)),p=S=>(d.value&&(S.width=d.value),h.value&&(S.minWidth=h.value),!d.value&&h.value&&(S.width=void 0),S.minWidth||(S.minWidth=80),S.realWidth=Number(S.width===void 0?S.minWidth:S.width),S),v=S=>{const w=S.type,C=RQ[w]||{};Object.keys(C).forEach(T=>{const x=C[T];T!=="className"&&x!==void 0&&(S[T]=x)});const A=IQ(w);if(A){const T=`${f(l.namespace)}-${A}`;S.className=S.className?`${S.className} ${T}`:T}return S},m=S=>{Ue(S)?S.forEach(C=>w(C)):w(S);function w(C){var A;((A=C==null?void 0:C.type)==null?void 0:A.name)==="ElTableColumn"&&(C.vParent=s)}};return{columnId:r,realAlign:a,isSubColumn:o,realHeaderAlign:i,columnOrTableParent:c,setColumnWidth:p,setColumnForcedProps:v,setColumnRenders:S=>{t.renderHeader||S.type!=="selection"&&(S.renderHeader=C=>(s.columnConfig.value.label,pe(e,"header",C,()=>[S.label]))),e["filter-icon"]&&(S.renderFilterIcon=C=>pe(e,"filter-icon",C));let w=S.renderCell;return S.type==="expand"?(S.renderCell=C=>st("div",{class:"cell"},[w(C)]),n.value.renderExpanded=C=>e.default?e.default(C):e.default):(w=w||PQ,S.renderCell=C=>{let A=null;if(e.default){const k=e.default(C);A=k.some(U=>U.type!==Ls)?k:w(C)}else A=w(C);const{columns:T}=n.value.store.states,x=T.value.findIndex(k=>k.type==="default"),E=u.value&&C.cellIndex===x,M=DQ(C,E),I={class:"cell",style:{}};return S.showOverflowTooltip&&(I.class=`${I.class} ${f(l.namespace)}-tooltip`,I.style={width:`${(C.column.realWidth||Number(C.column.width))-1}px`}),m(A),st("div",I,[M,A])}),S},getPropsData:(...S)=>S.reduce((w,C)=>(Ue(C)&&C.forEach(A=>{w[A]=t[A]}),w),{}),getColumnElIndex:(S,w)=>Array.prototype.indexOf.call(S,w),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",s.columnConfig.value)}}}var OQ={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let BQ=1;var MI=se({name:"ElTableColumn",components:{ElCheckbox:Kr},props:OQ,setup(t,{slots:e}){const n=It(),s=z({}),r=R(()=>{let b=n.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:o,registerComplexWatchers:a}=kQ(r,t),{columnId:i,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:h,setColumnRenders:p,getPropsData:v,getColumnElIndex:m,realAlign:y,updateColumnOrder:g}=LQ(t,e,r),_=u.value;i.value=`${_.tableId||_.columnId}_column_${BQ++}`,jh(()=>{l.value=r.value!==_;const b=t.type||"default",S=t.sortable===""?!0:t.sortable,w=Jt(t.showOverflowTooltip)?_.props.showOverflowTooltip:t.showOverflowTooltip,C={...MQ[b],id:i.value,type:b,property:t.prop||t.property,align:y,headerAlign:c,showOverflowTooltip:w,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:S,index:t.index,rawColumnKey:n.vnode.key};let M=v(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);M=PX(C,M),M=kX(p,d,h)(M),s.value=M,o(),a()}),wt(()=>{var b;const S=u.value,w=l.value?S.vnode.el.children:(b=S.refs.hiddenColumns)==null?void 0:b.children,C=()=>m(w||[],n.vnode.el);s.value.getColumnIndex=C,C()>-1&&r.value.store.commit("insertColumn",s.value,l.value?S.columnConfig.value:null,g)}),Qt(()=>{const b=s.value.getColumnIndex;(b?b():-1)>-1&&r.value.store.commit("removeColumn",s.value,l.value?_.columnConfig.value:null,g)}),n.columnId=i.value,n.columnConfig=s},render(){var t,e,n;try{const s=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),r=[];if(Ue(s))for(const a of s)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?r.push(a):a.type===Ze&&Ue(a.children)&&a.children.forEach(i=>{(i==null?void 0:i.patchFlag)!==1024&&!ot(i==null?void 0:i.children)&&r.push(i)});return st("div",r)}catch{return st("div",[])}}});const FQ=_t(EQ,{TableColumn:MI}),NQ=Tn(MI);var Dd=(t=>(t.ASC="asc",t.DESC="desc",t))(Dd||{}),kd=(t=>(t.CENTER="center",t.RIGHT="right",t))(kd||{}),II=(t=>(t.LEFT="left",t.RIGHT="right",t))(II||{});const h0={asc:"desc",desc:"asc"},Ld=Symbol("placeholder"),UQ=(t,e,n)=>{var s;const r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(r.flexShrink=1);const o={...(s=t.style)!=null?s:{},...r,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(o.maxWidth=t.maxWidth),t.minWidth&&(o.minWidth=t.minWidth)),o};function zQ(t,e,n){const s=R(()=>f(e).map((y,g)=>{var _,b;return{...y,key:(b=(_=y.key)!=null?_:y.dataKey)!=null?b:g}})),r=R(()=>f(s).filter(y=>!y.hidden)),o=R(()=>f(r).filter(y=>y.fixed==="left"||y.fixed===!0)),a=R(()=>f(r).filter(y=>y.fixed==="right")),i=R(()=>f(r).filter(y=>!y.fixed)),l=R(()=>{const y=[];return f(o).forEach(g=>{y.push({...g,placeholderSign:Ld})}),f(i).forEach(g=>{y.push(g)}),f(a).forEach(g=>{y.push({...g,placeholderSign:Ld})}),y}),c=R(()=>f(o).length||f(a).length),u=R(()=>f(s).reduce((y,g)=>(y[g.key]=UQ(g,f(n),t.fixed),y),{})),d=R(()=>f(r).reduce((y,g)=>y+g.width,0)),h=y=>f(s).find(g=>g.key===y),p=y=>f(u)[y],v=(y,g)=>{y.width=g};function m(y){var g;const{key:_}=y.currentTarget.dataset;if(!_)return;const{sortState:b,sortBy:S}=t;let w=Dd.ASC;Mt(b)?w=h0[b[_]]:w=h0[S.order],(g=t.onColumnSort)==null||g.call(t,{column:h(_),key:_,order:w})}return{columns:s,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:o,fixedColumnsOnRight:a,hasFixedColumns:c,mainColumns:l,normalColumns:i,visibleColumns:r,getColumn:h,getColumnStyle:p,updateColumnWidth:v,onColumnSorted:m}}const $Q=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,onMaybeEndReached:r})=>{const o=z({scrollLeft:0,scrollTop:0});function a(p){var v,m,y;const{scrollTop:g}=p;(v=e.value)==null||v.scrollTo(p),(m=n.value)==null||m.scrollToTop(g),(y=s.value)==null||y.scrollToTop(g)}function i(p){o.value=p,a(p)}function l(p){o.value.scrollTop=p,a(f(o))}function c(p){var v,m;o.value.scrollLeft=p,(m=(v=e.value)==null?void 0:v.scrollTo)==null||m.call(v,f(o))}function u(p){var v;i(p),(v=t.onScroll)==null||v.call(t,p)}function d({scrollTop:p}){const{scrollTop:v}=f(o);p!==v&&l(p)}function h(p,v="auto"){var m;(m=e.value)==null||m.scrollToRow(p,v)}return De(()=>f(o).scrollTop,(p,v)=>{p>v&&r()}),{scrollPos:o,scrollTo:i,scrollToLeft:c,scrollToTop:l,scrollToRow:h,onScroll:u,onVerticalScroll:d}},HQ=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,tableInstance:r,ns:o,isScrolling:a})=>{const i=It(),{emit:l}=i,c=dn(!1),u=z(t.defaultExpandedRowKeys||[]),d=z(-1),h=dn(null),p=z({}),v=z({}),m=dn({}),y=dn({}),g=dn({}),_=R(()=>ft(t.estimatedRowHeight));function b(E){var M;(M=t.onRowsRendered)==null||M.call(t,E),E.rowCacheEnd>f(d)&&(d.value=E.rowCacheEnd)}function S({hovered:E,rowKey:M}){if(a.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(M)}"]`).forEach(U=>{E?U.classList.add(o.is("hovered")):U.classList.remove(o.is("hovered"))})}function w({expanded:E,rowData:M,rowIndex:I,rowKey:k}){var U,B;const P=[...f(u)],N=P.indexOf(k);E?N===-1&&P.push(k):N>-1&&P.splice(N,1),u.value=P,l("update:expandedRowKeys",P),(U=t.onRowExpand)==null||U.call(t,{expanded:E,rowData:M,rowIndex:I,rowKey:k}),(B=t.onExpandedRowsChange)==null||B.call(t,P)}const C=ir(()=>{var E,M,I,k;c.value=!0,p.value={...f(p),...f(v)},A(f(h),!1),v.value={},h.value=null,(E=e.value)==null||E.forceUpdate(),(M=n.value)==null||M.forceUpdate(),(I=s.value)==null||I.forceUpdate(),(k=i.proxy)==null||k.$forceUpdate(),c.value=!1},0);function A(E,M=!1){f(_)&&[e,n,s].forEach(I=>{const k=f(I);k&&k.resetAfterRowIndex(E,M)})}function T(E,M,I){const k=f(h);(k===null||k>I)&&(h.value=I),v.value[E]=M}function x({rowKey:E,height:M,rowIndex:I},k){k?k===II.RIGHT?g.value[E]=M:m.value[E]=M:y.value[E]=M;const U=Math.max(...[m,g,y].map(B=>B.value[E]||0));f(p)[E]!==U&&(T(E,U,I),C())}return{expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:_,isResetting:c,rowHeights:p,resetAfterIndex:A,onRowExpanded:w,onRowHovered:S,onRowsRendered:b,onRowHeightChange:x}},VQ=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:s})=>{const r=z({}),o=R(()=>{const i={},{data:l,rowKey:c}=t,u=f(e);if(!u||!u.length)return l;const d=[],h=new Set;u.forEach(v=>h.add(v));let p=l.slice();for(p.forEach(v=>i[v[c]]=0);p.length>0;){const v=p.shift();d.push(v),h.has(v[c])&&Ue(v.children)&&v.children.length>0&&(p=[...v.children,...p],v.children.forEach(m=>i[m[c]]=i[v[c]]+1))}return r.value=i,d}),a=R(()=>{const{data:i,expandColumnKey:l}=t;return l?f(o):i});return De(a,(i,l)=>{i!==l&&(n.value=-1,s(0,!0))}),{data:a,depthMap:r}},WQ=(t,e)=>t+e,Fp=t=>Ue(t)?t.reduce(WQ,0):t,hl=(t,e,n={})=>ct(t)?t(e):t??n,qa=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Rn(t[e])}),t),RI=t=>Cn(t)?e=>st(t,e):t,GQ=(t,{columnsTotalWidth:e,rowsHeight:n,fixedColumnsOnLeft:s,fixedColumnsOnRight:r})=>{const o=R(()=>{const{fixed:_,width:b,vScrollbarSize:S}=t,w=b-S;return _?Math.max(Math.round(f(e)),w):w}),a=R(()=>f(o)+t.vScrollbarSize),i=R(()=>{const{height:_=0,maxHeight:b=0,footerHeight:S,hScrollbarSize:w}=t;if(b>0){const C=f(p),A=f(n),x=f(h)+C+A+w;return Math.min(x,b-S)}return _-S}),l=R(()=>{const{maxHeight:_}=t,b=f(i);if(ft(_)&&_>0)return b;const S=f(n)+f(h)+f(p);return Math.min(b,S)}),c=_=>_.width,u=R(()=>Fp(f(s).map(c))),d=R(()=>Fp(f(r).map(c))),h=R(()=>Fp(t.headerHeight)),p=R(()=>{var _;return(((_=t.fixedData)==null?void 0:_.length)||0)*t.rowHeight}),v=R(()=>f(i)-f(h)-f(p)),m=R(()=>{const{style:_={},height:b,width:S}=t;return qa({..._,height:b,width:S})}),y=R(()=>qa({height:t.footerHeight})),g=R(()=>({top:Rn(f(h)),bottom:Rn(t.footerHeight),width:Rn(t.width)}));return{bodyWidth:o,fixedTableHeight:l,mainTableHeight:i,leftTableWidth:u,rightTableWidth:d,headerWidth:a,windowHeight:v,footerHeight:y,emptyStyle:g,rootStyle:m,headerHeight:h}};function KQ(t){const e=z(),n=z(),s=z(),{columns:r,columnsStyles:o,columnsTotalWidth:a,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:d}=zQ(t,Yt(t,"columns"),Yt(t,"fixed")),{scrollTo:h,scrollToLeft:p,scrollToTop:v,scrollToRow:m,onScroll:y,onVerticalScroll:g,scrollPos:_}=$Q(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,onMaybeEndReached:ce}),b=Le("table-v2"),S=It(),w=dn(!1),{expandedRowKeys:C,lastRenderedRowIndex:A,isDynamic:T,isResetting:x,rowHeights:E,resetAfterIndex:M,onRowExpanded:I,onRowHeightChange:k,onRowHovered:U,onRowsRendered:B}=HQ(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,tableInstance:S,ns:b,isScrolling:w}),{data:P,depthMap:N}=VQ(t,{expandedRowKeys:C,lastRenderedRowIndex:A,resetAfterIndex:M}),L=R(()=>{const{estimatedRowHeight:Q,rowHeight:Me}=t,Pe=f(P);return ft(Q)?Object.values(f(E)).reduce((Te,ve)=>Te+ve,0):Pe.length*Me}),{bodyWidth:O,fixedTableHeight:$,mainTableHeight:W,leftTableWidth:ee,rightTableWidth:Y,headerWidth:Z,windowHeight:ae,footerHeight:ue,emptyStyle:re,rootStyle:ge,headerHeight:ye}=GQ(t,{columnsTotalWidth:a,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,rowsHeight:L}),Fe=z(),X=R(()=>{const Q=f(P).length===0;return Ue(t.fixedData)?t.fixedData.length===0&&Q:Q});function V(Q){const{estimatedRowHeight:Me,rowHeight:Pe,rowKey:Te}=t;return Me?f(E)[f(P)[Q][Te]]||Me:Pe}function ce(){const{onEndReached:Q}=t;if(!Q)return;const{scrollTop:Me}=f(_),Pe=f(L),Te=f(ae),ve=Pe-(Me+Te)+t.hScrollbarSize;f(A)>=0&&Pe===Me+f(W)-f(ye)&&Q(ve)}return De(()=>t.expandedRowKeys,Q=>C.value=Q,{deep:!0}),{columns:r,containerRef:Fe,mainTableRef:e,leftTableRef:n,rightTableRef:s,isDynamic:T,isResetting:x,isScrolling:w,hasFixedColumns:c,columnsStyles:o,columnsTotalWidth:a,data:P,expandedRowKeys:C,depthMap:N,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:O,emptyStyle:re,rootStyle:ge,headerWidth:Z,footerHeight:ue,mainTableHeight:W,fixedTableHeight:$,leftTableWidth:ee,rightTableWidth:Y,showEmpty:X,getRowHeight:V,onColumnSorted:d,onRowHovered:U,onRowExpanded:I,onRowsRendered:B,onRowHeightChange:k,scrollTo:h,scrollToLeft:p,scrollToTop:v,scrollToRow:m,onScroll:y,onVerticalScroll:g}}const pS=Symbol("tableV2"),PI=String,tf={type:le(Array),required:!0},hS={type:le(Array)},DI={...hS,required:!0},jQ=String,S1={type:le(Array),default:()=>En([])},zi={type:Number,required:!0},kI={type:le([String,Number,Symbol]),default:"id"},_1={type:le(Object)},Xi=$e({class:String,columns:tf,columnsStyles:{type:le(Object),required:!0},depth:Number,expandColumnKey:jQ,estimatedRowHeight:{...ol.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:le(Function)},onRowHover:{type:le(Function)},onRowHeightChange:{type:le(Function)},rowData:{type:le(Object),required:!0},rowEventHandlers:{type:le(Object)},rowIndex:{type:Number,required:!0},rowKey:kI,style:{type:le(Object)}}),lv={type:Number,required:!0},mS=$e({class:String,columns:tf,fixedHeaderData:{type:le(Array)},headerData:{type:le(Array),required:!0},headerHeight:{type:le([Number,Array]),default:50},rowWidth:lv,rowHeight:{type:Number,default:50},height:lv,width:lv}),Np=$e({columns:tf,data:DI,fixedData:hS,estimatedRowHeight:Xi.estimatedRowHeight,width:zi,height:zi,headerWidth:zi,headerHeight:mS.headerHeight,bodyWidth:zi,rowHeight:zi,cache:J2.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:ol.scrollbarAlwaysOn,scrollbarStartGap:ol.scrollbarStartGap,scrollbarEndGap:ol.scrollbarEndGap,class:PI,style:_1,containerStyle:_1,getRowHeight:{type:le(Function),required:!0},rowKey:Xi.rowKey,onRowsRendered:{type:le(Function)},onScroll:{type:le(Function)}}),qQ=$e({cache:Np.cache,estimatedRowHeight:Xi.estimatedRowHeight,rowKey:kI,headerClass:{type:le([String,Function])},headerProps:{type:le([Object,Function])},headerCellProps:{type:le([Object,Function])},headerHeight:mS.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:le([String,Function])},rowProps:{type:le([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:le([Object,Function])},columns:tf,data:DI,dataGetter:{type:le(Function)},fixedData:hS,expandColumnKey:Xi.expandColumnKey,expandedRowKeys:S1,defaultExpandedRowKeys:S1,class:PI,fixed:Boolean,style:{type:le(Object)},width:zi,height:zi,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:ol.hScrollbarSize,vScrollbarSize:ol.vScrollbarSize,scrollbarAlwaysOn:nI.alwaysOn,sortBy:{type:le(Object),default:()=>({})},sortState:{type:le(Object),default:void 0},onColumnSort:{type:le(Function)},onExpandedRowsChange:{type:le(Function)},onEndReached:{type:le(Function)},onRowExpand:Xi.onRowExpand,onScroll:Np.onScroll,onRowsRendered:Np.onRowsRendered,rowEventHandlers:Xi.rowEventHandlers}),YQ="ElTableV2Header",XQ=se({name:YQ,props:mS,setup(t,{slots:e,expose:n}){const s=Le("table-v2"),r=Qe("tableV2GridScrollLeft"),o=z(),a=R(()=>qa({width:t.width,height:t.height})),i=R(()=>qa({width:t.rowWidth,height:t.height})),l=R(()=>Ps(f(t.headerHeight))),c=h=>{const p=f(o);lt(()=>{p!=null&&p.scroll&&p.scroll({left:h})})},u=()=>{const h=s.e("fixed-header-row"),{columns:p,fixedHeaderData:v,rowHeight:m}=t;return v==null?void 0:v.map((y,g)=>{var _;const b=qa({height:m,width:"100%"});return(_=e.fixed)==null?void 0:_.call(e,{class:h,columns:p,rowData:y,rowIndex:-(g+1),style:b})})},d=()=>{const h=s.e("dynamic-header-row"),{columns:p}=t;return f(l).map((v,m)=>{var y;const g=qa({width:"100%",height:v});return(y=e.dynamic)==null?void 0:y.call(e,{class:h,columns:p,headerIndex:m,style:g})})};return qr(()=>{r!=null&&r.value&&c(r.value)}),n({scrollToLeft:c}),()=>{if(!(t.height<=0))return j("div",{ref:o,class:t.class,style:f(a),role:"rowgroup"},[j("div",{style:f(i),class:s.e("header")},[d(),u()])])}}});var QQ=XQ;const ZQ=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:s},r)=>{let o=null,a=0,i=0;const l=(u,d)=>{const h=u<=0&&e.value||u>=0&&t.value,p=d<=0&&s.value||d>=0&&n.value;return h&&p};return{hasReachedEdge:l,onWheel:u=>{fl(o);let d=u.deltaX,h=u.deltaY;Math.abs(d)>Math.abs(h)?h=0:d=0,u.shiftKey&&h!==0&&(d=h,h=0),!(l(a,i)&&l(a+d,i+h))&&(a+=d,i+=h,u.preventDefault(),o=ci(()=>{r(a,i),a=0,i=0}))}}},LI=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:s,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:o,getEstimatedTotalWidth:a,getColumnOffset:i,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:h,injectToInstance:p,validateProps:v})=>se({name:t??"ElVirtualList",props:ol,emits:[ph,hh],setup(m,{emit:y,expose:g,slots:_}){const b=Le("vl");v(m);const S=It(),w=z(h(m,S));p==null||p(S,w);const C=z(),A=z(),T=z(),x=z(null),E=z({isScrolling:!1,scrollLeft:ft(m.initScrollLeft)?m.initScrollLeft:0,scrollTop:ft(m.initScrollTop)?m.initScrollTop:0,updateRequested:!1,xAxisScrollDir:uc,yAxisScrollDir:uc}),M=X2(),I=R(()=>Number.parseInt(`${m.height}`,10)),k=R(()=>Number.parseInt(`${m.width}`,10)),U=R(()=>{const{totalColumn:Te,totalRow:ve,columnCache:xe}=m,{isScrolling:we,xAxisScrollDir:J,scrollLeft:G}=f(E);if(Te===0||ve===0)return[0,0,0,0];const me=s(m,G,f(w)),de=r(m,me,G,f(w)),Re=!we||J===mh?Math.max(1,xe):1,ke=!we||J===uc?Math.max(1,xe):1;return[Math.max(0,me-Re),Math.max(0,Math.min(Te-1,de+ke)),me,de]}),B=R(()=>{const{totalColumn:Te,totalRow:ve,rowCache:xe}=m,{isScrolling:we,yAxisScrollDir:J,scrollTop:G}=f(E);if(Te===0||ve===0)return[0,0,0,0];const me=u(m,G,f(w)),de=d(m,me,G,f(w)),Re=!we||J===mh?Math.max(1,xe):1,ke=!we||J===uc?Math.max(1,xe):1;return[Math.max(0,me-Re),Math.max(0,Math.min(ve-1,de+ke)),me,de]}),P=R(()=>o(m,f(w))),N=R(()=>a(m,f(w))),L=R(()=>{var Te;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:ft(m.height)?`${m.height}px`:m.height,width:ft(m.width)?`${m.width}px`:m.width},(Te=m.style)!=null?Te:{}]}),O=R(()=>{const Te=`${f(N)}px`;return{height:`${f(P)}px`,pointerEvents:f(E).isScrolling?"none":void 0,width:Te}}),$=()=>{const{totalColumn:Te,totalRow:ve}=m;if(Te>0&&ve>0){const[de,Re,ke,Je]=f(U),[je,at,gt,nt]=f(B);y(ph,{columnCacheStart:de,columnCacheEnd:Re,rowCacheStart:je,rowCacheEnd:at,columnVisibleStart:ke,columnVisibleEnd:Je,rowVisibleStart:gt,rowVisibleEnd:nt})}const{scrollLeft:xe,scrollTop:we,updateRequested:J,xAxisScrollDir:G,yAxisScrollDir:me}=f(E);y(hh,{xAxisScrollDir:G,scrollLeft:xe,yAxisScrollDir:me,scrollTop:we,updateRequested:J})},W=Te=>{const{clientHeight:ve,clientWidth:xe,scrollHeight:we,scrollLeft:J,scrollTop:G,scrollWidth:me}=Te.currentTarget,de=f(E);if(de.scrollTop===G&&de.scrollLeft===J)return;let Re=J;if(r1(m.direction))switch(gh()){case Rd:Re=-J;break;case cS:Re=me-xe-J;break}E.value={...de,isScrolling:!0,scrollLeft:Re,scrollTop:Math.max(0,Math.min(G,we-ve)),updateRequested:!0,xAxisScrollDir:qi(de.scrollLeft,Re),yAxisScrollDir:qi(de.scrollTop,G)},lt(()=>ge()),ye(),$()},ee=(Te,ve)=>{const xe=f(I),we=(P.value-xe)/ve*Te;ae({scrollTop:Math.min(P.value-xe,we)})},Y=(Te,ve)=>{const xe=f(k),we=(N.value-xe)/ve*Te;ae({scrollLeft:Math.min(N.value-xe,we)})},{onWheel:Z}=ZQ({atXStartEdge:R(()=>E.value.scrollLeft<=0),atXEndEdge:R(()=>E.value.scrollLeft>=N.value-f(k)),atYStartEdge:R(()=>E.value.scrollTop<=0),atYEndEdge:R(()=>E.value.scrollTop>=P.value-f(I))},(Te,ve)=>{var xe,we,J,G;(we=(xe=A.value)==null?void 0:xe.onMouseUp)==null||we.call(xe),(G=(J=T.value)==null?void 0:J.onMouseUp)==null||G.call(J);const me=f(k),de=f(I);ae({scrollLeft:Math.min(E.value.scrollLeft+Te,N.value-me),scrollTop:Math.min(E.value.scrollTop+ve,P.value-de)})});en(C,"wheel",Z,{passive:!1});const ae=({scrollLeft:Te=E.value.scrollLeft,scrollTop:ve=E.value.scrollTop})=>{Te=Math.max(Te,0),ve=Math.max(ve,0);const xe=f(E);ve===xe.scrollTop&&Te===xe.scrollLeft||(E.value={...xe,xAxisScrollDir:qi(xe.scrollLeft,Te),yAxisScrollDir:qi(xe.scrollTop,ve),scrollLeft:Te,scrollTop:ve,updateRequested:!0},lt(()=>ge()),ye(),$())},ue=(Te=0,ve=0,xe=Fr)=>{const we=f(E);ve=Math.max(0,Math.min(ve,m.totalColumn-1)),Te=Math.max(0,Math.min(Te,m.totalRow-1));const J=GT(b.namespace.value),G=f(w),me=o(m,G),de=a(m,G);ae({scrollLeft:i(m,ve,xe,we.scrollLeft,G,de>m.width?J:0),scrollTop:l(m,Te,xe,we.scrollTop,G,me>m.height?J:0)})},re=(Te,ve)=>{const{columnWidth:xe,direction:we,rowHeight:J}=m,G=M.value(e&&xe,e&&J,e&&we),me=`${Te},${ve}`;if($t(G,me))return G[me];{const[,de]=n(m,ve,f(w)),Re=f(w),ke=r1(we),[Je,je]=c(m,Te,Re),[at]=n(m,ve,Re);return G[me]={position:"absolute",left:ke?void 0:`${de}px`,right:ke?`${de}px`:void 0,top:`${je}px`,height:`${Je}px`,width:`${at}px`},G[me]}},ge=()=>{E.value.isScrolling=!1,lt(()=>{M.value(-1,null,null)})};wt(()=>{if(!Nt)return;const{initScrollLeft:Te,initScrollTop:ve}=m,xe=f(C);xe&&(ft(Te)&&(xe.scrollLeft=Te),ft(ve)&&(xe.scrollTop=ve)),$()});const ye=()=>{const{direction:Te}=m,{scrollLeft:ve,scrollTop:xe,updateRequested:we}=f(E),J=f(C);if(we&&J){if(Te===_c)switch(gh()){case Rd:{J.scrollLeft=-ve;break}case lS:{J.scrollLeft=ve;break}default:{const{clientWidth:G,scrollWidth:me}=J;J.scrollLeft=me-G-ve;break}}else J.scrollLeft=Math.max(0,ve);J.scrollTop=Math.max(0,xe)}},{resetAfterColumnIndex:Fe,resetAfterRowIndex:X,resetAfter:V}=S.proxy;g({windowRef:C,innerRef:x,getItemStyleCache:M,scrollTo:ae,scrollToItem:ue,states:E,resetAfterColumnIndex:Fe,resetAfterRowIndex:X,resetAfter:V});const ce=()=>{const{scrollbarAlwaysOn:Te,scrollbarStartGap:ve,scrollbarEndGap:xe,totalColumn:we,totalRow:J}=m,G=f(k),me=f(I),de=f(N),Re=f(P),{scrollLeft:ke,scrollTop:Je}=f(E),je=st(s0,{ref:A,alwaysOn:Te,startGap:ve,endGap:xe,class:b.e("horizontal"),clientSize:G,layout:"horizontal",onScroll:Y,ratio:G*100/de,scrollFrom:ke/(de-G),total:J,visible:!0}),at=st(s0,{ref:T,alwaysOn:Te,startGap:ve,endGap:xe,class:b.e("vertical"),clientSize:me,layout:"vertical",onScroll:ee,ratio:me*100/Re,scrollFrom:Je/(Re-me),total:we,visible:!0});return{horizontalScrollbar:je,verticalScrollbar:at}},Q=()=>{var Te;const[ve,xe]=f(U),[we,J]=f(B),{data:G,totalColumn:me,totalRow:de,useIsScrolling:Re,itemKey:ke}=m,Je=[];if(de>0&&me>0)for(let je=we;je<=J;je++)for(let at=ve;at<=xe;at++){const gt=ke({columnIndex:at,data:G,rowIndex:je});Je.push(st(Ze,{key:gt},(Te=_.default)==null?void 0:Te.call(_,{columnIndex:at,data:G,isScrolling:Re?f(E).isScrolling:void 0,style:re(je,at),rowIndex:je})))}return Je},Me=()=>{const Te=Rt(m.innerElement),ve=Q();return[st(Te,{style:f(O),ref:x},ot(Te)?ve:{default:()=>ve})]};return()=>{const Te=Rt(m.containerElement),{horizontalScrollbar:ve,verticalScrollbar:xe}=ce(),we=Me();return st("div",{key:0,class:b.e("wrapper"),role:m.role},[st(Te,{class:m.className,style:f(L),onScroll:W,ref:C},ot(Te)?we:{default:()=>we}),ve,xe])}}}),{max:Sh,min:OI,floor:BI}=Math,JQ={column:"columnWidth",row:"rowHeight"},m0={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ea=(t,e,n,s)=>{const[r,o,a]=[n[s],t[JQ[s]],n[m0[s]]];if(e>a){let i=0;if(a>=0){const l=r[a];i=l.offset+l.size}for(let l=a+1;l<=e;l++){const c=o(l);r[l]={offset:i,size:c},i+=c}n[m0[s]]=e}return r[e]},FI=(t,e,n,s,r,o)=>{for(;n<=s;){const a=n+BI((s-n)/2),i=ea(t,a,e,o).offset;if(i===r)return a;i<r?n=a+1:s=a-1}return Sh(0,n-1)},eZ=(t,e,n,s,r)=>{const o=r==="column"?t.totalColumn:t.totalRow;let a=1;for(;n<o&&ea(t,n,e,r).offset<s;)n+=a,a*=2;return FI(t,e,BI(n/2),OI(n,o-1),s,r)},w1=(t,e,n,s)=>{const[r,o]=[e[s],e[m0[s]]];return(o>0?r[o].offset:0)>=n?FI(t,e,0,o,n,s):eZ(t,e,Sh(0,o),n,s)},NI=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:s})=>{let r=0;if(n>=t&&(n=t-1),n>=0){const i=s[n];r=i.offset+i.size}const a=(t-n-1)*e;return r+a},UI=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:s})=>{let r=0;if(s>t&&(s=t-1),s>=0){const i=e[s];r=i.offset+i.size}const a=(t-s-1)*n;return r+a},tZ={column:UI,row:NI},C1=(t,e,n,s,r,o,a)=>{const[i,l]=[o==="row"?t.height:t.width,tZ[o]],c=ea(t,e,r,o),u=l(t,r),d=Sh(0,OI(u-i,c.offset)),h=Sh(0,c.offset-i+a+c.size);switch(n===Sm&&(s>=h-i&&s<=d+i?n=Fr:n=Eo),n){case Md:return d;case Id:return h;case Eo:return Math.round(h+(d-h)/2);case Fr:default:return s>=h&&s<=d?s:h>d||s<h?h:d}},nZ=LI({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const s=ea(t,e,n,"column");return[s.size,s.offset]},getRowPosition:(t,e,n)=>{const s=ea(t,e,n,"row");return[s.size,s.offset]},getColumnOffset:(t,e,n,s,r,o)=>C1(t,e,n,s,r,"column",o),getRowOffset:(t,e,n,s,r,o)=>C1(t,e,n,s,r,"row",o),getColumnStartIndexForOffset:(t,e,n)=>w1(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,s)=>{const r=ea(t,e,s,"column"),o=n+t.width;let a=r.offset+r.size,i=e;for(;i<t.totalColumn-1&&a<o;)i++,a+=ea(t,e,s,"column").size;return i},getEstimatedTotalHeight:NI,getEstimatedTotalWidth:UI,getRowStartIndexForOffset:(t,e,n)=>w1(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,s)=>{const{totalRow:r,height:o}=t,a=ea(t,e,s,"row"),i=n+o;let l=a.size+a.offset,c=e;for(;c<r-1&&l<i;)c++,l+=ea(t,c,s,"row").size;return c},injectToInstance:(t,e)=>{const n=({columnIndex:o,rowIndex:a},i)=>{var l,c;i=Jt(i)?!0:i,ft(o)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,o-1)),ft(a)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,a-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),i&&((c=t.proxy)==null||c.$forceUpdate())},s=(o,a)=>{n({columnIndex:o},a)},r=(o,a)=>{n({rowIndex:o},a)};Object.assign(t.proxy,{resetAfterColumnIndex:s,resetAfterRowIndex:r,resetAfter:n})},initCache:({estimatedColumnWidth:t=Qg,estimatedRowHeight:e=Qg})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),sZ=LI({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},s,r,o,a,i)=>{n=Number(n);const l=Math.max(0,t*e-n),c=Math.min(l,s*e),u=Math.max(0,s*e-n+i+e);switch(r==="smart"&&(o>=u-n&&o<=c+n?r=Fr:r=Eo),r){case Md:return c;case Id:return u;case Eo:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(n/2)?0:d>l+Math.floor(n/2)?l:d}case Fr:default:return o>=u&&o<=c?o:u>c||o<u?u:c}},getRowOffset:({rowHeight:t,height:e,totalRow:n},s,r,o,a,i)=>{e=Number(e);const l=Math.max(0,n*t-e),c=Math.min(l,s*t),u=Math.max(0,s*t-e+i+t);switch(r===Sm&&(o>=u-e&&o<=c+e?r=Fr:r=Eo),r){case Md:return c;case Id:return u;case Eo:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case Fr:default:return o>=u&&o<=c?o:u>c||o<u?u:c}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},s,r)=>{const o=s*t,a=Math.ceil((n+r-o)/t);return Math.max(0,Math.min(e-1,s+a-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},s,r)=>{const o=s*t,a=Math.ceil((n+r-o)/t);return Math.max(0,Math.min(e-1,s+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),rZ="ElTableV2Grid",oZ=t=>{const e=z(),n=z(),s=z(0),r=R(()=>{const{data:y,rowHeight:g,estimatedRowHeight:_}=t;if(!_)return y.length*g}),o=R(()=>{const{fixedData:y,rowHeight:g}=t;return((y==null?void 0:y.length)||0)*g}),a=R(()=>Fp(t.headerHeight)),i=R(()=>{const{height:y}=t;return Math.max(0,y-f(a)-f(o))}),l=R(()=>f(a)+f(o)>0),c=({data:y,rowIndex:g})=>y[g][t.rowKey];function u({rowCacheStart:y,rowCacheEnd:g,rowVisibleStart:_,rowVisibleEnd:b}){var S;(S=t.onRowsRendered)==null||S.call(t,{rowCacheStart:y,rowCacheEnd:g,rowVisibleStart:_,rowVisibleEnd:b})}function d(y,g){var _;(_=n.value)==null||_.resetAfterRowIndex(y,g)}function h(y,g){const _=f(e),b=f(n);Mt(y)?(_==null||_.scrollToLeft(y.scrollLeft),s.value=y.scrollLeft,b==null||b.scrollTo(y)):(_==null||_.scrollToLeft(y),s.value=y,b==null||b.scrollTo({scrollLeft:y,scrollTop:g}))}function p(y){var g;(g=f(n))==null||g.scrollTo({scrollTop:y})}function v(y,g){var _;(_=f(n))==null||_.scrollToItem(y,1,g)}function m(){var y,g;(y=f(n))==null||y.$forceUpdate(),(g=f(e))==null||g.$forceUpdate()}return{bodyRef:n,forceUpdate:m,fixedRowHeight:o,gridHeight:i,hasHeader:l,headerHeight:a,headerRef:e,totalHeight:r,itemKey:c,onItemRendered:u,resetAfterRowIndex:d,scrollTo:h,scrollToTop:p,scrollToRow:v,scrollLeft:s}},aZ=se({name:rZ,props:Np,setup(t,{slots:e,expose:n}){const{ns:s}=Qe(pS),{bodyRef:r,fixedRowHeight:o,gridHeight:a,hasHeader:i,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:d,itemKey:h,onItemRendered:p,resetAfterRowIndex:v,scrollTo:m,scrollToTop:y,scrollToRow:g,scrollLeft:_}=oZ(t);Bt("tableV2GridScrollLeft",_),n({forceUpdate:d,totalHeight:u,scrollTo:m,scrollToTop:y,scrollToRow:g,resetAfterRowIndex:v});const b=()=>t.bodyWidth;return()=>{const{cache:S,columns:w,data:C,fixedData:A,useIsScrolling:T,scrollbarAlwaysOn:x,scrollbarEndGap:E,scrollbarStartGap:M,style:I,rowHeight:k,bodyWidth:U,estimatedRowHeight:B,headerWidth:P,height:N,width:L,getRowHeight:O,onScroll:$}=t,W=ft(B),ee=W?nZ:sZ,Y=f(c);return j("div",{role:"table",class:[s.e("table"),t.class],style:I},[j(ee,{ref:r,data:C,useIsScrolling:T,itemKey:h,columnCache:0,columnWidth:W?b:U,totalColumn:1,totalRow:C.length,rowCache:S,rowHeight:W?O:k,width:L,height:f(a),class:s.e("body"),role:"rowgroup",scrollbarStartGap:M,scrollbarEndGap:E,scrollbarAlwaysOn:x,onScroll:$,onItemRendered:p,perfMode:!1},{default:Z=>{var ae;const ue=C[Z.rowIndex];return(ae=e.row)==null?void 0:ae.call(e,{...Z,columns:w,rowData:ue})}}),f(i)&&j(QQ,{ref:l,class:s.e("header-wrapper"),columns:w,headerData:C,headerHeight:t.headerHeight,fixedHeaderData:A,rowWidth:P,rowHeight:k,width:L,height:Math.min(Y+f(o),N)},{dynamic:e.header,fixed:e.row})])}}});var vS=aZ;function iZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const lZ=(t,{slots:e})=>{const{mainTableRef:n,...s}=t;return j(vS,Dt({ref:n},s),iZ(e)?e:{default:()=>[e]})};var cZ=lZ;function uZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const dZ=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...s}=t;return j(vS,Dt({ref:n},s),uZ(e)?e:{default:()=>[e]})};var fZ=dZ;function pZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const hZ=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...s}=t;return j(vS,Dt({ref:n},s),pZ(e)?e:{default:()=>[e]})};var mZ=hZ;const vZ=t=>{const{isScrolling:e}=Qe(pS),n=z(!1),s=z(),r=R(()=>ft(t.estimatedRowHeight)&&t.rowIndex>=0),o=(l=!1)=>{const c=f(s);if(!c)return;const{columns:u,onRowHeightChange:d,rowKey:h,rowIndex:p,style:v}=t,{height:m}=c.getBoundingClientRect();n.value=!0,lt(()=>{if(l||m!==Number.parseInt(v.height)){const y=u[0],g=(y==null?void 0:y.placeholderSign)===Ld;d==null||d({rowKey:h,height:m,rowIndex:p},y&&!g&&y.fixed)}})},a=R(()=>{const{rowData:l,rowIndex:c,rowKey:u,onRowHover:d}=t,h=t.rowEventHandlers||{},p={};return Object.entries(h).forEach(([v,m])=>{ct(m)&&(p[v]=y=>{m({event:y,rowData:l,rowIndex:c,rowKey:u})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:v,hovered:m})=>{const y=p[v];p[v]=g=>{d({event:g,hovered:m,rowData:l,rowIndex:c,rowKey:u}),y==null||y(g)}}),p}),i=l=>{const{onRowExpand:c,rowData:u,rowIndex:d,rowKey:h}=t;c==null||c({expanded:l,rowData:u,rowIndex:d,rowKey:h})};return wt(()=>{f(r)&&o(!0)}),{isScrolling:e,measurable:r,measured:n,rowRef:s,eventHandlers:a,onExpand:i}},gZ="ElTableV2TableRow",yZ=se({name:gZ,props:Xi,setup(t,{expose:e,slots:n,attrs:s}){const{eventHandlers:r,isScrolling:o,measurable:a,measured:i,rowRef:l,onExpand:c}=vZ(t);return e({onExpand:c}),()=>{const{columns:u,columnsStyles:d,expandColumnKey:h,depth:p,rowData:v,rowIndex:m,style:y}=t;let g=u.map((_,b)=>{const S=Ue(v.children)&&v.children.length>0&&_.key===h;return n.cell({column:_,columns:u,columnIndex:b,depth:p,style:d[_.key],rowData:v,rowIndex:m,isScrolling:f(o),expandIconProps:S?{rowData:v,rowIndex:m,onExpand:c}:void 0})});if(n.row&&(g=n.row({cells:g.map(_=>Ue(_)&&_.length===1?_[0]:_),style:y,columns:u,depth:p,rowData:v,rowIndex:m,isScrolling:f(o)})),f(a)){const{height:_,...b}=y||{},S=f(i);return j("div",Dt({ref:l,class:t.class,style:S?y:b,role:"row"},s,f(r)),[g])}return j("div",Dt(s,{ref:l,class:t.class,style:y,role:"row"},f(r)),[g])}}});var bZ=yZ;function SZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const _Z=(t,{slots:e})=>{const{columns:n,columnsStyles:s,depthMap:r,expandColumnKey:o,expandedRowKeys:a,estimatedRowHeight:i,hasFixedColumns:l,rowData:c,rowIndex:u,style:d,isScrolling:h,rowProps:p,rowClass:v,rowKey:m,rowEventHandlers:y,ns:g,onRowHovered:_,onRowExpanded:b}=t,S=hl(v,{columns:n,rowData:c,rowIndex:u},""),w=hl(p,{columns:n,rowData:c,rowIndex:u}),C=c[m],A=r[C]||0,T=!!o,x=u<0,E=[g.e("row"),S,{[g.e(`row-depth-${A}`)]:T&&u>=0,[g.is("expanded")]:T&&a.includes(C),[g.is("fixed")]:!A&&x,[g.is("customized")]:!!e.row}],M=l?_:void 0,I={...w,columns:n,columnsStyles:s,class:E,depth:A,expandColumnKey:o,estimatedRowHeight:x?void 0:i,isScrolling:h,rowIndex:u,rowData:c,rowKey:C,rowEventHandlers:y,style:d};return j(bZ,Dt(I,{onRowExpand:b,onMouseenter:B=>{M==null||M({hovered:!0,rowKey:C,event:B,rowData:c,rowIndex:u})},onMouseleave:B=>{M==null||M({hovered:!1,rowKey:C,event:B,rowData:c,rowIndex:u})},rowkey:C}),SZ(e)?e:{default:()=>[e]})};var wZ=_Z;const gS=(t,{slots:e})=>{var n;const{cellData:s,style:r}=t,o=((n=s==null?void 0:s.toString)==null?void 0:n.call(s))||"",a=pe(e,"default",t,()=>[o]);return j("div",{class:t.class,title:o,style:r},[a])};gS.displayName="ElTableV2Cell";gS.inheritAttrs=!1;var CZ=gS;const xZ=t=>{const{expanded:e,expandable:n,onExpand:s,style:r,size:o}=t,a={onClick:n?()=>s(!e):void 0,class:t.class};return j(tt,Dt(a,{size:o,style:r}),{default:()=>[j(Ws,null,null)]})};var AZ=xZ;const zI=({columns:t,column:e,columnIndex:n,depth:s,expandIconProps:r,isScrolling:o,rowData:a,rowIndex:i,style:l,expandedRowKeys:c,ns:u,cellProps:d,expandColumnKey:h,indentSize:p,iconSize:v,rowKey:m},{slots:y})=>{const g=qa(l);if(e.placeholderSign===Ld)return j("div",{class:u.em("row-cell","placeholder"),style:g},null);const{cellRenderer:_,dataKey:b,dataGetter:S}=e,w=ct(S)?S({columns:t,column:e,columnIndex:n,rowData:a,rowIndex:i}):Un(a,b??""),C=hl(d,{cellData:w,columns:t,column:e,columnIndex:n,rowIndex:i,rowData:a}),A={class:u.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:w,isScrolling:o,rowData:a,rowIndex:i},T=RI(_),x=T?T(A):pe(y,"default",A,()=>[j(CZ,A,null)]),E=[u.e("row-cell"),e.class,e.align===kd.CENTER&&u.is("align-center"),e.align===kd.RIGHT&&u.is("align-right")],M=i>=0&&h&&e.key===h,I=i>=0&&c.includes(a[m]);let k;const U=`margin-inline-start: ${s*p}px;`;return M&&(Mt(r)?k=j(AZ,Dt(r,{class:[u.e("expand-icon"),u.is("expanded",I)],size:v,expanded:I,style:U,expandable:!0}),null):k=j("div",{style:[U,`width: ${v}px; height: ${v}px;`].join(" ")},null)),j("div",Dt({class:E,style:g},C,{role:"cell"}),[k,x])};zI.inheritAttrs=!1;var x1=zI;const EZ=$e({class:String,columns:tf,columnsStyles:{type:le(Object),required:!0},headerIndex:Number,style:{type:le(Object)}}),TZ=se({name:"ElTableV2HeaderRow",props:EZ,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:s,headerIndex:r,style:o}=t;let a=n.map((i,l)=>e.cell({columns:n,column:i,columnIndex:l,headerIndex:r,style:s[i.key]}));return e.header&&(a=e.header({cells:a.map(i=>Ue(i)&&i.length===1?i[0]:i),columns:n,headerIndex:r})),j("div",{class:t.class,style:o,role:"row"},[a])}}});var MZ=TZ;function IZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const RZ=({columns:t,columnsStyles:e,headerIndex:n,style:s,headerClass:r,headerProps:o,ns:a},{slots:i})=>{const l={columns:t,headerIndex:n},c=[a.e("header-row"),hl(r,l,""),{[a.is("customized")]:!!i.header}],u={...hl(o,l),columnsStyles:e,class:c,columns:t,headerIndex:n,style:s};return j(MZ,u,IZ(i)?i:{default:()=>[i]})};var PZ=RZ;const yS=(t,{slots:e})=>pe(e,"default",t,()=>{var n,s;return[j("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(s=t.column)==null?void 0:s.title])]});yS.displayName="ElTableV2HeaderCell";yS.inheritAttrs=!1;var DZ=yS;const kZ=t=>{const{sortOrder:e}=t;return j(tt,{size:14,class:t.class},{default:()=>[e===Dd.ASC?j(KU,null,null):j(WU,null,null)]})};var LZ=kZ;const OZ=(t,{slots:e})=>{const{column:n,ns:s,style:r,onColumnSorted:o}=t,a=qa(r);if(n.placeholderSign===Ld)return j("div",{class:s.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:i,headerClass:l,sortable:c}=n,u={...t,class:s.e("header-cell-text")},d=RI(i),h=d?d(u):pe(e,"default",u,()=>[j(DZ,u,null)]),{sortBy:p,sortState:v,headerCellProps:m}=t;let y,g;if(v){const S=v[n.key];y=!!h0[S],g=y?S:Dd.ASC}else y=n.key===p.key,g=y?p.order:Dd.ASC;const _=[s.e("header-cell"),hl(l,t,""),n.align===kd.CENTER&&s.is("align-center"),n.align===kd.RIGHT&&s.is("align-right"),c&&s.is("sortable")],b={...hl(m,t),onClick:n.sortable?o:void 0,class:_,style:a,"data-key":n.key};return j("div",Dt(b,{role:"columnheader"}),[h,c&&j(LZ,{class:[s.e("sort-icon"),y&&s.is("sorting")],sortOrder:g},null)])};var A1=OZ;const $I=(t,{slots:e})=>{var n;return j("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};$I.displayName="ElTableV2Footer";var BZ=$I;const HI=(t,{slots:e})=>{const n=pe(e,"default",{},()=>[j(O2,null,null)]);return j("div",{class:t.class,style:t.style},[n])};HI.displayName="ElTableV2Empty";var FZ=HI;const VI=(t,{slots:e})=>{var n;return j("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};VI.displayName="ElTableV2Overlay";var NZ=VI;function Iu(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const UZ="ElTableV2",zZ=se({name:UZ,props:qQ,setup(t,{slots:e,expose:n}){const s=Le("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:o,fixedColumnsOnRight:a,mainColumns:i,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:d,data:h,depthMap:p,expandedRowKeys:v,hasFixedColumns:m,mainTableRef:y,leftTableRef:g,rightTableRef:_,isDynamic:b,isResetting:S,isScrolling:w,bodyWidth:C,emptyStyle:A,rootStyle:T,headerWidth:x,footerHeight:E,showEmpty:M,scrollTo:I,scrollToLeft:k,scrollToTop:U,scrollToRow:B,getRowHeight:P,onColumnSorted:N,onRowHeightChange:L,onRowHovered:O,onRowExpanded:$,onRowsRendered:W,onScroll:ee,onVerticalScroll:Y}=KQ(t);return n({scrollTo:I,scrollToLeft:k,scrollToTop:U,scrollToRow:B}),Bt(pS,{ns:s,isResetting:S,isScrolling:w}),()=>{const{cache:Z,cellProps:ae,estimatedRowHeight:ue,expandColumnKey:re,fixedData:ge,headerHeight:ye,headerClass:Fe,headerProps:X,headerCellProps:V,sortBy:ce,sortState:Q,rowHeight:Me,rowClass:Pe,rowEventHandlers:Te,rowKey:ve,rowProps:xe,scrollbarAlwaysOn:we,indentSize:J,iconSize:G,useIsScrolling:me,vScrollbarSize:de,width:Re}=t,ke=f(h),Je={cache:Z,class:s.e("main"),columns:f(i),data:ke,fixedData:ge,estimatedRowHeight:ue,bodyWidth:f(C)+de,headerHeight:ye,headerWidth:f(x),height:f(l),mainTableRef:y,rowKey:ve,rowHeight:Me,scrollbarAlwaysOn:we,scrollbarStartGap:2,scrollbarEndGap:de,useIsScrolling:me,width:Re,getRowHeight:P,onRowsRendered:W,onScroll:ee},je=f(u),at=f(c),gt={cache:Z,class:s.e("left"),columns:f(o),data:ke,estimatedRowHeight:ue,leftTableRef:g,rowHeight:Me,bodyWidth:je,headerWidth:je,headerHeight:ye,height:at,rowKey:ve,scrollbarAlwaysOn:we,scrollbarStartGap:2,scrollbarEndGap:de,useIsScrolling:me,width:je,getRowHeight:P,onScroll:Y},q=f(d)+de,Ae={cache:Z,class:s.e("right"),columns:f(a),data:ke,estimatedRowHeight:ue,rightTableRef:_,rowHeight:Me,bodyWidth:q,headerWidth:q,headerHeight:ye,height:at,rowKey:ve,scrollbarAlwaysOn:we,scrollbarStartGap:2,scrollbarEndGap:de,width:q,style:`--${f(s.namespace)}-table-scrollbar-size: ${de}px`,useIsScrolling:me,getRowHeight:P,onScroll:Y},oe=f(r),be={ns:s,depthMap:f(p),columnsStyles:oe,expandColumnKey:re,expandedRowKeys:f(v),estimatedRowHeight:ue,hasFixedColumns:f(m),rowProps:xe,rowClass:Pe,rowKey:ve,rowEventHandlers:Te,onRowHovered:O,onRowExpanded:$,onRowHeightChange:L},ne={cellProps:ae,expandColumnKey:re,indentSize:J,iconSize:G,rowKey:ve,expandedRowKeys:f(v),ns:s},ze={ns:s,headerClass:Fe,headerProps:X,columnsStyles:oe},ut={ns:s,sortBy:ce,sortState:Q,headerCellProps:V,onColumnSorted:N},Ce={row:Ge=>j(wZ,Dt(Ge,be),{row:e.row,cell:dt=>{let Ye;return e.cell?j(x1,Dt(dt,ne,{style:oe[dt.column.key]}),Iu(Ye=e.cell(dt))?Ye:{default:()=>[Ye]}):j(x1,Dt(dt,ne,{style:oe[dt.column.key]}),null)}}),header:Ge=>j(PZ,Dt(Ge,ze),{header:e.header,cell:dt=>{let Ye;return e["header-cell"]?j(A1,Dt(dt,ut,{style:oe[dt.column.key]}),Iu(Ye=e["header-cell"](dt))?Ye:{default:()=>[Ye]}):j(A1,Dt(dt,ut,{style:oe[dt.column.key]}),null)}})},it=[t.class,s.b(),s.e("root"),{[s.is("dynamic")]:f(b)}],Ve={class:s.e("footer"),style:f(E)};return j("div",{class:it,style:f(T)},[j(cZ,Je,Iu(Ce)?Ce:{default:()=>[Ce]}),j(fZ,gt,Iu(Ce)?Ce:{default:()=>[Ce]}),j(mZ,Ae,Iu(Ce)?Ce:{default:()=>[Ce]}),e.footer&&j(BZ,Ve,{default:e.footer}),f(M)&&j(FZ,{class:s.e("empty"),style:f(A)},{default:e.empty}),e.overlay&&j(NZ,{class:s.e("overlay")},{default:e.overlay})])}}});var $Z=zZ;const HZ=$e({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:le(Function)}}),VZ=t=>{const e=z(),n=z(0),s=z(0);let r;return wt(()=>{r=_n(e,([o])=>{const{width:a,height:i}=o.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:u,paddingBottom:d}=getComputedStyle(o.target),h=Number.parseInt(l)||0,p=Number.parseInt(c)||0,v=Number.parseInt(u)||0,m=Number.parseInt(d)||0;n.value=a-h-p,s.value=i-v-m}).stop}),Qt(()=>{r==null||r()}),De([n,s],([o,a])=>{var i;(i=t.onResize)==null||i.call(t,{width:o,height:a})}),{sizer:e,width:n,height:s}},WZ=se({name:"ElAutoResizer",props:HZ,setup(t,{slots:e}){const n=Le("auto-resizer"),{height:s,width:r,sizer:o}=VZ(t),a={width:"100%",height:"100%"};return()=>{var i;return j("div",{ref:o,class:n.b(),style:a},[(i=e.default)==null?void 0:i.call(e,{height:s.value,width:r.value})])}}});var GZ=WZ;const KZ=_t($Z),jZ=_t(GZ),_m=Symbol("tabsRootContextKey"),qZ=$e({tabs:{type:le(Array),default:()=>En([])}}),WI="ElTabBar",YZ=se({name:WI}),XZ=se({...YZ,props:qZ,setup(t,{expose:e}){const n=t,s=It(),r=Qe(_m);r||Qn(WI,"<el-tabs><el-tab-bar /></el-tabs>");const o=Le("tabs"),a=z(),i=z(),l=()=>{let p=0,v=0;const m=["top","bottom"].includes(r.props.tabPosition)?"width":"height",y=m==="width"?"x":"y",g=y==="x"?"left":"top";return n.tabs.every(_=>{var b,S;const w=(S=(b=s.parent)==null?void 0:b.refs)==null?void 0:S[`tab-${_.uid}`];if(!w)return!1;if(!_.active)return!0;p=w[`offset${Ao(g)}`],v=w[`client${Ao(m)}`];const C=window.getComputedStyle(w);return m==="width"&&(v-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight),p+=Number.parseFloat(C.paddingLeft)),!1}),{[m]:`${v}px`,transform:`translate${Ao(y)}(${p}px)`}},c=()=>i.value=l(),u=[],d=()=>{var p;u.forEach(m=>m.stop()),u.length=0;const v=(p=s.parent)==null?void 0:p.refs;if(v){for(const m in v)if(m.startsWith("tab-")){const y=v[m];y&&u.push(_n(y,c))}}};De(()=>n.tabs,async()=>{await lt(),c(),d()},{immediate:!0});const h=_n(a,()=>c());return Qt(()=>{u.forEach(p=>p.stop()),u.length=0,h.stop()}),e({ref:a,update:c}),(p,v)=>(D(),H("div",{ref_key:"barRef",ref:a,class:F([f(o).e("active-bar"),f(o).is(f(r).props.tabPosition)]),style:rt(i.value)},null,6))}});var QZ=He(XZ,[["__file","tab-bar.vue"]]);const ZZ=$e({panes:{type:le(Array),default:()=>En([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),JZ={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},E1="ElTabNav",eJ=se({name:E1,props:ZZ,emits:JZ,setup(t,{expose:e,emit:n}){const s=Qe(_m);s||Qn(E1,"<el-tabs><tab-nav /></el-tabs>");const r=Le("tabs"),o=l4(),a=S4(),i=z(),l=z(),c=z(),u=z(),d=z(!1),h=z(0),p=z(!1),v=z(!0),m=R(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),y=R(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${h.value}px)`})),g=()=>{if(!i.value)return;const T=i.value[`offset${Ao(m.value)}`],x=h.value;if(!x)return;const E=x>T?x-T:0;h.value=E},_=()=>{if(!i.value||!l.value)return;const T=l.value[`offset${Ao(m.value)}`],x=i.value[`offset${Ao(m.value)}`],E=h.value;if(T-E<=x)return;const M=T-E>x*2?E+x:T-x;h.value=M},b=async()=>{const T=l.value;if(!d.value||!c.value||!i.value||!T)return;await lt();const x=c.value.querySelector(".is-active");if(!x)return;const E=i.value,M=["top","bottom"].includes(s.props.tabPosition),I=x.getBoundingClientRect(),k=E.getBoundingClientRect(),U=M?T.offsetWidth-k.width:T.offsetHeight-k.height,B=h.value;let P=B;M?(I.left<k.left&&(P=B-(k.left-I.left)),I.right>k.right&&(P=B+I.right-k.right)):(I.top<k.top&&(P=B-(k.top-I.top)),I.bottom>k.bottom&&(P=B+(I.bottom-k.bottom))),P=Math.max(P,0),h.value=Math.min(P,U)},S=()=>{var T;if(!l.value||!i.value)return;t.stretch&&((T=u.value)==null||T.update());const x=l.value[`offset${Ao(m.value)}`],E=i.value[`offset${Ao(m.value)}`],M=h.value;E<x?(d.value=d.value||{},d.value.prev=M,d.value.next=M+E<x,x-M<E&&(h.value=x-E)):(d.value=!1,M>0&&(h.value=0))},w=T=>{let x=0;switch(T.code){case qe.left:case qe.up:x=-1;break;case qe.right:case qe.down:x=1;break;default:return}const E=Array.from(T.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let I=E.indexOf(T.target)+x;I<0?I=E.length-1:I>=E.length&&(I=0),E[I].focus({preventScroll:!0}),E[I].click(),C()},C=()=>{v.value&&(p.value=!0)},A=()=>p.value=!1;return De(o,T=>{T==="hidden"?v.value=!1:T==="visible"&&setTimeout(()=>v.value=!0,50)}),De(a,T=>{T?setTimeout(()=>v.value=!0,50):v.value=!1}),_n(c,S),wt(()=>setTimeout(()=>b(),0)),qr(()=>S()),e({scrollToActiveTab:b,removeFocus:A}),()=>{const T=d.value?[j("span",{class:[r.e("nav-prev"),r.is("disabled",!d.value.prev)],onClick:g},[j(tt,null,{default:()=>[j(ui,null,null)]})]),j("span",{class:[r.e("nav-next"),r.is("disabled",!d.value.next)],onClick:_},[j(tt,null,{default:()=>[j(Ws,null,null)]})])]:null,x=t.panes.map((E,M)=>{var I,k,U,B;const P=E.uid,N=E.props.disabled,L=(k=(I=E.props.name)!=null?I:E.index)!=null?k:`${M}`,O=!N&&(E.isClosable||t.editable);E.index=`${M}`;const $=O?j(tt,{class:"is-icon-close",onClick:Y=>n("tabRemove",E,Y)},{default:()=>[j(mo,null,null)]}):null,W=((B=(U=E.slots).label)==null?void 0:B.call(U))||E.props.label,ee=!N&&E.active?0:-1;return j("div",{ref:`tab-${P}`,class:[r.e("item"),r.is(s.props.tabPosition),r.is("active",E.active),r.is("disabled",N),r.is("closable",O),r.is("focus",p.value)],id:`tab-${L}`,key:`tab-${P}`,"aria-controls":`pane-${L}`,role:"tab","aria-selected":E.active,tabindex:ee,onFocus:()=>C(),onBlur:()=>A(),onClick:Y=>{A(),n("tabClick",E,L,Y)},onKeydown:Y=>{O&&(Y.code===qe.delete||Y.code===qe.backspace)&&n("tabRemove",E,Y)}},[W,$])});return j("div",{ref:c,class:[r.e("nav-wrap"),r.is("scrollable",!!d.value),r.is(s.props.tabPosition)]},[T,j("div",{class:r.e("nav-scroll"),ref:i},[j("div",{class:[r.e("nav"),r.is(s.props.tabPosition),r.is("stretch",t.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:l,style:y.value,role:"tablist",onKeydown:w},[t.type?null:j(QZ,{ref:u,tabs:[...t.panes]},null),x])])])}}}),tJ=$e({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:le(Function),default:()=>!0},stretch:Boolean}),cv=t=>ot(t)||ft(t),nJ={[Et]:t=>cv(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>cv(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>cv(t),tabAdd:()=>!0},sJ=se({name:"ElTabs",props:tJ,emits:nJ,setup(t,{emit:e,slots:n,expose:s}){var r;const o=Le("tabs"),a=R(()=>["left","right"].includes(t.tabPosition)),{children:i,addChild:l,removeChild:c}=Ub(It(),"ElTabPane"),u=z(),d=z((r=t.modelValue)!=null?r:"0"),h=async(g,_=!1)=>{var b,S,w;if(!(d.value===g||Jt(g)))try{await((b=t.beforeLeave)==null?void 0:b.call(t,g,d.value))!==!1&&(d.value=g,_&&(e(Et,g),e("tabChange",g)),(w=(S=u.value)==null?void 0:S.removeFocus)==null||w.call(S))}catch{}},p=(g,_,b)=>{g.props.disabled||(h(_,!0),e("tabClick",g,b))},v=(g,_)=>{g.props.disabled||Jt(g.props.name)||(_.stopPropagation(),e("edit",g.props.name,"remove"),e("tabRemove",g.props.name))},m=()=>{e("edit",void 0,"add"),e("tabAdd")};De(()=>t.modelValue,g=>h(g)),De(d,async()=>{var g;await lt(),(g=u.value)==null||g.scrollToActiveTab()}),Bt(_m,{props:t,currentName:d,registerPane:g=>{i.value.push(g)},sortPane:l,unregisterPane:c}),s({currentName:d});const y=({render:g})=>g();return()=>{const g=n["add-icon"],_=t.editable||t.addable?j("div",{class:[o.e("new-tab"),a.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:m,onKeydown:w=>{[qe.enter,qe.numpadEnter].includes(w.code)&&m()}},[g?pe(n,"add-icon"):j(tt,{class:o.is("icon-plus")},{default:()=>[j(XT,null,null)]})]):null,b=j("div",{class:[o.e("header"),a.value&&o.e("header-vertical"),o.is(t.tabPosition)]},[j(y,{render:()=>{const w=i.value.some(C=>C.slots.label);return j(eJ,{ref:u,currentName:d.value,editable:t.editable,type:t.type,panes:i.value,stretch:t.stretch,onTabClick:p,onTabRemove:v},{$stable:!w})}},null),_]),S=j("div",{class:o.e("content")},[pe(n,"default")]);return j("div",{class:[o.b(),o.m(t.tabPosition),{[o.m("card")]:t.type==="card",[o.m("border-card")]:t.type==="border-card"}]},[S,b])}}});var rJ=sJ;const oJ=$e({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),GI="ElTabPane",aJ=se({name:GI}),iJ=se({...aJ,props:oJ,setup(t){const e=t,n=It(),s=Gn(),r=Qe(_m);r||Qn(GI,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=Le("tab-pane"),a=z(),i=R(()=>e.closable||r.props.closable),l=Ag(()=>{var p;return r.currentName.value===((p=e.name)!=null?p:a.value)}),c=z(l.value),u=R(()=>{var p;return(p=e.name)!=null?p:a.value}),d=Ag(()=>!e.lazy||c.value||l.value);De(l,p=>{p&&(c.value=!0)});const h=qt({uid:n.uid,slots:s,props:e,paneName:u,active:l,index:a,isClosable:i});return r.registerPane(h),wt(()=>{r.sortPane(h)}),ya(()=>{r.unregisterPane(h.uid)}),(p,v)=>f(d)?Ct((D(),H("div",{key:0,id:`pane-${f(u)}`,class:F(f(o).b()),role:"tabpanel","aria-hidden":!f(l),"aria-labelledby":`tab-${f(u)}`},[pe(p.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Vt,f(l)]]):he("v-if",!0)}});var KI=He(iJ,[["__file","tab-pane.vue"]]);const lJ=_t(rJ,{TabPane:KI}),cJ=Tn(KI),uJ=$e({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:zo,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),dJ=se({name:"ElText"}),fJ=se({...dJ,props:uJ,setup(t){const e=t,n=Hn(),s=Le("text"),r=R(()=>[s.b(),s.m(e.type),s.m(n.value),s.is("truncated",e.truncated),s.is("line-clamp",!Jt(e.lineClamp))]);return(o,a)=>(D(),_e(Rt(o.tag),{class:F(f(r)),style:rt({"-webkit-line-clamp":o.lineClamp})},{default:te(()=>[pe(o.$slots,"default")]),_:3},8,["class","style"]))}});var pJ=He(fJ,[["__file","text.vue"]]);const hJ=_t(pJ),mJ=$e({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:le(String),default:"light"},clearable:{type:Boolean,default:!0},size:Wn,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:le([String,Object]),default:()=>YT},clearIcon:{type:le([String,Object]),default:()=>wa},...pu}),sa=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const s=Number.parseInt(e[1],10),r=t.toUpperCase();return r.includes("AM")&&n===12?n=0:r.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:s}}return null},uv=(t,e)=>{const n=sa(t);if(!n)return-1;const s=sa(e);if(!s)return-1;const r=n.minutes+n.hours*60,o=s.minutes+s.hours*60;return r===o?0:r>o?1:-1},T1=t=>`${t}`.padStart(2,"0"),oc=t=>`${T1(t.hours)}:${T1(t.minutes)}`,vJ=(t,e)=>{const n=sa(t);if(!n)return"";const s=sa(e);if(!s)return"";const r={hours:n.hours,minutes:n.minutes};return r.minutes+=s.minutes,r.hours+=s.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,oc(r)},gJ=se({name:"ElTimeSelect"}),yJ=se({...gJ,props:mJ,emits:["change","blur","focus","clear","update:modelValue"],setup(t,{expose:e}){const n=t;yt.extend(Vb);const{Option:s}=pl,r=Le("input"),o=z(),a=Es(),{lang:i}=Ut(),l=R(()=>n.modelValue),c=R(()=>{const g=sa(n.start);return g?oc(g):null}),u=R(()=>{const g=sa(n.end);return g?oc(g):null}),d=R(()=>{const g=sa(n.step);return g?oc(g):null}),h=R(()=>{const g=sa(n.minTime||"");return g?oc(g):null}),p=R(()=>{const g=sa(n.maxTime||"");return g?oc(g):null}),v=R(()=>{const g=[];if(n.start&&n.end&&n.step){let _=c.value,b;for(;_&&u.value&&uv(_,u.value)<=0;)b=yt(_,"HH:mm").locale(i.value).format(n.format),g.push({value:b,disabled:uv(_,h.value||"-1:-1")<=0||uv(_,p.value||"100:100")>=0}),_=vJ(_,d.value)}return g});return e({blur:()=>{var g,_;(_=(g=o.value)==null?void 0:g.blur)==null||_.call(g)},focus:()=>{var g,_;(_=(g=o.value)==null?void 0:g.focus)==null||_.call(g)}}),(g,_)=>(D(),_e(f(pl),{ref_key:"select",ref:o,"model-value":f(l),disabled:f(a),clearable:g.clearable,"clear-icon":g.clearIcon,size:g.size,effect:g.effect,placeholder:g.placeholder,"default-first-option":"",filterable:g.editable,"empty-values":g.emptyValues,"value-on-clear":g.valueOnClear,"onUpdate:modelValue":b=>g.$emit("update:modelValue",b),onChange:b=>g.$emit("change",b),onBlur:b=>g.$emit("blur",b),onFocus:b=>g.$emit("focus",b),onClear:()=>g.$emit("clear")},{prefix:te(()=>[g.prefixIcon?(D(),_e(f(tt),{key:0,class:F(f(r).e("prefix-icon"))},{default:te(()=>[(D(),_e(Rt(g.prefixIcon)))]),_:1},8,["class"])):he("v-if",!0)]),default:te(()=>[(D(!0),H(Ze,null,Tt(f(v),b=>(D(),_e(f(s),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var bJ=He(yJ,[["__file","time-select.vue"]]);const SJ=_t(bJ),_J=se({name:"ElTimeline",setup(t,{slots:e}){const n=Le("timeline");return Bt("timeline",e),()=>st("ul",{class:[n.b()]},[pe(e,"default")])}}),wJ=$e({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:sn},hollow:Boolean}),CJ=se({name:"ElTimelineItem"}),xJ=se({...CJ,props:wJ,setup(t){const e=t,n=Le("timeline-item"),s=R(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(r,o)=>(D(),H("li",{class:F([f(n).b(),{[f(n).e("center")]:r.center}])},[K("div",{class:F(f(n).e("tail"))},null,2),r.$slots.dot?he("v-if",!0):(D(),H("div",{key:0,class:F(f(s)),style:rt({backgroundColor:r.color})},[r.icon?(D(),_e(f(tt),{key:0,class:F(f(n).e("icon"))},{default:te(()=>[(D(),_e(Rt(r.icon)))]),_:1},8,["class"])):he("v-if",!0)],6)),r.$slots.dot?(D(),H("div",{key:1,class:F(f(n).e("dot"))},[pe(r.$slots,"dot")],2)):he("v-if",!0),K("div",{class:F(f(n).e("wrapper"))},[!r.hideTimestamp&&r.placement==="top"?(D(),H("div",{key:0,class:F([f(n).e("timestamp"),f(n).is("top")])},Ne(r.timestamp),3)):he("v-if",!0),K("div",{class:F(f(n).e("content"))},[pe(r.$slots,"default")],2),!r.hideTimestamp&&r.placement==="bottom"?(D(),H("div",{key:1,class:F([f(n).e("timestamp"),f(n).is("bottom")])},Ne(r.timestamp),3)):he("v-if",!0)],2)],2))}});var jI=He(xJ,[["__file","timeline-item.vue"]]);const AJ=_t(_J,{TimelineItem:jI}),EJ=Tn(jI),qI=$e({nowrap:Boolean});var YI=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(YI||{});const TJ=Object.values(YI),bS=$e({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:le(Object),default:null}}),MJ=$e({side:{type:le(String),values:TJ,required:!0}}),IJ=["absolute","fixed"],RJ=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],SS=$e({arrowPadding:{type:le(Number),default:5},effect:{type:le(String),default:"light"},contentClass:String,placement:{type:le(String),values:RJ,default:"bottom"},reference:{type:le(Object),default:null},offset:{type:Number,default:8},strategy:{type:le(String),values:IJ,default:"absolute"},showArrow:Boolean,...ms(["ariaLabel"])}),_S=$e({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:le(Function)},"onUpdate:open":{type:le(Function)}}),Bl={type:le(Function)},wS=$e({onBlur:Bl,onClick:Bl,onFocus:Bl,onMouseDown:Bl,onMouseEnter:Bl,onMouseLeave:Bl}),PJ=$e({..._S,...bS,...wS,...SS,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:le(Object),default:null},teleported:Boolean,to:{type:le(String),default:"body"}}),wm=Symbol("tooltipV2"),XI=Symbol("tooltipV2Content"),dv="tooltip_v2.open",DJ=se({name:"ElTooltipV2Root"}),kJ=se({...DJ,props:_S,setup(t,{expose:e}){const n=t,s=z(n.defaultOpen),r=z(null),o=R({get:()=>ul(n.open)?s.value:n.open,set:y=>{var g;s.value=y,(g=n["onUpdate:open"])==null||g.call(n,y)}}),a=R(()=>ft(n.delayDuration)&&n.delayDuration>0),{start:i,stop:l}=dl(()=>{o.value=!0},R(()=>n.delayDuration),{immediate:!1}),c=Le("tooltip-v2"),u=hs(),d=()=>{l(),o.value=!0},h=()=>{f(a)?i():d()},p=d,v=()=>{l(),o.value=!1};return De(o,y=>{var g;y&&(document.dispatchEvent(new CustomEvent(dv)),p()),(g=n.onOpenChange)==null||g.call(n,y)}),wt(()=>{document.addEventListener(dv,v)}),Qt(()=>{l(),document.removeEventListener(dv,v)}),Bt(wm,{contentId:u,triggerRef:r,ns:c,onClose:v,onDelayOpen:h,onOpen:p}),e({onOpen:p,onClose:v}),(y,g)=>pe(y.$slots,"default",{open:f(o)})}});var LJ=He(kJ,[["__file","root.vue"]]);const OJ=se({name:"ElTooltipV2Arrow"}),BJ=se({...OJ,props:{...bS,...MJ},setup(t){const e=t,{ns:n}=Qe(wm),{arrowRef:s}=Qe(XI),r=R(()=>{const{style:o,width:a,height:i}=e,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${a}px`,[`--${l}-tooltip-v2-arrow-height`]:`${i}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${a/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:a/2-1,...o||{}}});return(o,a)=>(D(),H("span",{ref_key:"arrowRef",ref:s,style:rt(f(r)),class:F(f(n).e("arrow"))},null,6))}});var M1=He(BJ,[["__file","arrow.vue"]]);const Gc=Math.min,al=Math.max,_h=Math.round,Pf=Math.floor,hi=t=>({x:t,y:t}),FJ={left:"right",right:"left",bottom:"top",top:"bottom"},NJ={start:"end",end:"start"};function v0(t,e,n){return al(t,Gc(e,n))}function nf(t,e){return typeof t=="function"?t(e):t}function ml(t){return t.split("-")[0]}function sf(t){return t.split("-")[1]}function QI(t){return t==="x"?"y":"x"}function CS(t){return t==="y"?"height":"width"}function Cm(t){return["top","bottom"].includes(ml(t))?"y":"x"}function xS(t){return QI(Cm(t))}function UJ(t,e,n){n===void 0&&(n=!1);const s=sf(t),r=xS(t),o=CS(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=wh(a)),[a,wh(a)]}function zJ(t){const e=wh(t);return[g0(t),e,g0(e)]}function g0(t){return t.replace(/start|end/g,e=>NJ[e])}function $J(t,e,n){const s=["left","right"],r=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:s:e?s:r;case"left":case"right":return e?o:a;default:return[]}}function HJ(t,e,n,s){const r=sf(t);let o=$J(ml(t),n==="start",s);return r&&(o=o.map(a=>a+"-"+r),e&&(o=o.concat(o.map(g0)))),o}function wh(t){return t.replace(/left|right|bottom|top/g,e=>FJ[e])}function VJ(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZI(t){return typeof t!="number"?VJ(t):{top:t,right:t,bottom:t,left:t}}function Ch(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function I1(t,e,n){let{reference:s,floating:r}=t;const o=Cm(e),a=xS(e),i=CS(a),l=ml(e),c=o==="y",u=s.x+s.width/2-r.width/2,d=s.y+s.height/2-r.height/2,h=s[i]/2-r[i]/2;let p;switch(l){case"top":p={x:u,y:s.y-r.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:d};break;case"left":p={x:s.x-r.width,y:d};break;default:p={x:s.x,y:s.y}}switch(sf(e)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1);break}return p}const WJ=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:a}=n,i=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=I1(c,s,l),h=s,p={},v=0;for(let m=0;m<i.length;m++){const{name:y,fn:g}=i[m],{x:_,y:b,data:S,reset:w}=await g({x:u,y:d,initialPlacement:s,placement:h,strategy:r,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});if(u=_??u,d=b??d,p={...p,[y]:{...p[y],...S}},w&&v<=50){v++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):w.rects),{x:u,y:d}=I1(c,h,l)),m=-1;continue}}return{x:u,y:d,placement:h,strategy:r,middlewareData:p}};async function AS(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:o,rects:a,elements:i,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=nf(e,t),v=ZI(p),y=i[h?d==="floating"?"reference":"floating":d],g=Ch(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{...a.floating,x:s,y:r}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},w=Ch(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:b,strategy:l}):_);return{top:(g.top-w.top+v.top)/S.y,bottom:(w.bottom-g.bottom+v.bottom)/S.y,left:(g.left-w.left+v.left)/S.x,right:(w.right-g.right+v.right)/S.x}}const JI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:o,platform:a,elements:i}=e,{element:l,padding:c=0}=nf(t,e)||{};if(l==null)return{};const u=ZI(c),d={x:n,y:s},h=xS(r),p=CS(h),v=await a.getDimensions(l),m=h==="y",y=m?"top":"left",g=m?"bottom":"right",_=m?"clientHeight":"clientWidth",b=o.reference[p]+o.reference[h]-d[h]-o.floating[p],S=d[h]-o.reference[h],w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let C=w?w[_]:0;(!C||!await(a.isElement==null?void 0:a.isElement(w)))&&(C=i.floating[_]||o.floating[p]);const A=b/2-S/2,T=C/2-v[p]/2-1,x=Gc(u[y],T),E=Gc(u[g],T),M=x,I=C-v[p]-E,k=C/2-v[p]/2+A,U=v0(M,k,I),P=sf(r)!=null&&k!=U&&o.reference[p]/2-(k<M?x:E)-v[p]/2<0?k<M?M-k:I-k:0;return{[h]:d[h]-P,data:{[h]:U,centerOffset:k-U+P}}}}),GJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:s,middlewareData:r,rects:o,initialPlacement:a,platform:i,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...m}=nf(t,e),y=ml(s),g=ml(a)===a,_=await(i.isRTL==null?void 0:i.isRTL(l.floating)),b=d||(g||!v?[wh(a)]:zJ(a));!d&&p!=="none"&&b.push(...HJ(a,v,p,_));const S=[a,...b],w=await AS(e,m),C=[];let A=((n=r.flip)==null?void 0:n.overflows)||[];if(c&&C.push(w[y]),u){const M=UJ(s,o,_);C.push(w[M[0]],w[M[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(M=>M<=0)){var T,x;const M=(((T=r.flip)==null?void 0:T.index)||0)+1,I=S[M];if(I)return{data:{index:M,overflows:A},reset:{placement:I}};let k=(x=A.filter(U=>U.overflows[0]<=0).sort((U,B)=>U.overflows[1]-B.overflows[1])[0])==null?void 0:x.placement;if(!k)switch(h){case"bestFit":{var E;const U=(E=A.map(B=>[B.placement,B.overflows.filter(P=>P>0).reduce((P,N)=>P+N,0)]).sort((B,P)=>B[1]-P[1])[0])==null?void 0:E[0];U&&(k=U);break}case"initialPlacement":k=a;break}if(s!==k)return{reset:{placement:k}}}return{}}}};async function KJ(t,e){const{placement:n,platform:s,elements:r}=t,o=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=ml(n),i=sf(n),l=Cm(n)==="y",c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=nf(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return i&&typeof v=="number"&&(p=i==="end"?v*-1:v),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const eR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:s}=e,r=await KJ(e,t);return{x:n+r.x,y:s+r.y,data:r}}}},jJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:i={fn:y=>{let{x:g,y:_}=y;return{x:g,y:_}}},...l}=nf(t,e),c={x:n,y:s},u=await AS(e,l),d=Cm(ml(r)),h=QI(d);let p=c[h],v=c[d];if(o){const y=h==="y"?"top":"left",g=h==="y"?"bottom":"right",_=p+u[y],b=p-u[g];p=v0(_,p,b)}if(a){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",_=v+u[y],b=v-u[g];v=v0(_,v,b)}const m=i.fn({...e,[h]:p,[d]:v});return{...m,data:{x:m.x-n,y:m.y-s}}}}};function mi(t){return tR(t)?(t.nodeName||"").toLowerCase():"#document"}function yr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Aa(t){var e;return(e=(tR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tR(t){return t instanceof Node||t instanceof yr(t).Node}function ma(t){return t instanceof Element||t instanceof yr(t).Element}function Fo(t){return t instanceof HTMLElement||t instanceof yr(t).HTMLElement}function R1(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yr(t).ShadowRoot}function rf(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(r)}function qJ(t){return["table","td","th"].includes(mi(t))}function ES(t){const e=TS(),n=jr(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function TS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xm(t){return["html","body","#document"].includes(mi(t))}function jr(t){return yr(t).getComputedStyle(t)}function Am(t){return ma(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Kc(t){if(mi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||R1(t)&&t.host||Aa(t);return R1(e)?e.host:e}function nR(t){const e=Kc(t);return xm(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fo(e)&&rf(e)?e:nR(e)}function xh(t,e){var n;e===void 0&&(e=[]);const s=nR(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),o=yr(s);return r?e.concat(o,o.visualViewport||[],rf(s)?s:[]):e.concat(s,xh(s))}function sR(t){const e=jr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Fo(t),o=r?t.offsetWidth:n,a=r?t.offsetHeight:s,i=_h(n)!==o||_h(s)!==a;return i&&(n=o,s=a),{width:n,height:s,$:i}}function MS(t){return ma(t)?t:t.contextElement}function wc(t){const e=MS(t);if(!Fo(e))return hi(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:o}=sR(e);let a=(o?_h(n.width):n.width)/s,i=(o?_h(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const YJ=hi(0);function rR(t){const e=yr(t);return!TS()||!e.visualViewport?YJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XJ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yr(t)?!1:e}function vl(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=MS(t);let a=hi(1);e&&(s?ma(s)&&(a=wc(s)):a=wc(t));const i=XJ(o,n,s)?rR(o):hi(0);let l=(r.left+i.x)/a.x,c=(r.top+i.y)/a.y,u=r.width/a.x,d=r.height/a.y;if(o){const h=yr(o),p=s&&ma(s)?yr(s):s;let v=h.frameElement;for(;v&&s&&p!==h;){const m=wc(v),y=v.getBoundingClientRect(),g=jr(v),_=y.left+(v.clientLeft+parseFloat(g.paddingLeft))*m.x,b=y.top+(v.clientTop+parseFloat(g.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=_,c+=b,v=yr(v).frameElement}}return Ch({width:u,height:d,x:l,y:c})}function QJ(t){let{rect:e,offsetParent:n,strategy:s}=t;const r=Fo(n),o=Aa(n);if(n===o)return e;let a={scrollLeft:0,scrollTop:0},i=hi(1);const l=hi(0);if((r||!r&&s!=="fixed")&&((mi(n)!=="body"||rf(o))&&(a=Am(n)),Fo(n))){const c=vl(n);i=wc(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*i.x,height:e.height*i.y,x:e.x*i.x-a.scrollLeft*i.x+l.x,y:e.y*i.y-a.scrollTop*i.y+l.y}}function ZJ(t){return Array.from(t.getClientRects())}function oR(t){return vl(Aa(t)).left+Am(t).scrollLeft}function JJ(t){const e=Aa(t),n=Am(t),s=t.ownerDocument.body,r=al(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=al(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+oR(t);const i=-n.scrollTop;return jr(s).direction==="rtl"&&(a+=al(e.clientWidth,s.clientWidth)-r),{width:r,height:o,x:a,y:i}}function eee(t,e){const n=yr(t),s=Aa(t),r=n.visualViewport;let o=s.clientWidth,a=s.clientHeight,i=0,l=0;if(r){o=r.width,a=r.height;const c=TS();(!c||c&&e==="fixed")&&(i=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:i,y:l}}function tee(t,e){const n=vl(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,o=Fo(t)?wc(t):hi(1),a=t.clientWidth*o.x,i=t.clientHeight*o.y,l=r*o.x,c=s*o.y;return{width:a,height:i,x:l,y:c}}function P1(t,e,n){let s;if(e==="viewport")s=eee(t,n);else if(e==="document")s=JJ(Aa(t));else if(ma(e))s=tee(e,n);else{const r=rR(t);s={...e,x:e.x-r.x,y:e.y-r.y}}return Ch(s)}function aR(t,e){const n=Kc(t);return n===e||!ma(n)||xm(n)?!1:jr(n).position==="fixed"||aR(n,e)}function nee(t,e){const n=e.get(t);if(n)return n;let s=xh(t).filter(i=>ma(i)&&mi(i)!=="body"),r=null;const o=jr(t).position==="fixed";let a=o?Kc(t):t;for(;ma(a)&&!xm(a);){const i=jr(a),l=ES(a);!l&&i.position==="fixed"&&(r=null),(o?!l&&!r:!l&&i.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||rf(a)&&!l&&aR(t,a))?s=s.filter(u=>u!==a):r=i,a=Kc(a)}return e.set(t,s),s}function see(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?nee(e,this._c):[].concat(n),s],i=a[0],l=a.reduce((c,u)=>{const d=P1(e,u,r);return c.top=al(d.top,c.top),c.right=Gc(d.right,c.right),c.bottom=Gc(d.bottom,c.bottom),c.left=al(d.left,c.left),c},P1(e,i,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ree(t){return sR(t)}function oee(t,e,n){const s=Fo(e),r=Aa(e),o=n==="fixed",a=vl(t,!0,o,e);let i={scrollLeft:0,scrollTop:0};const l=hi(0);if(s||!s&&!o)if((mi(e)!=="body"||rf(r))&&(i=Am(e)),s){const c=vl(e,!0,o,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else r&&(l.x=oR(r));return{x:a.left+i.scrollLeft-l.x,y:a.top+i.scrollTop-l.y,width:a.width,height:a.height}}function D1(t,e){return!Fo(t)||jr(t).position==="fixed"?null:e?e(t):t.offsetParent}function aee(t){let e=Kc(t);for(;Fo(e)&&!xm(e);){if(ES(e))return e;e=Kc(e)}return null}function iR(t,e){const n=yr(t);if(!Fo(t))return n;let s=D1(t,e);for(;s&&qJ(s)&&jr(s).position==="static";)s=D1(s,e);return s&&(mi(s)==="html"||mi(s)==="body"&&jr(s).position==="static"&&!ES(s))?n:s||aee(t)||n}const iee=async function(t){let{reference:e,floating:n,strategy:s}=t;const r=this.getOffsetParent||iR,o=this.getDimensions;return{reference:oee(e,await r(n),s),floating:{x:0,y:0,...await o(n)}}};function lee(t){return jr(t).direction==="rtl"}const cee={convertOffsetParentRelativeRectToViewportRelativeRect:QJ,getDocumentElement:Aa,getClippingRect:see,getOffsetParent:iR,getElementRects:iee,getClientRects:ZJ,getDimensions:ree,getScale:wc,isElement:ma,isRTL:lee};function uee(t,e){let n=null,s;const r=Aa(t);function o(){clearTimeout(s),n&&n.disconnect(),n=null}function a(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:h}=t.getBoundingClientRect();if(i||e(),!d||!h)return;const p=Pf(u),v=Pf(r.clientWidth-(c+d)),m=Pf(r.clientHeight-(u+h)),y=Pf(c),_={rootMargin:-p+"px "+-v+"px "+-m+"px "+-y+"px",threshold:al(0,Gc(1,l))||1};let b=!0;function S(w){const C=w[0].intersectionRatio;if(C!==l){if(!b)return a();C?a(!1,C):s=setTimeout(()=>{a(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(S,{..._,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,_)}n.observe(t)}return a(!0),o}function dee(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=MS(t),u=r||o?[...c?xh(c):[],...xh(e)]:[];u.forEach(g=>{r&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const d=c&&i?uee(c,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(g=>{let[_]=g;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{p&&p.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let v,m=l?vl(t):null;l&&y();function y(){const g=vl(t);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&n(),m=g,v=requestAnimationFrame(y)}return n(),()=>{u.forEach(g=>{r&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),d&&d(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const lR=(t,e,n)=>{const s=new Map,r={platform:cee,...n},o={...r.platform,_c:s};return WJ(t,e,{...r,platform:o})},fee=$e({style:{type:le([String,Object,Array]),default:()=>({})}}),pee=se({name:"ElVisuallyHidden"}),hee=se({...pee,props:fee,setup(t){const e=t,n=R(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(s,r)=>(D(),H("span",Dt(s.$attrs,{style:f(n)}),[pe(s.$slots,"default")],16))}});var mee=He(hee,[["__file","visual-hidden.vue"]]);$e({});const vee=t=>{if(!Nt)return;if(!t)return t;const e=Hs(t);return e||(fn(t)?e:t)},gee=({middleware:t,placement:e,strategy:n})=>{const s=z(),r=z(),o=z(),a=z(),i=z({}),l={x:o,y:a,placement:e,strategy:n,middlewareData:i},c=async()=>{if(!Nt)return;const u=vee(s),d=Hs(r);if(!u||!d)return;const h=await lR(u,d,{placement:f(e),strategy:f(n),middleware:f(t)});Oc(l).forEach(p=>{l[p].value=h[p]})};return wt(()=>{_s(()=>{c()})}),{...l,update:c,referenceRef:s,contentRef:r}},yee=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const s=f(t);return s?JI({element:s,padding:e}).fn(n):{}}}),bee=se({name:"ElTooltipV2Content"}),See=se({...bee,props:{...SS,...qI},setup(t){const e=t,{triggerRef:n,contentId:s}=Qe(wm),r=z(e.placement),o=z(e.strategy),a=z(null),{referenceRef:i,contentRef:l,middlewareData:c,x:u,y:d,update:h}=gee({placement:r,strategy:o,middleware:R(()=>{const b=[eR(e.offset)];return e.showArrow&&b.push(yee({arrowRef:a})),b})}),p=fu().nextZIndex(),v=Le("tooltip-v2"),m=R(()=>r.value.split("-")[0]),y=R(()=>({position:f(o),top:`${f(d)||0}px`,left:`${f(u)||0}px`,zIndex:p})),g=R(()=>{if(!e.showArrow)return{};const{arrow:b}=f(c);return{[`--${v.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${v.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),_=R(()=>[v.e("content"),v.is("dark",e.effect==="dark"),v.is(f(o)),e.contentClass]);return De(a,()=>h()),De(()=>e.placement,b=>r.value=b),wt(()=>{De(()=>e.reference||n.value,b=>{i.value=b||void 0},{immediate:!0})}),Bt(XI,{arrowRef:a}),(b,S)=>(D(),H("div",{ref_key:"contentRef",ref:l,style:rt(f(y)),"data-tooltip-v2-root":""},[b.nowrap?he("v-if",!0):(D(),H("div",{key:0,"data-side":f(m),class:F(f(_))},[pe(b.$slots,"default",{contentStyle:f(y),contentClass:f(_)}),j(f(mee),{id:f(s),role:"tooltip"},{default:te(()=>[b.ariaLabel?(D(),H(Ze,{key:0},[St(Ne(b.ariaLabel),1)],64)):pe(b.$slots,"default",{key:1})]),_:3},8,["id"]),pe(b.$slots,"arrow",{style:rt(f(g)),side:f(m)})],10,["data-side"]))],4))}});var k1=He(See,[["__file","content.vue"]]);const _ee=$e({setRef:{type:le(Function),required:!0},onlyChild:Boolean});var wee=se({props:_ee,setup(t,{slots:e}){const n=z(),s=gm(n,r=>{r?t.setRef(r.nextElementSibling):t.setRef(null)});return()=>{var r;const[o]=((r=e.default)==null?void 0:r.call(e))||[],a=t.onlyChild?L8(o.children):o.children;return j(Ze,{ref:s},[a])}}});const Cee=se({name:"ElTooltipV2Trigger"}),xee=se({...Cee,props:{...qI,...wS},setup(t){const e=t,{onClose:n,onOpen:s,onDelayOpen:r,triggerRef:o,contentId:a}=Qe(wm);let i=!1;const l=_=>{o.value=_},c=()=>{i=!1},u=In(e.onMouseEnter,r),d=In(e.onMouseLeave,n),h=In(e.onMouseDown,()=>{n(),i=!0,document.addEventListener("mouseup",c,{once:!0})}),p=In(e.onFocus,()=>{i||s()}),v=In(e.onBlur,n),m=In(e.onClick,_=>{_.detail===0&&n()}),y={blur:v,click:m,focus:p,mousedown:h,mouseenter:u,mouseleave:d},g=(_,b,S)=>{_&&Object.entries(b).forEach(([w,C])=>{_[S](w,C)})};return De(o,(_,b)=>{g(_,y,"addEventListener"),g(b,y,"removeEventListener"),_&&_.setAttribute("aria-describedby",a.value)}),Qt(()=>{g(o.value,y,"removeEventListener"),document.removeEventListener("mouseup",c)}),(_,b)=>_.nowrap?(D(),_e(f(wee),{key:0,"set-ref":l,"only-child":""},{default:te(()=>[pe(_.$slots,"default")]),_:3})):(D(),H("button",Dt({key:1,ref_key:"triggerRef",ref:o},_.$attrs),[pe(_.$slots,"default")],16))}});var Aee=He(xee,[["__file","trigger.vue"]]);const Eee=se({name:"ElTooltipV2"}),Tee=se({...Eee,props:PJ,setup(t){const n=as(t),s=qt(uo(n,Object.keys(bS))),r=qt(uo(n,Object.keys(SS))),o=qt(uo(n,Object.keys(_S))),a=qt(uo(n,Object.keys(wS)));return(i,l)=>(D(),_e(LJ,lo(ai(o)),{default:te(({open:c})=>[j(Aee,Dt(a,{nowrap:""}),{default:te(()=>[pe(i.$slots,"trigger")]),_:3},16),j(f(mu),{to:i.to,disabled:!i.teleported},{default:te(()=>[i.fullTransition?(D(),_e(Xn,lo(Dt({key:0},i.transitionProps)),{default:te(()=>[i.alwaysOn||c?(D(),_e(k1,lo(Dt({key:0},r)),{arrow:te(({style:u,side:d})=>[i.showArrow?(D(),_e(M1,Dt({key:0},s,{style:u,side:d}),null,16,["style","side"])):he("v-if",!0)]),default:te(()=>[pe(i.$slots,"default")]),_:3},16)):he("v-if",!0)]),_:2},1040)):(D(),H(Ze,{key:1},[i.alwaysOn||c?(D(),_e(k1,lo(Dt({key:0},r)),{arrow:te(({style:u,side:d})=>[i.showArrow?(D(),_e(M1,Dt({key:0},s,{style:u,side:d}),null,16,["style","side"])):he("v-if",!0)]),default:te(()=>[pe(i.$slots,"default")]),_:3},16)):he("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var Mee=He(Tee,[["__file","tooltip.vue"]]);const Iee=_t(Mee),cR="left-check-change",uR="right-check-change",ac=$e({data:{type:le(Array),default:()=>[]},titles:{type:le(Array),default:()=>[]},buttonTexts:{type:le(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:le(Function)},leftDefaultChecked:{type:le(Array),default:()=>[]},rightDefaultChecked:{type:le(Array),default:()=>[]},renderContent:{type:le(Function)},modelValue:{type:le(Array),default:()=>[]},format:{type:le(Object),default:()=>({})},filterable:Boolean,props:{type:le(Object),default:()=>En({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),y0=(t,e)=>[t,e].every(Ue)||Ue(t)&&es(e),Ree={[nn]:(t,e,n)=>[t,n].every(Ue)&&["left","right"].includes(e),[Et]:t=>Ue(t),[cR]:y0,[uR]:y0},b0="checked-change",Pee=$e({data:ac.data,optionRender:{type:le(Function)},placeholder:String,title:String,filterable:Boolean,format:ac.format,filterMethod:ac.filterMethod,defaultChecked:ac.leftDefaultChecked,props:ac.props}),Dee={[b0]:y0},of=t=>{const e={label:"label",key:"key",disabled:"disabled"};return R(()=>({...e,...t.props}))},kee=(t,e,n)=>{const s=of(t),r=R(()=>t.data.filter(u=>ct(t.filterMethod)?t.filterMethod(e.query,u):String(u[s.value.label]||u[s.value.key]).toLowerCase().includes(e.query.toLowerCase()))),o=R(()=>r.value.filter(u=>!u[s.value.disabled])),a=R(()=>{const u=e.checked.length,d=t.data.length,{noChecked:h,hasChecked:p}=t.format;return h&&p?u>0?p.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,d.toString()):h.replace(/\${total}/g,d.toString()):`${u}/${d}`}),i=R(()=>{const u=e.checked.length;return u>0&&u<o.value.length}),l=()=>{const u=o.value.map(d=>d[s.value.key]);e.allChecked=u.length>0&&u.every(d=>e.checked.includes(d))},c=u=>{e.checked=u?o.value.map(d=>d[s.value.key]):[]};return De(()=>e.checked,(u,d)=>{if(l(),e.checkChangeByUser){const h=u.concat(d).filter(p=>!u.includes(p)||!d.includes(p));n(b0,u,h)}else n(b0,u),e.checkChangeByUser=!0}),De(o,()=>{l()}),De(()=>t.data,()=>{const u=[],d=r.value.map(h=>h[s.value.key]);e.checked.forEach(h=>{d.includes(h)&&u.push(h)}),e.checkChangeByUser=!1,e.checked=u}),De(()=>t.defaultChecked,(u,d)=>{if(d&&u.length===d.length&&u.every(v=>d.includes(v)))return;const h=[],p=o.value.map(v=>v[s.value.key]);u.forEach(v=>{p.includes(v)&&h.push(v)}),e.checkChangeByUser=!1,e.checked=h},{immediate:!0}),{filteredData:r,checkableData:o,checkedSummary:a,isIndeterminate:i,updateAllChecked:l,handleAllCheckedChange:c}},Lee=se({name:"ElTransferPanel"}),Oee=se({...Lee,props:Pee,emits:Dee,setup(t,{expose:e,emit:n}){const s=t,r=Gn(),o=({option:b})=>b,{t:a}=Ut(),i=Le("transfer"),l=qt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=of(s),{filteredData:u,checkedSummary:d,isIndeterminate:h,handleAllCheckedChange:p}=kee(s,l,n),v=R(()=>!hr(l.query)&&hr(u.value)),m=R(()=>!hr(r.default()[0].children)),{checked:y,allChecked:g,query:_}=as(l);return e({query:_}),(b,S)=>(D(),H("div",{class:F(f(i).b("panel"))},[K("p",{class:F(f(i).be("panel","header"))},[j(f(Kr),{modelValue:f(g),"onUpdate:modelValue":w=>fn(g)?g.value=w:null,indeterminate:f(h),"validate-event":!1,onChange:f(p)},{default:te(()=>[St(Ne(b.title)+" ",1),K("span",null,Ne(f(d)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),K("div",{class:F([f(i).be("panel","body"),f(i).is("with-footer",f(m))])},[b.filterable?(D(),_e(f(ks),{key:0,modelValue:f(_),"onUpdate:modelValue":w=>fn(_)?_.value=w:null,class:F(f(i).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":f(HU),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):he("v-if",!0),Ct(j(f(GM),{modelValue:f(y),"onUpdate:modelValue":w=>fn(y)?y.value=w:null,"validate-event":!1,class:F([f(i).is("filterable",b.filterable),f(i).be("panel","list")])},{default:te(()=>[(D(!0),H(Ze,null,Tt(f(u),w=>(D(),_e(f(Kr),{key:w[f(c).key],class:F(f(i).be("panel","item")),value:w[f(c).key],disabled:w[f(c).disabled],"validate-event":!1},{default:te(()=>{var C;return[j(o,{option:(C=b.optionRender)==null?void 0:C.call(b,w)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[Vt,!f(v)&&!f(hr)(b.data)]]),Ct(K("div",{class:F(f(i).be("panel","empty"))},[pe(b.$slots,"empty",{},()=>[St(Ne(f(v)?f(a)("el.transfer.noMatch"):f(a)("el.transfer.noData")),1)])],2),[[Vt,f(v)||f(hr)(b.data)]])],2),f(m)?(D(),H("p",{key:0,class:F(f(i).be("panel","footer"))},[pe(b.$slots,"default")],2)):he("v-if",!0)],2))}});var L1=He(Oee,[["__file","transfer-panel.vue"]]);const Bee=t=>{const e=of(t),n=R(()=>t.data.reduce((o,a)=>(o[a[e.value.key]]=a)&&o,{})),s=R(()=>t.data.filter(o=>!t.modelValue.includes(o[e.value.key]))),r=R(()=>t.targetOrder==="original"?t.data.filter(o=>t.modelValue.includes(o[e.value.key])):t.modelValue.reduce((o,a)=>{const i=n.value[a];return i&&o.push(i),o},[]));return{sourceData:s,targetData:r}},Fee=(t,e,n)=>{const s=of(t),r=(i,l,c)=>{n(Et,i),n(nn,i,l,c)};return{addToLeft:()=>{const i=t.modelValue.slice();e.rightChecked.forEach(l=>{const c=i.indexOf(l);c>-1&&i.splice(c,1)}),r(i,"left",e.rightChecked)},addToRight:()=>{let i=t.modelValue.slice();const l=t.data.filter(c=>{const u=c[s.value.key];return e.leftChecked.includes(u)&&!t.modelValue.includes(u)}).map(c=>c[s.value.key]);i=t.targetOrder==="unshift"?l.concat(i):i.concat(l),t.targetOrder==="original"&&(i=t.data.filter(c=>i.includes(c[s.value.key])).map(c=>c[s.value.key])),r(i,"right",e.leftChecked)}}},Nee=(t,e)=>({onSourceCheckedChange:(r,o)=>{t.leftChecked=r,o&&e(cR,r,o)},onTargetCheckedChange:(r,o)=>{t.rightChecked=r,o&&e(uR,r,o)}}),Uee=se({name:"ElTransfer"}),zee=se({...Uee,props:ac,emits:Ree,setup(t,{expose:e,emit:n}){const s=t,r=Gn(),{t:o}=Ut(),a=Le("transfer"),{formItem:i}=As(),l=qt({leftChecked:[],rightChecked:[]}),c=of(s),{sourceData:u,targetData:d}=Bee(s),{onSourceCheckedChange:h,onTargetCheckedChange:p}=Nee(l,n),{addToLeft:v,addToRight:m}=Fee(s,l,n),y=z(),g=z(),_=T=>{switch(T){case"left":y.value.query="";break;case"right":g.value.query="";break}},b=R(()=>s.buttonTexts.length===2),S=R(()=>s.titles[0]||o("el.transfer.titles.0")),w=R(()=>s.titles[1]||o("el.transfer.titles.1")),C=R(()=>s.filterPlaceholder||o("el.transfer.filterPlaceholder"));De(()=>s.modelValue,()=>{var T;s.validateEvent&&((T=i==null?void 0:i.validate)==null||T.call(i,"change").catch(x=>void 0))});const A=R(()=>T=>{var x;if(s.renderContent)return s.renderContent(st,T);const E=(((x=r.default)==null?void 0:x.call(r,{option:T}))||[]).filter(M=>M.type!==Ls);return E.length?E:st("span",T[c.value.label]||T[c.value.key])});return e({clearQuery:_,leftPanel:y,rightPanel:g}),(T,x)=>(D(),H("div",{class:F(f(a).b())},[j(L1,{ref_key:"leftPanel",ref:y,data:f(u),"option-render":f(A),placeholder:f(C),title:f(S),filterable:T.filterable,format:T.format,"filter-method":T.filterMethod,"default-checked":T.leftDefaultChecked,props:s.props,onCheckedChange:f(h)},{empty:te(()=>[pe(T.$slots,"left-empty")]),default:te(()=>[pe(T.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),K("div",{class:F(f(a).e("buttons"))},[j(f(rs),{type:"primary",class:F([f(a).e("button"),f(a).is("with-texts",f(b))]),disabled:f(hr)(l.rightChecked),onClick:f(v)},{default:te(()=>[j(f(tt),null,{default:te(()=>[j(f(ui))]),_:1}),f(Jt)(T.buttonTexts[0])?he("v-if",!0):(D(),H("span",{key:0},Ne(T.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),j(f(rs),{type:"primary",class:F([f(a).e("button"),f(a).is("with-texts",f(b))]),disabled:f(hr)(l.leftChecked),onClick:f(m)},{default:te(()=>[f(Jt)(T.buttonTexts[1])?he("v-if",!0):(D(),H("span",{key:0},Ne(T.buttonTexts[1]),1)),j(f(tt),null,{default:te(()=>[j(f(Ws))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),j(L1,{ref_key:"rightPanel",ref:g,data:f(d),"option-render":f(A),placeholder:f(C),filterable:T.filterable,format:T.format,"filter-method":T.filterMethod,title:f(w),"default-checked":T.rightDefaultChecked,props:s.props,onCheckedChange:f(p)},{empty:te(()=>[pe(T.$slots,"right-empty")]),default:te(()=>[pe(T.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var $ee=He(zee,[["__file","transfer.vue"]]);const Hee=_t($ee),Cc="$treeNodeId",O1=function(t,e){!e||e[Cc]||Object.defineProperty(e,Cc,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},IS=function(t,e){return t?e[t]:e[Cc]},S0=(t,e,n)=>{const s=t.value.currentNode;n();const r=t.value.currentNode;s!==r&&e("current-change",r?r.data:null,r)},_0=t=>{let e=!0,n=!0,s=!0;for(let r=0,o=t.length;r<o;r++){const a=t[r];(a.checked!==!0||a.indeterminate)&&(e=!1,a.disabled||(s=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:s,half:!e&&!n}},Uu=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:s}=_0(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):s?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||Uu(r)},Df=function(t,e){const n=t.store.props,s=t.data||{},r=n[e];if(ct(r))return r(s,t);if(ot(r))return s[r];if(Jt(r)){const o=s[e];return o===void 0?"":o}};let Vee=0,w0=class Up{constructor(e){this.id=Vee++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)$t(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const o=Df(this,"isLeaf");ln(o)&&(this.isLeafByUser=o)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Ue(this.data)||O1(this,this.data),!this.data)return;const s=e.defaultExpandedKeys,r=e.key;r&&s&&s.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Ue(e)||O1(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Ue(this.data)?n=this.data:n=Df(this,"children")||[];for(let s=0,r=n.length;s<r;s++)this.insertChild({data:n[s]})}get label(){return Df(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return Df(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(s=>s===e||n&&s.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,s){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Up)){if(!s){const r=this.getChildren(!0);r.includes(e.data)||(Jt(n)||n<0?r.push(e.data):r.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=qt(new Up(e)),e instanceof Up&&e.initialize()}e.level=this.level+1,Jt(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let s;n&&(s=this.childNodes.indexOf(n)),this.insertChild(e,s)}insertAfter(e,n){let s;n&&(s=this.childNodes.indexOf(n),s!==-1&&(s+=1)),this.insertChild(e,s)}removeChild(e){const n=this.getChildren()||[],s=n.indexOf(e.data);s>-1&&n.splice(s,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===e){n=this.childNodes[s];break}n&&this.removeChild(n)}expand(e,n){const s=()=>{if(n){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Ue(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Uu(this),s())}):s()}doCreateChildren(e,n={}){e.forEach(s=>{this.insertChild(Object.assign({data:s},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,s,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:a,allWithoutDisable:i}=_0(this.childNodes);!this.isLeaf&&!a&&i&&(this.checked=!1,e=!1);const l=()=>{if(n){const c=this.childNodes;for(let h=0,p=c.length;h<p;h++){const v=c[h];r=r||e!==!1;const m=v.disabled?v.checked:r;v.setChecked(m,n,!0,r)}const{half:u,all:d}=_0(c);d||(this.checked=d,this.indeterminate=u)}};if(this.shouldLoadData()){this.loadData(()=>{l(),Uu(this)},{checked:e!==!1});return}else l()}const o=this.parent;!o||o.level===0||s||Uu(o)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const s=this.store.props;let r="children";return s&&(r=s.children||"children"),n[r]===void 0&&(n[r]=null),e&&!n[r]&&(n[r]=[]),n[r]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(o=>o.data),s={},r=[];e.forEach((o,a)=>{const i=o[Cc];!!i&&n.findIndex(c=>c[Cc]===i)>=0?s[i]={index:a,data:o}:r.push({index:a,data:o})}),this.store.lazy||n.forEach(o=>{s[o[Cc]]||this.removeChildByData(o)}),r.forEach(({index:o,data:a})=>{this.insertChild({data:a},o)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const s=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,o)},r=()=>{this.loading=!1};this.store.load(this,s,r)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const s=n.shift();n.unshift(...s.childNodes),e(s)}}reInitChecked(){this.store.checkStrictly||Uu(this)}};class Wee{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)$t(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new w0({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,s=this.lazy,r=function(o){const a=o.root?o.root.childNodes:o.childNodes;if(a.forEach(i=>{i.visible=n.call(i,e,i.data,i),r(i)}),!o.visible&&a.length){let i=!0;i=!a.some(l=>l.visible),o.root?o.root.visible=i===!1:o.visible=i===!1}e&&o.visible&&!o.isLeaf&&(!s||o.loaded)&&o.expand()};r(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof w0)return e;const n=Mt(e)?IS(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const s=this.getNode(n);s.parent.insertBefore({data:e},s)}insertAfter(e,n){const s=this.getNode(n);s.parent.insertAfter({data:e},s)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const s=ul(n)?this.root:this.getNode(n);s&&s.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(s=>{const r=n[s];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const s=[],r=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(i=>{(i.checked||n&&i.indeterminate)&&(!e||e&&i.isLeaf)&&s.push(i.data),r(i)})};return r(this),s}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),n(o)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const s in n)$t(n,s)&&e.push(n[s]);return e}updateChildren(e,n){const s=this.nodesMap[e];if(!s)return;const r=s.childNodes;for(let o=r.length-1;o>=0;o--){const a=r[o];this.remove(a.data)}for(let o=0,a=n.length;o<a;o++){const i=n[o];this.append(i,s.data)}}_setCheckedKeys(e,n=!1,s){const r=this._getAllNodes().sort((l,c)=>l.level-c.level),o=Object.create(null),a=Object.keys(s);r.forEach(l=>l.setChecked(!1,!1));const i=l=>{l.childNodes.forEach(c=>{var u;o[c.data[e]]=!0,(u=c.childNodes)!=null&&u.length&&i(c)})};for(let l=0,c=r.length;l<c;l++){const u=r[l],d=u.data[e].toString();if(!a.includes(d)){u.checked&&!o[d]&&u.setChecked(!1,!1);continue}if(u.childNodes.length&&i(u),u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),n){u.setChecked(!1,!1);const p=function(v){v.childNodes.forEach(y=>{y.isLeaf||y.setChecked(!1,!1),p(y)})};p(u)}}}setCheckedNodes(e,n=!1){const s=this.key,r={};e.forEach(o=>{r[(o||{})[s]]=!0}),this._setCheckedKeys(s,n,r)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const s=this.key,r={};e.forEach(o=>{r[o]=!0}),this._setCheckedKeys(s,n,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const s=this.getNode(n);s&&s.expand(null,this.autoExpandParent)})}setChecked(e,n,s){const r=this.getNode(e);r&&r.setChecked(!!n,s)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const s=e[this.key],r=this.nodesMap[s];this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(this.currentNodeKey=e,e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(e);s&&(this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Gee=se({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Le("tree"),n=Qe("NodeInstance"),s=Qe("RootTree");return()=>{const r=t.node,{data:o,store:a}=r;return t.renderContent?t.renderContent(st,{_self:n,node:r,data:o,store:a}):pe(s.ctx.slots,"default",{node:r,data:o},()=>[st("span",{class:e.be("node","label")},[r.label])])}}});var Kee=He(Gee,[["__file","tree-node-content.vue"]]);function dR(t){const e=Qe("TreeNodeMap",null),n={treeNodeExpand:s=>{t.node!==s&&t.node.collapse()},children:[]};return e&&e.children.push(n),Bt("TreeNodeMap",n),{broadcastExpanded:s=>{if(t.accordion)for(const r of n.children)r.treeNodeExpand(s)}}}const fR=Symbol("dragEvents");function jee({props:t,ctx:e,el$:n,dropIndicator$:s,store:r}){const o=Le("tree"),a=z({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Bt(fR,{treeNodeDragStart:({event:u,treeNode:d})=>{if(ct(t.allowDrag)&&!t.allowDrag(d.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}a.value.draggingNode=d,e.emit("node-drag-start",d.node,u)},treeNodeDragOver:({event:u,treeNode:d})=>{const h=d,p=a.value.dropNode;p&&p.node.id!==h.node.id&&Os(p.$el,o.is("drop-inner"));const v=a.value.draggingNode;if(!v||!h)return;let m=!0,y=!0,g=!0,_=!0;ct(t.allowDrop)&&(m=t.allowDrop(v.node,h.node,"prev"),_=y=t.allowDrop(v.node,h.node,"inner"),g=t.allowDrop(v.node,h.node,"next")),u.dataTransfer.dropEffect=y||m||g?"move":"none",(m||y||g)&&(p==null?void 0:p.node.id)!==h.node.id&&(p&&e.emit("node-drag-leave",v.node,p.node,u),e.emit("node-drag-enter",v.node,h.node,u)),m||y||g?a.value.dropNode=h:a.value.dropNode=null,h.node.nextSibling===v.node&&(g=!1),h.node.previousSibling===v.node&&(m=!1),h.node.contains(v.node,!1)&&(y=!1),(v.node===h.node||v.node.contains(h.node))&&(m=!1,y=!1,g=!1);const b=h.$el.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),S=n.value.getBoundingClientRect();let w;const C=m?y?.25:g?.45:1:-1,A=g?y?.75:m?.55:0:1;let T=-9999;const x=u.clientY-b.top;x<b.height*C?w="before":x>b.height*A?w="after":y?w="inner":w="none";const E=h.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),M=s.value;w==="before"?T=E.top-S.top:w==="after"&&(T=E.bottom-S.top),M.style.top=`${T}px`,M.style.left=`${E.right-S.left}px`,w==="inner"?Br(h.$el,o.is("drop-inner")):Os(h.$el,o.is("drop-inner")),a.value.showDropIndicator=w==="before"||w==="after",a.value.allowDrop=a.value.showDropIndicator||_,a.value.dropType=w,e.emit("node-drag-over",v.node,h.node,u)},treeNodeDragEnd:u=>{const{draggingNode:d,dropType:h,dropNode:p}=a.value;if(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="move"),d&&p){const v={data:d.node.data};h!=="none"&&d.node.remove(),h==="before"?p.node.parent.insertBefore(v,p.node):h==="after"?p.node.parent.insertAfter(v,p.node):h==="inner"&&p.node.insertChild(v),h!=="none"&&(r.value.registerNode(v),r.value.key&&d.node.eachNode(m=>{var y;(y=r.value.nodesMap[m.data[r.value.key]])==null||y.setChecked(m.checked,!r.value.checkStrictly)})),Os(p.$el,o.is("drop-inner")),e.emit("node-drag-end",d.node,p.node,h,u),h!=="none"&&e.emit("node-drop",d.node,p.node,h,u)}d&&!p&&e.emit("node-drag-end",d.node,null,h,u),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0}}),{dragState:a}}const qee=se({name:"ElTreeNode",components:{ElCollapseTransition:mm,ElCheckbox:Kr,NodeContent:Kee,ElIcon:tt,Loading:Lo},props:{node:{type:w0,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Le("tree"),{broadcastExpanded:s}=dR(t),r=Qe("RootTree"),o=z(!1),a=z(!1),i=z(null),l=z(null),c=z(null),u=Qe(fR),d=It();Bt("NodeInstance",d),t.node.expanded&&(o.value=!0,a.value=!0);const h=r.props.props.children||"children";De(()=>{const x=t.node.data[h];return x&&[...x]},()=>{t.node.updateChildren()}),De(()=>t.node.indeterminate,x=>{m(t.node.checked,x)}),De(()=>t.node.checked,x=>{m(x,t.node.indeterminate)}),De(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),De(()=>t.node.expanded,x=>{lt(()=>o.value=x),x&&(a.value=!0)});const p=x=>IS(r.props.nodeKey,x.data),v=x=>{const E=t.props.class;if(!E)return{};let M;if(ct(E)){const{data:I}=x;M=E(I,x)}else M=E;return ot(M)?{[M]:!0}:M},m=(x,E)=>{(i.value!==x||l.value!==E)&&r.ctx.emit("check-change",t.node.data,x,E),i.value=x,l.value=E},y=x=>{S0(r.store,r.ctx.emit,()=>{var E;if((E=r==null?void 0:r.props)==null?void 0:E.nodeKey){const I=p(t.node);r.store.value.setCurrentNodeKey(I)}else r.store.value.setCurrentNode(t.node)}),r.currentNode.value=t.node,r.props.expandOnClickNode&&_(),r.props.checkOnClickNode&&!t.node.disabled&&b(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,d,x)},g=x=>{r.instance.vnode.props.onNodeContextmenu&&(x.stopPropagation(),x.preventDefault()),r.ctx.emit("node-contextmenu",x,t.node.data,t.node,d)},_=()=>{t.node.isLeaf||(o.value?(r.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,d)}))},b=(x,E)=>{t.node.setChecked(E.target.checked,!r.props.checkStrictly),lt(()=>{const M=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:M.getCheckedNodes(),checkedKeys:M.getCheckedKeys(),halfCheckedNodes:M.getHalfCheckedNodes(),halfCheckedKeys:M.getHalfCheckedKeys()})})};return{ns:n,node$:c,tree:r,expanded:o,childNodeRendered:a,oldChecked:i,oldIndeterminate:l,getNodeKey:p,getNodeClass:v,handleSelectChange:m,handleClick:y,handleContextMenu:g,handleExpandIconClick:_,handleCheckChange:b,handleChildNodeExpand:(x,E,M)=>{s(E),r.ctx.emit("node-expand",x,E,M)},handleDragStart:x=>{r.props.draggable&&u.treeNodeDragStart({event:x,treeNode:t})},handleDragOver:x=>{x.preventDefault(),r.props.draggable&&u.treeNodeDragOver({event:x,treeNode:{$el:c.value,node:t.node}})},handleDrop:x=>{x.preventDefault()},handleDragEnd:x=>{r.props.draggable&&u.treeNodeDragEnd(x)},CaretRight:qT}}});function Yee(t,e,n,s,r,o){const a=et("el-icon"),i=et("el-checkbox"),l=et("loading"),c=et("node-content"),u=et("el-tree-node"),d=et("el-collapse-transition");return Ct((D(),H("div",{ref:"node$",class:F([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:pt(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:pt(t.handleDragStart,["stop"]),onDragover:pt(t.handleDragOver,["stop"]),onDragend:pt(t.handleDragEnd,["stop"]),onDrop:pt(t.handleDrop,["stop"])},[K("div",{class:F(t.ns.be("node","content")),style:rt({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(D(),_e(a,{key:0,class:F([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:pt(t.handleExpandIconClick,["stop"])},{default:te(()=>[(D(),_e(Rt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.showCheckbox?(D(),_e(i,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:pt(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):he("v-if",!0),t.node.loading?(D(),_e(a,{key:2,class:F([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:te(()=>[j(l)]),_:1},8,["class"])):he("v-if",!0),j(c,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),j(d,null,{default:te(()=>[!t.renderAfterExpand||t.childNodeRendered?Ct((D(),H("div",{key:0,class:F(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(D(!0),H(Ze,null,Tt(t.node.childNodes,h=>(D(),_e(u,{key:t.getNodeKey(h),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:h,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[Vt,t.expanded]]):he("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Vt,t.node.visible]])}var Xee=He(qee,[["render",Yee],["__file","tree-node.vue"]]);function Qee({el$:t},e){const n=Le("tree"),s=dn([]),r=dn([]);wt(()=>{a()}),qr(()=>{s.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),De(r,i=>{i.forEach(l=>{l.setAttribute("tabindex","-1")})}),en(t,"keydown",i=>{const l=i.target;if(!l.className.includes(n.b("node")))return;const c=i.code;s.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const u=s.value.indexOf(l);let d;if([qe.up,qe.down].includes(c)){if(i.preventDefault(),c===qe.up){d=u===-1?0:u!==0?u-1:s.value.length-1;const p=d;for(;!e.value.getNode(s.value[d].dataset.key).canFocus;){if(d--,d===p){d=-1;break}d<0&&(d=s.value.length-1)}}else{d=u===-1?0:u<s.value.length-1?u+1:0;const p=d;for(;!e.value.getNode(s.value[d].dataset.key).canFocus;){if(d++,d===p){d=-1;break}d>=s.value.length&&(d=0)}}d!==-1&&s.value[d].focus()}[qe.left,qe.right].includes(c)&&(i.preventDefault(),l.click());const h=l.querySelector('[type="checkbox"]');[qe.enter,qe.numpadEnter,qe.space].includes(c)&&h&&(i.preventDefault(),h.click())});const a=()=>{var i;s.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(i=s.value[0])==null||i.setAttribute("tabindex","0")}}const Zee=se({name:"ElTree",components:{ElTreeNode:Xee},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:sn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=Ut(),s=Le("tree"),r=Qe(gu,null),o=z(new Wee({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));o.value.initialize();const a=z(o.value.root),i=z(null),l=z(null),c=z(null),{broadcastExpanded:u}=dR(t),{dragState:d}=jee({props:t,ctx:e,el$:l,dropIndicator$:c,store:o});Qee({el$:l},o);const h=R(()=>{const{childNodes:L}=a.value,O=r?r.hasFilteredOptions!==0:!1;return(!L||L.length===0||L.every(({visible:$})=>!$))&&!O});De(()=>t.currentNodeKey,L=>{o.value.setCurrentNodeKey(L)}),De(()=>t.defaultCheckedKeys,L=>{o.value.setDefaultCheckedKey(L)}),De(()=>t.defaultExpandedKeys,L=>{o.value.setDefaultExpandedKeys(L)}),De(()=>t.data,L=>{o.value.setData(L)},{deep:!0}),De(()=>t.checkStrictly,L=>{o.value.checkStrictly=L});const p=L=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(L)},v=L=>IS(t.nodeKey,L.data),m=L=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const O=o.value.getNode(L);if(!O)return[];const $=[O.data];let W=O.parent;for(;W&&W!==a.value;)$.push(W.data),W=W.parent;return $.reverse()},y=(L,O)=>o.value.getCheckedNodes(L,O),g=L=>o.value.getCheckedKeys(L),_=()=>{const L=o.value.getCurrentNode();return L?L.data:null},b=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const L=_();return L?L[t.nodeKey]:null},S=(L,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(L,O)},w=(L,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(L,O)},C=(L,O,$)=>{o.value.setChecked(L,O,$)},A=()=>o.value.getHalfCheckedNodes(),T=()=>o.value.getHalfCheckedKeys(),x=(L,O=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");S0(o,e.emit,()=>{u(L),o.value.setUserCurrentNode(L,O)})},E=(L,O=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");S0(o,e.emit,()=>{u(),o.value.setCurrentNodeKey(L,O)})},M=L=>o.value.getNode(L),I=L=>{o.value.remove(L)},k=(L,O)=>{o.value.append(L,O)},U=(L,O)=>{o.value.insertBefore(L,O)},B=(L,O)=>{o.value.insertAfter(L,O)},P=(L,O,$)=>{u(O),e.emit("node-expand",L,O,$)},N=(L,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(L,O)};return Bt("RootTree",{ctx:e,props:t,store:o,root:a,currentNode:i,instance:It()}),Bt(Oo,void 0),{ns:s,store:o,root:a,currentNode:i,dragState:d,el$:l,dropIndicator$:c,isEmpty:h,filter:p,getNodeKey:v,getNodePath:m,getCheckedNodes:y,getCheckedKeys:g,getCurrentNode:_,getCurrentKey:b,setCheckedNodes:S,setCheckedKeys:w,setChecked:C,getHalfCheckedNodes:A,getHalfCheckedKeys:T,setCurrentNode:x,setCurrentKey:E,t:n,getNode:M,remove:I,append:k,insertBefore:U,insertAfter:B,handleNodeExpand:P,updateKeyChildren:N}}});function Jee(t,e,n,s,r,o){const a=et("el-tree-node");return D(),H("div",{ref:"el$",class:F([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(D(!0),H(Ze,null,Tt(t.root.childNodes,i=>(D(),_e(a,{key:t.getNodeKey(i),node:i,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(D(),H("div",{key:0,class:F(t.ns.e("empty-block"))},[pe(t.$slots,"empty",{},()=>{var i;return[K("span",{class:F(t.ns.e("empty-text"))},Ne((i=t.emptyText)!=null?i:t.t("el.tree.emptyText")),3)]})],2)):he("v-if",!0),Ct(K("div",{ref:"dropIndicator$",class:F(t.ns.e("drop-indicator"))},null,2),[[Vt,t.dragState.showDropIndicator]])],2)}var ete=He(Zee,[["render",Jee],["__file","tree.vue"]]);const Ah=_t(ete),tte=(t,{attrs:e,emit:n},{select:s,tree:r,key:o})=>{const a=Le("tree-select");return De(()=>t.data,()=>{t.filterable&&lt(()=>{var l,c;(c=r.value)==null||c.filter((l=s.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...uo(as(t),Object.keys(pl.props)),...e,"onUpdate:modelValue":l=>n(Et,l),valueKey:o,popperClass:R(()=>{const l=[a.e("popper")];return t.popperClass&&l.push(t.popperClass),l.join(" ")}),filterMethod:(l="")=>{var c;t.filterMethod?t.filterMethod(l):t.remoteMethod?t.remoteMethod(l):(c=r.value)==null||c.filter(l)}}},nte=se({extends:fh,setup(t,e){const n=fh.setup(t,e);delete n.selectOptionClick;const s=It().proxy;return lt(()=>{n.select.states.cachedOptions.get(s.value)||n.select.onOptionCreate(s)}),De(()=>e.attrs.visible,r=>{n.states.visible=r},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function C0(t){return t||t===0}function RS(t){return Ue(t)&&t.length}function Fl(t){return Ue(t)?t:C0(t)?[t]:[]}function zp(t,e,n,s,r){for(let o=0;o<t.length;o++){const a=t[o];if(e(a,o,t,r))return s?s(a,o,t,r):a;{const i=n(a);if(RS(i)){const l=zp(i,e,n,s,a);if(l)return l}}}}function $p(t,e,n,s){for(let r=0;r<t.length;r++){const o=t[r];e(o,r,t,s);const a=n(o);RS(a)&&$p(a,e,n,o)}}const ste=(t,{attrs:e,slots:n,emit:s},{select:r,tree:o,key:a})=>{De(()=>t.modelValue,()=>{t.showCheckbox&&lt(()=>{const h=o.value;h&&!ps(h.getCheckedKeys(),Fl(t.modelValue))&&h.setCheckedKeys(Fl(t.modelValue))})},{immediate:!0,deep:!0});const i=R(()=>({value:a.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),l=(h,p)=>{var v;const m=i.value[h];return ct(m)?m(p,(v=o.value)==null?void 0:v.getNode(l("value",p))):p[m]},c=Fl(t.modelValue).map(h=>zp(t.data||[],p=>l("value",p)===h,p=>l("children",p),(p,v,m,y)=>y&&l("value",y))).filter(h=>C0(h)),u=R(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const h=[];return $p(t.data.concat(t.cacheData),p=>{const v=l("value",p);h.push({value:v,currentLabel:l("label",p),isDisabled:l("disabled",p)})},p=>l("children",p)),h}),d=()=>{var h;return(h=o.value)==null?void 0:h.getCheckedKeys().filter(p=>{var v;const m=(v=o.value)==null?void 0:v.getNode(p);return!es(m)&&hr(m.childNodes)})};return{...uo(as(t),Object.keys(Ah.props)),...e,nodeKey:a,expandOnClickNode:R(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:R(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(c):c),renderContent:(h,{node:p,data:v,store:m})=>h(nte,{value:l("value",v),label:l("label",v),disabled:l("disabled",v),visible:p.visible},t.renderContent?()=>t.renderContent(h,{node:p,data:v,store:m}):n.default?()=>n.default({node:p,data:v,store:m}):void 0),filterNodeMethod:(h,p,v)=>t.filterNodeMethod?t.filterNodeMethod(h,p,v):h?new RegExp($b(h),"i").test(l("label",p)||""):!0,onNodeClick:(h,p,v)=>{var m,y,g,_;if((m=e.onNodeClick)==null||m.call(e,h,p,v),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||p.isLeaf)){if(!l("disabled",h)){const b=(y=r.value)==null?void 0:y.states.options.get(l("value",h));(g=r.value)==null||g.handleOptionSelect(b)}}else t.expandOnClickNode&&v.proxy.handleExpandIconClick();(_=r.value)==null||_.focus()}},onCheck:(h,p)=>{var v;if(!t.showCheckbox)return;const m=l("value",h),y={};$p([o.value.store.root],S=>y[S.key]=S,S=>S.childNodes);const g=p.checkedKeys,_=t.multiple?Fl(t.modelValue).filter(S=>!(S in y)&&!g.includes(S)):[],b=_.concat(g);if(t.checkStrictly)s(Et,t.multiple?b:b.includes(m)?m:void 0);else if(t.multiple){const S=d();s(Et,_.concat(S))}else{const S=zp([h],A=>!RS(l("children",A))&&!l("disabled",A),A=>l("children",A)),w=S?l("value",S):void 0,C=C0(t.modelValue)&&!!zp([h],A=>l("value",A)===t.modelValue,A=>l("children",A));s(Et,w===t.modelValue||C?void 0:w)}lt(()=>{var S;const w=Fl(t.modelValue);o.value.setCheckedKeys(w),(S=e.onCheck)==null||S.call(e,h,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(v=r.value)==null||v.focus()},onNodeExpand:(h,p,v)=>{var m;(m=e.onNodeExpand)==null||m.call(e,h,p,v),lt(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&p.checked){const y={},g=o.value.getCheckedKeys();$p([o.value.store.root],S=>y[S.key]=S,S=>S.childNodes);const _=Fl(t.modelValue).filter(S=>!(S in y)&&!g.includes(S)),b=d();s(Et,_.concat(b))}})},cacheOptions:u}};var rte=se({props:{data:{type:Array,default:()=>[]}},setup(t){const e=Qe(gu);return De(()=>t.data,()=>{var n;t.data.forEach(r=>{e.states.cachedOptions.has(r.value)||e.states.cachedOptions.set(r.value,r)});const s=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Nt&&!Array.from(s).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const ote=se({name:"ElTreeSelect",inheritAttrs:!1,props:{...pl.props,...Ah.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:s}=e,r=z(),o=z(),a=R(()=>t.nodeKey||t.valueKey||"value"),i=tte(t,e,{select:r,tree:o,key:a}),{cacheOptions:l,...c}=ste(t,e,{select:r,tree:o,key:a}),u=qt({});return s(u),wt(()=>{Object.assign(u,{...uo(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...uo(r.value,["focus","blur","selectedLabel"])})}),()=>st(pl,qt({...i,ref:d=>r.value=d}),{...n,default:()=>[st(rte,{data:l.value}),st(Ah,qt({...c,ref:d=>o.value=d}))]})}});var ate=He(ote,[["__file","tree-select.vue"]]);const ite=_t(ate),PS=Symbol(),lte={key:-1,level:-1,data:{}};var zu=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t.CLASS="",t))(zu||{}),x0=(t=>(t.ADD="add",t.DELETE="delete",t))(x0||{});const pR={type:Number,default:26},cte=$e({data:{type:le(Array),default:()=>En([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:le(Object),default:()=>En({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:le(Array),default:()=>En([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:le(Array),default:()=>En([])},indent:{type:Number,default:16},itemSize:pR,icon:{type:sn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:le([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:le(Function)},perfMode:{type:Boolean,default:!0}}),ute=$e({node:{type:le(Object),default:()=>En(lte)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:pR}),dte=$e({node:{type:le(Object),required:!0}}),hR="node-click",mR="node-drop",vR="node-expand",gR="node-collapse",yR="current-change",bR="check",SR="check-change",_R="node-contextmenu",fte={[hR]:(t,e,n)=>t&&e&&n,[mR]:(t,e,n)=>t&&e&&n,[vR]:(t,e)=>t&&e,[gR]:(t,e)=>t&&e,[yR]:(t,e)=>t&&e,[bR]:(t,e)=>t&&e,[SR]:(t,e)=>t&&ln(e),[_R]:(t,e,n)=>t&&e&&n},pte={click:(t,e)=>!!(t&&e),drop:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&ln(e)};function hte(t,e){const n=z(new Set),s=z(new Set),{emit:r}=It();De([()=>e.value,()=>t.defaultCheckedKeys],()=>lt(()=>{_(t.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:S}=e.value,w=n.value,C=new Set;for(let A=S-1;A>=1;--A){const T=b.get(A);T&&T.forEach(x=>{const E=x.children;if(E){let M=!0,I=!1;for(const k of E){const U=k.key;if(w.has(U))I=!0;else if(C.has(U)){M=!1,I=!0;break}else M=!1}M?w.add(x.key):I?(C.add(x.key),w.delete(x.key)):(w.delete(x.key),C.delete(x.key))}})}s.value=C},a=b=>n.value.has(b.key),i=b=>s.value.has(b.key),l=(b,S,w=!0,C=!0)=>{const A=n.value,T=(x,E)=>{A[E?x0.ADD:x0.DELETE](x.key);const M=x.children;!t.checkStrictly&&M&&M.forEach(I=>{I.disabled||T(I,E)})};T(b,S),C&&o(),w&&c(b,S)},c=(b,S)=>{const{checkedNodes:w,checkedKeys:C}=v(),{halfCheckedNodes:A,halfCheckedKeys:T}=m();r(bR,b.data,{checkedKeys:C,checkedNodes:w,halfCheckedKeys:T,halfCheckedNodes:A}),r(SR,b.data,S)};function u(b=!1){return v(b).checkedKeys}function d(b=!1){return v(b).checkedNodes}function h(){return m().halfCheckedKeys}function p(){return m().halfCheckedNodes}function v(b=!1){const S=[],w=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:C}=e.value;n.value.forEach(A=>{const T=C.get(A);T&&(!b||b&&T.isLeaf)&&(w.push(A),S.push(T.data))})}return{checkedKeys:w,checkedNodes:S}}function m(){const b=[],S=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:w}=e.value;s.value.forEach(C=>{const A=w.get(C);A&&(S.push(C),b.push(A.data))})}return{halfCheckedNodes:b,halfCheckedKeys:S}}function y(b){n.value.clear(),s.value.clear(),lt(()=>{_(b)})}function g(b,S){if(e!=null&&e.value&&t.showCheckbox){const w=e.value.treeNodeMap.get(b);w&&l(w,S,!1)}}function _(b){if(e!=null&&e.value){const{treeNodeMap:S}=e.value;if(t.showCheckbox&&S&&(b==null?void 0:b.length)>0){for(const w of b){const C=S.get(w);C&&!a(C)&&l(C,!0,!1,!1)}o()}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:a,isIndeterminate:i,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:h,getHalfCheckedNodes:p,setChecked:g,setCheckedKeys:y}}function mte(t,e){const n=z(new Set([])),s=z(new Set([])),r=R(()=>ct(t.filterMethod));function o(i){var l;if(!r.value)return;const c=new Set,u=s.value,d=n.value,h=[],p=((l=e.value)==null?void 0:l.treeNodes)||[],v=t.filterMethod;d.clear();function m(y){y.forEach(g=>{h.push(g),v!=null&&v(i,g.data,g)?h.forEach(b=>{c.add(b.key)}):g.isLeaf&&d.add(g.key);const _=g.children;if(_&&m(_),!g.isLeaf){if(!c.has(g.key))d.add(g.key);else if(_){let b=!0;for(const S of _)if(!d.has(S.key)){b=!1;break}b?u.add(g.key):u.delete(g.key)}}h.pop()})}return m(p),c}function a(i){return s.value.has(i.key)}return{hiddenExpandIconKeySet:s,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:a}}function vte(t,e){const n=z(new Set(t.defaultExpandedKeys)),s=z(),r=dn(),o=z();De(()=>t.currentNodeKey,V=>{s.value=V},{immediate:!0}),De(()=>t.data,V=>{ge(V)},{immediate:!0});const{isIndeterminate:a,isChecked:i,toggleCheckbox:l,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:p,setCheckedKeys:v}=hte(t,r),{doFilter:m,hiddenNodeKeySet:y,isForceHiddenExpandIcon:g}=mte(t,r),_=R(()=>{var V;return((V=t.props)==null?void 0:V.value)||zu.KEY}),b=R(()=>{var V;return((V=t.props)==null?void 0:V.children)||zu.CHILDREN}),S=R(()=>{var V;return((V=t.props)==null?void 0:V.disabled)||zu.DISABLED}),w=R(()=>{var V;return((V=t.props)==null?void 0:V.label)||zu.LABEL}),C=R(()=>{var V;const ce=n.value,Q=y.value,Me=[],Pe=((V=r.value)==null?void 0:V.treeNodes)||[],Te=[];for(let ve=Pe.length-1;ve>=0;--ve)Te.push(Pe[ve]);for(;Te.length;){const ve=Te.pop();if(!Q.has(ve.key)&&(Me.push(ve),ve.children&&ce.has(ve.key)))for(let xe=ve.children.length-1;xe>=0;--xe)Te.push(ve.children[xe])}return Me}),A=R(()=>C.value.length>0);function T(V){const ce=new Map,Q=new Map;let Me=1;function Pe(ve,xe=1,we=void 0){var J;const G=[];for(const me of ve){const de=M(me),Re={level:xe,key:de,data:me};Re.label=k(me),Re.parent=we;const ke=E(me);Re.disabled=I(me),Re.isLeaf=!ke||ke.length===0,ke&&ke.length&&(Re.children=Pe(ke,xe+1,Re)),G.push(Re),ce.set(de,Re),Q.has(xe)||Q.set(xe,[]),(J=Q.get(xe))==null||J.push(Re)}return xe>Me&&(Me=xe),G}const Te=Pe(V);return{treeNodeMap:ce,levelTreeNodeMap:Q,maxLevel:Me,treeNodes:Te}}function x(V){const ce=m(V);ce&&(n.value=ce)}function E(V){return V[b.value]}function M(V){return V?V[_.value]:""}function I(V){return V[S.value]}function k(V){return V[w.value]}function U(V){n.value.has(V.key)?W(V):$(V)}function B(V){const ce=new Set,Q=r.value.treeNodeMap;V.forEach(Me=>{let Pe=Q.get(Me);for(;Pe&&!ce.has(Pe.key);)ce.add(Pe.key),Pe=Pe.parent}),n.value=ce}function P(V,ce){e(hR,V.data,V,ce),L(V),t.expandOnClickNode&&U(V),t.showCheckbox&&t.checkOnClickNode&&!V.disabled&&l(V,!i(V),!0)}function N(V,ce){e(mR,V.data,V,ce)}function L(V){Z(V)||(s.value=V.key,e(yR,V.data,V))}function O(V,ce){l(V,ce)}function $(V){const ce=n.value;if(r.value&&t.accordion){const{treeNodeMap:Q}=r.value;ce.forEach(Me=>{const Pe=Q.get(Me);V&&V.level===(Pe==null?void 0:Pe.level)&&ce.delete(Me)})}ce.add(V.key),e(vR,V.data,V)}function W(V){n.value.delete(V.key),e(gR,V.data,V)}function ee(V){return n.value.has(V.key)}function Y(V){return!!V.disabled}function Z(V){const ce=s.value;return ce!==void 0&&ce===V.key}function ae(){var V,ce;if(s.value)return(ce=(V=r.value)==null?void 0:V.treeNodeMap.get(s.value))==null?void 0:ce.data}function ue(){return s.value}function re(V){s.value=V}function ge(V){lt(()=>r.value=T(V))}function ye(V){var ce;const Q=Mt(V)?M(V):V;return(ce=r.value)==null?void 0:ce.treeNodeMap.get(Q)}function Fe(V,ce="auto"){const Q=ye(V);Q&&o.value&&o.value.scrollToItem(C.value.indexOf(Q),ce)}function X(V){var ce;(ce=o.value)==null||ce.scrollTo(V)}return{tree:r,flattenTree:C,isNotEmpty:A,listRef:o,getKey:M,getChildren:E,toggleExpand:U,toggleCheckbox:l,isExpanded:ee,isChecked:i,isIndeterminate:a,isDisabled:Y,isCurrent:Z,isForceHiddenExpandIcon:g,handleNodeClick:P,handleNodeDrop:N,handleNodeCheck:O,getCurrentNode:ae,getCurrentKey:ue,setCurrentKey:re,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:p,setCheckedKeys:v,filter:x,setData:ge,getNode:ye,expandNode:$,collapseNode:W,setExpandedKeys:B,scrollToNode:Fe,scrollTo:X}}var gte=se({name:"ElTreeNodeContent",props:dte,setup(t){const e=Qe(PS),n=Le("tree");return()=>{const s=t.node,{data:r}=s;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:s,data:r}):st("span",{class:n.be("node","label")},[s==null?void 0:s.label])}}});const yte=se({name:"ElTreeNode"}),bte=se({...yte,props:ute,emits:pte,setup(t,{emit:e}){const n=t,s=Qe(PS),r=Le("tree"),o=R(()=>{var p;return(p=s==null?void 0:s.props.indent)!=null?p:16}),a=R(()=>{var p;return(p=s==null?void 0:s.props.icon)!=null?p:qT}),i=p=>{const v=s==null?void 0:s.props.props.class;if(!v)return{};let m;if(ct(v)){const{data:y}=p;m=v(y,p)}else m=v;return ot(m)?{[m]:!0}:m},l=p=>{e("click",n.node,p)},c=p=>{e("drop",n.node,p)},u=()=>{e("toggle",n.node)},d=p=>{e("check",n.node,p)},h=p=>{var v,m,y,g;(y=(m=(v=s==null?void 0:s.instance)==null?void 0:v.vnode)==null?void 0:m.props)!=null&&y.onNodeContextmenu&&(p.stopPropagation(),p.preventDefault()),s==null||s.ctx.emit(_R,p,(g=n.node)==null?void 0:g.data,n.node)};return(p,v)=>{var m,y,g;return D(),H("div",{ref:"node$",class:F([f(r).b("node"),f(r).is("expanded",p.expanded),f(r).is("current",p.current),f(r).is("focusable",!p.disabled),f(r).is("checked",!p.disabled&&p.checked),i(p.node)]),role:"treeitem",tabindex:"-1","aria-expanded":p.expanded,"aria-disabled":p.disabled,"aria-checked":p.checked,"data-key":(m=p.node)==null?void 0:m.key,onClick:pt(l,["stop"]),onContextmenu:h,onDragover:pt(()=>{},["prevent"]),onDragenter:pt(()=>{},["prevent"]),onDrop:pt(c,["stop"])},[K("div",{class:F(f(r).be("node","content")),style:rt({paddingLeft:`${(p.node.level-1)*f(o)}px`,height:p.itemSize+"px"})},[f(a)?(D(),_e(f(tt),{key:0,class:F([f(r).is("leaf",!!((y=p.node)!=null&&y.isLeaf)),f(r).is("hidden",p.hiddenExpandIcon),{expanded:!((g=p.node)!=null&&g.isLeaf)&&p.expanded},f(r).be("node","expand-icon")]),onClick:pt(u,["stop"])},{default:te(()=>[(D(),_e(Rt(f(a))))]),_:1},8,["class","onClick"])):he("v-if",!0),p.showCheckbox?(D(),_e(f(Kr),{key:1,"model-value":p.checked,indeterminate:p.indeterminate,disabled:p.disabled,onChange:d,onClick:pt(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):he("v-if",!0),j(f(gte),{node:p.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var Ste=He(bte,[["__file","tree-node.vue"]]);const _te=se({name:"ElTreeV2"}),wte=se({..._te,props:cte,emits:fte,setup(t,{expose:e,emit:n}){const s=t,r=Gn(),o=R(()=>s.itemSize);Bt(PS,{ctx:{emit:n,slots:r},props:s,instance:It()}),Bt(Oo,void 0);const{t:a}=Ut(),i=Le("tree"),{flattenTree:l,isNotEmpty:c,listRef:u,toggleExpand:d,isExpanded:h,isIndeterminate:p,isChecked:v,isDisabled:m,isCurrent:y,isForceHiddenExpandIcon:g,handleNodeClick:_,handleNodeDrop:b,handleNodeCheck:S,toggleCheckbox:w,getCurrentNode:C,getCurrentKey:A,setCurrentKey:T,getCheckedKeys:x,getCheckedNodes:E,getHalfCheckedKeys:M,getHalfCheckedNodes:I,setChecked:k,setCheckedKeys:U,filter:B,setData:P,getNode:N,expandNode:L,collapseNode:O,setExpandedKeys:$,scrollToNode:W,scrollTo:ee}=vte(s,n);return e({toggleCheckbox:w,getCurrentNode:C,getCurrentKey:A,setCurrentKey:T,getCheckedKeys:x,getCheckedNodes:E,getHalfCheckedKeys:M,getHalfCheckedNodes:I,setChecked:k,setCheckedKeys:U,filter:B,setData:P,getNode:N,expandNode:L,collapseNode:O,setExpandedKeys:$,scrollToNode:W,scrollTo:ee}),(Y,Z)=>(D(),H("div",{class:F([f(i).b(),{[f(i).m("highlight-current")]:Y.highlightCurrent}]),role:"tree"},[f(c)?(D(),_e(f(rI),{key:0,ref_key:"listRef",ref:u,"class-name":f(i).b("virtual-list"),data:f(l),total:f(l).length,height:Y.height,"item-size":f(o),"perf-mode":Y.perfMode},{default:te(({data:ae,index:ue,style:re})=>[(D(),_e(Ste,{key:ae[ue].key,style:rt(re),node:ae[ue],expanded:f(h)(ae[ue]),"show-checkbox":Y.showCheckbox,checked:f(v)(ae[ue]),indeterminate:f(p)(ae[ue]),"item-size":f(o),disabled:f(m)(ae[ue]),current:f(y)(ae[ue]),"hidden-expand-icon":f(g)(ae[ue]),onClick:f(_),onToggle:f(d),onCheck:f(S),onDrop:f(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(D(),H("div",{key:1,class:F(f(i).e("empty-block"))},[pe(Y.$slots,"empty",{},()=>{var ae;return[K("span",{class:F(f(i).e("empty-text"))},Ne((ae=Y.emptyText)!=null?ae:f(a)("el.tree.emptyText")),3)]})],2))],2))}});var Cte=He(wte,[["__file","tree.vue"]]);const xte=_t(Cte),wR=Symbol("uploadContextKey"),Ate="ElUpload";class Ete extends Error{constructor(e,n,s,r){super(e),this.name="UploadAjaxError",this.status=n,this.method=s,this.url=r}}function B1(t,e,n){let s;return n.response?s=`${n.response.error||n.response}`:n.responseText?s=`${n.responseText}`:s=`fail to ${e.method} ${t} ${n.status}`,new Ete(s,n.status,e.method,t)}function Tte(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Mte=t=>{typeof XMLHttpRequest>"u"&&Qn(Ate,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",o=>{const a=o;a.percent=o.total>0?o.loaded/o.total*100:0,t.onProgress(a)});const s=new FormData;if(t.data)for(const[o,a]of Object.entries(t.data))Ue(a)&&a.length?s.append(o,...a):s.append(o,a);s.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(B1(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(B1(n,t,e));t.onSuccess(Tte(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=t.headers||{};if(r instanceof Headers)r.forEach((o,a)=>e.setRequestHeader(a,o));else for(const[o,a]of Object.entries(r))es(a)||e.setRequestHeader(o,String(a));return e.send(s),e},CR=["text","picture","picture-card"];let Ite=1;const A0=()=>Date.now()+Ite++,xR=$e({action:{type:String,default:"#"},headers:{type:le(Object)},method:{type:String,default:"post"},data:{type:le([Object,Function,Promise]),default:()=>En({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:le(Array),default:()=>En([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:CR,default:"text"},httpRequest:{type:le(Function),default:Mte},disabled:Boolean,limit:Number}),Rte=$e({...xR,beforeUpload:{type:le(Function),default:Zt},beforeRemove:{type:le(Function)},onRemove:{type:le(Function),default:Zt},onChange:{type:le(Function),default:Zt},onPreview:{type:le(Function),default:Zt},onSuccess:{type:le(Function),default:Zt},onProgress:{type:le(Function),default:Zt},onError:{type:le(Function),default:Zt},onExceed:{type:le(Function),default:Zt},crossorigin:{type:le(String)}}),Pte=$e({files:{type:le(Array),default:()=>En([])},disabled:{type:Boolean,default:!1},handlePreview:{type:le(Function),default:Zt},listType:{type:String,values:CR,default:"text"},crossorigin:{type:le(String)}}),Dte={remove:t=>!!t},kte=se({name:"ElUploadList"}),Lte=se({...kte,props:Pte,emits:Dte,setup(t,{emit:e}){const n=t,{t:s}=Ut(),r=Le("upload"),o=Le("icon"),a=Le("list"),i=Es(),l=z(!1),c=R(()=>[r.b("list"),r.bm("list",n.listType),r.is("disabled",n.disabled)]),u=d=>{e("remove",d)};return(d,h)=>(D(),_e(OE,{tag:"ul",class:F(f(c)),name:f(a).b()},{default:te(()=>[(D(!0),H(Ze,null,Tt(d.files,(p,v)=>(D(),H("li",{key:p.uid||p.name,class:F([f(r).be("list","item"),f(r).is(p.status),{focusing:l.value}]),tabindex:"0",onKeydown:on(m=>!f(i)&&u(p),["delete"]),onFocus:m=>l.value=!0,onBlur:m=>l.value=!1,onClick:m=>l.value=!1},[pe(d.$slots,"default",{file:p,index:v},()=>[d.listType==="picture"||p.status!=="uploading"&&d.listType==="picture-card"?(D(),H("img",{key:0,class:F(f(r).be("list","item-thumbnail")),src:p.url,crossorigin:d.crossorigin,alt:""},null,10,["src","crossorigin"])):he("v-if",!0),p.status==="uploading"||d.listType!=="picture-card"?(D(),H("div",{key:1,class:F(f(r).be("list","item-info"))},[K("a",{class:F(f(r).be("list","item-name")),onClick:pt(m=>d.handlePreview(p),["prevent"])},[j(f(tt),{class:F(f(o).m("document"))},{default:te(()=>[j(f(yU))]),_:1},8,["class"]),K("span",{class:F(f(r).be("list","item-file-name")),title:p.name},Ne(p.name),11,["title"])],10,["onClick"]),p.status==="uploading"?(D(),_e(f(q2),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(p.percentage),style:rt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):he("v-if",!0)],2)):he("v-if",!0),K("label",{class:F(f(r).be("list","item-status-label"))},[d.listType==="text"?(D(),_e(f(tt),{key:0,class:F([f(o).m("upload-success"),f(o).m("circle-check")])},{default:te(()=>[j(f(bb))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(D(),_e(f(tt),{key:1,class:F([f(o).m("upload-success"),f(o).m("check")])},{default:te(()=>[j(f(Yd))]),_:1},8,["class"])):he("v-if",!0)],2),f(i)?he("v-if",!0):(D(),_e(f(tt),{key:2,class:F(f(o).m("close")),onClick:m=>u(p)},{default:te(()=>[j(f(mo))]),_:2},1032,["class","onClick"])),he(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),he(" This is a bug which needs to be fixed "),he(" TODO: Fix the incorrect navigation interaction "),f(i)?he("v-if",!0):(D(),H("i",{key:3,class:F(f(o).m("close-tip"))},Ne(f(s)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(D(),H("span",{key:4,class:F(f(r).be("list","item-actions"))},[K("span",{class:F(f(r).be("list","item-preview")),onClick:m=>d.handlePreview(p)},[j(f(tt),{class:F(f(o).m("zoom-in"))},{default:te(()=>[j(f(ZT))]),_:1},8,["class"])],10,["onClick"]),f(i)?he("v-if",!0):(D(),H("span",{key:0,class:F(f(r).be("list","item-delete")),onClick:m=>u(p)},[j(f(tt),{class:F(f(o).m("delete"))},{default:te(()=>[j(f(vU))]),_:1},8,["class"])],10,["onClick"]))],2)):he("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),pe(d.$slots,"append")]),_:3},8,["class","name"]))}});var F1=He(Lte,[["__file","upload-list.vue"]]);const Ote=$e({disabled:{type:Boolean,default:!1}}),Bte={file:t=>Ue(t)},AR="ElUploadDrag",Fte=se({name:AR}),Nte=se({...Fte,props:Ote,emits:Bte,setup(t,{emit:e}){Qe(wR)||Qn(AR,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=Le("upload"),r=z(!1),o=Es(),a=l=>{if(o.value)return;r.value=!1,l.stopPropagation();const c=Array.from(l.dataTransfer.files);e("file",c)},i=()=>{o.value||(r.value=!0)};return(l,c)=>(D(),H("div",{class:F([f(s).b("dragger"),f(s).is("dragover",r.value)]),onDrop:pt(a,["prevent"]),onDragover:pt(i,["prevent"]),onDragleave:pt(u=>r.value=!1,["prevent"])},[pe(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Ute=He(Nte,[["__file","upload-dragger.vue"]]);const zte=$e({...xR,beforeUpload:{type:le(Function),default:Zt},onRemove:{type:le(Function),default:Zt},onStart:{type:le(Function),default:Zt},onSuccess:{type:le(Function),default:Zt},onProgress:{type:le(Function),default:Zt},onError:{type:le(Function),default:Zt},onExceed:{type:le(Function),default:Zt}}),$te=se({name:"ElUploadContent",inheritAttrs:!1}),Hte=se({...$te,props:zte,setup(t,{expose:e}){const n=t,s=Le("upload"),r=Es(),o=dn({}),a=dn(),i=m=>{if(m.length===0)return;const{autoUpload:y,limit:g,fileList:_,multiple:b,onStart:S,onExceed:w}=n;if(g&&_.length+m.length>g){w(m,_);return}b||(m=m.slice(0,1));for(const C of m){const A=C;A.uid=A0(),S(A),y&&l(A)}},l=async m=>{if(a.value.value="",!n.beforeUpload)return u(m);let y,g={};try{const b=n.data,S=n.beforeUpload(m);g=id(n.data)?ah(n.data):n.data,y=await S,id(n.data)&&ps(b,g)&&(g=ah(n.data))}catch{y=!1}if(y===!1){n.onRemove(m);return}let _=m;y instanceof Blob&&(y instanceof File?_=y:_=new File([y],m.name,{type:m.type})),u(Object.assign(_,{uid:m.uid}),g)},c=async(m,y)=>ct(m)?m(y):m,u=async(m,y)=>{const{headers:g,data:_,method:b,withCredentials:S,name:w,action:C,onProgress:A,onSuccess:T,onError:x,httpRequest:E}=n;try{y=await c(y??_,m)}catch{n.onRemove(m);return}const{uid:M}=m,I={headers:g||{},withCredentials:S,file:m,data:y,method:b,filename:w,action:C,onProgress:U=>{A(U,m)},onSuccess:U=>{T(U,m),delete o.value[M]},onError:U=>{x(U,m),delete o.value[M]}},k=E(I);o.value[M]=k,k instanceof Promise&&k.then(I.onSuccess,I.onError)},d=m=>{const y=m.target.files;y&&i(Array.from(y))},h=()=>{r.value||(a.value.value="",a.value.click())},p=()=>{h()};return e({abort:m=>{HT(o.value).filter(m?([g])=>String(m.uid)===g:()=>!0).forEach(([g,_])=>{_ instanceof XMLHttpRequest&&_.abort(),delete o.value[g]})},upload:l}),(m,y)=>(D(),H("div",{class:F([f(s).b(),f(s).m(m.listType),f(s).is("drag",m.drag),f(s).is("disabled",f(r))]),tabindex:f(r)?"-1":"0",onClick:h,onKeydown:on(pt(p,["self"]),["enter","space"])},[m.drag?(D(),_e(Ute,{key:0,disabled:f(r),onFile:i},{default:te(()=>[pe(m.$slots,"default")]),_:3},8,["disabled"])):pe(m.$slots,"default",{key:1}),K("input",{ref_key:"inputRef",ref:a,class:F(f(s).e("input")),name:m.name,disabled:f(r),multiple:m.multiple,accept:m.accept,type:"file",onChange:d,onClick:pt(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var N1=He(Hte,[["__file","upload-content.vue"]]);const U1="ElUpload",z1=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Vte=(t,e)=>{const n=LT(t,"fileList",void 0,{passive:!0}),s=p=>n.value.find(v=>v.uid===p.uid);function r(p){var v;(v=e.value)==null||v.abort(p)}function o(p=["ready","uploading","success","fail"]){n.value=n.value.filter(v=>!p.includes(v.status))}function a(p){n.value=n.value.filter(v=>v!==p)}const i=(p,v)=>{const m=s(v);m&&(console.error(p),m.status="fail",a(m),t.onError(p,m,n.value),t.onChange(m,n.value))},l=(p,v)=>{const m=s(v);m&&(t.onProgress(p,m,n.value),m.status="uploading",m.percentage=Math.round(p.percent))},c=(p,v)=>{const m=s(v);m&&(m.status="success",m.response=p,t.onSuccess(p,m,n.value),t.onChange(m,n.value))},u=p=>{es(p.uid)&&(p.uid=A0());const v={name:p.name,percentage:0,status:"ready",size:p.size,raw:p,uid:p.uid};if(t.listType==="picture-card"||t.listType==="picture")try{v.url=URL.createObjectURL(p)}catch(m){m.message,t.onError(m,v,n.value)}n.value=[...n.value,v],t.onChange(v,n.value)},d=async p=>{const v=p instanceof File?s(p):p;v||Qn(U1,"file to be removed not found");const m=y=>{r(y),a(y),t.onRemove(y,n.value),z1(y)};t.beforeRemove?await t.beforeRemove(v,n.value)!==!1&&m(v):m(v)};function h(){n.value.filter(({status:p})=>p==="ready").forEach(({raw:p})=>{var v;return p&&((v=e.value)==null?void 0:v.upload(p))})}return De(()=>t.listType,p=>{p!=="picture-card"&&p!=="picture"||(n.value=n.value.map(v=>{const{raw:m,url:y}=v;if(!y&&m)try{v.url=URL.createObjectURL(m)}catch(g){t.onError(g,v,n.value)}return v}))}),De(n,p=>{for(const v of p)v.uid||(v.uid=A0()),v.status||(v.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:r,clearFiles:o,handleError:i,handleProgress:l,handleStart:u,handleSuccess:c,handleRemove:d,submit:h,revokeFileObjectURL:z1}},Wte=se({name:"ElUpload"}),Gte=se({...Wte,props:Rte,setup(t,{expose:e}){const n=t,s=Es(),r=dn(),{abort:o,submit:a,clearFiles:i,uploadFiles:l,handleStart:c,handleError:u,handleRemove:d,handleSuccess:h,handleProgress:p,revokeFileObjectURL:v}=Vte(n,r),m=R(()=>n.listType==="picture-card"),y=R(()=>({...n,fileList:l.value,onStart:c,onProgress:p,onSuccess:h,onError:u,onRemove:d}));return Qt(()=>{l.value.forEach(v)}),Bt(wR,{accept:Yt(n,"accept")}),e({abort:o,submit:a,clearFiles:i,handleStart:c,handleRemove:d}),(g,_)=>(D(),H("div",null,[f(m)&&g.showFileList?(D(),_e(F1,{key:0,disabled:f(s),"list-type":g.listType,files:f(l),crossorigin:g.crossorigin,"handle-preview":g.onPreview,onRemove:f(d)},Hr({append:te(()=>[j(N1,Dt({ref_key:"uploadRef",ref:r},f(y)),{default:te(()=>[g.$slots.trigger?pe(g.$slots,"trigger",{key:0}):he("v-if",!0),!g.$slots.trigger&&g.$slots.default?pe(g.$slots,"default",{key:1}):he("v-if",!0)]),_:3},16)]),_:2},[g.$slots.file?{name:"default",fn:te(({file:b,index:S})=>[pe(g.$slots,"file",{file:b,index:S})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):he("v-if",!0),!f(m)||f(m)&&!g.showFileList?(D(),_e(N1,Dt({key:1,ref_key:"uploadRef",ref:r},f(y)),{default:te(()=>[g.$slots.trigger?pe(g.$slots,"trigger",{key:0}):he("v-if",!0),!g.$slots.trigger&&g.$slots.default?pe(g.$slots,"default",{key:1}):he("v-if",!0)]),_:3},16)):he("v-if",!0),g.$slots.trigger?pe(g.$slots,"default",{key:2}):he("v-if",!0),pe(g.$slots,"tip"),!f(m)&&g.showFileList?(D(),_e(F1,{key:3,disabled:f(s),"list-type":g.listType,files:f(l),crossorigin:g.crossorigin,"handle-preview":g.onPreview,onRemove:f(d)},Hr({_:2},[g.$slots.file?{name:"default",fn:te(({file:b,index:S})=>[pe(g.$slots,"file",{file:b,index:S})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):he("v-if",!0)]))}});var Kte=He(Gte,[["__file","upload.vue"]]);const jte=_t(Kte),qte=$e({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:le([String,Array]),default:"Element Plus"},font:{type:le(Object)},gap:{type:le(Array),default:()=>[100,100]},offset:{type:le(Array)}});function Yte(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Xte(t){return Object.keys(t).map(e=>`${Yte(e)}: ${t[e]};`).join(" ")}function Qte(){return window.devicePixelRatio||1}const Zte=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},ER=3;function fv(t,e,n=1){const s=document.createElement("canvas"),r=s.getContext("2d"),o=t*n,a=e*n;return s.setAttribute("width",`${o}px`),s.setAttribute("height",`${a}px`),r.save(),[r,s,o,a]}function Jte(){function t(e,n,s,r,o,a,i,l){const[c,u,d,h]=fv(r,o,s);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,d,h);else{const{color:W,fontSize:ee,fontStyle:Y,fontWeight:Z,fontFamily:ae,textAlign:ue,textBaseline:re}=a,ge=Number(ee)*s;c.font=`${Y} normal ${Z} ${ge}px/${o}px ${ae}`,c.fillStyle=W,c.textAlign=ue,c.textBaseline=re;const ye=Ue(e)?e:[e];ye==null||ye.forEach((Fe,X)=>{c.fillText(Fe??"",d/2,X*(ge+ER*s))})}const p=Math.PI/180*Number(n),v=Math.max(r,o),[m,y,g]=fv(v,v,s);m.translate(g/2,g/2),m.rotate(p),d>0&&h>0&&m.drawImage(u,-d/2,-h/2);function _(W,ee){const Y=W*Math.cos(p)-ee*Math.sin(p),Z=W*Math.sin(p)+ee*Math.cos(p);return[Y,Z]}let b=0,S=0,w=0,C=0;const A=d/2,T=h/2;[[0-A,0-T],[0+A,0-T],[0+A,0+T],[0-A,0+T]].forEach(([W,ee])=>{const[Y,Z]=_(W,ee);b=Math.min(b,Y),S=Math.max(S,Y),w=Math.min(w,Z),C=Math.max(C,Z)});const E=b+g/2,M=w+g/2,I=S-b,k=C-w,U=i*s,B=l*s,P=(I+U)*2,N=k+B,[L,O]=fv(P,N);function $(W=0,ee=0){L.drawImage(y,E,M,I,k,W,ee,I,k)}return $(),$(I+U,-k/2-B/2),$(I+U,+k/2+B/2),[O.toDataURL(),P/s,N/s]}return t}const ene=se({name:"ElWatermark"}),tne=se({...ene,props:qte,setup(t){const e=t,n={position:"relative"},s=R(()=>{var E,M;return(M=(E=e.font)==null?void 0:E.color)!=null?M:"rgba(0,0,0,.15)"}),r=R(()=>{var E,M;return(M=(E=e.font)==null?void 0:E.fontSize)!=null?M:16}),o=R(()=>{var E,M;return(M=(E=e.font)==null?void 0:E.fontWeight)!=null?M:"normal"}),a=R(()=>{var E,M;return(M=(E=e.font)==null?void 0:E.fontStyle)!=null?M:"normal"}),i=R(()=>{var E,M;return(M=(E=e.font)==null?void 0:E.fontFamily)!=null?M:"sans-serif"}),l=R(()=>{var E,M;return(M=(E=e.font)==null?void 0:E.textAlign)!=null?M:"center"}),c=R(()=>{var E,M;return(M=(E=e.font)==null?void 0:E.textBaseline)!=null?M:"hanging"}),u=R(()=>e.gap[0]),d=R(()=>e.gap[1]),h=R(()=>u.value/2),p=R(()=>d.value/2),v=R(()=>{var E,M;return(M=(E=e.offset)==null?void 0:E[0])!=null?M:h.value}),m=R(()=>{var E,M;return(M=(E=e.offset)==null?void 0:E[1])!=null?M:p.value}),y=()=>{const E={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let M=v.value-h.value,I=m.value-p.value;return M>0&&(E.left=`${M}px`,E.width=`calc(100% - ${M}px)`,M=0),I>0&&(E.top=`${I}px`,E.height=`calc(100% - ${I}px)`,I=0),E.backgroundPosition=`${M}px ${I}px`,E},g=dn(null),_=dn(),b=z(!1),S=()=>{_.value&&(_.value.remove(),_.value=void 0)},w=(E,M)=>{var I;g.value&&_.value&&(b.value=!0,_.value.setAttribute("style",Xte({...y(),backgroundImage:`url('${E}')`,backgroundSize:`${Math.floor(M)}px`})),(I=g.value)==null||I.append(_.value),setTimeout(()=>{b.value=!1}))},C=E=>{let M=120,I=64;const k=e.image,U=e.content,B=e.width,P=e.height;if(!k&&E.measureText){E.font=`${Number(r.value)}px ${i.value}`;const N=Ue(U)?U:[U],L=N.map(O=>{const $=E.measureText(O);return[$.width,$.fontBoundingBoxAscent!==void 0?$.fontBoundingBoxAscent+$.fontBoundingBoxDescent:$.actualBoundingBoxAscent+$.actualBoundingBoxDescent]});M=Math.ceil(Math.max(...L.map(O=>O[0]))),I=Math.ceil(Math.max(...L.map(O=>O[1])))*N.length+(N.length-1)*ER}return[B??M,P??I]},A=Jte(),T=()=>{const M=document.createElement("canvas").getContext("2d"),I=e.image,k=e.content,U=e.rotate;if(M){_.value||(_.value=document.createElement("div"));const B=Qte(),[P,N]=C(M),L=O=>{const[$,W]=A(O||"",U,B,P,N,{color:s.value,fontSize:r.value,fontStyle:a.value,fontWeight:o.value,fontFamily:i.value,textAlign:l.value,textBaseline:c.value},u.value,d.value);w($,W)};if(I){const O=new Image;O.onload=()=>{L(O)},O.onerror=()=>{L(k)},O.crossOrigin="anonymous",O.referrerPolicy="no-referrer",O.src=I}else L(k)}};return wt(()=>{T()}),De(()=>e,()=>{T()},{deep:!0,flush:"post"}),Qt(()=>{S()}),kT(g,E=>{b.value||E.forEach(M=>{Zte(M,_.value)&&(S(),T())})},{attributes:!0,subtree:!0,childList:!0}),(E,M)=>(D(),H("div",{ref_key:"containerRef",ref:g,style:rt([n])},[pe(E.$slots,"default")],4))}});var nne=He(tne,[["__file","watermark.vue"]]);const sne=_t(nne),rne=$e({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:le(Object)},targetAreaClickable:{type:Boolean,default:!0}}),one=(t,e,n,s,r)=>{const o=z(null),a=()=>{let d;return ot(t.value)?d=document.querySelector(t.value):ct(t.value)?d=t.value():d=t.value,d},i=()=>{const d=a();if(!d||!e.value){o.value=null;return}ane(d)||d.scrollIntoView(r.value);const{left:h,top:p,width:v,height:m}=d.getBoundingClientRect();o.value={left:h,top:p,width:v,height:m,radius:0}};wt(()=>{De([e,t],()=>{i()},{immediate:!0}),window.addEventListener("resize",i)}),Qt(()=>{window.removeEventListener("resize",i)});const l=d=>{var h;return(h=Ue(n.value.offset)?n.value.offset[d]:n.value.offset)!=null?h:6},c=R(()=>{var d;if(!o.value)return o.value;const h=l(0),p=l(1),v=((d=n.value)==null?void 0:d.radius)||2;return{left:o.value.left-h,top:o.value.top-p,width:o.value.width+h*2,height:o.value.height+p*2,radius:v}}),u=R(()=>{const d=a();return!s.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var h,p,v,m;return window.DOMRect.fromRect({width:((h=c.value)==null?void 0:h.width)||0,height:((p=c.value)==null?void 0:p.height)||0,x:((v=c.value)==null?void 0:v.left)||0,y:((m=c.value)==null?void 0:m.top)||0})}}});return{mergedPosInfo:c,triggerTarget:u}},Em=Symbol("ElTour");function ane(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:s,right:r,bottom:o,left:a}=t.getBoundingClientRect();return s>=0&&a>=0&&r<=e&&o<=n}const ine=(t,e,n,s,r,o,a,i)=>{const l=z(),c=z(),u=z({}),d={x:l,y:c,placement:s,strategy:r,middlewareData:u},h=R(()=>{const g=[eR(f(o)),GJ(),jJ(),lne()];return f(i)&&f(n)&&g.push(JI({element:f(n)})),g}),p=async()=>{if(!Nt)return;const g=f(t),_=f(e);if(!g||!_)return;const b=await lR(g,_,{placement:f(s),strategy:f(r),middleware:f(h)});Oc(d).forEach(S=>{d[S].value=b[S]})},v=R(()=>{if(!f(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:f(a)};const{overflow:g}=f(u);return{position:f(r),zIndex:f(a),top:f(c)!=null?`${f(c)}px`:"",left:f(l)!=null?`${f(l)}px`:"",maxWidth:g!=null&&g.maxWidth?`${g==null?void 0:g.maxWidth}px`:""}}),m=R(()=>{if(!f(i))return{};const{arrow:g}=f(u);return{left:(g==null?void 0:g.x)!=null?`${g==null?void 0:g.x}px`:"",top:(g==null?void 0:g.y)!=null?`${g==null?void 0:g.y}px`:""}});let y;return wt(()=>{const g=f(t),_=f(e);g&&_&&(y=dee(g,_,p)),_s(()=>{p()})}),Qt(()=>{y&&y()}),{update:p,contentStyle:v,arrowStyle:m}},lne=()=>({name:"overflow",async fn(t){const e=await AS(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),cne=se({name:"ElTourMask",inheritAttrs:!1}),une=se({...cne,props:rne,setup(t){const e=t,{ns:n}=Qe(Em),s=R(()=>{var i,l;return(l=(i=e.pos)==null?void 0:i.radius)!=null?l:2}),r=R(()=>{const i=s.value,l=`a${i},${i} 0 0 1`;return{topRight:`${l} ${i},${i}`,bottomRight:`${l} ${-i},${i}`,bottomLeft:`${l} ${-i},${-i}`,topLeft:`${l} ${i},${-i}`}}),o=R(()=>{const i=window.innerWidth,l=window.innerHeight,c=r.value,u=`M${i},0 L0,0 L0,${l} L${i},${l} L${i},0 Z`,d=s.value;return e.pos?`${u} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${c.topRight} v${e.pos.height-d*2} ${c.bottomRight} h${-e.pos.width+d*2} ${c.bottomLeft} v${-e.pos.height+d*2} ${c.topLeft} z`:u}),a=R(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return Jb(Yt(e,"visible"),{ns:n}),(i,l)=>i.visible?(D(),H("div",Dt({key:0,class:f(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:i.zIndex,pointerEvents:i.pos&&i.targetAreaClickable?"none":"auto"}},i.$attrs),[(D(),H("svg",{style:{width:"100%",height:"100%"}},[K("path",{class:F(f(n).e("hollow")),style:rt(f(a)),d:f(o)},null,14,["d"])]))],16)):he("v-if",!0)}});var dne=He(une,[["__file","mask.vue"]]);const fne=["absolute","fixed"],pne=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],DS=$e({placement:{type:le(String),values:pne,default:"bottom"},reference:{type:le(Object),default:null},strategy:{type:le(String),values:fne,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),hne={close:()=>!0},mne=se({name:"ElTourContent"}),vne=se({...mne,props:DS,emits:hne,setup(t,{emit:e}){const n=t,s=z(n.placement),r=z(n.strategy),o=z(null),a=z(null);De(()=>n.placement,()=>{s.value=n.placement});const{contentStyle:i,arrowStyle:l}=ine(Yt(n,"reference"),o,a,s,r,Yt(n,"offset"),Yt(n,"zIndex"),Yt(n,"showArrow")),c=R(()=>s.value.split("-")[0]),{ns:u}=Qe(Em),d=()=>{e("close")},h=p=>{p.detail.focusReason==="pointer"&&p.preventDefault()};return(p,v)=>(D(),H("div",{ref_key:"contentRef",ref:o,style:rt(f(i)),class:F(f(u).e("content")),"data-side":f(c),tabindex:"-1"},[j(f(hu),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":o.value||void 0,onReleaseRequested:d,onFocusoutPrevented:h},{default:te(()=>[pe(p.$slots,"default")]),_:3},8,["focus-trap-el"]),p.showArrow?(D(),H("span",{key:0,ref_key:"arrowRef",ref:a,style:rt(f(l)),class:F(f(u).e("arrow"))},null,6)):he("v-if",!0)],14,["data-side"]))}});var gne=He(vne,[["__file","content.vue"]]),yne=se({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let s=0;return()=>{var r,o;const a=(r=e.default)==null?void 0:r.call(e),i=[];let l=0;function c(u){Ue(u)&&u.forEach(d=>{var h;((h=(d==null?void 0:d.type)||{})==null?void 0:h.name)==="ElTourStep"&&(i.push(d),l+=1)})}return a.length&&c(ei((o=a[0])==null?void 0:o.children)),s!==l&&(s=l,n("update-total",l)),i.length?i[t.current]:null}}});const bne=$e({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:sn},placement:DS.placement,contentStyle:{type:le([Object])},mask:{type:le([Boolean,Object]),default:!0},gap:{type:le(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:le([Boolean,Object]),default:()=>({block:"center"})},type:{type:le(String)},appendTo:{type:le([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),Sne={[Et]:t=>ln(t),"update:current":t=>ft(t),close:t=>ft(t),finish:()=>!0,change:t=>ft(t)},_ne=se({name:"ElTour"}),wne=se({..._ne,props:bne,emits:Sne,setup(t,{emit:e}){const n=t,s=Le("tour"),r=z(0),o=z(),a=LT(n,"current",e,{passive:!0}),i=R(()=>{var x;return(x=o.value)==null?void 0:x.target}),l=R(()=>[s.b(),y.value==="primary"?s.m("primary"):""]),c=R(()=>{var x;return((x=o.value)==null?void 0:x.placement)||n.placement}),u=R(()=>{var x,E;return(E=(x=o.value)==null?void 0:x.contentStyle)!=null?E:n.contentStyle}),d=R(()=>{var x,E;return(E=(x=o.value)==null?void 0:x.mask)!=null?E:n.mask}),h=R(()=>!!d.value&&n.modelValue),p=R(()=>ln(d.value)?void 0:d.value),v=R(()=>{var x,E;return!!i.value&&((E=(x=o.value)==null?void 0:x.showArrow)!=null?E:n.showArrow)}),m=R(()=>{var x,E;return(E=(x=o.value)==null?void 0:x.scrollIntoViewOptions)!=null?E:n.scrollIntoViewOptions}),y=R(()=>{var x,E;return(E=(x=o.value)==null?void 0:x.type)!=null?E:n.type}),{nextZIndex:g}=fu(),_=g(),b=R(()=>{var x;return(x=n.zIndex)!=null?x:_}),{mergedPosInfo:S,triggerTarget:w}=one(i,Yt(n,"modelValue"),Yt(n,"gap"),d,m);De(()=>n.modelValue,x=>{x||(a.value=0)});const C=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",a.value))},A=x=>{r.value=x},T=Gn();return Bt(Em,{currentStep:o,current:a,total:r,showClose:Yt(n,"showClose"),closeIcon:Yt(n,"closeIcon"),mergedType:y,ns:s,slots:T,updateModelValue(x){e("update:modelValue",x)},onClose(){e("close",a.value)},onFinish(){e("finish")},onChange(){e("change",a.value)}}),(x,E)=>(D(),H(Ze,null,[j(f(mu),{to:x.appendTo},{default:te(()=>{var M,I;return[K("div",Dt({class:f(l)},x.$attrs),[j(dne,{visible:f(h),fill:(M=f(p))==null?void 0:M.color,style:rt((I=f(p))==null?void 0:I.style),pos:f(S),"z-index":f(b),"target-area-clickable":x.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),x.modelValue?(D(),_e(gne,{key:f(a),reference:f(w),placement:f(c),"show-arrow":f(v),"z-index":f(b),style:rt(f(u)),onClose:C},{default:te(()=>[j(f(yne),{current:f(a),onUpdateTotal:A},{default:te(()=>[pe(x.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):he("v-if",!0)],16)]}),_:3},8,["to"]),he(" just for IDE "),he("v-if",!0)],64))}});var Cne=He(wne,[["__file","tour.vue"]]);const xne=$e({target:{type:le([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:sn},showArrow:{type:Boolean,default:void 0},placement:DS.placement,mask:{type:le([Boolean,Object]),default:void 0},contentStyle:{type:le([Object])},prevButtonProps:{type:le(Object)},nextButtonProps:{type:le(Object)},scrollIntoViewOptions:{type:le([Boolean,Object]),default:void 0},type:{type:le(String)}}),Ane={close:()=>!0},Ene=se({name:"ElTourStep"}),Tne=se({...Ene,props:xne,emits:Ane,setup(t,{emit:e}){const n=t,{Close:s}=wb,{t:r}=Ut(),{currentStep:o,current:a,total:i,showClose:l,closeIcon:c,mergedType:u,ns:d,slots:h,updateModelValue:p,onClose:v,onFinish:m,onChange:y}=Qe(Em);De(n,T=>{o.value=T},{immediate:!0});const g=R(()=>{var T;return(T=n.showClose)!=null?T:l.value}),_=R(()=>{var T,x;return(x=(T=n.closeIcon)!=null?T:c.value)!=null?x:s}),b=T=>{if(T)return kN(T,["children","onClick"])},S=()=>{var T,x;a.value-=1,(T=n.prevButtonProps)!=null&&T.onClick&&((x=n.prevButtonProps)==null||x.onClick()),y()},w=()=>{var T;a.value>=i.value-1?C():a.value+=1,(T=n.nextButtonProps)!=null&&T.onClick&&n.nextButtonProps.onClick(),y()},C=()=>{A(),m()},A=()=>{p(!1),v(),e("close")};return(T,x)=>(D(),H(Ze,null,[f(g)?(D(),H("button",{key:0,"aria-label":"Close",class:F(f(d).e("closebtn")),type:"button",onClick:A},[j(f(tt),{class:F(f(d).e("close"))},{default:te(()=>[(D(),_e(Rt(f(_))))]),_:1},8,["class"])],2)):he("v-if",!0),K("header",{class:F([f(d).e("header"),{"show-close":f(l)}])},[pe(T.$slots,"header",{},()=>[K("span",{role:"heading",class:F(f(d).e("title"))},Ne(T.title),3)])],2),K("div",{class:F(f(d).e("body"))},[pe(T.$slots,"default",{},()=>[K("span",null,Ne(T.description),1)])],2),K("footer",{class:F(f(d).e("footer"))},[K("div",{class:F(f(d).b("indicators"))},[f(h).indicators?(D(),_e(Rt(f(h).indicators),{key:0,current:f(a),total:f(i)},null,8,["current","total"])):(D(!0),H(Ze,{key:1},Tt(f(i),(E,M)=>(D(),H("span",{key:E,class:F([f(d).b("indicator"),M===f(a)?"is-active":""])},null,2))),128))],2),K("div",{class:F(f(d).b("buttons"))},[f(a)>0?(D(),_e(f(rs),Dt({key:0,size:"small",type:f(u)},b(T.prevButtonProps),{onClick:S}),{default:te(()=>{var E,M;return[St(Ne((M=(E=T.prevButtonProps)==null?void 0:E.children)!=null?M:f(r)("el.tour.previous")),1)]}),_:1},16,["type"])):he("v-if",!0),f(a)<=f(i)-1?(D(),_e(f(rs),Dt({key:1,size:"small",type:f(u)==="primary"?"default":"primary"},b(T.nextButtonProps),{onClick:w}),{default:te(()=>{var E,M;return[St(Ne((M=(E=T.nextButtonProps)==null?void 0:E.children)!=null?M:f(a)===f(i)-1?f(r)("el.tour.finish"):f(r)("el.tour.next")),1)]}),_:1},16,["type"])):he("v-if",!0)],2)],2)],64))}});var TR=He(Tne,[["__file","step.vue"]]);const Mne=_t(Cne,{TourStep:TR}),Ine=Tn(TR),Rne=$e({container:{type:le([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:le(String),default:"default"},direction:{type:le(String),default:"vertical"}}),Pne={change:t=>ot(t),click:(t,e)=>t instanceof MouseEvent&&(ot(e)||Jt(e))},MR=Symbol("anchor"),kf=t=>{if(!Nt||t==="")return null;if(ot(t))try{return document.querySelector(t)}catch{return null}return t};function Dne(t){let e=0;const n=(...s)=>{e&&fl(e),e=ci(()=>{t(...s),e=0})};return n.cancel=()=>{fl(e),e=0},n}const kne=se({name:"ElAnchor"}),Lne=se({...kne,props:Rne,emits:Pne,setup(t,{expose:e,emit:n}){const s=t,r=z(""),o=z(null),a=z(null),i=z(),l={};let c=!1,u=0;const d=Le("anchor"),h=R(()=>[d.b(),s.type==="underline"?d.m("underline"):"",d.m(s.direction)]),p=T=>{l[T.href]=T.el},v=T=>{delete l[T]},m=T=>{r.value!==T&&(r.value=T,n("change",T))};let y=null;const g=T=>{if(!i.value)return;const x=kf(T);if(!x)return;y&&y(),c=!0;const E=$w(x,i.value),M=Ng(x,E),I=E.scrollHeight-E.clientHeight,k=Math.min(M-s.offset,I);y=B4(i.value,u,k,s.duration,()=>{setTimeout(()=>{c=!1},20)})},_=T=>{T&&(m(T),g(T))},b=(T,x)=>{n("click",T,x),_(x)},S=Dne(()=>{i.value&&(u=Hw(i.value));const T=w();c||Jt(T)||m(T)}),w=()=>{if(!i.value)return;const T=Hw(i.value),x=[];for(const E of Object.keys(l)){const M=kf(E);if(!M)continue;const I=$w(M,i.value),k=Ng(M,I);x.push({top:k-s.offset-s.bound,href:E})}x.sort((E,M)=>E.top-M.top);for(let E=0;E<x.length;E++){const M=x[E],I=x[E+1];if(E===0&&T===0)return"";if(M.top<=T&&(!I||I.top>T))return M.href}},C=()=>{const T=kf(s.container);!T||om(T)?i.value=window:i.value=T};en(i,"scroll",S);const A=R(()=>{if(!o.value||!a.value||!r.value)return{};const T=l[r.value];if(!T)return{};const x=o.value.getBoundingClientRect(),E=a.value.getBoundingClientRect(),M=T.getBoundingClientRect();return s.direction==="horizontal"?{left:`${M.left-x.left}px`,width:`${M.width}px`,opacity:1}:{top:`${M.top-x.top+(M.height-E.height)/2}px`,opacity:1}});return wt(()=>{C();const T=decodeURIComponent(window.location.hash);kf(T)?_(T):S()}),De(()=>s.container,()=>{C()}),Bt(MR,{ns:d,direction:s.direction,currentAnchor:r,addLink:p,removeLink:v,handleClick:b}),e({scrollTo:_}),(T,x)=>(D(),H("div",{ref_key:"anchorRef",ref:o,class:F(f(h))},[T.marker?(D(),H("div",{key:0,ref_key:"markerRef",ref:a,class:F(f(d).e("marker")),style:rt(f(A))},null,6)):he("v-if",!0),K("div",{class:F(f(d).e("list"))},[pe(T.$slots,"default")],2)],2))}});var One=He(Lne,[["__file","anchor.vue"]]);const Bne=$e({title:String,href:String}),Fne=se({name:"ElAnchorLink"}),Nne=se({...Fne,props:Bne,setup(t){const e=t,n=z(null),{ns:s,direction:r,currentAnchor:o,addLink:a,removeLink:i,handleClick:l}=Qe(MR),c=R(()=>[s.e("link"),s.is("active",o.value===e.href)]),u=d=>{l(d,e.href)};return De(()=>e.href,(d,h)=>{lt(()=>{h&&i(h),d&&a({href:d,el:n.value})})}),wt(()=>{const{href:d}=e;d&&a({href:d,el:n.value})}),Qt(()=>{const{href:d}=e;d&&i(d)}),(d,h)=>(D(),H("div",{class:F(f(s).e("item"))},[K("a",{ref_key:"linkRef",ref:n,class:F(f(c)),href:d.href,onClick:u},[pe(d.$slots,"default",{},()=>[St(Ne(d.title),1)])],10,["href"]),d.$slots["sub-link"]&&f(r)==="vertical"?(D(),H("div",{key:0,class:F(f(s).e("list"))},[pe(d.$slots,"sub-link")],2)):he("v-if",!0)],2))}});var IR=He(Nne,[["__file","anchor-link.vue"]]);const Une=_t(One,{AnchorLink:IR}),zne=Tn(IR),$ne=$e({direction:{type:le(String),default:"horizontal"},options:{type:le(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:Wn,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...ms(["ariaLabel"])}),Hne={[Et]:t=>ot(t)||ft(t)||ln(t),[nn]:t=>ot(t)||ft(t)||ln(t)},Vne=se({name:"ElSegmented"}),Wne=se({...Vne,props:$ne,emits:Hne,setup(t,{emit:e}){const n=t,s=Le("segmented"),r=hs(),o=Hn(),a=Es(),{formItem:i}=As(),{inputId:l,isLabeledByFormItem:c}=Yr(n,{formItemContext:i}),u=z(null),d=o4(),h=qt({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),p=x=>{const E=v(x);e(Et,E),e(nn,E)},v=x=>Mt(x)?x.value:x,m=x=>Mt(x)?x.label:x,y=x=>!!(a.value||Mt(x)&&x.disabled),g=x=>n.modelValue===v(x),_=x=>n.options.find(E=>v(E)===x),b=x=>[s.e("item"),s.is("selected",g(x)),s.is("disabled",y(x))],S=()=>{if(!u.value)return;const x=u.value.querySelector(".is-selected"),E=u.value.querySelector(".is-selected input");if(!x||!E){h.width=0,h.height=0,h.translateX=0,h.translateY=0,h.focusVisible=!1;return}const M=x.getBoundingClientRect();h.isInit=!0,n.direction==="vertical"?(h.height=M.height,h.translateY=x.offsetTop):(h.width=M.width,h.translateX=x.offsetLeft);try{h.focusVisible=E.matches(":focus-visible")}catch{}},w=R(()=>[s.b(),s.m(o.value),s.is("block",n.block)]),C=R(()=>({width:n.direction==="vertical"?"100%":`${h.width}px`,height:n.direction==="vertical"?`${h.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${h.translateY}px)`:`translateX(${h.translateX}px)`,display:h.isInit?"block":"none"})),A=R(()=>[s.e("item-selected"),s.is("disabled",y(_(n.modelValue))),s.is("focus-visible",h.focusVisible)]),T=R(()=>n.name||r.value);return _n(u,S),De(d,S),De(()=>n.modelValue,()=>{var x;S(),n.validateEvent&&((x=i==null?void 0:i.validate)==null||x.call(i,"change").catch(E=>void 0))},{flush:"post"}),(x,E)=>x.options.length?(D(),H("div",{key:0,id:f(l),ref_key:"segmentedRef",ref:u,class:F(f(w)),role:"radiogroup","aria-label":f(c)?void 0:x.ariaLabel||"segmented","aria-labelledby":f(c)?f(i).labelId:void 0},[K("div",{class:F([f(s).e("group"),f(s).m(n.direction)])},[K("div",{style:rt(f(C)),class:F(f(A))},null,6),(D(!0),H(Ze,null,Tt(x.options,(M,I)=>(D(),H("label",{key:I,class:F(b(M))},[K("input",{class:F(f(s).e("item-input")),type:"radio",name:f(T),disabled:y(M),checked:g(M),onChange:k=>p(M)},null,42,["name","disabled","checked","onChange"]),K("div",{class:F(f(s).e("item-label"))},[pe(x.$slots,"default",{item:M},()=>[St(Ne(m(M)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):he("v-if",!0)}});var Gne=He(Wne,[["__file","segmented.vue"]]);const Kne=_t(Gne),jne=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},qne=(t,e,n)=>{const{selectionEnd:s}=t;if(s===null)return;const r=t.value,o=Ps(e);let a=-1,i;for(let l=s-1;l>=0;--l){const c=r[l];if(c===n||c===`
`||c==="\r"){a=l;continue}if(o.includes(c)){const u=a===-1?s:a;i={pattern:r.slice(l+1,u),start:l+1,end:u,prefix:c,prefixIndex:l,splitIndex:a,selectionEnd:s};break}}return i},Yne=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,s=t.selectionEnd!==null?t.selectionEnd:0,r=e.useSelectionEnd?s:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const h=document.querySelector("#input-textarea-caret-position-mirror-div");h!=null&&h.parentNode&&h.parentNode.removeChild(h)}const a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);const i=a.style,l=window.getComputedStyle(t),c=t.nodeName==="INPUT";i.whiteSpace=c?"nowrap":"pre-wrap",c||(i.wordWrap="break-word"),i.position="absolute",e.debug||(i.visibility="hidden"),o.forEach(h=>{if(c&&h==="lineHeight")if(l.boxSizing==="border-box"){const p=Number.parseInt(l.height),v=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),m=v+Number.parseInt(l.lineHeight);p>m?i.lineHeight=`${p-v}px`:p===m?i.lineHeight=l.lineHeight:i.lineHeight="0"}else i.lineHeight=l.height;else i[h]=l[h]}),dm()?t.scrollHeight>Number.parseInt(l.height)&&(i.overflowY="scroll"):i.overflow="hidden",a.textContent=t.value.slice(0,Math.max(0,r)),c&&a.textContent&&(a.textContent=a.textContent.replace(/\s/g,""));const u=document.createElement("span");u.textContent=t.value.slice(Math.max(0,r))||".",u.style.position="relative",u.style.left=`${-t.scrollLeft}px`,u.style.top=`${-t.scrollTop}px`,a.appendChild(u);const d={top:u.offsetTop+Number.parseInt(l.borderTopWidth),left:u.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?u.style.backgroundColor="#aaa":document.body.removeChild(a),d.left>=t.clientWidth&&(d.left=t.clientWidth),d},Xne=$e({...xb,options:{type:le(Array),default:()=>[]},prefix:{type:le([String,Array]),default:"@",validator:t=>ot(t)?t.length===1:t.every(e=>ot(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:le([Boolean,Function]),default:()=>jne,validator:t=>t===!1?!0:ct(t)},placement:{type:le(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:le(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:le(Object),default:()=>({})}}),Qne={[Et]:t=>ot(t),search:(t,e)=>ot(t)&&ot(e),select:(t,e)=>ot(t.value)&&ot(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},Zne=$e({options:{type:le(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Jne={select:t=>ot(t.value)},ese=se({name:"ElMentionDropdown"}),tse=se({...ese,props:Zne,emits:Jne,setup(t,{expose:e,emit:n}){const s=t,r=Le("mention"),{t:o}=Ut(),a=z(-1),i=z(),l=z(),c=z(),u=(b,S)=>[r.be("dropdown","item"),r.is("hovering",a.value===S),r.is("disabled",b.disabled||s.disabled)],d=b=>{b.disabled||s.disabled||n("select",b)},h=b=>{a.value=b},p=R(()=>s.disabled||s.options.every(b=>b.disabled)),v=R(()=>s.options[a.value]),m=()=>{v.value&&n("select",v.value)},y=b=>{const{options:S}=s;if(S.length===0||p.value)return;b==="next"?(a.value++,a.value===S.length&&(a.value=0)):b==="prev"&&(a.value--,a.value<0&&(a.value=S.length-1));const w=S[a.value];if(w.disabled){y(b);return}lt(()=>g(w))},g=b=>{var S,w,C,A;const{options:T}=s,x=T.findIndex(M=>M.value===b.value),E=(S=l.value)==null?void 0:S[x];if(E){const M=(C=(w=c.value)==null?void 0:w.querySelector)==null?void 0:C.call(w,`.${r.be("dropdown","wrap")}`);M&&gb(M,E)}(A=i.value)==null||A.handleScroll()};return De(()=>s.options,()=>{p.value||s.options.length===0?a.value=-1:a.value=0},{immediate:!0}),e({hoveringIndex:a,navigateOptions:y,selectHoverOption:m,hoverOption:v}),(b,S)=>(D(),H("div",{ref_key:"dropdownRef",ref:c,class:F(f(r).b("dropdown"))},[b.$slots.header?(D(),H("div",{key:0,class:F(f(r).be("dropdown","header"))},[pe(b.$slots,"header")],2)):he("v-if",!0),Ct(j(f($o),{id:b.contentId,ref_key:"scrollbarRef",ref:i,tag:"ul","wrap-class":f(r).be("dropdown","wrap"),"view-class":f(r).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:te(()=>[(D(!0),H(Ze,null,Tt(b.options,(w,C)=>(D(),H("li",{id:`${b.contentId}-${C}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:C,class:F(u(w,C)),role:"option","aria-disabled":w.disabled||b.disabled||void 0,"aria-selected":a.value===C,onMousemove:A=>h(C),onClick:pt(A=>d(w),["stop"])},[pe(b.$slots,"label",{item:w,index:C},()=>{var A;return[K("span",null,Ne((A=w.label)!=null?A:w.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[Vt,b.options.length>0&&!b.loading]]),b.loading?(D(),H("div",{key:1,class:F(f(r).be("dropdown","loading"))},[pe(b.$slots,"loading",{},()=>[St(Ne(f(o)("el.mention.loading")),1)])],2)):he("v-if",!0),b.$slots.footer?(D(),H("div",{key:2,class:F(f(r).be("dropdown","footer"))},[pe(b.$slots,"footer")],2)):he("v-if",!0)],2))}});var nse=He(tse,[["__file","mention-dropdown.vue"]]);const sse=se({name:"ElMention",inheritAttrs:!1}),rse=se({...sse,props:Xne,emits:Qne,setup(t,{expose:e,emit:n}){const s=t,r=R(()=>uo(s,Object.keys(xb))),o=Le("mention"),a=Es(),i=hs(),l=z(),c=z(),u=z(),d=z(!1),h=z(),p=z(),v=R(()=>s.showArrow?s.placement:`${s.placement}-start`),m=R(()=>s.showArrow?["bottom","top"]:["bottom-start","top-start"]),y=R(()=>{const{filterOption:I,options:k}=s;return!p.value||!I?k:k.filter(U=>I(p.value.pattern,U))}),g=R(()=>d.value&&(!!y.value.length||s.loading)),_=R(()=>{var I;return`${i.value}-${(I=u.value)==null?void 0:I.hoveringIndex}`}),b=I=>{n("update:modelValue",I),x()},S=I=>{var k,U,B,P;if(!(!("code"in I)||(k=l.value)!=null&&k.isComposing))switch(I.code){case qe.left:case qe.right:x();break;case qe.up:case qe.down:if(!d.value)return;I.preventDefault(),(U=u.value)==null||U.navigateOptions(I.code===qe.up?"prev":"next");break;case qe.enter:case qe.numpadEnter:if(!d.value)return;I.preventDefault(),(B=u.value)!=null&&B.hoverOption?(P=u.value)==null||P.selectHoverOption():d.value=!1;break;case qe.esc:if(!d.value)return;I.preventDefault(),d.value=!1;break;case qe.backspace:if(s.whole&&p.value){const{splitIndex:N,selectionEnd:L,pattern:O,prefixIndex:$,prefix:W}=p.value,ee=T();if(!ee)return;const Y=ee.value,Z=s.options.find(ue=>ue.value===O);if((ct(s.checkIsWhole)?s.checkIsWhole(O,W):Z)&&N!==-1&&N+1===L){I.preventDefault();const ue=Y.slice(0,$)+Y.slice(N+1);n(Et,ue);const re=$;lt(()=>{ee.selectionStart=re,ee.selectionEnd=re,M()})}}}},{wrapperRef:w}=Si(l,{beforeFocus(){return a.value},afterFocus(){x()},beforeBlur(I){var k;return(k=c.value)==null?void 0:k.isFocusInsideContent(I)},afterBlur(){d.value=!1}}),C=()=>{x()},A=I=>{if(!p.value)return;const k=T();if(!k)return;const U=k.value,{split:B}=s,P=U.slice(p.value.end),N=P.startsWith(B),L=`${I.value}${N?"":B}`,O=U.slice(0,p.value.start)+L+P;n(Et,O),n("select",I,p.value.prefix);const $=p.value.start+L.length+(N?1:0);lt(()=>{k.selectionStart=$,k.selectionEnd=$,k.focus(),M()})},T=()=>{var I,k;return s.type==="textarea"?(I=l.value)==null?void 0:I.textarea:(k=l.value)==null?void 0:k.input},x=()=>{setTimeout(()=>{E(),M(),lt(()=>{var I;return(I=c.value)==null?void 0:I.updatePopper()})},0)},E=()=>{const I=T();if(!I)return;const k=Yne(I),U=I.getBoundingClientRect(),B=l.value.$el.getBoundingClientRect();h.value={position:"absolute",width:0,height:`${k.height}px`,left:`${k.left+U.left-B.left}px`,top:`${k.top+U.top-B.top}px`}},M=()=>{const I=T();if(document.activeElement!==I){d.value=!1;return}const{prefix:k,split:U}=s;if(p.value=qne(I,k,U),p.value&&p.value.splitIndex===-1){d.value=!0,n("search",p.value.pattern,p.value.prefix);return}d.value=!1};return e({input:l,tooltip:c,dropdownVisible:g}),(I,k)=>(D(),H("div",{ref_key:"wrapperRef",ref:w,class:F(f(o).b())},[j(f(ks),Dt(Dt(f(r),I.$attrs),{ref_key:"elInputRef",ref:l,"model-value":I.modelValue,disabled:f(a),role:f(g)?"combobox":void 0,"aria-activedescendant":f(g)?f(_)||"":void 0,"aria-controls":f(g)?f(i):void 0,"aria-expanded":f(g)||void 0,"aria-label":I.ariaLabel,"aria-autocomplete":f(g)?"none":void 0,"aria-haspopup":f(g)?"listbox":void 0,onInput:b,onKeydown:S,onMousedown:C}),Hr({_:2},[Tt(I.$slots,(U,B)=>({name:B,fn:te(P=>[pe(I.$slots,B,lo(ai(P)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),j(f(xs),{ref_key:"tooltipRef",ref:c,visible:f(g),"popper-class":[f(o).e("popper"),I.popperClass],"popper-options":I.popperOptions,placement:f(v),"fallback-placements":f(m),effect:"light",pure:"",offset:I.offset,"show-arrow":I.showArrow},{default:te(()=>[K("div",{style:rt(h.value)},null,4)]),content:te(()=>{var U;return[j(nse,{ref_key:"dropdownRef",ref:u,options:f(y),disabled:f(a),loading:I.loading,"content-id":f(i),"aria-label":I.ariaLabel,onSelect:A,onClick:pt((U=l.value)==null?void 0:U.focus,["stop"])},Hr({_:2},[Tt(I.$slots,(B,P)=>({name:P,fn:te(N=>[pe(I.$slots,P,lo(ai(N)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var ose=He(rse,[["__file","mention.vue"]]);const ase=_t(ose);var ise=[$4,cz,sV,jZ,cV,vV,TM,MV,IV,rs,LM,C8,M8,G8,K8,K5,e2,Z5,Kr,a5,GM,s6,b6,S6,mm,K6,Y6,iW,lW,cW,uW,dW,BG,KG,jG,o9,E2,m9,rK,oK,aK,O2,o7,a7,tt,g7,N2,ks,U2,k7,U7,oj,aj,ij,lj,hj,oq,dq,Sq,CM,q2,ZM,b5,y5,Rq,Oq,Hq,$o,pl,fh,Uj,_Y,RY,PY,XY,tX,iI,fX,_X,wX,MX,FQ,NQ,KZ,lJ,cJ,$c,hJ,nG,SJ,AJ,EJ,xs,Iee,Hee,Ah,ite,xte,jte,sne,Mne,Ine,Une,zne,Kne,ase];const Dr="ElInfiniteScroll",lse=50,cse=200,use=0,dse={delay:{type:Number,default:cse},distance:{type:Number,default:use},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},kS=(t,e)=>Object.entries(dse).reduce((n,[s,r])=>{var o,a;const{type:i,default:l}=r,c=t.getAttribute(`infinite-scroll-${s}`);let u=(a=(o=e[c])!=null?o:c)!=null?a:l;return u=u==="false"?!1:u,u=i(u),n[s]=Number.isNaN(u)?l:u,n},{}),RR=t=>{const{observer:e}=t[Dr];e&&(e.disconnect(),delete t[Dr].observer)},fse=(t,e)=>{const{container:n,containerEl:s,instance:r,observer:o,lastScrollTop:a}=t[Dr],{disabled:i,distance:l}=kS(t,r),{clientHeight:c,scrollHeight:u,scrollTop:d}=s,h=d-a;if(t[Dr].lastScrollTop=d,o||i||h<0)return;let p=!1;if(n===t)p=u-(c+d)<=l;else{const{clientTop:v,scrollHeight:m}=t,y=Ng(t,s);p=d+c>=y+v+m-l}p&&e.call(r)};function pv(t,e){const{containerEl:n,instance:s}=t[Dr],{disabled:r}=kS(t,s);r||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(s):RR(t))}const pse={async mounted(t,e){const{instance:n,value:s}=e;ct(s)||Qn(Dr,"'v-infinite-scroll' binding value must be a function"),await lt();const{delay:r,immediate:o}=kS(t,n),a=vb(t,!0),i=a===window?document.documentElement:a,l=sl(fse.bind(null,t,s),r);if(a){if(t[Dr]={instance:n,container:a,containerEl:i,delay:r,cb:s,onScroll:l,lastScrollTop:i.scrollTop},o){const c=new MutationObserver(sl(pv.bind(null,t,s),lse));t[Dr].observer=c,c.observe(t,{childList:!0,subtree:!0}),pv(t,s)}a.addEventListener("scroll",l)}},unmounted(t){if(!t[Dr])return;const{container:e,onScroll:n}=t[Dr];e==null||e.removeEventListener("scroll",n),RR(t)},async updated(t){if(!t[Dr])await lt();else{const{containerEl:e,cb:n,observer:s}=t[Dr];e.clientHeight&&s&&pv(t,n)}}},E0=pse;E0.install=t=>{t.directive("InfiniteScroll",E0)};const hse=E0;function mse(t){let e;const n=z(!1),s=qt({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(h){s.text=h}function o(){const h=s.parent,p=d.ns;if(!h.vLoadingAddClassList){let v=h.getAttribute("loading-number");v=Number.parseInt(v)-1,v?h.setAttribute("loading-number",v.toString()):(Os(h,p.bm("parent","relative")),h.removeAttribute("loading-number")),Os(h,p.bm("parent","hidden"))}a(),u.unmount()}function a(){var h,p;(p=(h=d.$el)==null?void 0:h.parentNode)==null||p.removeChild(d.$el)}function i(){var h;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=setTimeout(l,400),s.visible=!1,(h=t.closed)==null||h.call(t))}function l(){if(!n.value)return;const h=s.parent;n.value=!1,h.vLoadingAddClassList=void 0,o()}const c=se({name:"ElLoading",setup(h,{expose:p}){const{ns:v,zIndex:m}=lm("loading");return p({ns:v,zIndex:m}),()=>{const y=s.spinner||s.svg,g=st("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[st("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),_=s.text?st("p",{class:v.b("text")},[s.text]):void 0;return st(Xn,{name:v.b("fade"),onAfterLeave:l},{default:te(()=>[Ct(j("div",{style:{backgroundColor:s.background||""},class:[v.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[st("div",{class:v.b("spinner")},[g,_])]),[[Vt,s.visible]])])})}}}),u=zE(c),d=u.mount(document.createElement("div"));return{...as(s),setText:r,removeElLoadingChild:a,close:i,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let Lf;const T0=function(t={}){if(!Nt)return;const e=vse(t);if(e.fullscreen&&Lf)return Lf;const n=mse({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(Lf=void 0)}});gse(e,e.parent,n),$1(e,e.parent,n),e.parent.vLoadingAddClassList=()=>$1(e,e.parent,n);let s=e.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",e.parent.setAttribute("loading-number",s),e.parent.appendChild(n.$el),lt(()=>n.visible.value=e.visible),e.fullscreen&&(Lf=n),n},vse=t=>{var e,n,s,r;let o;return ot(t.target)?o=(e=document.querySelector(t.target))!=null?e:document.body:o=t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(s=t.lock)!=null?s:!1,customClass:t.customClass||"",visible:(r=t.visible)!=null?r:!0,beforeClose:t.beforeClose,closed:t.closed,target:o}},gse=async(t,e,n)=>{const{nextZIndex:s}=n.vm.zIndex||n.vm._.exposed.zIndex,r={};if(t.fullscreen)n.originalPosition.value=na(document.body,"position"),n.originalOverflow.value=na(document.body,"overflow"),r.zIndex=s();else if(t.parent===document.body){n.originalPosition.value=na(document.body,"position"),await lt();for(const o of["top","left"]){const a=o==="top"?"scrollTop":"scrollLeft";r[o]=`${t.target.getBoundingClientRect()[o]+document.body[a]+document.documentElement[a]-Number.parseInt(na(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])r[o]=`${t.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=na(e,"position");for(const[o,a]of Object.entries(r))n.$el.style[o]=a},$1=(t,e,n)=>{const s=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Os(e,s.bm("parent","relative")):Br(e,s.bm("parent","relative")),t.fullscreen&&t.lock?Br(e,s.bm("parent","hidden")):Os(e,s.bm("parent","hidden"))},Hp=Symbol("ElLoading"),H1=(t,e)=>{var n,s,r,o;const a=e.instance,i=h=>Mt(e.value)?e.value[h]:void 0,l=h=>{const p=ot(h)&&(a==null?void 0:a[h])||h;return p&&z(p)},c=h=>l(i(h)||t.getAttribute(`element-loading-${gi(h)}`)),u=(n=i("fullscreen"))!=null?n:e.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(s=i("target"))!=null?s:u?void 0:t,body:(r=i("body"))!=null?r:e.modifiers.body,lock:(o=i("lock"))!=null?o:e.modifiers.lock};t[Hp]={options:d,instance:T0(d)}},yse=(t,e)=>{for(const n of Object.keys(e))fn(e[n])&&(e[n].value=t[n])},V1={mounted(t,e){e.value&&H1(t,e)},updated(t,e){const n=t[Hp];e.oldValue!==e.value&&(e.value&&!e.oldValue?H1(t,e):e.value&&e.oldValue?Mt(e.value)&&yse(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[Hp])==null||e.instance.close(),t[Hp]=null}},bse={install(t){t.directive("loading",V1),t.config.globalProperties.$loading=T0},directive:V1,service:T0},PR=["success","info","warning","error"],Is=En({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Nt?document.body:void 0}),Sse=$e({customClass:{type:String,default:Is.customClass},center:{type:Boolean,default:Is.center},dangerouslyUseHTMLString:{type:Boolean,default:Is.dangerouslyUseHTMLString},duration:{type:Number,default:Is.duration},icon:{type:sn,default:Is.icon},id:{type:String,default:Is.id},message:{type:le([String,Object,Function]),default:Is.message},onClose:{type:le(Function),default:Is.onClose},showClose:{type:Boolean,default:Is.showClose},type:{type:String,values:PR,default:Is.type},plain:{type:Boolean,default:Is.plain},offset:{type:Number,default:Is.offset},zIndex:{type:Number,default:Is.zIndex},grouping:{type:Boolean,default:Is.grouping},repeatNum:{type:Number,default:Is.repeatNum}}),_se={destroy:()=>!0},fo=YA([]),wse=t=>{const e=fo.findIndex(r=>r.id===t),n=fo[e];let s;return e>0&&(s=fo[e-1]),{current:n,prev:s}},Cse=t=>{const{prev:e}=wse(t);return e?e.vm.exposed.bottom.value:0},xse=(t,e)=>fo.findIndex(s=>s.id===t)>0?16:e,Ase=se({name:"ElMessage"}),Ese=se({...Ase,props:Sse,emits:_se,setup(t,{expose:e}){const n=t,{Close:s}=Cb,{ns:r,zIndex:o}=lm("message"),{currentZIndex:a,nextZIndex:i}=o,l=z(),c=z(!1),u=z(0);let d;const h=R(()=>n.type?n.type==="error"?"danger":n.type:"info"),p=R(()=>{const A=n.type;return{[r.bm("icon",A)]:A&&pi[A]}}),v=R(()=>n.icon||pi[n.type]||""),m=R(()=>Cse(n.id)),y=R(()=>xse(n.id,n.offset)+m.value),g=R(()=>u.value+y.value),_=R(()=>({top:`${y.value}px`,zIndex:a.value}));function b(){n.duration!==0&&({stop:d}=dl(()=>{w()},n.duration))}function S(){d==null||d()}function w(){c.value=!1}function C({code:A}){A===qe.esc&&w()}return wt(()=>{b(),i(),c.value=!0}),De(()=>n.repeatNum,()=>{S(),b()}),en(document,"keydown",C),_n(l,()=>{u.value=l.value.getBoundingClientRect().height}),e({visible:c,bottom:g,close:w}),(A,T)=>(D(),_e(Xn,{name:f(r).b("fade"),onBeforeLeave:A.onClose,onAfterLeave:x=>A.$emit("destroy"),persisted:""},{default:te(()=>[Ct(K("div",{id:A.id,ref_key:"messageRef",ref:l,class:F([f(r).b(),{[f(r).m(A.type)]:A.type},f(r).is("center",A.center),f(r).is("closable",A.showClose),f(r).is("plain",A.plain),A.customClass]),style:rt(f(_)),role:"alert",onMouseenter:S,onMouseleave:b},[A.repeatNum>1?(D(),_e(f(TM),{key:0,value:A.repeatNum,type:f(h),class:F(f(r).e("badge"))},null,8,["value","type","class"])):he("v-if",!0),f(v)?(D(),_e(f(tt),{key:1,class:F([f(r).e("icon"),f(p)])},{default:te(()=>[(D(),_e(Rt(f(v))))]),_:1},8,["class"])):he("v-if",!0),pe(A.$slots,"default",{},()=>[A.dangerouslyUseHTMLString?(D(),H(Ze,{key:1},[he(" Caution here, message could've been compromised, never use user's input as message "),K("p",{class:F(f(r).e("content")),innerHTML:A.message},null,10,["innerHTML"])],2112)):(D(),H("p",{key:0,class:F(f(r).e("content"))},Ne(A.message),3))]),A.showClose?(D(),_e(f(tt),{key:2,class:F(f(r).e("closeBtn")),onClick:pt(w,["stop"])},{default:te(()=>[j(f(s))]),_:1},8,["class","onClick"])):he("v-if",!0)],46,["id"]),[[Vt,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Tse=He(Ese,[["__file","message.vue"]]);let Mse=1;const DR=t=>{const e=!t||ot(t)||Cn(t)||ct(t)?{message:t}:t,n={...Is,...e};if(!n.appendTo)n.appendTo=document.body;else if(ot(n.appendTo)){let s=document.querySelector(n.appendTo);gr(s)||(s=document.body),n.appendTo=s}return ln(ro.grouping)&&!n.grouping&&(n.grouping=ro.grouping),ft(ro.duration)&&n.duration===3e3&&(n.duration=ro.duration),ft(ro.offset)&&n.offset===16&&(n.offset=ro.offset),ln(ro.showClose)&&!n.showClose&&(n.showClose=ro.showClose),n},Ise=t=>{const e=fo.indexOf(t);if(e===-1)return;fo.splice(e,1);const{handler:n}=t;n.close()},Rse=({appendTo:t,...e},n)=>{const s=`message_${Mse++}`,r=e.onClose,o=document.createElement("div"),a={...e,id:s,onClose:()=>{r==null||r(),Ise(u)},onDestroy:()=>{ii(null,o)}},i=j(Tse,a,ct(a.message)||Cn(a.message)?{default:ct(a.message)?a.message:()=>a.message}:null);i.appContext=n||jc._context,ii(i,o),t.appendChild(o.firstElementChild);const l=i.component,u={id:s,vnode:i,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:i.component.props};return u},jc=(t={},e)=>{if(!Nt)return{close:()=>{}};const n=DR(t);if(n.grouping&&fo.length){const r=fo.find(({vnode:o})=>{var a;return((a=o.props)==null?void 0:a.message)===n.message});if(r)return r.props.repeatNum+=1,r.props.type=n.type,r.handler}if(ft(ro.max)&&fo.length>=ro.max)return{close:()=>{}};const s=Rse(n,e);return fo.push(s),s.handler};PR.forEach(t=>{jc[t]=(e={},n)=>{const s=DR(e);return jc({...s,type:t},n)}});function Pse(t){for(const e of fo)(!t||t===e.props.type)&&e.handler.close()}jc.closeAll=Pse;jc._context=null;const Dse=jT(jc,"$message"),M0="_trap-focus-children",Qi=[],W1=t=>{if(Qi.length===0)return;const e=Qi[Qi.length-1][M0];if(e.length>0&&t.code===qe.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,s=t.target===e[0],r=t.target===e[e.length-1];s&&n&&(t.preventDefault(),e[e.length-1].focus()),r&&!n&&(t.preventDefault(),e[0].focus())}},kse={beforeMount(t){t[M0]=jw(t),Qi.push(t),Qi.length<=1&&document.addEventListener("keydown",W1)},updated(t){lt(()=>{t[M0]=jw(t)})},unmounted(){Qi.shift(),Qi.length===0&&document.removeEventListener("keydown",W1)}},Lse=se({name:"ElMessageBox",directives:{TrapFocus:kse},components:{ElButton:rs,ElFocusTrap:hu,ElInput:ks,ElOverlay:Zb,ElIcon:tt,...Cb},inheritAttrs:!1,props:{buttonSize:{type:String,validator:cI},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:s,ns:r,size:o}=lm("message-box",R(()=>t.buttonSize)),{t:a}=n,{nextZIndex:i}=s,l=z(!1),c=qt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:ia(Lo),cancelButtonLoadingIcon:ia(Lo),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:i()}),u=R(()=>{const P=c.type;return{[r.bm("icon",P)]:P&&pi[P]}}),d=hs(),h=hs(),p=R(()=>c.icon||pi[c.type]||""),v=R(()=>!!c.message),m=z(),y=z(),g=z(),_=z(),b=z(),S=R(()=>c.confirmButtonClass);De(()=>c.inputValue,async P=>{await lt(),t.boxType==="prompt"&&P!==null&&I()},{immediate:!0}),De(()=>l.value,P=>{var N,L;P&&(t.boxType!=="prompt"&&(c.autofocus?g.value=(L=(N=b.value)==null?void 0:N.$el)!=null?L:m.value:g.value=m.value),c.zIndex=i()),t.boxType==="prompt"&&(P?lt().then(()=>{var O;_.value&&_.value.$el&&(c.autofocus?g.value=(O=k())!=null?O:m.value:g.value=m.value)}):(c.editorErrorMessage="",c.validateError=!1))});const w=R(()=>t.draggable),C=R(()=>t.overflow);w2(m,y,w,C),wt(async()=>{await lt(),t.closeOnHashChange&&window.addEventListener("hashchange",A)}),Qt(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",A)});function A(){l.value&&(l.value=!1,lt(()=>{c.action&&e("action",c.action)}))}const T=()=>{t.closeOnClickModal&&M(c.distinguishCancelAndClose?"close":"cancel")},x=Qb(T),E=P=>{if(c.inputType!=="textarea")return P.preventDefault(),M("confirm")},M=P=>{var N;t.boxType==="prompt"&&P==="confirm"&&!I()||(c.action=P,c.beforeClose?(N=c.beforeClose)==null||N.call(c,P,c,A):A())},I=()=>{if(t.boxType==="prompt"){const P=c.inputPattern;if(P&&!P.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||a("el.messagebox.error"),c.validateError=!0,!1;const N=c.inputValidator;if(ct(N)){const L=N(c.inputValue);if(L===!1)return c.editorErrorMessage=c.inputErrorMessage||a("el.messagebox.error"),c.validateError=!0,!1;if(ot(L))return c.editorErrorMessage=L,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},k=()=>{const P=_.value.$refs;return P.input||P.textarea},U=()=>{M("close")},B=()=>{t.closeOnPressEscape&&U()};return t.lockScroll&&Jb(l),{...as(c),ns:r,overlayEvent:x,visible:l,hasMessage:v,typeClass:u,contentId:d,inputId:h,btnSize:o,iconComponent:p,confirmButtonClasses:S,rootRef:m,focusStartRef:g,headerRef:y,inputRef:_,confirmRef:b,doClose:A,handleClose:U,onCloseRequested:B,handleWrapperClick:T,handleInputEnter:E,handleAction:M,t:a}}});function Ose(t,e,n,s,r,o){const a=et("el-icon"),i=et("close"),l=et("el-input"),c=et("el-button"),u=et("el-focus-trap"),d=et("el-overlay");return D(),_e(Xn,{name:"fade-in-linear",onAfterLeave:h=>t.$emit("vanish"),persisted:""},{default:te(()=>[Ct(j(d,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:te(()=>[K("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:F(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[j(u,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:te(()=>[K("div",{ref:"rootRef",class:F([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:rt(t.customStyle),tabindex:"-1",onClick:pt(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(D(),H("div",{key:0,ref:"headerRef",class:F([t.ns.e("header"),{"show-close":t.showClose}])},[K("div",{class:F(t.ns.e("title"))},[t.iconComponent&&t.center?(D(),_e(a,{key:0,class:F([t.ns.e("status"),t.typeClass])},{default:te(()=>[(D(),_e(Rt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),K("span",null,Ne(t.title),1)],2),t.showClose?(D(),H("button",{key:0,type:"button",class:F(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:on(pt(h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[j(a,{class:F(t.ns.e("close"))},{default:te(()=>[j(i)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):he("v-if",!0)],2)):he("v-if",!0),K("div",{id:t.contentId,class:F(t.ns.e("content"))},[K("div",{class:F(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(D(),_e(a,{key:0,class:F([t.ns.e("status"),t.typeClass])},{default:te(()=>[(D(),_e(Rt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),t.hasMessage?(D(),H("div",{key:1,class:F(t.ns.e("message"))},[pe(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(D(),_e(Rt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(D(),_e(Rt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:te(()=>[St(Ne(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):he("v-if",!0)],2),Ct(K("div",{class:F(t.ns.e("input"))},[j(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":h=>t.inputValue=h,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:F({invalid:t.validateError}),onKeydown:on(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),K("div",{class:F(t.ns.e("errormsg")),style:rt({visibility:t.editorErrorMessage?"visible":"hidden"})},Ne(t.editorErrorMessage),7)],2),[[Vt,t.showInput]])],10,["id"]),K("div",{class:F(t.ns.e("btns"))},[t.showCancelButton?(D(),_e(c,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:F([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:h=>t.handleAction("cancel"),onKeydown:on(pt(h=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:te(()=>[St(Ne(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):he("v-if",!0),Ct(j(c,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:F([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:h=>t.handleAction("confirm"),onKeydown:on(pt(h=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:te(()=>[St(Ne(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[Vt,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[Vt,t.visible]])]),_:3},8,["onAfterLeave"])}var Bse=He(Lse,[["render",Ose],["__file","index.vue"]]);const Od=new Map,Fse=t=>{let e=document.body;return t.appendTo&&(ot(t.appendTo)&&(e=document.querySelector(t.appendTo)),gr(t.appendTo)&&(e=t.appendTo),gr(e)||(e=document.body)),e},Nse=(t,e,n=null)=>{const s=j(Bse,t,ct(t.message)||Cn(t.message)?{default:ct(t.message)?t.message:()=>t.message}:null);return s.appContext=n,ii(s,e),Fse(t).appendChild(e.firstElementChild),s.component},Use=()=>document.createElement("div"),zse=(t,e)=>{const n=Use();t.onVanish=()=>{ii(null,n),Od.delete(r)},t.onAction=o=>{const a=Od.get(r);let i;t.showInput?i={value:r.inputValue,action:o}:i=o,t.callback?t.callback(i,s.proxy):o==="cancel"||o==="close"?t.distinguishCancelAndClose&&o!=="cancel"?a.reject("close"):a.reject("cancel"):a.resolve(i)};const s=Nse(t,n,e),r=s.proxy;for(const o in t)$t(t,o)&&!$t(r.$props,o)&&(r[o]=t[o]);return r.visible=!0,r};function yu(t,e=null){if(!Nt)return Promise.reject();let n;return ot(t)||Cn(t)?t={message:t}:n=t.callback,new Promise((s,r)=>{const o=zse(t,e??yu._context);Od.set(o,{options:t,callback:n,resolve:s,reject:r})})}const $se=["alert","confirm","prompt"],Hse={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};$se.forEach(t=>{yu[t]=Vse(t)});function Vse(t){return(e,n,s,r)=>{let o="";return Mt(n)?(s=n,o=""):Jt(n)?o="":o=n,yu(Object.assign({title:o,message:e,type:"",...Hse[t]},s,{boxType:t}),r)}}yu.close=()=>{Od.forEach((t,e)=>{e.doClose()}),Od.clear()};yu._context=null;const $a=yu;$a.install=t=>{$a._context=t._context,t.config.globalProperties.$msgbox=$a,t.config.globalProperties.$messageBox=$a,t.config.globalProperties.$alert=$a.alert,t.config.globalProperties.$confirm=$a.confirm,t.config.globalProperties.$prompt=$a.prompt};const Wse=$a,kR=["success","info","warning","error"],Gse=$e({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:sn},id:{type:String,default:""},message:{type:le([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:le(Function),default:()=>{}},onClose:{type:le(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...kR,""],default:""},zIndex:Number}),Kse={destroy:()=>!0},jse=se({name:"ElNotification"}),qse=se({...jse,props:Gse,emits:Kse,setup(t,{expose:e}){const n=t,{ns:s,zIndex:r}=lm("notification"),{nextZIndex:o,currentZIndex:a}=r,{Close:i}=wb,l=z(!1);let c;const u=R(()=>{const b=n.type;return b&&pi[n.type]?s.m(b):""}),d=R(()=>n.type&&pi[n.type]||n.icon),h=R(()=>n.position.endsWith("right")?"right":"left"),p=R(()=>n.position.startsWith("top")?"top":"bottom"),v=R(()=>{var b;return{[p.value]:`${n.offset}px`,zIndex:(b=n.zIndex)!=null?b:a.value}});function m(){n.duration>0&&({stop:c}=dl(()=>{l.value&&g()},n.duration))}function y(){c==null||c()}function g(){l.value=!1}function _({code:b}){b===qe.delete||b===qe.backspace?y():b===qe.esc?l.value&&g():m()}return wt(()=>{m(),o(),l.value=!0}),en(document,"keydown",_),e({visible:l,close:g}),(b,S)=>(D(),_e(Xn,{name:f(s).b("fade"),onBeforeLeave:b.onClose,onAfterLeave:w=>b.$emit("destroy"),persisted:""},{default:te(()=>[Ct(K("div",{id:b.id,class:F([f(s).b(),b.customClass,f(h)]),style:rt(f(v)),role:"alert",onMouseenter:y,onMouseleave:m,onClick:b.onClick},[f(d)?(D(),_e(f(tt),{key:0,class:F([f(s).e("icon"),f(u)])},{default:te(()=>[(D(),_e(Rt(f(d))))]),_:1},8,["class"])):he("v-if",!0),K("div",{class:F(f(s).e("group"))},[K("h2",{class:F(f(s).e("title")),textContent:Ne(b.title)},null,10,["textContent"]),Ct(K("div",{class:F(f(s).e("content")),style:rt(b.title?void 0:{margin:0})},[pe(b.$slots,"default",{},()=>[b.dangerouslyUseHTMLString?(D(),H(Ze,{key:1},[he(" Caution here, message could've been compromised, never use user's input as message "),K("p",{innerHTML:b.message},null,8,["innerHTML"])],2112)):(D(),H("p",{key:0},Ne(b.message),1))])],6),[[Vt,b.message]]),b.showClose?(D(),_e(f(tt),{key:0,class:F(f(s).e("closeBtn")),onClick:pt(g,["stop"])},{default:te(()=>[j(f(i))]),_:1},8,["class","onClick"])):he("v-if",!0)],2)],46,["id","onClick"]),[[Vt,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Yse=He(qse,[["__file","notification.vue"]]);const Eh={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},I0=16;let Xse=1;const qc=function(t={},e){if(!Nt)return{close:()=>{}};(ot(t)||Cn(t))&&(t={message:t});const n=t.position||"top-right";let s=t.offset||0;Eh[n].forEach(({vm:u})=>{var d;s+=(((d=u.el)==null?void 0:d.offsetHeight)||0)+I0}),s+=I0;const r=`notification_${Xse++}`,o=t.onClose,a={...t,offset:s,id:r,onClose:()=>{Qse(r,n,o)}};let i=document.body;gr(t.appendTo)?i=t.appendTo:ot(t.appendTo)&&(i=document.querySelector(t.appendTo)),gr(i)||(i=document.body);const l=document.createElement("div"),c=j(Yse,a,ct(a.message)?a.message:Cn(a.message)?()=>a.message:null);return c.appContext=Jt(e)?qc._context:e,c.props.onDestroy=()=>{ii(null,l)},ii(c,l),Eh[n].push({vm:c}),i.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};kR.forEach(t=>{qc[t]=(e={},n)=>((ot(e)||Cn(e))&&(e={message:e}),qc({...e,type:t},n))});function Qse(t,e,n){const s=Eh[e],r=s.findIndex(({vm:c})=>{var u;return((u=c.component)==null?void 0:u.props.id)===t});if(r===-1)return;const{vm:o}=s[r];if(!o)return;n==null||n(o);const a=o.el.offsetHeight,i=e.split("-")[0];s.splice(r,1);const l=s.length;if(!(l<1))for(let c=r;c<l;c++){const{el:u,component:d}=s[c].vm,h=Number.parseInt(u.style[i],10)-a-I0;d.props.offset=h}}function Zse(){for(const t of Object.values(Eh))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}qc.closeAll=Zse;qc._context=null;const Jse=jT(qc,"$notify");var ere=[hse,bse,Dse,Wse,Jse,j2],tre=P4([...ise,...ere]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */var G1;(function(t){t.pop="pop",t.push="push"})(G1||(G1={}));var K1;(function(t){t.back="back",t.forward="forward",t.unknown=""})(K1||(K1={}));var j1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(j1||(j1={}));const nre=Symbol("");function sre(t){return Qe(nre)}const Xr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},rre=t=>(bl("data-v-03cf8fed"),t=t(),Sl(),t),ore={class:"banner-content"},are={class:"navigation"},ire={class:"nav-list"},lre=["href","onClick"],cre={class:"link-text"},ure=rre(()=>K("div",{class:"link-underline"},null,-1)),dre="./dynamic_logo.gif",fre={__name:"Banner",setup(t){const e=sre(),n=z(!1),s=z("/"),r=[{text:"Home",path:"/"},{text:"Projects",path:"/projects"},{text:"About",path:"/about"},{text:"Contact",path:"/contact"}],o=()=>{n.value=window.scrollY>50},a=i=>{s.value=i,window.scrollTo({top:0,behavior:"smooth"})};return wt(()=>{window.addEventListener("scroll",o),s.value=e.path}),ya(()=>{window.removeEventListener("scroll",o)}),(i,l)=>{const c=et("router-link");return D(),H("header",{class:F(["banner",{scrolled:n.value}])},[K("div",ore,[j(c,{to:"/",class:"logo-link"},{default:te(()=>[K("img",{src:dre,alt:"Site Logo",class:"logo"})]),_:1}),K("nav",are,[K("ul",ire,[(D(),H(Ze,null,Tt(r,(u,d)=>K("li",{key:d,class:"nav-item"},[K("a",{href:u.path,class:F(["nav-link",{active:s.value===u.path}]),onClick:pt(h=>a(u.path),["prevent"])},[K("span",cre,Ne(u.text),1),ure],10,lre)])),64))])])])],2)}}},pre=Xr(fre,[["__scopeId","data-v-03cf8fed"]]),hre=["href"],mre="./dynamic_logo.gif",vre=se({__name:"Header",setup(t){const e=[{name:"Not Implemented now",link:"xx"},{name:"yy",link:"yy"}],n=z({});return wt(()=>{window.addEventListener("scroll",()=>{window.scrollY>50?n.value={backgroundColor:"transparent",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"}:n.value={backgroundColor:"transparent",boxShadow:"none"}})}),(s,r)=>{const o=et("el-menu-item"),a=et("el-sub-menu"),i=et("el-menu"),l=et("el-affix");return D(),_e(l,{offset:0,style:{width:"100%"}},{default:te(()=>[j(i,{"default-active":"1",class:"el-menu-demo",mode:"horizontal",ellipsis:!1,style:rt(n.value)},{default:te(()=>[j(o,{index:"0",style:{"margin-left":"25px"}},{default:te(()=>[j(f(tt),{size:20},{default:te(()=>[K("a",{href:"https://github.com/EavianWoo/SinGS",target:"_blank",rel:"noopener noreferrer"},[K("img",{src:mre,alt:"Site Logo",class:"logo"})])]),_:1})]),_:1}),j(a,{index:"2",style:{"margin-left":"auto"}},{title:te(()=>[St("More")]),default:te(()=>[j(o,{index:"2-1"},{default:te(()=>[K("a",{href:e[0].link},Ne(e[0].name),9,hre)]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})}}}),gre=Xr(vre,[["__scopeId","data-v-1141d57e"]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Of={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:s,iconNode:r,name:o,class:a,...i},{slots:l})=>st("svg",{...Of,width:t||Of.width,height:t||Of.height,stroke:s||Of.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:["lucide",`lucide-${yre(o??"icon")}`],...i},[...r.map(c=>st(...c)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=(t,e)=>(n,{slots:s})=>st(bre,{...n,iconNode:e,name:t},s);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=LS("GithubIcon",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=LS("WandIcon",[["path",{d:"M15 4V2",key:"z1p9b7"}],["path",{d:"M15 16v-2",key:"px0unx"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M17.8 11.8 19 13",key:"yihg8r"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M17.8 6.2 19 5",key:"fd4us0"}],["path",{d:"m3 21 9-9",key:"1jfql5"}],["path",{d:"M12.2 6.2 11 5",key:"i3da3b"}]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=LS("YoutubeIcon",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Cre={xmlns:"http://www.w3.org/2000/svg",width:"266.667",height:"266.667",version:"1.0",viewBox:"0 0 200 200"},xre=K("path",{d:"M41.6 12.5C38.6 17 38.1 16 55.7 38c5.9 7.4 11.3 14.2 12 15s3.5 4.4 6.3 8 5.6 7.2 6.3 8 2.8 3.5 4.7 6c1.9 2.4 4.3 5.3 5.3 6.4 1.7 2 2.3 6.2.9 6.8-.4.1-2.2 2.1-4 4.3-5 6.1-4.3 9.2 4.2 18.3 2.8 3 2.9 3.5 1.7 5.5-1.5 2.3-20.6 26.2-22.8 28.5-.7.8-2.6 3-4.1 5-1.5 2.1-2.9 3.9-3.2 4.2s-2.5 2.9-5 5.9c-3.8 4.6-4.5 6.2-4.5 9.7 0 5 .9 6.1 5.3 7 3 .6 3.7.2 9-5.2 3.1-3.3 9.5-10.2 14.2-15.4 10.5-11.7 15.5-17.2 20.8-23l4.2-4.5 4.2 4.5c5.3 5.8 10.3 11.3 20.8 23 4.7 5.2 8.7 9.7 9 10s4.3 4.8 9 10 9.5 10.6 10.7 11.9c1.6 1.8 3.3 2.5 5.9 2.5 4.2 0 6.4-2.3 6.4-6.5 0-2.5-5.3-10.8-11.4-17.7-1.4-1.5-7.5-9-13.8-16.8-6.2-7.7-15-18.6-19.5-24.2-4.6-5.5-8.3-10.4-8.3-10.7 0-.4 1.8-2.7 4-5.2 6-6.8 5.8-10.5-1-18.2l-4.8-5.5 2.1-3.1c1.2-1.6 6.5-8.4 11.7-15 9.1-11.5 13.5-17.1 22.8-29.2 2.3-3 4.2-6.5 4.2-7.8 0-3-2.8-6.3-6.3-7.1-2.4-.5-3.5.1-8.5 5.2-3.2 3.3-9.2 9.7-13.3 14.4-4 4.7-7.6 8.7-7.9 9s-3.9 4.3-8 9-7.9 8.8-8.5 9.2c-1.1.8-5.2-3.3-17.5-17.2-4.1-4.7-7.7-8.7-8-9s-3.9-4.3-8-9-7.7-8.7-8-9-3.6-4-7.3-8.3C51.4 10.6 50.5 10 47 10c-2.9 0-4.1.6-5.4 2.5M55 17.7c2.5 2.6 7.9 8.6 12 13.3s7.7 8.7 8 9 3.9 4.3 8 9 7.7 8.7 8 9 3.9 4.3 8 9 7.7 8.7 8 9 3.9 4.3 8 9 8.3 9.4 9.3 10.5c2.2 2.5 3.1 5.9 2 7.8-1.5 2.7-7.2 8.7-8.2 8.7-.5 0-2.7-2.1-4.8-4.7-2.1-2.7-4.4-5.4-5.1-6.1-.7-.8-2.5-3-4-5-1.5-2.1-2.9-3.9-3.2-4.2s-2.1-2.5-4-5-3.7-4.7-4-5-1.7-2.1-3.2-4.2c-1.5-2-3.3-4.2-4-5-.7-.7-2.5-2.9-4-5-1.5-2-3.3-4.2-4-5-.7-.7-2.9-3.4-4.8-5.8-1.9-2.5-4-5.2-4.7-6-8.6-10.7-22.4-28.2-24.2-30.8-2.7-3.8-2.4-6.2.8-7.9 3.1-1.5 4.4-.8 10.1 5.4m46.1 104.4c4.4 5.4 4.4 5.3 1.7 8.1-1.3 1.3-5.7 6.2-9.8 10.8-4.1 4.7-8.2 9.2-9 10s-5.3 5.8-10 11-9 10-9.5 10.6c-.6.6-2 1.6-3.2 2.2-1.8 1-2.5.7-4.7-1.5-1.4-1.4-2.6-3-2.6-3.5 0-.9 3.6-6.6 5-7.8.3-.3 1.7-2.1 3.2-4.2 1.5-2 3.3-4.2 4-5 .8-.7 2.9-3.3 4.8-5.8s3.7-4.7 4-5 4.4-5.2 9-11c4.7-5.8 8.9-11 9.5-11.7 1.8-2.2 4.2-1.3 7.6 2.8"},null,-1),Are=[xre];function Ere(t,e){return D(),H("svg",Cre,Are)}const Tre={render:Ere},Mre=t=>(bl("data-v-f0fa8840"),t=t(),Sl(),t),Ire={class:"paper-title"},Rre={class:"authors-container"},Pre=["href"],Dre={class:"author"},kre={key:0,class:"name_sup"},Lre=["href"],Ore={class:"address"},Bre={key:0,class:"address_sup"},Fre=["href"],Nre={class:"btn-text"},Ure=Mre(()=>K("p",{style:{"font-family":"'Georgia', serif","font-size":"20px","font-weight":"bold",color:"#333","text-shadow":"2px 2px 4px rgba(0, 0, 0, 0.3)","letter-spacing":"1px",margin:"20px 0"}}," Special Acknowledgement ",-1)),zre=["href"],$re={class:"address"},Hre={key:0,class:"address_sup"},Vre=" [ DATE ]  Peace and Love ~ No news.",q1="Sin",Y1="G",X1="S",Wre="#2b8cd4",Gre="#ff5758",Kre="#7fd858",Q1="",jre="#42B883",qre="#444444",Yre="*: Corresponding Author.",Xre=se({__name:"Title",props:{gifSrc:{type:String,required:!0},altText:{type:String,default:"Logo"}},setup(t){const e=R(()=>{const u=new Date().toISOString().split("T")[0];return Vre.replace("DATE",u)}),n=[": Animatable"," Sin","gle-Image Human "," G","aussian"," S","plats with Kinematic Priors"],s=["#323232","#2b8cd4","#323232","#ff5758","#323232","#7fd858","#323232"],r=[{name:"Yufan Wu",icon:"./icon/authors/mine.jpeg",homepage:"https://github.com/EavianWoo/",address_flag:"1, 2"},{name:"Xuanhong Chen",icon:"./icon/authors/xuanhongChen.png",homepage:"https://github.com/neuralchen",address_flag:"1, 2, *"},{name:"Wen Li",icon:"./icon/authors/wenLi.gif",homepage:"https://github.com/lililuya",address_flag:"1, 2"},{name:"Shunran Jia",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:""},{name:"Hualiang Wei",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:"1, 2"},{name:"Kairui Feng",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:"1"},{name:"Jialiang CHEN",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:""},{name:"Yuhan Li",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:"1"},{name:"Ang He",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:"1"},{name:"Weimin Zhang",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:"1"},{name:"Bingbing Ni",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:"1"},{name:"Wenjun Zhang",icon:"./icon/authors/unkown/unknown.jpeg",address_flag:"1"}],o=[{address_flag:"1",name:"Shanghai Jiao Tong University",icon:"./icon/SJTU_logo.png",homepage:"https://en.sjtu.edu.cn/"},{address_flag:"2",name:"ICCI, USC-SJTU",icon:"./icon/ICCI.jpeg",homepage:"https://icci.sjtu.edu.cn/"}],a=[{address_flag:"",name:"Akool",icon:"./icon/Akool_logo.png",homepage:"https://www.akool.com/"},{address_flag:"",name:"SocialBook",icon:"./icon/SocialBook_logo.png",homepage:"https://socialbook.io/"}],i=[" [CVPR 2025]"],l=[{disabled:!1,name:"Paper",link:"https://github.com/EavianWoo/SinGS",component:Tre},{disabled:!1,name:"Code",link:"https://github.com/EavianWoo/SinGS",component:Sre},{disabled:!1,name:"Demo",link:"https://github.com/EavianWoo/SinGS",component:_re},{disabled:!0,name:"Slide",component:hU},{disabled:!0,name:"Video",link:"",component:wre}];return(c,u)=>{const d=et("el-alert"),h=et("el-col"),p=et("el-row"),v=et("el-avatar"),m=et("el-button");return D(),H("div",null,[j(p,{justify:"center"},{default:te(()=>[j(h,{span:24},{default:te(()=>[j(d,{title:e.value,type:"success"},null,8,["title"])]),_:1})]),_:1}),j(p,{justify:"center"},{default:te(()=>[j(h,{span:20},{default:te(()=>[K("h1",Ire,[q1?(D(),H("span",{key:0,style:rt({color:Wre})},Ne(q1),4)):he("",!0),Y1?(D(),H("span",{key:1,style:rt({color:Gre})},Ne(Y1),4)):he("",!0),X1?(D(),H("span",{key:2,style:rt({color:Kre})},Ne(X1),4)):he("",!0),(D(),H(Ze,null,Tt(n,(y,g)=>K("span",{key:g,style:rt({color:s[g],lineHeight:"1.5"})},Ne(y),5)),64)),Q1?(D(),H("span",{key:3,style:rt({color:jre})},Ne(Q1),4)):he("",!0)])]),_:1})]),_:1}),j(p,{justify:"center"},{default:te(()=>[j(h,{xs:20,sm:18,md:16,lg:16,xl:16},{default:te(()=>[K("div",Rre,[(D(),H(Ze,null,Tt(r,y=>K("a",{href:y.homepage},[j(m,{class:"title-button",type:"primary",text:""},{default:te(()=>[y.icon?(D(),_e(v,{key:0,size:40,src:y.icon},null,8,["src"])):he("",!0),K("span",Dre,[St(Ne(y.name),1),y.address_flag?(D(),H("sup",kre,Ne(y.address_flag),1)):he("",!0)])]),_:2},1024)],8,Pre)),64))])]),_:1})]),_:1}),j(p,{justify:"center"},{default:te(()=>[(D(),H(Ze,null,Tt(o,y=>K("a",{href:y.homepage},[j(m,{class:"title-button",type:"primary",text:""},{default:te(()=>[y.icon?(D(),_e(v,{key:0,size:40,src:y.icon},null,8,["src"])):he("",!0),K("span",Ore,[y.address_flag?(D(),H("sup",Bre,Ne(y.address_flag),1)):he("",!0),St(Ne(y.name),1)])]),_:2},1024)],8,Lre)),64))]),_:1}),j(p,{justify:"center",class:"con-cor"},{default:te(()=>[St(Ne(Yre))]),_:1}),(D(),H(Ze,null,Tt(i,y=>j(p,{justify:"center",class:"emphasis"},{default:te(()=>[St(Ne(y),1)]),_:2},1024)),64)),j(p,{justify:"center",style:{"margin-bottom":"20px"}},{default:te(()=>[j(h,{span:20},{default:te(()=>[j(p,{justify:"center"},{default:te(()=>[(D(),H(Ze,null,Tt(l,y=>K("a",{href:y.link},[j(m,{class:"guidance-button",size:"default",color:qre,disabled:y.disabled,round:""},{default:te(()=>[j(f(tt),{size:20},{default:te(()=>[(D(),_e(Rt(y.component)))]),_:2},1024),K("span",Nre,Ne(y.name),1)]),_:2},1032,["disabled"])],8,Fre)),64))]),_:1})]),_:1})]),_:1}),j(p,{justify:"center"},{default:te(()=>[Ure]),_:1}),j(p,{justify:"center"},{default:te(()=>[(D(),H(Ze,null,Tt(a,y=>K("a",{href:y.homepage},[j(m,{class:"title-button",type:"primary",text:""},{default:te(()=>[y.icon?(D(),_e(v,{key:0,size:40,src:y.icon},null,8,["src"])):he("",!0),K("span",$re,[y.address_flag?(D(),H("sup",Hre,Ne(y.address_flag),1)):he("",!0),St(Ne(y.name),1)])]),_:2},1024)],8,zre)),64))]),_:1})])}}}),Qre=Xr(Xre,[["__scopeId","data-v-f0fa8840"]]);function Be(t,e,n){const{children:s}=e;return delete e.children,arguments.length>2&&(e.key=n),st(t,e,s)}function Z1(t){const e={h1:"h1",p:"p",strong:"strong",...t.components};return Be(Ze,{children:[Be(e.h1,{children:"Abstract"}),`
`,Be(e.p,{children:[`Despite significant advances in accurately estimating geometry in contemporary single-image 3D human reconstruction, creating a high-quality, efficient, and animatable 3D avatar remains an open challenge.
Two key obstacles persist: incomplete observation and inconsistent 3D priors. To address these challenges, we propose `,Be(e.strong,{children:"SinGS"}),`, aiming to achieve high-quality and efficient animatable 3D avatar reconstruction. At the heart of SinGS are two key components: Kinematic Human Diffusion and Geometry-Preserving 3D Gaussian Splatting.
The former is a foundational human model that samples within pose space to generate a highly 3D-consistent and high-quality sequence of human images, inferring unseen viewpoints and providing kinematic priors. The latter is a system that reconstructs a compact, high-quality 3D avatar even under imperfect priors, achieved through a novel semantic Laplacian regularization and a geometry-preserving density control strategy that enable precise and compact assembly of 3D primitives.
Extensive experiments demonstrate that SinGS enables lifelike, animatable human reconstructions, maintaining both high quality and inference efficiency (up to 70FPS).`]})]})}function Zre(t={}){const{wrapper:e}=t.components||{};return e?Be(e,{...t,children:Be(Z1,{...t})}):Z1(t)}const Jre={class:"markdown-container"},eoe={__name:"Abstract",setup(t){return(e,n)=>{const s=et("el-divider"),r=et("el-col"),o=et("el-row");return D(),H("div",null,[j(s),j(o,{justify:"center"},{default:te(()=>[j(r,{xs:24,sm:20,md:16,lg:16,xl:16},{default:te(()=>[K("div",Jre,[j(f(Zre))])]),_:1})]),_:1})])}}},toe=Xr(eoe,[["__scopeId","data-v-99b4bda2"]]);function J1(t){const e={a:"a",annotation:"annotation",blockquote:"blockquote",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",img:"img",input:"input",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msup:"msup",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...t.components};return Be(Ze,{children:[Be(e.h1,{children:"Markdown (H1)"}),`
`,Be(e.p,{children:["The render result of ",Be(e.code,{children:"md.mdx"})," is here."]}),`
`,Be(e.h2,{children:"Good (H2)"}),`
`,Be(e.h3,{children:"Nice (H3)"}),`
`,Be(e.p,{children:[Be(e.a,{href:"https://lilianweng.github.io/posts/2021-07-11-diffusion-models/",children:Be(e.strong,{children:"Diffusion models"})})," are a class of generative models in machine learning that have gained significant attention in recent years."]}),`
`,Be(e.p,{children:[Be(e.strong,{children:"Text-to-image diffusion models"})," have various application scenarios, including:"]}),`
`,Be(e.ul,{children:[`
`,Be(e.li,{children:[Be(e.strong,{children:"Art & Design"}),": Used by artists for creative art and fashion designers to generate clothing renderings."]}),`
`,Be(e.li,{children:[Be(e.strong,{children:"Advertising & Marketing"}),": Helps in creating advertising posters and product promotion maps."]}),`
`,Be(e.li,{children:[Be(e.strong,{children:"Game & Film"}),": Applied in game scene and character design, as well as film and television concept design..."]}),`
`]}),`
`,Be(e.blockquote,{children:[`
`,Be(e.p,{children:"Thegeneral training steps of diffusion models are as follows:"}),`
`]}),`
`,Be(e.ol,{children:[`
`,Be(e.li,{children:"Data collection"}),`
`,Be(e.li,{children:"Noise addition"}),`
`,Be(e.li,{children:"Model building"}),`
`,Be(e.li,{children:"Training"}),`
`,Be(e.li,{children:"Evaluation"}),`
`,Be(e.li,{children:"Deployment"}),`
`]}),`
`,Be(e.pre,{children:Be(e.code,{children:`import torch 

def denoise():
    pass
`})}),`
`,Be(e.ul,{className:"contains-task-list",children:[`
`,Be(e.li,{className:"task-list-item",children:[Be(e.input,{type:"checkbox",disabled:!0})," ","to do"]}),`
`,Be(e.li,{className:"task-list-item",children:[Be(e.input,{type:"checkbox",checked:!0,disabled:!0})," ","done"]}),`
`,Be(e.li,{className:"task-list-item",children:[Be(e.input,{type:"checkbox",checked:!0,disabled:!0})," ",Be(e.del,{children:"114514"})]}),`
`]}),`
`,Be(e.p,{children:Be(e.img,{src:"./logo_vision_aigc.png",alt:""})}),`
`,Be(e.p,{children:["Lift (",Be(e.span,{className:"katex",children:[Be(e.span,{className:"katex-mathml",children:Be(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:Be(e.semantics,{children:[Be(e.mrow,{children:Be(e.mi,{children:"L"})}),Be(e.annotation,{encoding:"application/x-tex",children:"L"})]})})}),Be(e.span,{className:"katex-html","aria-hidden":"true",children:Be(e.span,{className:"base",children:[Be(e.span,{className:"strut",style:{height:"0.6833em"}}),Be(e.span,{className:"mord mathnormal",children:"L"})]})})]}),") can be determined by Lift Coefficient (",Be(e.span,{className:"katex",children:[Be(e.span,{className:"katex-mathml",children:Be(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:Be(e.semantics,{children:[Be(e.mrow,{children:Be(e.msub,{children:[Be(e.mi,{children:"C"}),Be(e.mi,{children:"L"})]})}),Be(e.annotation,{encoding:"application/x-tex",children:"C_L"})]})})}),Be(e.span,{className:"katex-html","aria-hidden":"true",children:Be(e.span,{className:"base",children:[Be(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),Be(e.span,{className:"mord",children:[Be(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"C"}),Be(e.span,{className:"msupsub",children:Be(e.span,{className:"vlist-t vlist-t2",children:[Be(e.span,{className:"vlist-r",children:[Be(e.span,{className:"vlist",style:{height:"0.3283em"},children:Be(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[Be(e.span,{className:"pstrut",style:{height:"2.7em"}}),Be(e.span,{className:"sizing reset-size6 size3 mtight",children:Be(e.span,{className:"mord mathnormal mtight",children:"L"})})]})}),Be(e.span,{className:"vlist-s",children:""})]}),Be(e.span,{className:"vlist-r",children:Be(e.span,{className:"vlist",style:{height:"0.15em"},children:Be(e.span,{})})})]})})]})]})})]}),`) like the following
equation.`]}),`
`,Be(e.span,{className:"katex-display",children:Be(e.span,{className:"katex",children:[Be(e.span,{className:"katex-mathml",children:Be(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:Be(e.semantics,{children:[Be(e.mrow,{children:[Be(e.mi,{children:"L"}),Be(e.mo,{children:"="}),Be(e.mfrac,{children:[Be(e.mn,{children:"1"}),Be(e.mn,{children:"2"})]}),Be(e.mi,{children:""}),Be(e.msup,{children:[Be(e.mi,{children:"v"}),Be(e.mn,{children:"2"})]}),Be(e.mi,{children:"S"}),Be(e.msub,{children:[Be(e.mi,{children:"C"}),Be(e.mi,{children:"L"})]})]}),Be(e.annotation,{encoding:"application/x-tex",children:"L = \\frac{1}{2} \\rho v^2 S C_L"})]})})}),Be(e.span,{className:"katex-html","aria-hidden":"true",children:[Be(e.span,{className:"base",children:[Be(e.span,{className:"strut",style:{height:"0.6833em"}}),Be(e.span,{className:"mord mathnormal",children:"L"}),Be(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),Be(e.span,{className:"mrel",children:"="}),Be(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),Be(e.span,{className:"base",children:[Be(e.span,{className:"strut",style:{height:"2.0074em",verticalAlign:"-0.686em"}}),Be(e.span,{className:"mord",children:[Be(e.span,{className:"mopen nulldelimiter"}),Be(e.span,{className:"mfrac",children:Be(e.span,{className:"vlist-t vlist-t2",children:[Be(e.span,{className:"vlist-r",children:[Be(e.span,{className:"vlist",style:{height:"1.3214em"},children:[Be(e.span,{style:{top:"-2.314em"},children:[Be(e.span,{className:"pstrut",style:{height:"3em"}}),Be(e.span,{className:"mord",children:Be(e.span,{className:"mord",children:"2"})})]}),Be(e.span,{style:{top:"-3.23em"},children:[Be(e.span,{className:"pstrut",style:{height:"3em"}}),Be(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),Be(e.span,{style:{top:"-3.677em"},children:[Be(e.span,{className:"pstrut",style:{height:"3em"}}),Be(e.span,{className:"mord",children:Be(e.span,{className:"mord",children:"1"})})]})]}),Be(e.span,{className:"vlist-s",children:""})]}),Be(e.span,{className:"vlist-r",children:Be(e.span,{className:"vlist",style:{height:"0.686em"},children:Be(e.span,{})})})]})}),Be(e.span,{className:"mclose nulldelimiter"})]}),Be(e.span,{className:"mord mathnormal",children:""}),Be(e.span,{className:"mord",children:[Be(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),Be(e.span,{className:"msupsub",children:Be(e.span,{className:"vlist-t",children:Be(e.span,{className:"vlist-r",children:Be(e.span,{className:"vlist",style:{height:"0.8641em"},children:Be(e.span,{style:{top:"-3.113em",marginRight:"0.05em"},children:[Be(e.span,{className:"pstrut",style:{height:"2.7em"}}),Be(e.span,{className:"sizing reset-size6 size3 mtight",children:Be(e.span,{className:"mord mtight",children:"2"})})]})})})})})]}),Be(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),Be(e.span,{className:"mord",children:[Be(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"C"}),Be(e.span,{className:"msupsub",children:Be(e.span,{className:"vlist-t vlist-t2",children:[Be(e.span,{className:"vlist-r",children:[Be(e.span,{className:"vlist",style:{height:"0.3283em"},children:Be(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[Be(e.span,{className:"pstrut",style:{height:"2.7em"}}),Be(e.span,{className:"sizing reset-size6 size3 mtight",children:Be(e.span,{className:"mord mathnormal mtight",children:"L"})})]})}),Be(e.span,{className:"vlist-s",children:""})]}),Be(e.span,{className:"vlist-r",children:Be(e.span,{className:"vlist",style:{height:"0.15em"},children:Be(e.span,{})})})]})})]})]})]})]})}),`
`,Be(e.h3,{children:"Table (H3)"}),`
`,Be(e.table,{children:[Be(e.thead,{children:Be(e.tr,{children:[Be(e.th,{children:"a"}),Be(e.th,{style:{textAlign:"left"},children:"b"}),Be(e.th,{style:{textAlign:"right"},children:"c"}),Be(e.th,{style:{textAlign:"center"},children:"d"})]})}),Be(e.tbody,{children:[Be(e.tr,{children:[Be(e.td,{children:"Alpha"}),Be(e.td,{style:{textAlign:"left"},children:"Bravo"}),Be(e.td,{style:{textAlign:"right"},children:"Alpha"}),Be(e.td,{style:{textAlign:"center"},children:"Bravo"})]}),Be(e.tr,{children:[Be(e.td,{children:""}),Be(e.td,{style:{textAlign:"left"},children:"Charlie"}),Be(e.td,{style:{textAlign:"right"},children:""}),Be(e.td,{style:{textAlign:"center"},children:"Delta"})]})]})]})]})}function noe(t={}){const{wrapper:e}=t.components||{};return e?Be(e,{...t,children:Be(J1,{...t})}):J1(t)}const soe={__name:"Markdown",setup(t){return(e,n)=>{const s=et("el-divider"),r=et("el-col"),o=et("el-row");return D(),H("div",null,[j(s),j(o,{justify:"center"},{default:te(()=>[j(r,{xs:24,sm:20,md:16,lg:12,xl:12},{default:te(()=>[j(f(noe))]),_:1})]),_:1})])}}},roe={data(){return{bibtex:[" Work in Progress "]}},methods:{copyVal(){let t=document.createElement("textarea"),e=document.getElementById("bibtex").innerText;t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),this.$message.success("Copy Successfully"),t.remove()}}},OS=t=>(bl("data-v-3d107b07"),t=t(),Sl(),t),ooe=OS(()=>K("h1",{class:"section-title"},"BibTeX",-1)),aoe={id:"bibtex"},ioe=OS(()=>K("br",null,null,-1)),loe=OS(()=>K("div",{style:{"text-align":"left",color:"var(--el-text-color-secondary)","margin-top":"0px"}}," Click to copy BibTex.",-1));function coe(t,e,n,s,r,o){const a=et("el-divider"),i=et("el-row"),l=et("el-scrollbar"),c=et("el-col");return D(),H("div",null,[j(a),j(i,{justify:"center"},{default:te(()=>[ooe]),_:1}),j(i,{justify:"center"},{default:te(()=>[j(c,{class:"bibtex",xs:24,sm:20,md:16,lg:16,xl:16,onClick:e[0]||(e[0]=u=>o.copyVal())},{default:te(()=>[j(i,null,{default:te(()=>[j(l,{style:{margin:"0px 20px 5px 20px"}},{default:te(()=>[K("pre",aoe,[(D(!0),H(Ze,null,Tt(r.bibtex,u=>(D(),H("code",null,[St(Ne(u),1),ioe]))),256))])]),_:1})]),_:1}),loe]),_:1})]),_:1})])}const uoe=Xr(roe,[["render",coe],["__scopeId","data-v-3d107b07"]]),doe="/singsPage/video/anim_test.mp4",foe={},LR=t=>(bl("data-v-c6ebbab7"),t=t(),Sl(),t),poe=LR(()=>K("h1",{class:"section-title"},"Video",-1)),hoe=LR(()=>K("video",{controls:"",muted:"",preload:"",playsinline:""},[K("source",{src:doe,type:"video/mp4"})],-1));function moe(t,e){const n=et("el-divider"),s=et("el-row"),r=et("el-container"),o=et("el-col");return D(),H("div",null,[j(n),j(s,{justify:"center"},{default:te(()=>[poe]),_:1}),j(s,{justify:"center"},{default:te(()=>[j(o,{xs:20,sm:18,md:16,lg:16,xl:16},{default:te(()=>[j(r,{class:"video-container"},{default:te(()=>[hoe]),_:1})]),_:1})]),_:1})])}const voe=Xr(foe,[["render",moe],["__scopeId","data-v-c6ebbab7"]]),goe={},af=t=>(bl("data-v-1f587c64"),t=t(),Sl(),t),yoe=af(()=>K("h1",{class:"section-title"},"Detail Discussion",-1)),boe=af(()=>K("div",{style:{"text-align":"justify",width:"100%"}},[St(" Unlike these methods that depends on SDS to simply samples in static camera space, SinGS brings motion to the stage with "),K("strong",null,"KHD"),St(" that samples directly in "),K("strong",null,"kinematic human space"),St(". This allows the us to effectivelyleverage readily available monocular multi-motion videos, and toincorporate temporal informationas a more powerful consistency constraint - which has been shown to improve identity consistency. ")],-1)),Soe=af(()=>K("div",null,[St(" To ensure high-quality and structurally consistent reconstructions, "),K("strong",null,"GPGS"),St(" integrates "),K("div",{style:{"text-align":"justify",width:"100%"}},[St(" - "),K("em",null,"Semantic Laplacian Regularization"),St(" which provides semantic region-specific control by relaxing restrictions in expressive areas (e.g. head) to preserve fine-grained details while tightening elsewhere to ensure surface coherence and geometric smoothness. ")]),K("div",{style:{"text-align":"justify",width:"100%"}},[St(" - "),K("em",null,"Geometry-Preserving Density Control"),St(" which prevents over-pruning or uncontrolled growth of Gaussians. ")]),K("div",{style:{"text-align":"justify",width:"100%"}},[St(" These strategies, combined with mesh-guided optimization and a triplane-based network, enable "),K("strong",null,"GPGS"),St(" to produce accurate and animatable human avatar even under imperfect priors. ")])],-1)),_oe=af(()=>K("div",null," To be updated; ",-1)),woe=af(()=>K("div",null," To be updated; ",-1));function Coe(t,e){const n=et("el-divider"),s=et("el-row"),r=et("el-collapse-item"),o=et("el-collapse"),a=et("el-col");return D(),H("div",null,[j(n),j(s,{justify:"center"},{default:te(()=>[yoe]),_:1}),j(s,{justify:"center"},{default:te(()=>[j(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:te(()=>[j(o,{"model-value":"1",class:"collapse",accordion:""},{default:te(()=>[j(r,{title:"Consistency",name:"1"},{default:te(()=>[boe]),_:1}),j(r,{title:"Quality",name:"2"},{default:te(()=>[Soe]),_:1}),j(r,{title:"Efficiency",name:"3"},{default:te(()=>[_oe]),_:1}),j(r,{title:"Animation",name:"4"},{default:te(()=>[woe]),_:1})]),_:1})]),_:1})]),_:1})])}const xoe=Xr(goe,[["render",Coe],["__scopeId","data-v-1f587c64"]]);function ex(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function BS(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:ex(e[n])&&ex(t[n])&&Object.keys(e[n]).length>0&&BS(t[n],e[n])})}const OR={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Do(){const t=typeof document<"u"?document:{};return BS(t,OR),t}const Aoe={document:OR,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Cr(){const t=typeof window<"u"?window:{};return BS(t,Aoe),t}function Eoe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function R0(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Th(){return Date.now()}function Toe(t){const e=Cr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Moe(t,e){e===void 0&&(e="x");const n=Cr();let s,r,o;const a=Toe(t);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(i=>i.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(r==="none"?"":r)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=o.m41:s.length===16?r=parseFloat(s[12]):r=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?r=o.m42:s.length===16?r=parseFloat(s[13]):r=parseFloat(s[5])),r||0}function Bf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ioe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function pr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!Ioe(s)){const r=Object.keys(Object(s)).filter(o=>e.indexOf(o)<0);for(let o=0,a=r.length;o<a;o+=1){const i=r[o],l=Object.getOwnPropertyDescriptor(s,i);l!==void 0&&l.enumerable&&(Bf(t[i])&&Bf(s[i])?s[i].__swiper__?t[i]=s[i]:pr(t[i],s[i]):!Bf(t[i])&&Bf(s[i])?(t[i]={},s[i].__swiper__?t[i]=s[i]:pr(t[i],s[i])):t[i]=s[i])}}}return t}function Ff(t,e,n){t.style.setProperty(e,n)}function BR(t){let{swiper:e,targetPosition:n,side:s}=t;const r=Cr(),o=-e.translate;let a=null,i;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=n>o?"next":"prev",u=(h,p)=>c==="next"&&h>=p||c==="prev"&&h<=p,d=()=>{i=new Date().getTime(),a===null&&(a=i);const h=Math.max(Math.min((i-a)/l,1),0),p=.5-Math.cos(h*Math.PI)/2;let v=o+p*(n-o);if(u(v,n)&&(v=n),e.wrapperEl.scrollTo({[s]:v}),u(v,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:v})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function To(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function FR(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function Roe(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function Poe(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function Ya(t,e){return Cr().getComputedStyle(t,null).getPropertyValue(e)}function Mh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function NR(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function P0(t,e,n){const s=Cr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}let hv;function Doe(){const t=Cr(),e=Do();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function UR(){return hv||(hv=Doe()),hv}let mv;function koe(t){let{userAgent:e}=t===void 0?{}:t;const n=UR(),s=Cr(),r=s.navigator.platform,o=e||s.navigator.userAgent,a={ios:!1,android:!1},i=s.screen.width,l=s.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const d=o.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32";let v=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&v&&n.touch&&m.indexOf(`${i}x${l}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),v=!1),c&&!p&&(a.os="android",a.android=!0),(u||h||d)&&(a.os="ios",a.ios=!0),a}function Loe(t){return t===void 0&&(t={}),mv||(mv=koe(t)),mv}let vv;function Ooe(){const t=Cr();let e=!1;function n(){const s=t.navigator.userAgent.toLowerCase();return s.indexOf("safari")>=0&&s.indexOf("chrome")<0&&s.indexOf("android")<0}if(n()){const s=String(t.navigator.userAgent);if(s.includes("Version/")){const[r,o]=s.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));e=r<16||r===16&&o<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Boe(){return vv||(vv=Ooe()),vv}function Foe(t){let{swiper:e,on:n,emit:s}=t;const r=Cr();let o=null,a=null;const i=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(d=>{a=r.requestAnimationFrame(()=>{const{width:h,height:p}=e;let v=h,m=p;d.forEach(y=>{let{contentBoxSize:g,contentRect:_,target:b}=y;b&&b!==e.el||(v=_?_.width:(g[0]||g).inlineSize,m=_?_.height:(g[0]||g).blockSize)}),(v!==h||m!==p)&&i()})}),o.observe(e.el))},c=()=>{a&&r.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",i),r.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),r.removeEventListener("resize",i),r.removeEventListener("orientationchange",u)})}function Noe(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;const o=[],a=Cr(),i=function(u,d){d===void 0&&(d={});const h=a.MutationObserver||a.WebkitMutationObserver,p=new h(v=>{if(e.__preventObserver__)return;if(v.length===1){r("observerUpdate",v[0]);return}const m=function(){r("observerUpdate",v[0])};a.requestAnimationFrame?a.requestAnimationFrame(m):a.setTimeout(m,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),o.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=NR(e.hostEl);for(let d=0;d<u.length;d+=1)i(u[d])}i(e.hostEl,{childList:e.params.observeSlideChildren}),i(e.wrapperEl,{attributes:!1})}},c=()=>{o.forEach(u=>{u.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var Uoe={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const r=n?"unshift":"push";return t.split(" ").forEach(o=>{s.eventsListeners[o]||(s.eventsListeners[o]=[]),s.eventsListeners[o][r](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function r(){s.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];e.apply(s,a)}return r.__emitterProxy=e,s.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((r,o)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[s].splice(o,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],n=o.slice(1,o.length),s=t):(e=o[0].events,n=o[0].data,s=o[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function zoe(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ya(s,"padding-left")||0,10)-parseInt(Ya(s,"padding-right")||0,10),n=n-parseInt(Ya(s,"padding-top")||0,10)-parseInt(Ya(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function $oe(){const t=this;function e(M){return t.isHorizontal()?M:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[M]}function n(M,I){return parseFloat(M.getPropertyValue(e(I))||0)}const s=t.params,{wrapperEl:r,slidesEl:o,size:a,rtlTranslate:i,wrongRTL:l}=t,c=t.virtual&&s.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,d=To(o,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:d.length;let p=[];const v=[],m=[];let y=s.slidesOffsetBefore;typeof y=="function"&&(y=s.slidesOffsetBefore.call(t));let g=s.slidesOffsetAfter;typeof g=="function"&&(g=s.slidesOffsetAfter.call(t));const _=t.snapGrid.length,b=t.slidesGrid.length;let S=s.spaceBetween,w=-y,C=0,A=0;if(typeof a>"u")return;typeof S=="string"&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*a:typeof S=="string"&&(S=parseFloat(S)),t.virtualSize=-S,d.forEach(M=>{i?M.style.marginLeft="":M.style.marginRight="",M.style.marginBottom="",M.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(Ff(r,"--swiper-centered-offset-before",""),Ff(r,"--swiper-centered-offset-after",""));const T=s.grid&&s.grid.rows>1&&t.grid;T&&t.grid.initSlides(h);let x;const E=s.slidesPerView==="auto"&&s.breakpoints&&Object.keys(s.breakpoints).filter(M=>typeof s.breakpoints[M].slidesPerView<"u").length>0;for(let M=0;M<h;M+=1){x=0;let I;if(d[M]&&(I=d[M]),T&&t.grid.updateSlide(M,I,h,e),!(d[M]&&Ya(I,"display")==="none")){if(s.slidesPerView==="auto"){E&&(d[M].style[e("width")]="");const k=getComputedStyle(I),U=I.style.transform,B=I.style.webkitTransform;if(U&&(I.style.transform="none"),B&&(I.style.webkitTransform="none"),s.roundLengths)x=t.isHorizontal()?P0(I,"width"):P0(I,"height");else{const P=n(k,"width"),N=n(k,"padding-left"),L=n(k,"padding-right"),O=n(k,"margin-left"),$=n(k,"margin-right"),W=k.getPropertyValue("box-sizing");if(W&&W==="border-box")x=P+O+$;else{const{clientWidth:ee,offsetWidth:Y}=I;x=P+N+L+O+$+(Y-ee)}}U&&(I.style.transform=U),B&&(I.style.webkitTransform=B),s.roundLengths&&(x=Math.floor(x))}else x=(a-(s.slidesPerView-1)*S)/s.slidesPerView,s.roundLengths&&(x=Math.floor(x)),d[M]&&(d[M].style[e("width")]=`${x}px`);d[M]&&(d[M].swiperSlideSize=x),m.push(x),s.centeredSlides?(w=w+x/2+C/2+S,C===0&&M!==0&&(w=w-a/2-S),M===0&&(w=w-a/2-S),Math.abs(w)<1/1e3&&(w=0),s.roundLengths&&(w=Math.floor(w)),A%s.slidesPerGroup===0&&p.push(w),v.push(w)):(s.roundLengths&&(w=Math.floor(w)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&p.push(w),v.push(w),w=w+x+S),t.virtualSize+=x+S,C=x,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+g,i&&l&&(s.effect==="slide"||s.effect==="coverflow")&&(r.style.width=`${t.virtualSize+S}px`),s.setWrapperSize&&(r.style[e("width")]=`${t.virtualSize+S}px`),T&&t.grid.updateWrapperSize(x,p,e),!s.centeredSlides){const M=[];for(let I=0;I<p.length;I+=1){let k=p[I];s.roundLengths&&(k=Math.floor(k)),p[I]<=t.virtualSize-a&&M.push(k)}p=M,Math.floor(t.virtualSize-a)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-a)}if(c&&s.loop){const M=m[0]+S;if(s.slidesPerGroup>1){const I=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/s.slidesPerGroup),k=M*s.slidesPerGroup;for(let U=0;U<I;U+=1)p.push(p[p.length-1]+k)}for(let I=0;I<t.virtual.slidesBefore+t.virtual.slidesAfter;I+=1)s.slidesPerGroup===1&&p.push(p[p.length-1]+M),v.push(v[v.length-1]+M),t.virtualSize+=M}if(p.length===0&&(p=[0]),S!==0){const M=t.isHorizontal()&&i?"marginLeft":e("marginRight");d.filter((I,k)=>!s.cssMode||s.loop?!0:k!==d.length-1).forEach(I=>{I.style[M]=`${S}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let M=0;m.forEach(k=>{M+=k+(S||0)}),M-=S;const I=M-a;p=p.map(k=>k<=0?-y:k>I?I+g:k)}if(s.centerInsufficientSlides){let M=0;if(m.forEach(I=>{M+=I+(S||0)}),M-=S,M<a){const I=(a-M)/2;p.forEach((k,U)=>{p[U]=k-I}),v.forEach((k,U)=>{v[U]=k+I})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:v,slidesSizesGrid:m}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){Ff(r,"--swiper-centered-offset-before",`${-p[0]}px`),Ff(r,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const M=-t.snapGrid[0],I=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(k=>k+M),t.slidesGrid=t.slidesGrid.map(k=>k+I)}if(h!==u&&t.emit("slidesLengthChange"),p.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),v.length!==b&&t.emit("slidesGridLengthChange"),s.watchSlidesProgress&&t.updateSlidesOffset(),!c&&!s.cssMode&&(s.effect==="slide"||s.effect==="fade")){const M=`${s.containerModifierClass}backface-hidden`,I=t.el.classList.contains(M);h<=s.maxBackfaceHiddenSlides?I||t.el.classList.add(M):I&&t.el.classList.remove(M)}}function Hoe(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let r=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=i=>s?e.slides[e.getSlideIndexByData(i)]:e.slides[i];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(i=>{n.push(i)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const i=e.activeIndex+o;if(i>e.slides.length&&!s)break;n.push(a(i))}else n.push(a(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const i=n[o].offsetHeight;r=i>r?i:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Voe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}function Woe(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:r,snapGrid:o}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;r&&(a=t),s.forEach(l=>{l.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let i=n.spaceBetween;typeof i=="string"&&i.indexOf("%")>=0?i=parseFloat(i.replace("%",""))/100*e.size:typeof i=="string"&&(i=parseFloat(i));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(a+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+i),h=(a-o[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+i),p=-(a-u),v=p+e.slidesSizesGrid[l];(p>=0&&p<e.size-1||v>1&&v<=e.size||p<=0&&v>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),s[l].classList.add(n.slideVisibleClass)),c.progress=r?-d:d,c.originalProgress=r?-h:h}}function Goe(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:o,isEnd:a,progressLoop:i}=e;const l=o,c=a;if(s===0)r=0,o=!0,a=!0;else{r=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;o=u||r<=0,a=d||r>=1,u&&(r=0),d&&(r=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],p=e.slidesGrid[d],v=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=h?i=(m-h)/v:i=(m+v-p)/v,i>1&&(i-=1)}Object.assign(e,{progress:r,progressLoop:i,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!l&&e.emit("reachBeginning toEdge"),a&&!c&&e.emit("reachEnd toEdge"),(l&&!o||c&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}function Koe(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:r}=t,o=t.virtual&&n.virtual.enabled,a=l=>To(s,`.${n.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let i;if(o)if(n.loop){let l=r-t.virtual.slidesBefore;l<0&&(l=t.virtual.slides.length+l),l>=t.virtual.slides.length&&(l-=t.virtual.slides.length),i=a(`[data-swiper-slide-index="${l}"]`)}else i=a(`[data-swiper-slide-index="${r}"]`);else i=e[r];if(i){i.classList.add(n.slideActiveClass);let l=Poe(i,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!l&&(l=e[0]),l&&l.classList.add(n.slideNextClass);let c=Roe(i,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(n.slidePrevClass)}t.emitSlidesClasses()}const Vp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let r=s.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(s.shadowRoot?r=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(r=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},gv=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},D0=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=r,i=[a-e];i.push(...Array.from({length:e}).map((l,c)=>a+s+c)),t.slides.forEach((l,c)=>{i.includes(l.column)&&gv(t,c)});return}const o=r+s-1;if(t.params.rewind||t.params.loop)for(let a=r-e;a<=o+e;a+=1){const i=(a%n+n)%n;(i<r||i>o)&&gv(t,i)}else for(let a=Math.max(r-e,0);a<=Math.min(o+e,n-1);a+=1)a!==r&&(a>o||a<r)&&gv(t,a)};function joe(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let r;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?s>=e[o]&&s<e[o+1]-(e[o+1]-e[o])/2?r=o:s>=e[o]&&s<e[o+1]&&(r=o+1):s>=e[o]&&(r=o);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function qoe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:r,activeIndex:o,realIndex:a,snapIndex:i}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=joe(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(r.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/r.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===o){c!==i&&(e.snapIndex=c,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l));return}let d;e.virtual&&r.virtual.enabled&&r.loop?d=u(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:i,snapIndex:c,previousRealIndex:a,realIndex:d,previousIndex:o,activeIndex:l}),e.initialized&&D0(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function Yoe(t,e){const n=this,s=n.params;let r=t.closest(`.${s.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(i=>{!r&&i.matches&&i.matches(`.${s.slideClass}, swiper-slide`)&&(r=i)});let o=!1,a;if(r){for(let i=0;i<n.slides.length;i+=1)if(n.slides[i]===r){o=!0,a=i;break}}if(r&&o)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Xoe={updateSize:zoe,updateSlides:$oe,updateAutoHeight:Hoe,updateSlidesOffset:Voe,updateSlidesProgress:Woe,updateProgress:Goe,updateSlidesClasses:Koe,updateActiveIndex:qoe,updateClickedSlide:Yoe};function Qoe(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:r,wrapperEl:o}=e;if(n.virtualTranslate)return s?-r:r;if(n.cssMode)return r;let a=Moe(o,t);return a+=e.cssOverflowAdjustment(),s&&(a=-a),a||0}function Zoe(t,e){const n=this,{rtlTranslate:s,params:r,wrapperEl:o,progress:a}=n;let i=0,l=0;const c=0;n.isHorizontal()?i=s?-t:t:l=t,r.roundLengths&&(i=Math.floor(i),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?i:l,r.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-i:-l:r.virtualTranslate||(n.isHorizontal()?i-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${i}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Joe(){return-this.snapGrid[0]}function eae(){return-this.snapGrid[this.snapGrid.length-1]}function tae(t,e,n,s,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const o=this,{params:a,wrapperEl:i}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,o.updateProgress(u),a.cssMode){const d=o.isHorizontal();if(e===0)i[d?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return BR({swiper:o,targetPosition:-u,side:d?"left":"top"}),!0;i.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(h){!o||o.destroyed||h.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var nae={getTranslate:Qoe,setTranslate:Zoe,minTranslate:Joe,maxTranslate:eae,translateTo:tae};function sae(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function zR(t){let{swiper:e,runCallbacks:n,direction:s,step:r}=t;const{activeIndex:o,previousIndex:a}=e;let i=s;if(i||(o>a?i="next":o<a?i="prev":i="reset"),e.emit(`transition${r}`),n&&o!==a){if(i==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),i==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function rae(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),zR({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function oae(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),zR({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var aae={setTransition:sae,transitionStart:rae,transitionEnd:oae};function iae(t,e,n,s,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;let a=t;a<0&&(a=0);const{params:i,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:p,enabled:v}=o;if(o.animating&&i.preventInteractionOnTransition||!v&&!s&&!r)return!1;const m=Math.min(o.params.slidesPerGroupSkip,a);let y=m+Math.floor((a-m)/o.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const g=-l[y];if(i.normalizeSlideIndex)for(let b=0;b<c.length;b+=1){const S=-Math.floor(g*100),w=Math.floor(c[b]*100),C=Math.floor(c[b+1]*100);typeof c[b+1]<"u"?S>=w&&S<C-(C-w)/2?a=b:S>=w&&S<C&&(a=b+1):S>=w&&(a=b)}if(o.initialized&&a!==d&&(!o.allowSlideNext&&(h?g>o.translate&&g>o.minTranslate():g<o.translate&&g<o.minTranslate())||!o.allowSlidePrev&&g>o.translate&&g>o.maxTranslate()&&(d||0)!==a))return!1;a!==(u||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(g);let _;if(a>d?_="next":a<d?_="prev":_="reset",h&&-g===o.translate||!h&&g===o.translate)return o.updateActiveIndex(a),i.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),i.effect!=="slide"&&o.setTranslate(g),_!=="reset"&&(o.transitionStart(n,_),o.transitionEnd(n,_)),!1;if(i.cssMode){const b=o.isHorizontal(),S=h?g:-g;if(e===0){const w=o.virtual&&o.params.virtual.enabled;w&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),w&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[b?"scrollLeft":"scrollTop"]=S})):p[b?"scrollLeft":"scrollTop"]=S,w&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return BR({swiper:o,targetPosition:S,side:b?"left":"top"}),!0;p.scrollTo({[b?"left":"top"]:S,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(g),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,s),o.transitionStart(n,_),e===0?o.transitionEnd(n,_):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(S){!o||o.destroyed||S.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,_))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function lae(t,e,n,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?o=o+r.virtual.slidesBefore:o=r.getSlideIndexByData(o)),r.slideTo(o,e,n,s)}function cae(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this,{enabled:r,params:o,animating:a}=s;if(!r)return s;let i=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(i=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<o.slidesPerGroupSkip?1:i,c=s.virtual&&o.virtual.enabled;if(o.loop){if(a&&!c&&o.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return o.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function uae(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this,{params:r,snapGrid:o,slidesGrid:a,rtlTranslate:i,enabled:l,animating:c}=s;if(!l)return s;const u=s.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=i?s.translate:-s.translate;function h(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}const p=h(d),v=o.map(g=>h(g));let m=o[v.indexOf(p)-1];if(typeof m>"u"&&r.cssMode){let g;o.forEach((_,b)=>{p>=_&&(g=b)}),typeof g<"u"&&(m=o[g>0?g-1:g])}let y=0;if(typeof m<"u"&&(y=a.indexOf(m),y<0&&(y=s.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(y=y-s.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),r.rewind&&s.isBeginning){const g=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(g,t,e,n)}else if(r.loop&&s.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(y,t,e,n)}),!0;return s.slideTo(y,t,e,n)}function dae(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this;return s.slideTo(s.activeIndex,t,e,n)}function fae(t,e,n,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),s===void 0&&(s=.5);const r=this;let o=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,o),i=a+Math.floor((o-a)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[i]){const c=r.snapGrid[i],u=r.snapGrid[i+1];l-c>(u-c)*s&&(o+=r.params.slidesPerGroup)}else{const c=r.snapGrid[i-1],u=r.snapGrid[i];l-c<=(u-c)*s&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,t,e,n)}function pae(){const t=this,{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,o;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=t.getSlideIndex(To(n,`${a}[data-swiper-slide-index="${o}"]`)[0]),R0(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=t.getSlideIndex(To(n,`${a}[data-swiper-slide-index="${o}"]`)[0]),R0(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var hae={slideTo:iae,slideToLoop:lae,slideNext:cae,slidePrev:uae,slideReset:dae,slideToClosest:fae,slideToClickedSlide:pae};function mae(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;To(s,`.${n.slideClass}, swiper-slide`).forEach((o,a)=>{o.setAttribute("data-swiper-slide-index",a)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function vae(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:r,activeSlideIndex:o,byController:a,byMousewheel:i}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:p}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}const v=p.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10));let m=p.loopedSlides||v;m%p.slidesPerGroup!==0&&(m+=p.slidesPerGroup-m%p.slidesPerGroup),l.loopedSlides=m;const y=[],g=[];let _=l.activeIndex;typeof o>"u"?o=l.getSlideIndex(l.slides.filter(A=>A.classList.contains(p.slideActiveClass))[0]):_=o;const b=s==="next"||!s,S=s==="prev"||!s;let w=0,C=0;if(o<m){w=Math.max(m-o,p.slidesPerGroup);for(let A=0;A<m-o;A+=1){const T=A-Math.floor(A/c.length)*c.length;y.push(c.length-T-1)}}else if(o>l.slides.length-m*2){C=Math.max(o-(l.slides.length-m*2),p.slidesPerGroup);for(let A=0;A<C;A+=1){const T=A-Math.floor(A/c.length)*c.length;g.push(T)}}if(S&&y.forEach(A=>{l.slides[A].swiperLoopMoveDOM=!0,h.prepend(l.slides[A]),l.slides[A].swiperLoopMoveDOM=!1}),b&&g.forEach(A=>{l.slides[A].swiperLoopMoveDOM=!0,h.append(l.slides[A]),l.slides[A].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"&&l.updateSlides(),p.watchSlidesProgress&&l.updateSlidesOffset(),n){if(y.length>0&&S)if(typeof e>"u"){const A=l.slidesGrid[_],x=l.slidesGrid[_+w]-A;i?l.setTranslate(l.translate-x):(l.slideTo(_+w,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=x,l.touchEventsData.currentTranslate=l.translate))}else r&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(g.length>0&&b)if(typeof e>"u"){const A=l.slidesGrid[_],x=l.slidesGrid[_-C]-A;i?l.setTranslate(l.translate-x):(l.slideTo(_-C,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=x,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!a){const A={slideRealIndex:e,direction:s,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(T=>{!T.destroyed&&T.params.loop&&T.loopFix({...A,slideTo:T.params.slidesPerView===p.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...A,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}l.emit("loopFix")}function gae(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;s[o]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),s.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var yae={loopCreate:mae,loopFix:vae,loopDestroy:gae};function bae(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Sae(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var _ae={setGrabCursor:bae,unsetGrabCursor:Sae};function wae(t,e){e===void 0&&(e=this);function n(s){if(!s||s===Do()||s===Cr())return null;s.assignedSlot&&(s=s.assignedSlot);const r=s.closest(t);return!r&&!s.getRootNode?null:r||n(s.getRootNode().host)}return n(e)}function Cae(t){const e=this,n=Do(),s=Cr(),r=e.touchEventsData;r.evCache.push(t);const{params:o,touches:a,enabled:i}=e;if(!i||!o.simulateTouch&&t.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(o.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||r.isTouched&&r.isMoved)return;const u=!!o.noSwipingClass&&o.noSwipingClass!=="",d=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const h=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(o.noSwiping&&(p?wae(h,c):c.closest(h))){e.allowClick=!0;return}if(o.swipeHandler&&!c.closest(o.swipeHandler))return;a.currentX=l.pageX,a.currentY=l.pageY;const v=a.currentX,m=a.currentY,y=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,g=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(y&&(v<=g||v>=s.innerWidth-g))if(y==="prevent")t.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=m,r.touchStartTime=Th(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let _=!0;c.matches(r.focusableElements)&&(_=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const b=_&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||b)&&!c.isContentEditable&&l.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function xae(t){const e=Do(),n=this,s=n.touchEventsData,{params:r,touches:o,rtlTranslate:a,enabled:i}=n;if(!i||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const c=s.evCache.findIndex(A=>A.pointerId===l.pointerId);c>=0&&(s.evCache[c]=l);const u=s.evCache.length>1?s.evCache[0]:l,d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){o.startX=d,o.startY=h;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(o,{startX:d,startY:h,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:d,currentY:h}),s.touchStartTime=Th());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(h<o.startY&&n.translate<=n.maxTranslate()||h>o.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(d<o.startX&&n.translate<=n.maxTranslate()||d>o.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}if(s.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=d,o.currentY=h;const p=o.currentX-o.startX,v=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(p**2+v**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let A;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?s.isScrolling=!1:p*p+v*v>=25&&(A=Math.atan2(Math.abs(v),Math.abs(p))*180/Math.PI,s.isScrolling=n.isHorizontal()?A>r.touchAngle:90-A>r.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(s.startMoving=!0),s.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&s.evCache.length>1){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let m=n.isHorizontal()?p:v,y=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(m=Math.abs(m)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),o.diff=m,m*=r.touchRatio,a&&(m=-m,y=-y);const g=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const _=n.params.loop&&!r.cssMode,b=n.swipeDirection==="next"&&n.allowSlideNext||n.swipeDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(_&&b&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const A=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(A)}s.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let S;s.isMoved&&g!==n.touchesDirection&&_&&b&&Math.abs(m)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),S=!0),n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=m+s.startTranslate;let w=!0,C=r.resistanceRatio;if(r.touchReleaseOnEdges&&(C=0),m>0?(_&&b&&!S&&s.currentTranslate>(r.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(w=!1,r.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+m)**C))):m<0&&(_&&b&&!S&&s.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(w=!1,r.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-m)**C))),w&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),r.threshold>0)if(Math.abs(m)>r.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,s.currentTranslate=s.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{s.currentTranslate=s.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function Aae(t){const e=this,n=e.touchEventsData,s=n.evCache.findIndex(b=>b.pointerId===t.pointerId);if(s>=0&&n.evCache.splice(s,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(t.type)&&!(["pointercancel","contextmenu"].includes(t.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:r,touches:o,rtlTranslate:a,slidesGrid:i,enabled:l}=e;if(!l||!r.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=Th(),d=u-n.touchStartTime;if(e.allowClick){const b=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(b&&b[0]||c.target,b),e.emit("tap click",c),d<300&&u-n.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(n.lastClickTime=Th(),R0(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||o.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(r.followFinger?h=a?e.translate:-e.translate:h=-n.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let p=0,v=e.slidesSizesGrid[0];for(let b=0;b<i.length;b+=b<r.slidesPerGroupSkip?1:r.slidesPerGroup){const S=b<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof i[b+S]<"u"?h>=i[b]&&h<i[b+S]&&(p=b,v=i[b+S]-i[b]):h>=i[b]&&(p=b,v=i[i.length-1]-i[i.length-2])}let m=null,y=null;r.rewind&&(e.isBeginning?y=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const g=(h-i[p])/v,_=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:p+_):e.slideTo(p)),e.swipeDirection==="prev"&&(g>1-r.longSwipesRatio?e.slideTo(p+_):y!==null&&g<0&&Math.abs(g)>r.longSwipesRatio?e.slideTo(y):e.slideTo(p))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(c.target===e.navigation.nextEl||c.target===e.navigation.prevEl)?c.target===e.navigation.nextEl?e.slideTo(p+_):e.slideTo(p):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:p+_),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:p))}}function tx(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:r,snapGrid:o}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const i=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!i?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=s,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function Eae(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Tae(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const o=t.maxTranslate()-t.minTranslate();o===0?r=0:r=(t.translate-t.minTranslate())/o,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Mae(t){const e=this;Vp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let nx=!1;function Iae(){}const $R=(t,e)=>{const n=Do(),{params:s,el:r,wrapperEl:o,device:a}=t,i=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;r[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:i}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&r[l]("click",t.onClick,!0),s.cssMode&&o[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",tx,!0):t[c]("observerUpdate",tx,!0),r[l]("load",t.onLoad,{capture:!0})};function Rae(){const t=this,e=Do(),{params:n}=t;t.onTouchStart=Cae.bind(t),t.onTouchMove=xae.bind(t),t.onTouchEnd=Aae.bind(t),n.cssMode&&(t.onScroll=Tae.bind(t)),t.onClick=Eae.bind(t),t.onLoad=Mae.bind(t),nx||(e.addEventListener("touchstart",Iae),nx=!0),$R(t,"on")}function Pae(){$R(this,"off")}var Dae={attachEvents:Rae,detachEvents:Pae};const sx=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function kae(){const t=this,{realIndex:e,initialized:n,params:s,el:r}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const l=(a in o?o[a]:void 0)||t.originalParams,c=sx(t,s),u=sx(t,l),d=s.enabled;c&&!u?(r.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(r.classList.add(`${s.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&s.grid.fill==="column")&&r.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(g=>{if(typeof l[g]>"u")return;const _=s[g]&&s[g].enabled,b=l[g]&&l[g].enabled;_&&!b&&t[g].disable(),!_&&b&&t[g].enable()});const h=l.direction&&l.direction!==s.direction,p=s.loop&&(l.slidesPerView!==s.slidesPerView||h),v=s.loop;h&&n&&t.changeDirection(),pr(t.params,l);const m=t.params.enabled,y=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!m?t.disable():!d&&m&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",l),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!v&&y?(t.loopCreate(e),t.updateSlides()):v&&!y&&t.loopDestroy()),t.emit("breakpoint",l)}function Lae(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const r=Cr(),o=e==="window"?r.innerHeight:n.clientHeight,a=Object.keys(t).map(i=>{if(typeof i=="string"&&i.indexOf("@")===0){const l=parseFloat(i.substr(1));return{value:o*l,point:i}}return{value:i,point:i}});a.sort((i,l)=>parseInt(i.value,10)-parseInt(l.value,10));for(let i=0;i<a.length;i+=1){const{point:l,value:c}=a[i];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var Oae={setBreakpoint:kae,getBreakpoint:Lae};function Bae(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(r=>{s[r]&&n.push(e+r)}):typeof s=="string"&&n.push(e+s)}),n}function Fae(){const t=this,{classNames:e,params:n,rtl:s,el:r,device:o}=t,a=Bae(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),r.classList.add(...e),t.emitContainerClasses()}function Nae(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var Uae={addClasses:Fae,removeClasses:Nae};function zae(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const r=t.slides.length-1,o=t.slidesGrid[r]+t.slidesSizesGrid[r]+s*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var $ae={checkOverflow:zae},k0={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Hae(t,e){return function(s){s===void 0&&(s={});const r=Object.keys(s)[0],o=s[r];if(typeof o!="object"||o===null){pr(e,s);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in o)){pr(e,s);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),pr(e,s)}}const yv={eventsEmitter:Uoe,update:Xoe,translate:nae,transition:aae,slide:hae,loop:yae,grabCursor:_ae,events:Dae,breakpoints:Oae,checkOverflow:$ae,classes:Uae},bv={};let FS=class Qo{constructor(){let e,n;for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=pr({},n),e&&!n.el&&(n.el=e);const a=Do();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const u=[];return a.querySelectorAll(n.el).forEach(d=>{const h=pr({},n,{el:d});u.push(new Qo(h))}),u}const i=this;i.__swiper__=!0,i.support=UR(),i.device=Loe({userAgent:n.userAgent}),i.browser=Boe(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],n.modules&&Array.isArray(n.modules)&&i.modules.push(...n.modules);const l={};i.modules.forEach(u=>{u({params:n,swiper:i,extendParams:Hae(n,l),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const c=pr({},k0,l);return i.params=pr({},c,bv,n),i.originalParams=pr({},i.params),i.passedParams=pr({},n),i.params&&i.params.on&&Object.keys(i.params.on).forEach(u=>{i.on(u,i.params.on[u])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getSlideIndex(e){const{slidesEl:n,params:s}=this,r=To(n,`.${s.slideClass}, swiper-slide`),o=Mh(r[0]);return Mh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=To(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const r=s.minTranslate(),a=(s.maxTranslate()-r)*e+r;s.translateTo(a,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const r=e.getSlideClasses(s);n.push({slideEl:s,classNames:r}),e.emit("_slideClass",s,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:r,slides:o,slidesGrid:a,slidesSizesGrid:i,size:l,activeIndex:c}=s;let u=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let d=o[c]?o[c].swiperSlideSize:0,h;for(let p=c+1;p<o.length;p+=1)o[p]&&!h&&(d+=o[p].swiperSlideSize,u+=1,d>l&&(h=!0));for(let p=c-1;p>=0;p-=1)o[p]&&!h&&(d+=o[p].swiperSlideSize,u+=1,d>l&&(h=!0))}else if(e==="current")for(let d=c+1;d<o.length;d+=1)(n?a[d]+i[d]-a[c]<l:a[d]-a[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)a[c]-a[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Vp(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const a=e.rtlTranslate?e.translate*-1:e.translate,i=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)r(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const a=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(a.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||r()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,r=s.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${r}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(r()):To(s,r())[0];return!a&&n.params.createElements&&(a=FR("div",n.params.wrapperClass),s.append(a),To(s,`.${n.params.slideClass}`).forEach(i=>{a.append(i)})),Object.assign(n,{el:s,wrapperEl:a,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:a,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Ya(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Ya(s,"direction")==="rtl"),wrongRTL:Ya(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?Vp(n,o):o.addEventListener("load",a=>{Vp(n,a.target)})}),D0(n),n.initialized=!0,D0(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:r,el:o,wrapperEl:a,slides:i}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),r.loop&&s.loopDestroy(),n&&(s.removeClasses(),o.removeAttribute("style"),a.removeAttribute("style"),i&&i.length&&i.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el.swiper=null,Eoe(s)),s.destroyed=!0),null}static extendDefaults(e){pr(bv,e)}static get extendedDefaults(){return bv}static get defaults(){return k0}static installModule(e){Qo.prototype.__modules__||(Qo.prototype.__modules__=[]);const n=Qo.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Qo.installModule(n)),Qo):(Qo.installModule(e),Qo)}};Object.keys(yv).forEach(t=>{Object.keys(yv[t]).forEach(e=>{FS.prototype[e]=yv[t][e]})});FS.use([Foe,Noe]);const HR=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function gl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function il(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:gl(e[s])&&gl(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:il(t[s],e[s]):t[s]=e[s]})}function VR(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function WR(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function GR(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function KR(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function Vae(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Wae(t){let{swiper:e,slides:n,passedParams:s,changedParams:r,nextEl:o,prevEl:a,scrollbarEl:i,paginationEl:l}=t;const c=r.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:p,virtual:v,thumbs:m}=e;let y,g,_,b,S,w,C,A;r.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(y=!0),r.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(g=!0),r.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(_=!0),r.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||i)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(b=!0),r.includes("navigation")&&s.navigation&&(s.navigation.prevEl||a)&&(s.navigation.nextEl||o)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(S=!0);const T=x=>{e[x]&&(e[x].destroy(),x==="navigation"?(e.isElement&&(e[x].prevEl.remove(),e[x].nextEl.remove()),u[x].prevEl=void 0,u[x].nextEl=void 0,e[x].prevEl=void 0,e[x].nextEl=void 0):(e.isElement&&e[x].el.remove(),u[x].el=void 0,e[x].el=void 0))};r.includes("loop")&&e.isElement&&(u.loop&&!s.loop?w=!0:!u.loop&&s.loop?C=!0:A=!0),c.forEach(x=>{if(gl(u[x])&&gl(s[x]))il(u[x],s[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in s[x]&&!s[x].enabled&&T(x);else{const E=s[x];(E===!0||E===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?E===!1&&T(x):u[x]=s[x]}}),c.includes("controller")&&!g&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&n&&v&&u.virtual.enabled&&(v.slides=n,v.update(!0)),r.includes("children")&&n&&u.loop&&(A=!0),y&&m.init()&&m.update(!0),g&&(e.controller.control=u.controller.control),_&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),b&&(e.isElement&&(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-scrollbar"),i.part.add("scrollbar"),e.el.appendChild(i)),i&&(u.scrollbar.el=i),p.init(),p.updateSize(),p.setTranslate()),S&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),o&&(u.navigation.nextEl=o),a&&(u.navigation.prevEl=a),h.init(),h.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),r.includes("direction")&&e.changeDirection(s.direction,!1),(w||A)&&e.loopDestroy(),(C||A)&&e.loopCreate(),e.update()}function rx(t,e){t===void 0&&(t={});const n={on:{}},s={},r={};il(n,k0),n._emitClasses=!0,n.init=!1;const o={},a=HR.map(l=>l.replace(/_/,"")),i=Object.assign({},t);return Object.keys(i).forEach(l=>{typeof t[l]>"u"||(a.indexOf(l)>=0?gl(t[l])?(n[l]={},r[l]={},il(n[l],t[l]),il(r[l],t[l])):(n[l]=t[l],r[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:o[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:r,rest:o,events:s}}function Gae(t,e){let{el:n,nextEl:s,prevEl:r,paginationEl:o,scrollbarEl:a,swiper:i}=t;VR(e)&&s&&r&&(i.params.navigation.nextEl=s,i.originalParams.navigation.nextEl=s,i.params.navigation.prevEl=r,i.originalParams.navigation.prevEl=r),WR(e)&&o&&(i.params.pagination.el=o,i.originalParams.pagination.el=o),GR(e)&&a&&(i.params.scrollbar.el=a,i.originalParams.scrollbar.el=a),i.init(n)}function Kae(t,e,n,s,r){const o=[];if(!e)return o;const a=l=>{o.indexOf(l)<0&&o.push(l)};if(n&&s){const l=s.map(r),c=n.map(r);l.join("")!==c.join("")&&a("children"),s.length!==n.length&&a("children")}return HR.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(gl(t[l])&&gl(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?a(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&a(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&a(l)}))}else t[l]!==e[l]&&a(l)}),o}const jae=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Sv(t,e,n){t===void 0&&(t={});const s=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},o=(a,i)=>{Array.isArray(a)&&a.forEach(l=>{const c=typeof l.type=="symbol";i==="default"&&(i="container-end"),c&&l.children?o(l.children,i):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?s.push(l):r[i]&&r[i].push(l)})};return Object.keys(t).forEach(a=>{if(typeof t[a]!="function")return;const i=t[a]();o(i,a)}),n.value=e.value,e.value=s,{slides:s,slots:r}}function qae(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},r=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:a}=n,i=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=i;u<l;u+=1)u>=o&&u<=a&&c.push(e[s(u)]);return c.map(u=>(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=r,st(u.type,{...u.props},u.children)))}const ox={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:r,wrapperTag:o}=t,a=z("swiper"),i=z(null),l=z(!1),c=z(!1),u=z(null),d=z(null),h=z(null),p={value:[]},v={value:[]},m=z(null),y=z(null),g=z(null),_=z(null),{params:b,passedParams:S}=rx(t);Sv(n,p,v),h.value=S,v.value=p.value;const w=()=>{Sv(n,p,v),l.value=!0};b.onAny=function(T){for(var x=arguments.length,E=new Array(x>1?x-1:0),M=1;M<x;M++)E[M-1]=arguments[M];s(T,...E)},Object.assign(b.on,{_beforeBreakpoint:w,_containerClasses(T,x){a.value=x}});const C={...b};if(delete C.wrapperClass,d.value=new FS(C),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=p.value;const T={cache:!1,slides:p.value,renderExternal:x=>{i.value=x},renderExternalUpdate:!1};il(d.value.params.virtual,T),il(d.value.originalParams.virtual,T)}qr(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:T}=rx(t),x=Kae(T,h.value,p.value,v.value,E=>E.props&&E.props.key);h.value=T,(x.length||l.value)&&d.value&&!d.value.destroyed&&Wae({swiper:d.value,slides:p.value,passedParams:T,changedParams:x,nextEl:m.value,prevEl:y.value,scrollbarEl:_.value,paginationEl:g.value}),l.value=!1}),Bt("swiper",d),De(i,()=>{lt(()=>{jae(d.value)})}),wt(()=>{u.value&&(Gae({el:u.value,nextEl:m.value,prevEl:y.value,paginationEl:g.value,scrollbarEl:_.value,swiper:d.value},b),s("swiper",d.value))}),Qt(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function A(T){return b.virtual?qae(d,T,i.value):(T.forEach((x,E)=>{x.props||(x.props={}),x.props.swiperRef=d,x.props.swiperSlideIndex=E}),T)}return()=>{const{slides:T,slots:x}=Sv(n,p,v);return st(r,{ref:u,class:KR(a.value)},[x["container-start"],st(o,{class:Vae(b.wrapperClass)},[x["wrapper-start"],A(T),x["wrapper-end"]]),VR(t)&&[st("div",{ref:y,class:"swiper-button-prev"}),st("div",{ref:m,class:"swiper-button-next"})],GR(t)&&st("div",{ref:_,class:"swiper-scrollbar"}),WR(t)&&st("div",{ref:g,class:"swiper-pagination"}),x["container-end"]])}}},ax={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:r}=t,o=z(null),a=z("swiper-slide"),i=z(!1);function l(d,h,p){h===o.value&&(a.value=p)}wt(()=>{!r||!r.value||(r.value.on("_slideClass",l),s=!0)}),Wy(()=>{s||!r||!r.value||(r.value.on("_slideClass",l),s=!0)}),qr(()=>{!o.value||!r||!r.value||(typeof t.swiperSlideIndex<"u"&&(o.value.swiperSlideIndex=t.swiperSlideIndex),r.value.destroyed&&a.value!=="swiper-slide"&&(a.value="swiper-slide"))}),Qt(()=>{!r||!r.value||r.value.off("_slideClass",l)});const c=R(()=>({isActive:a.value.indexOf("swiper-slide-active")>=0,isVisible:a.value.indexOf("swiper-slide-visible")>=0,isPrev:a.value.indexOf("swiper-slide-prev")>=0,isNext:a.value.indexOf("swiper-slide-next")>=0}));Bt("swiperSlide",c);const u=()=>{i.value=!0};return()=>st(t.tag,{class:KR(`${a.value}`),ref:o,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&r&&r.value&&r.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?st("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!i.value&&st("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!i.value&&st("div",{class:"swiper-lazy-preloader"})])}};function jR(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(r=>{if(!n[r]&&n.auto===!0){let o=To(t.el,`.${s[r]}`)[0];o||(o=FR("div",s[r]),o.className=s[r],t.el.append(o)),n[r]=o,e[r]=o}}),n}function Yae(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=m=>(Array.isArray(m)?m:[m]).filter(y=>!!y);function a(m){let y;return m&&typeof m=="string"&&e.isElement&&(y=e.el.querySelector(m),y)?y:(m&&(typeof m=="string"&&(y=[...document.querySelectorAll(m)]),e.params.uniqueNavElements&&typeof m=="string"&&y.length>1&&e.el.querySelectorAll(m).length===1&&(y=e.el.querySelector(m))),m&&!y?m:y)}function i(m,y){const g=e.params.navigation;m=o(m),m.forEach(_=>{_&&(_.classList[y?"add":"remove"](...g.disabledClass.split(" ")),_.tagName==="BUTTON"&&(_.disabled=y),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](g.lockClass))})}function l(){const{nextEl:m,prevEl:y}=e.navigation;if(e.params.loop){i(y,!1),i(m,!1);return}i(y,e.isBeginning&&!e.params.rewind),i(m,e.isEnd&&!e.params.rewind)}function c(m){m.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function u(m){m.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const m=e.params.navigation;if(e.params.navigation=jR(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let y=a(m.nextEl),g=a(m.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:g}),y=o(y),g=o(g);const _=(b,S)=>{b&&b.addEventListener("click",S==="next"?u:c),!e.enabled&&b&&b.classList.add(...m.lockClass.split(" "))};y.forEach(b=>_(b,"next")),g.forEach(b=>_(b,"prev"))}function h(){let{nextEl:m,prevEl:y}=e.navigation;m=o(m),y=o(y);const g=(_,b)=>{_.removeEventListener("click",b==="next"?u:c),_.classList.remove(...e.params.navigation.disabledClass.split(" "))};m.forEach(_=>g(_,"next")),y.forEach(_=>g(_,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?v():(d(),l())}),s("toEdge fromEdge lock unlock",()=>{l()}),s("destroy",()=>{h()}),s("enable disable",()=>{let{nextEl:m,prevEl:y}=e.navigation;if(m=o(m),y=o(y),e.enabled){l();return}[...m,...y].filter(g=>!!g).forEach(g=>g.classList.add(e.params.navigation.lockClass))}),s("click",(m,y)=>{let{nextEl:g,prevEl:_}=e.navigation;g=o(g),_=o(_);const b=y.target;if(e.params.navigation.hideOnClick&&!_.includes(b)&&!g.includes(b)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===b||e.pagination.el.contains(b)))return;let S;g.length?S=g[0].classList.contains(e.params.navigation.hiddenClass):_.length&&(S=_[0].classList.contains(e.params.navigation.hiddenClass)),r(S===!0?"navigationShow":"navigationHide"),[...g,..._].filter(w=>!!w).forEach(w=>w.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:p,disable:v,update:l,init:d,destroy:h})}function Ru(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Xae(t){let{swiper:e,extendParams:n,on:s,emit:r}=t;const o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:_=>_,formatFractionTotal:_=>_,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let a,i=0;const l=_=>(Array.isArray(_)?_:[_]).filter(b=>!!b);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(_,b){const{bulletActiveClass:S}=e.params.pagination;_&&(_=_[`${b==="prev"?"previous":"next"}ElementSibling`],_&&(_.classList.add(`${S}-${b}`),_=_[`${b==="prev"?"previous":"next"}ElementSibling`],_&&_.classList.add(`${S}-${b}-${b}`)))}function d(_){const b=_.target.closest(Ru(e.params.pagination.bulletClass));if(!b)return;_.preventDefault();const S=Mh(b)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const w=e.realIndex,C=e.getSlideIndexByData(S),A=e.getSlideIndexByData(e.realIndex),T=x=>{const E=e.activeIndex;e.loopFix({direction:x,activeSlideIndex:C,slideTo:!1});const M=e.activeIndex;E===M&&e.slideToLoop(w,0,!1,!0)};if(C>e.slides.length-e.loopedSlides)T(C>A?"next":"prev");else if(e.params.centeredSlides){const x=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));C<Math.floor(x/2)&&T("prev")}e.slideToLoop(S)}else e.slideTo(S)}function h(){const _=e.rtl,b=e.params.pagination;if(c())return;let S=e.pagination.el;S=l(S);let w,C;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,T=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,w=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(w=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,w=e.activeIndex||0),b.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const x=e.pagination.bullets;let E,M,I;if(b.dynamicBullets&&(a=P0(x[0],e.isHorizontal()?"width":"height"),S.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${a*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&C!==void 0&&(i+=w-(C||0),i>b.dynamicMainBullets-1?i=b.dynamicMainBullets-1:i<0&&(i=0)),E=Math.max(w-i,0),M=E+(Math.min(x.length,b.dynamicMainBullets)-1),I=(M+E)/2),x.forEach(k=>{const U=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(B=>`${b.bulletActiveClass}${B}`)].map(B=>typeof B=="string"&&B.includes(" ")?B.split(" "):B).flat();k.classList.remove(...U)}),S.length>1)x.forEach(k=>{const U=Mh(k);U===w?k.classList.add(...b.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),b.dynamicBullets&&(U>=E&&U<=M&&k.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),U===E&&u(k,"prev"),U===M&&u(k,"next"))});else{const k=x[w];if(k&&k.classList.add(...b.bulletActiveClass.split(" ")),e.isElement&&x.forEach((U,B)=>{U.setAttribute("part",B===w?"bullet-active":"bullet")}),b.dynamicBullets){const U=x[E],B=x[M];for(let P=E;P<=M;P+=1)x[P]&&x[P].classList.add(...`${b.bulletActiveClass}-main`.split(" "));u(U,"prev"),u(B,"next")}}if(b.dynamicBullets){const k=Math.min(x.length,b.dynamicMainBullets+4),U=(a*k-a)/2-I*a,B=_?"right":"left";x.forEach(P=>{P.style[e.isHorizontal()?B:"top"]=`${U}px`})}}S.forEach((x,E)=>{if(b.type==="fraction"&&(x.querySelectorAll(Ru(b.currentClass)).forEach(M=>{M.textContent=b.formatFractionCurrent(w+1)}),x.querySelectorAll(Ru(b.totalClass)).forEach(M=>{M.textContent=b.formatFractionTotal(T)})),b.type==="progressbar"){let M;b.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";const I=(w+1)/T;let k=1,U=1;M==="horizontal"?k=I:U=I,x.querySelectorAll(Ru(b.progressbarFillClass)).forEach(B=>{B.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${U})`,B.style.transitionDuration=`${e.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(x.innerHTML=b.renderCustom(e,w+1,T),E===0&&r("paginationRender",x)):(E===0&&r("paginationRender",x),r("paginationUpdate",x)),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](b.lockClass)})}function p(){const _=e.params.pagination;if(c())return;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let S=e.pagination.el;S=l(S);let w="";if(_.type==="bullets"){let C=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>b&&(C=b);for(let A=0;A<C;A+=1)_.renderBullet?w+=_.renderBullet.call(e,A,_.bulletClass):w+=`<${_.bulletElement} ${e.isElement?'part="bullet"':""} class="${_.bulletClass}"></${_.bulletElement}>`}_.type==="fraction"&&(_.renderFraction?w=_.renderFraction.call(e,_.currentClass,_.totalClass):w=`<span class="${_.currentClass}"></span> / <span class="${_.totalClass}"></span>`),_.type==="progressbar"&&(_.renderProgressbar?w=_.renderProgressbar.call(e,_.progressbarFillClass):w=`<span class="${_.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(C=>{_.type!=="custom"&&(C.innerHTML=w||""),_.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(Ru(_.bulletClass)))}),_.type!=="custom"&&r("paginationRender",S[0])}function v(){e.params.pagination=jR(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const _=e.params.pagination;if(!_.el)return;let b;typeof _.el=="string"&&e.isElement&&(b=e.el.querySelector(_.el)),!b&&typeof _.el=="string"&&(b=[...document.querySelectorAll(_.el)]),b||(b=_.el),!(!b||b.length===0)&&(e.params.uniqueNavElements&&typeof _.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...e.el.querySelectorAll(_.el)],b.length>1&&(b=b.filter(S=>NR(S,".swiper")[0]===e.el)[0])),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(e.pagination,{el:b}),b=l(b),b.forEach(S=>{_.type==="bullets"&&_.clickable&&S.classList.add(...(_.clickableClass||"").split(" ")),S.classList.add(_.modifierClass+_.type),S.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.type==="bullets"&&_.dynamicBullets&&(S.classList.add(`${_.modifierClass}${_.type}-dynamic`),i=0,_.dynamicMainBullets<1&&(_.dynamicMainBullets=1)),_.type==="progressbar"&&_.progressbarOpposite&&S.classList.add(_.progressbarOppositeClass),_.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(_.lockClass)}))}function m(){const _=e.params.pagination;if(c())return;let b=e.pagination.el;b&&(b=l(b),b.forEach(S=>{S.classList.remove(_.hiddenClass),S.classList.remove(_.modifierClass+_.type),S.classList.remove(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.clickable&&(S.classList.remove(...(_.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(..._.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const _=e.params.pagination;let{el:b}=e.pagination;b=l(b),b.forEach(S=>{S.classList.remove(_.horizontalClass,_.verticalClass),S.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?g():(v(),p(),h())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),s("snapIndexChange",()=>{h()}),s("snapGridLengthChange",()=>{p(),h()}),s("destroy",()=>{m()}),s("enable disable",()=>{let{el:_}=e.pagination;_&&(_=l(_),_.forEach(b=>b.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{h()}),s("click",(_,b)=>{const S=b.target,w=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&w&&w.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const C=w[0].classList.contains(e.params.pagination.hiddenClass);r(C===!0?"paginationShow":"paginationHide"),w.forEach(A=>A.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=l(_),_.forEach(b=>b.classList.remove(e.params.pagination.paginationDisabledClass))),v(),p(),h()},g=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=l(_),_.forEach(b=>b.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:y,disable:g,render:p,update:h,init:v,destroy:m})}function Qae(t){let{swiper:e,extendParams:n,on:s,emit:r,params:o}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,i,l=o&&o.autoplay?o.autoplay.delay:3e3,c=o&&o.autoplay?o.autoplay.delay:3e3,u,d=new Date().getTime,h,p,v,m,y,g;function _(N){!e||e.destroyed||!e.wrapperEl||N.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",_),x())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(c=u,h=!1);const N=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=N,r("autoplayTimeLeft",N,N/l),i=requestAnimationFrame(()=>{b()})},S=()=>{let N;return e.virtual&&e.params.virtual.enabled?N=e.slides.filter(O=>O.classList.contains("swiper-slide-active"))[0]:N=e.slides[e.activeIndex],N?parseInt(N.getAttribute("data-swiper-autoplay"),10):void 0},w=N=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(i),b();let L=typeof N>"u"?e.params.autoplay.delay:N;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const O=S();!Number.isNaN(O)&&O>0&&typeof N>"u"&&(L=O,l=O,c=O),u=L;const $=e.params.speed,W=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev($,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,$,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext($,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,$,!0,!0),r("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{w()})))};return L>0?(clearTimeout(a),a=setTimeout(()=>{W()},L)):requestAnimationFrame(()=>{W()}),L},C=()=>{e.autoplay.running=!0,w(),r("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(i),r("autoplayStop")},T=(N,L)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),N||(g=!0);const O=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",_):x()};if(e.autoplay.paused=!0,L){y&&(u=e.params.autoplay.delay),y=!1,O();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),O())},x=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),g?(g=!1,w(u)):w(),e.autoplay.paused=!1,r("autoplayResume"))},E=()=>{if(e.destroyed||!e.autoplay.running)return;const N=Do();N.visibilityState==="hidden"&&(g=!0,T(!0)),N.visibilityState==="visible"&&x()},M=N=>{N.pointerType==="mouse"&&(g=!0,!(e.animating||e.autoplay.paused)&&T(!0))},I=N=>{N.pointerType==="mouse"&&e.autoplay.paused&&x()},k=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",M),e.el.addEventListener("pointerleave",I))},U=()=>{e.el.removeEventListener("pointerenter",M),e.el.removeEventListener("pointerleave",I)},B=()=>{Do().addEventListener("visibilitychange",E)},P=()=>{Do().removeEventListener("visibilitychange",E)};s("init",()=>{e.params.autoplay.enabled&&(k(),B(),d=new Date().getTime(),C())}),s("destroy",()=>{U(),P(),e.autoplay.running&&A()}),s("beforeTransitionStart",(N,L,O)=>{e.destroyed||!e.autoplay.running||(O||!e.params.autoplay.disableOnInteraction?T(!0,!0):A())}),s("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}p=!0,v=!1,g=!1,m=setTimeout(()=>{g=!0,v=!0,T(!0)},200)}}),s("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(m),clearTimeout(a),e.params.autoplay.disableOnInteraction){v=!1,p=!1;return}v&&e.params.cssMode&&x(),v=!1,p=!1}}),s("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:C,stop:A,pause:T,resume:x})}const Zae=K("h1",{class:"section-title"}," Showcase ",-1),Jae={class:"swiper-container"},eie=K("div",{class:"border-effect"},null,-1),tie=K("div",{class:"border-effect"},null,-1),nie={__name:"ImgCarouselProviderTwo",emits:["mouseenter","mouseleave","dragstart","dragend","updateDraggingIndex"],setup(t,{emit:e}){const n=[Yae,Xae,Qae],s=["./showcase/images/m_3.jpg","./showcase/images/m_1.png","./showcase/images/m_2.jpg","./showcase/images/m_13.jpg","./showcase/images/m_8.png","./showcase/images/m_11.png"],r=["./showcase/images/f_14.jpg","./showcase/images/f_0_w.png","./showcase/images/f_1.png","./showcase/images/f_2_w.png","./showcase/images/f_9.jpg","./showcase/images/f_5_w.png"],o=[...s,...r],a=z(!1),i=z(null),l=z(null),c=z(null),u=z(null),d=()=>{const y=new Image;y.style.width="100px",y.style.height="100px",y.style.position="absolute",y.style.top="-9999px",document.body.appendChild(y),i.value=y},h=y=>{c.value=y,e("mouseenter"),i.value&&(i.value.src=o[y])},p=y=>{e("mouseleave")},v=(y,g)=>{console.log(`: ${g}`),a.value=!0,u.value=g,e("dragstart"),e("updateDraggingIndex",g),i.value.src=o[g],i.value&&y.dataTransfer.setDragImage(i.value,50,50),lt(()=>{var _;(_=l.value)!=null&&_.swiper&&l.value.swiper.autoplay.stop()})},m=y=>{console.log(`: ${y}`),a.value=!1,u.value=null,e("dragend"),e("updateDraggingIndex",null),lt(()=>{var g;(g=l.value)!=null&&g.swiper&&l.value.swiper.autoplay.start()})};return wt(()=>{d()}),(y,g)=>{const _=et("el-divider"),b=et("el-row"),S=et("el-image"),w=et("el-col");return D(),H(Ze,null,[j(_),j(b,{justify:"center"},{default:te(()=>[Zae]),_:1}),j(b,{justify:"center"},{default:te(()=>[j(w,{xs:20,sm:18,md:16,lg:16,xl:16},{default:te(()=>[K("div",Jae,[j(f(ox),{loop:!0,slidesPerView:1,breakpoints:{400:{slidesPerView:1},600:{slidesPerView:2},800:{slidesPerView:3}},modules:n,navigation:{hideOnClick:!0},pagination:{hideOnClick:!0,clickable:!0,type:"bullets"},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},touchStartPreventDefault:!1},{default:te(()=>[(D(),H(Ze,null,Tt(s,(C,A)=>j(f(ax),{key:A},{default:te(()=>[j(S,{src:C,class:"swiper",alt:"image-"+A,draggable:"true",onDragstart:T=>v(T,A),onDragend:T=>m(A),onMouseenter:T=>h(A),onMouseleave:T=>p(A)},null,8,["src","alt","onDragstart","onDragend","onMouseenter","onMouseleave"]),eie]),_:2},1024)),64))]),_:1}),j(f(ox),{loop:!0,slidesPerView:1,breakpoints:{400:{slidesPerView:1},600:{slidesPerView:2},800:{slidesPerView:3}},modules:n,navigation:{hideOnClick:!0},pagination:{hideOnClick:!0,clickable:!0,type:"bullets"},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},touchStartPreventDefault:!1},{default:te(()=>[(D(),H(Ze,null,Tt(r,(C,A)=>j(f(ax),{key:A},{default:te(()=>[j(S,{src:C,class:"swiper",alt:"image-"+(A+s.length),draggable:"true",onDragstart:T=>v(T,A+s.length),onDragend:T=>m(A+s.length),onMouseenter:T=>h(A+s.length),onMouseleave:T=>p(A+s.length)},null,8,["src","alt","onDragstart","onDragend","onMouseenter","onMouseleave"]),tie]),_:2},1024)),64))]),_:1})])]),_:1})]),_:1})],64)}}},sie="/singsPage/showcase/stage/stage.png";/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const NS="171",Nl={ROTATE:0,DOLLY:1,PAN:2},Ul={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rie=0,ix=1,oie=2,qR=1,aie=2,Zo=3,No=0,or=1,Or=2,ti=0,ni=1,lx=2,cx=3,ux=4,YR=5,$i=100,iie=101,lie=102,cie=103,uie=104,die=200,fie=201,pie=202,hie=203,Bd=204,Fd=205,mie=206,vie=207,gie=208,yie=209,bie=210,Sie=211,_ie=212,wie=213,Cie=214,L0=0,O0=1,B0=2,Yc=3,F0=4,N0=5,U0=6,z0=7,XR=0,xie=1,Aie=2,si=0,Eie=1,Tie=2,Mie=3,Iie=4,Rie=5,Pie=6,Die=7,QR=300,Xc=301,Qc=302,$0=303,H0=304,Tm=306,V0=1e3,Zi=1001,W0=1002,br=1003,kie=1004,Nf=1005,Mo=1006,_v=1007,Ji=1008,Uo=1009,ZR=1010,JR=1011,Nd=1012,US=1013,Nr=1014,po=1015,bu=1016,zS=1017,$S=1018,Zc=1020,eP=35902,tP=1021,nP=1022,Vs=1023,sP=1024,rP=1025,ll=1026,Jc=1027,oP=1028,Mm=1029,aP=1030,HS=1031,xc=1033,Wp=33776,Gp=33777,Kp=33778,jp=33779,G0=35840,K0=35841,j0=35842,q0=35843,Y0=36196,X0=37492,Q0=37496,Z0=37808,J0=37809,ey=37810,ty=37811,ny=37812,sy=37813,ry=37814,oy=37815,ay=37816,iy=37817,ly=37818,cy=37819,uy=37820,dy=37821,qp=36492,fy=36494,py=36495,iP=36283,hy=36284,my=36285,vy=36286,Lie=3200,Oie=3201,Bie=0,Fie=1,Ka="",kr="srgb",eu="srgb-linear",Ih="linear",An="srgb",zl=7680,dx=519,Nie=512,Uie=513,zie=514,lP=515,$ie=516,Hie=517,Vie=518,Wie=519,fx=35044,Gie=35048,px="300 es",aa=2e3,Rh=2001;class Al{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(n)===-1&&s[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const r=s.slice(0);for(let o=0,a=r.length;o<a;o++)r[o].call(this,e);e.target=null}}}const Ts=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Yp=Math.PI/180,gy=180/Math.PI;function lf(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Ts[t&255]+Ts[t>>8&255]+Ts[t>>16&255]+Ts[t>>24&255]+"-"+Ts[e&255]+Ts[e>>8&255]+"-"+Ts[e>>16&15|64]+Ts[e>>24&255]+"-"+Ts[n&63|128]+Ts[n>>8&255]+"-"+Ts[n>>16&255]+Ts[n>>24&255]+Ts[s&255]+Ts[s>>8&255]+Ts[s>>16&255]+Ts[s>>24&255]).toLowerCase()}function tn(t,e,n){return Math.max(e,Math.min(n,t))}function Kie(t,e){return(t%e+e)%e}function wv(t,e,n){return(1-n)*t+n*e}function Pu(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Qs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const cP={DEG2RAD:Yp};class Lt{constructor(e=0,n=0){Lt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,s=this.y,r=e.elements;return this.x=r[0]*n+r[3]*s+r[6],this.y=r[1]*n+r[4]*s+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=tn(this.x,e.x,n.x),this.y=tn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=tn(this.x,e,n),this.y=tn(this.y,e,n),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(tn(s,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const s=this.dot(e)/n;return Math.acos(tn(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,s=this.y-e.y;return n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const s=Math.cos(n),r=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*s-a*r+e.x,this.y=o*r+a*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ht{constructor(e,n,s,r,o,a,i,l,c){Ht.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,s,r,o,a,i,l,c)}set(e,n,s,r,o,a,i,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=i,u[3]=n,u[4]=o,u[5]=l,u[6]=s,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,s=e.elements;return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],this}extractBasis(e,n,s){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const s=e.elements,r=n.elements,o=this.elements,a=s[0],i=s[3],l=s[6],c=s[1],u=s[4],d=s[7],h=s[2],p=s[5],v=s[8],m=r[0],y=r[3],g=r[6],_=r[1],b=r[4],S=r[7],w=r[2],C=r[5],A=r[8];return o[0]=a*m+i*_+l*w,o[3]=a*y+i*b+l*C,o[6]=a*g+i*S+l*A,o[1]=c*m+u*_+d*w,o[4]=c*y+u*b+d*C,o[7]=c*g+u*S+d*A,o[2]=h*m+p*_+v*w,o[5]=h*y+p*b+v*C,o[8]=h*g+p*S+v*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],i=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*i*c-s*o*u+s*i*l+r*o*c-r*a*l}invert(){const e=this.elements,n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],i=e[5],l=e[6],c=e[7],u=e[8],d=u*a-i*c,h=i*l-u*o,p=c*o-a*l,v=n*d+s*h+r*p;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/v;return e[0]=d*m,e[1]=(r*c-u*s)*m,e[2]=(i*s-r*a)*m,e[3]=h*m,e[4]=(u*n-r*l)*m,e[5]=(r*o-i*n)*m,e[6]=p*m,e[7]=(s*l-c*n)*m,e[8]=(a*n-s*o)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,s,r,o,a,i){const l=Math.cos(o),c=Math.sin(o);return this.set(s*l,s*c,-s*(l*a+c*i)+a+e,-r*c,r*l,-r*(-c*a+l*i)+i+n,0,0,1),this}scale(e,n){return this.premultiply(Cv.makeScale(e,n)),this}rotate(e){return this.premultiply(Cv.makeRotation(-e)),this}translate(e,n){return this.premultiply(Cv.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,-s,0,s,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,s=e.elements;for(let r=0;r<9;r++)if(n[r]!==s[r])return!1;return!0}fromArray(e,n=0){for(let s=0;s<9;s++)this.elements[s]=e[s+n];return this}toArray(e=[],n=0){const s=this.elements;return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],e[n+4]=s[4],e[n+5]=s[5],e[n+6]=s[6],e[n+7]=s[7],e[n+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Cv=new Ht;function uP(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Ph(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function jie(){const t=Ph("canvas");return t.style.display="block",t}const hx={};function ic(t){t in hx||(hx[t]=!0,console.warn(t))}function qie(t,e,n){return new Promise(function(s,r){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:s()}}setTimeout(o,n)})}function Yie(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Xie(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const mx=new Ht().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),vx=new Ht().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Qie(){const t={enabled:!0,workingColorSpace:eu,spaces:{},convert:function(r,o,a){return this.enabled===!1||o===a||!o||!a||(this.spaces[o].transfer===An&&(r.r=la(r.r),r.g=la(r.g),r.b=la(r.b)),this.spaces[o].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===An&&(r.r=Ac(r.r),r.g=Ac(r.g),r.b=Ac(r.b))),r},fromWorkingColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},toWorkingColorSpace:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Ka?Ih:this.spaces[r].transfer},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,a){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],s=[.3127,.329];return t.define({[eu]:{primaries:e,whitePoint:s,transfer:Ih,toXYZ:mx,fromXYZ:vx,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:kr},outputColorSpaceConfig:{drawingBufferColorSpace:kr}},[kr]:{primaries:e,whitePoint:s,transfer:An,toXYZ:mx,fromXYZ:vx,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:kr}}}),t}const vn=Qie();function la(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Ac(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let $l;class Zie{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{$l===void 0&&($l=Ph("canvas")),$l.width=e.width,$l.height=e.height;const s=$l.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),n=$l}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ph("canvas");n.width=e.width,n.height=e.height;const s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const r=s.getImageData(0,0,e.width,e.height),o=r.data;for(let a=0;a<o.length;a++)o[a]=la(o[a]/255)*255;return s.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let s=0;s<n.length;s++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[s]=Math.floor(la(n[s]/255)*255):n[s]=la(n[s]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Jie=0;class dP{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Jie++}),this.uuid=lf(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let a=0,i=r.length;a<i;a++)r[a].isDataTexture?o.push(xv(r[a].image)):o.push(xv(r[a]))}else o=xv(r);s.url=o}return n||(e.images[this.uuid]=s),s}}function xv(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Zie.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ele=0;class Gs extends Al{constructor(e=Gs.DEFAULT_IMAGE,n=Gs.DEFAULT_MAPPING,s=Zi,r=Zi,o=Mo,a=Ji,i=Vs,l=Uo,c=Gs.DEFAULT_ANISOTROPY,u=Ka){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ele++}),this.uuid=lf(),this.name="",this.source=new dP(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=s,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=i,this.internalFormat=null,this.type=l,this.offset=new Lt(0,0),this.repeat=new Lt(1,1),this.center=new Lt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ht,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),n||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==QR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case V0:e.x=e.x-Math.floor(e.x);break;case Zi:e.x=e.x<0?0:1;break;case W0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case V0:e.y=e.y-Math.floor(e.y);break;case Zi:e.y=e.y<0?0:1;break;case W0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Gs.DEFAULT_IMAGE=null;Gs.DEFAULT_MAPPING=QR;Gs.DEFAULT_ANISOTROPY=1;class Fn{constructor(e=0,n=0,s=0,r=1){Fn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=s,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,s,r){return this.x=e,this.y=n,this.z=s,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,s=this.y,r=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*s+a[8]*r+a[12]*o,this.y=a[1]*n+a[5]*s+a[9]*r+a[13]*o,this.z=a[2]*n+a[6]*s+a[10]*r+a[14]*o,this.w=a[3]*n+a[7]*s+a[11]*r+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,s,r,o;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],p=l[5],v=l[9],m=l[2],y=l[6],g=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-m)<.01&&Math.abs(v-y)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+m)<.1&&Math.abs(v+y)<.1&&Math.abs(c+p+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,S=(p+1)/2,w=(g+1)/2,C=(u+h)/4,A=(d+m)/4,T=(v+y)/4;return b>S&&b>w?b<.01?(s=0,r=.707106781,o=.707106781):(s=Math.sqrt(b),r=C/s,o=A/s):S>w?S<.01?(s=.707106781,r=0,o=.707106781):(r=Math.sqrt(S),s=C/r,o=T/r):w<.01?(s=.707106781,r=.707106781,o=0):(o=Math.sqrt(w),s=A/o,r=T/o),this.set(s,r,o,n),this}let _=Math.sqrt((y-v)*(y-v)+(d-m)*(d-m)+(h-u)*(h-u));return Math.abs(_)<.001&&(_=1),this.x=(y-v)/_,this.y=(d-m)/_,this.z=(h-u)/_,this.w=Math.acos((c+p+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=tn(this.x,e.x,n.x),this.y=tn(this.y,e.y,n.y),this.z=tn(this.z,e.z,n.z),this.w=tn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=tn(this.x,e,n),this.y=tn(this.y,e,n),this.z=tn(this.z,e,n),this.w=tn(this.w,e,n),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(tn(s,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this.z=e.z+(n.z-e.z)*s,this.w=e.w+(n.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class tle extends Al{constructor(e=1,n=1,s={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Fn(0,0,e,n),this.scissorTest=!1,this.viewport=new Fn(0,0,e,n);const r={width:e,height:n,depth:1};s=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Mo,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},s);const o=new Gs(r,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace);o.flipY=!1,o.generateMipmaps=s.generateMipmaps,o.internalFormat=s.internalFormat,this.textures=[];const a=s.count;for(let i=0;i<a;i++)this.textures[i]=o.clone(),this.textures[i].isRenderTargetTexture=!0;this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.resolveDepthBuffer=s.resolveDepthBuffer,this.resolveStencilBuffer=s.resolveStencilBuffer,this.depthTexture=s.depthTexture,this.samples=s.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,s=1){if(this.width!==e||this.height!==n||this.depth!==s){this.width=e,this.height=n,this.depth=s;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=s;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let s=0,r=e.textures.length;s<r;s++)this.textures[s]=e.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new dP(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class vi extends tle{constructor(e=1,n=1,s={}){super(e,n,s),this.isWebGLRenderTarget=!0}}class fP extends Gs{constructor(e=null,n=1,s=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:s,depth:r},this.magFilter=br,this.minFilter=br,this.wrapR=Zi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class nle extends Gs{constructor(e=null,n=1,s=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:s,depth:r},this.magFilter=br,this.minFilter=br,this.wrapR=Zi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Nn{constructor(e=0,n=0,s=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=s,this._w=r}static slerpFlat(e,n,s,r,o,a,i){let l=s[r+0],c=s[r+1],u=s[r+2],d=s[r+3];const h=o[a+0],p=o[a+1],v=o[a+2],m=o[a+3];if(i===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(i===1){e[n+0]=h,e[n+1]=p,e[n+2]=v,e[n+3]=m;return}if(d!==m||l!==h||c!==p||u!==v){let y=1-i;const g=l*h+c*p+u*v+d*m,_=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const w=Math.sqrt(b),C=Math.atan2(w,g*_);y=Math.sin(y*C)/w,i=Math.sin(i*C)/w}const S=i*_;if(l=l*y+h*S,c=c*y+p*S,u=u*y+v*S,d=d*y+m*S,y===1-i){const w=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=w,c*=w,u*=w,d*=w}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,s,r,o,a){const i=s[r],l=s[r+1],c=s[r+2],u=s[r+3],d=o[a],h=o[a+1],p=o[a+2],v=o[a+3];return e[n]=i*v+u*d+l*p-c*h,e[n+1]=l*v+u*h+c*d-i*p,e[n+2]=c*v+u*p+i*h-l*d,e[n+3]=u*v-i*d-l*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,s,r){return this._x=e,this._y=n,this._z=s,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const s=e._x,r=e._y,o=e._z,a=e._order,i=Math.cos,l=Math.sin,c=i(s/2),u=i(r/2),d=i(o/2),h=l(s/2),p=l(r/2),v=l(o/2);switch(a){case"XYZ":this._x=h*u*d+c*p*v,this._y=c*p*d-h*u*v,this._z=c*u*v+h*p*d,this._w=c*u*d-h*p*v;break;case"YXZ":this._x=h*u*d+c*p*v,this._y=c*p*d-h*u*v,this._z=c*u*v-h*p*d,this._w=c*u*d+h*p*v;break;case"ZXY":this._x=h*u*d-c*p*v,this._y=c*p*d+h*u*v,this._z=c*u*v+h*p*d,this._w=c*u*d-h*p*v;break;case"ZYX":this._x=h*u*d-c*p*v,this._y=c*p*d+h*u*v,this._z=c*u*v-h*p*d,this._w=c*u*d+h*p*v;break;case"YZX":this._x=h*u*d+c*p*v,this._y=c*p*d+h*u*v,this._z=c*u*v-h*p*d,this._w=c*u*d-h*p*v;break;case"XZY":this._x=h*u*d-c*p*v,this._y=c*p*d-h*u*v,this._z=c*u*v+h*p*d,this._w=c*u*d+h*p*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const s=n/2,r=Math.sin(s);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,s=n[0],r=n[4],o=n[8],a=n[1],i=n[5],l=n[9],c=n[2],u=n[6],d=n[10],h=s+i+d;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(u-l)*p,this._y=(o-c)*p,this._z=(a-r)*p}else if(s>i&&s>d){const p=2*Math.sqrt(1+s-i-d);this._w=(u-l)/p,this._x=.25*p,this._y=(r+a)/p,this._z=(o+c)/p}else if(i>d){const p=2*Math.sqrt(1+i-s-d);this._w=(o-c)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+d-s-i);this._w=(a-r)/p,this._x=(o+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let s=e.dot(n)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(tn(this.dot(e),-1,1)))}rotateTowards(e,n){const s=this.angleTo(e);if(s===0)return this;const r=Math.min(1,n/s);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const s=e._x,r=e._y,o=e._z,a=e._w,i=n._x,l=n._y,c=n._z,u=n._w;return this._x=s*u+a*i+r*c-o*l,this._y=r*u+a*l+o*i-s*c,this._z=o*u+a*c+s*l-r*i,this._w=a*u-s*i-r*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const s=this._x,r=this._y,o=this._z,a=this._w;let i=a*e._w+s*e._x+r*e._y+o*e._z;if(i<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,i=-i):this.copy(e),i>=1)return this._w=a,this._x=s,this._y=r,this._z=o,this;const l=1-i*i;if(l<=Number.EPSILON){const p=1-n;return this._w=p*a+n*this._w,this._x=p*s+n*this._x,this._y=p*r+n*this._y,this._z=p*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,i),d=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=a*d+this._w*h,this._x=s*d+this._x*h,this._y=r*d+this._y*h,this._z=o*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,s){return this.copy(e).slerp(n,s)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),s=Math.random(),r=Math.sqrt(1-s),o=Math.sqrt(s);return this.set(r*Math.sin(e),r*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Se{constructor(e=0,n=0,s=0){Se.prototype.isVector3=!0,this.x=e,this.y=n,this.z=s}set(e,n,s){return s===void 0&&(s=this.z),this.x=e,this.y=n,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(gx.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(gx.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,s=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[3]*s+o[6]*r,this.y=o[1]*n+o[4]*s+o[7]*r,this.z=o[2]*n+o[5]*s+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,s=this.y,r=this.z,o=e.elements,a=1/(o[3]*n+o[7]*s+o[11]*r+o[15]);return this.x=(o[0]*n+o[4]*s+o[8]*r+o[12])*a,this.y=(o[1]*n+o[5]*s+o[9]*r+o[13])*a,this.z=(o[2]*n+o[6]*s+o[10]*r+o[14])*a,this}applyQuaternion(e){const n=this.x,s=this.y,r=this.z,o=e.x,a=e.y,i=e.z,l=e.w,c=2*(a*r-i*s),u=2*(i*n-o*r),d=2*(o*s-a*n);return this.x=n+l*c+a*d-i*u,this.y=s+l*u+i*c-o*d,this.z=r+l*d+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,s=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[4]*s+o[8]*r,this.y=o[1]*n+o[5]*s+o[9]*r,this.z=o[2]*n+o[6]*s+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=tn(this.x,e.x,n.x),this.y=tn(this.y,e.y,n.y),this.z=tn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=tn(this.x,e,n),this.y=tn(this.y,e,n),this.z=tn(this.z,e,n),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(tn(s,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this.z=e.z+(n.z-e.z)*s,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const s=e.x,r=e.y,o=e.z,a=n.x,i=n.y,l=n.z;return this.x=r*l-o*i,this.y=o*a-s*l,this.z=s*i-r*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const s=e.dot(this)/n;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return Av.copy(this).projectOnVector(e),this.sub(Av)}reflect(e){return this.sub(Av.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const s=this.dot(e)/n;return Math.acos(tn(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,s=this.y-e.y,r=this.z-e.z;return n*n+s*s+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,s){const r=Math.sin(n)*e;return this.x=r*Math.sin(s),this.y=Math.cos(n)*e,this.z=r*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,s){return this.x=e*Math.sin(n),this.y=s,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=s,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,s=Math.sqrt(1-n*n);return this.x=s*Math.cos(e),this.y=n,this.z=s*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Av=new Se,gx=new Nn;class Io{constructor(e=new Se(1/0,1/0,1/0),n=new Se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,s=e.length;n<s;n+=3)this.expandByPoint(eo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,s=e.count;n<s;n++)this.expandByPoint(eo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,s=e.length;n<s;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const s=eo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0){const o=s.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,i=o.count;a<i;a++)e.isMesh===!0?e.getVertexPosition(a,eo):eo.fromBufferAttribute(o,a),eo.applyMatrix4(e.matrixWorld),this.expandByPoint(eo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Uf.copy(e.boundingBox)):(s.boundingBox===null&&s.computeBoundingBox(),Uf.copy(s.boundingBox)),Uf.applyMatrix4(e.matrixWorld),this.union(Uf)}const r=e.children;for(let o=0,a=r.length;o<a;o++)this.expandByObject(r[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,eo),eo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,s;return e.normal.x>0?(n=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),n<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Du),zf.subVectors(this.max,Du),Hl.subVectors(e.a,Du),Vl.subVectors(e.b,Du),Wl.subVectors(e.c,Du),Pa.subVectors(Vl,Hl),Da.subVectors(Wl,Vl),Ii.subVectors(Hl,Wl);let n=[0,-Pa.z,Pa.y,0,-Da.z,Da.y,0,-Ii.z,Ii.y,Pa.z,0,-Pa.x,Da.z,0,-Da.x,Ii.z,0,-Ii.x,-Pa.y,Pa.x,0,-Da.y,Da.x,0,-Ii.y,Ii.x,0];return!Ev(n,Hl,Vl,Wl,zf)||(n=[1,0,0,0,1,0,0,0,1],!Ev(n,Hl,Vl,Wl,zf))?!1:($f.crossVectors(Pa,Da),n=[$f.x,$f.y,$f.z],Ev(n,Hl,Vl,Wl,zf))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,eo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(eo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Wo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Wo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Wo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Wo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Wo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Wo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Wo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Wo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Wo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Wo=[new Se,new Se,new Se,new Se,new Se,new Se,new Se,new Se],eo=new Se,Uf=new Io,Hl=new Se,Vl=new Se,Wl=new Se,Pa=new Se,Da=new Se,Ii=new Se,Du=new Se,zf=new Se,$f=new Se,Ri=new Se;function Ev(t,e,n,s,r){for(let o=0,a=t.length-3;o<=a;o+=3){Ri.fromArray(t,o);const i=r.x*Math.abs(Ri.x)+r.y*Math.abs(Ri.y)+r.z*Math.abs(Ri.z),l=e.dot(Ri),c=n.dot(Ri),u=s.dot(Ri);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>i)return!1}return!0}const sle=new Io,ku=new Se,Tv=new Se;class VS{constructor(e=new Se,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const s=this.center;n!==void 0?s.copy(n):sle.setFromPoints(e).getCenter(s);let r=0;for(let o=0,a=e.length;o<a;o++)r=Math.max(r,s.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const s=this.center.distanceToSquared(e);return n.copy(e),s>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ku.subVectors(e,this.center);const n=ku.lengthSq();if(n>this.radius*this.radius){const s=Math.sqrt(n),r=(s-this.radius)*.5;this.center.addScaledVector(ku,r/s),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Tv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ku.copy(e.center).add(Tv)),this.expandByPoint(ku.copy(e.center).sub(Tv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Go=new Se,Mv=new Se,Hf=new Se,ka=new Se,Iv=new Se,Vf=new Se,Rv=new Se;let pP=class{constructor(e=new Se,n=new Se(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Go)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const s=n.dot(this.direction);return s<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Go.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Go.copy(this.origin).addScaledVector(this.direction,n),Go.distanceToSquared(e))}distanceSqToSegment(e,n,s,r){Mv.copy(e).add(n).multiplyScalar(.5),Hf.copy(n).sub(e).normalize(),ka.copy(this.origin).sub(Mv);const o=e.distanceTo(n)*.5,a=-this.direction.dot(Hf),i=ka.dot(this.direction),l=-ka.dot(Hf),c=ka.lengthSq(),u=Math.abs(1-a*a);let d,h,p,v;if(u>0)if(d=a*l-i,h=a*i-l,v=o*u,d>=0)if(h>=-v)if(h<=v){const m=1/u;d*=m,h*=m,p=d*(d+a*h+2*i)+h*(a*d+h+2*l)+c}else h=o,d=Math.max(0,-(a*h+i)),p=-d*d+h*(h+2*l)+c;else h=-o,d=Math.max(0,-(a*h+i)),p=-d*d+h*(h+2*l)+c;else h<=-v?(d=Math.max(0,-(-a*o+i)),h=d>0?-o:Math.min(Math.max(-o,-l),o),p=-d*d+h*(h+2*l)+c):h<=v?(d=0,h=Math.min(Math.max(-o,-l),o),p=h*(h+2*l)+c):(d=Math.max(0,-(a*o+i)),h=d>0?o:Math.min(Math.max(-o,-l),o),p=-d*d+h*(h+2*l)+c);else h=a>0?-o:o,d=Math.max(0,-(a*h+i)),p=-d*d+h*(h+2*l)+c;return s&&s.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(Mv).addScaledVector(Hf,h),p}intersectSphere(e,n){Go.subVectors(e.center,this.origin);const s=Go.dot(this.direction),r=Go.dot(Go)-s*s,o=e.radius*e.radius;if(r>o)return null;const a=Math.sqrt(o-r),i=s-a,l=s+a;return l<0?null:i<0?this.at(l,n):this.at(i,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/n;return s>=0?s:null}intersectPlane(e,n){const s=this.distanceToPlane(e);return s===null?null:this.at(s,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let s,r,o,a,i,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(s=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(s=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(o=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(o=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),s>a||o>r||((o>s||isNaN(s))&&(s=o),(a<r||isNaN(r))&&(r=a),d>=0?(i=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(i=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),s>l||i>r)||((i>s||s!==s)&&(s=i),(l<r||r!==r)&&(r=l),r<0)?null:this.at(s>=0?s:r,n)}intersectsBox(e){return this.intersectBox(e,Go)!==null}intersectTriangle(e,n,s,r,o){Iv.subVectors(n,e),Vf.subVectors(s,e),Rv.crossVectors(Iv,Vf);let a=this.direction.dot(Rv),i;if(a>0){if(r)return null;i=1}else if(a<0)i=-1,a=-a;else return null;ka.subVectors(this.origin,e);const l=i*this.direction.dot(Vf.crossVectors(ka,Vf));if(l<0)return null;const c=i*this.direction.dot(Iv.cross(ka));if(c<0||l+c>a)return null;const u=-i*ka.dot(Rv);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class Wt{constructor(e,n,s,r,o,a,i,l,c,u,d,h,p,v,m,y){Wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,s,r,o,a,i,l,c,u,d,h,p,v,m,y)}set(e,n,s,r,o,a,i,l,c,u,d,h,p,v,m,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=s,g[12]=r,g[1]=o,g[5]=a,g[9]=i,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=h,g[3]=p,g[7]=v,g[11]=m,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wt().fromArray(this.elements)}copy(e){const n=this.elements,s=e.elements;return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],n[9]=s[9],n[10]=s[10],n[11]=s[11],n[12]=s[12],n[13]=s[13],n[14]=s[14],n[15]=s[15],this}copyPosition(e){const n=this.elements,s=e.elements;return n[12]=s[12],n[13]=s[13],n[14]=s[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,s){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,n,s){return this.set(e.x,n.x,s.x,0,e.y,n.y,s.y,0,e.z,n.z,s.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,s=e.elements,r=1/Gl.setFromMatrixColumn(e,0).length(),o=1/Gl.setFromMatrixColumn(e,1).length(),a=1/Gl.setFromMatrixColumn(e,2).length();return n[0]=s[0]*r,n[1]=s[1]*r,n[2]=s[2]*r,n[3]=0,n[4]=s[4]*o,n[5]=s[5]*o,n[6]=s[6]*o,n[7]=0,n[8]=s[8]*a,n[9]=s[9]*a,n[10]=s[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,s=e.x,r=e.y,o=e.z,a=Math.cos(s),i=Math.sin(s),l=Math.cos(r),c=Math.sin(r),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const h=a*u,p=a*d,v=i*u,m=i*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=p+v*c,n[5]=h-m*c,n[9]=-i*l,n[2]=m-h*c,n[6]=v+p*c,n[10]=a*l}else if(e.order==="YXZ"){const h=l*u,p=l*d,v=c*u,m=c*d;n[0]=h+m*i,n[4]=v*i-p,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-i,n[2]=p*i-v,n[6]=m+h*i,n[10]=a*l}else if(e.order==="ZXY"){const h=l*u,p=l*d,v=c*u,m=c*d;n[0]=h-m*i,n[4]=-a*d,n[8]=v+p*i,n[1]=p+v*i,n[5]=a*u,n[9]=m-h*i,n[2]=-a*c,n[6]=i,n[10]=a*l}else if(e.order==="ZYX"){const h=a*u,p=a*d,v=i*u,m=i*d;n[0]=l*u,n[4]=v*c-p,n[8]=h*c+m,n[1]=l*d,n[5]=m*c+h,n[9]=p*c-v,n[2]=-c,n[6]=i*l,n[10]=a*l}else if(e.order==="YZX"){const h=a*l,p=a*c,v=i*l,m=i*c;n[0]=l*u,n[4]=m-h*d,n[8]=v*d+p,n[1]=d,n[5]=a*u,n[9]=-i*u,n[2]=-c*u,n[6]=p*d+v,n[10]=h-m*d}else if(e.order==="XZY"){const h=a*l,p=a*c,v=i*l,m=i*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=h*d+m,n[5]=a*u,n[9]=p*d-v,n[2]=v*d-p,n[6]=i*u,n[10]=m*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(rle,e,ole)}lookAt(e,n,s){const r=this.elements;return cr.subVectors(e,n),cr.lengthSq()===0&&(cr.z=1),cr.normalize(),La.crossVectors(s,cr),La.lengthSq()===0&&(Math.abs(s.z)===1?cr.x+=1e-4:cr.z+=1e-4,cr.normalize(),La.crossVectors(s,cr)),La.normalize(),Wf.crossVectors(cr,La),r[0]=La.x,r[4]=Wf.x,r[8]=cr.x,r[1]=La.y,r[5]=Wf.y,r[9]=cr.y,r[2]=La.z,r[6]=Wf.z,r[10]=cr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const s=e.elements,r=n.elements,o=this.elements,a=s[0],i=s[4],l=s[8],c=s[12],u=s[1],d=s[5],h=s[9],p=s[13],v=s[2],m=s[6],y=s[10],g=s[14],_=s[3],b=s[7],S=s[11],w=s[15],C=r[0],A=r[4],T=r[8],x=r[12],E=r[1],M=r[5],I=r[9],k=r[13],U=r[2],B=r[6],P=r[10],N=r[14],L=r[3],O=r[7],$=r[11],W=r[15];return o[0]=a*C+i*E+l*U+c*L,o[4]=a*A+i*M+l*B+c*O,o[8]=a*T+i*I+l*P+c*$,o[12]=a*x+i*k+l*N+c*W,o[1]=u*C+d*E+h*U+p*L,o[5]=u*A+d*M+h*B+p*O,o[9]=u*T+d*I+h*P+p*$,o[13]=u*x+d*k+h*N+p*W,o[2]=v*C+m*E+y*U+g*L,o[6]=v*A+m*M+y*B+g*O,o[10]=v*T+m*I+y*P+g*$,o[14]=v*x+m*k+y*N+g*W,o[3]=_*C+b*E+S*U+w*L,o[7]=_*A+b*M+S*B+w*O,o[11]=_*T+b*I+S*P+w*$,o[15]=_*x+b*k+S*N+w*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],s=e[4],r=e[8],o=e[12],a=e[1],i=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],p=e[14],v=e[3],m=e[7],y=e[11],g=e[15];return v*(+o*l*d-r*c*d-o*i*h+s*c*h+r*i*p-s*l*p)+m*(+n*l*p-n*c*h+o*a*h-r*a*p+r*c*u-o*l*u)+y*(+n*c*d-n*i*p-o*a*d+s*a*p+o*i*u-s*c*u)+g*(-r*i*u-n*l*d+n*i*h+r*a*d-s*a*h+s*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,s){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=s),this}invert(){const e=this.elements,n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],i=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],p=e[11],v=e[12],m=e[13],y=e[14],g=e[15],_=d*y*c-m*h*c+m*l*p-i*y*p-d*l*g+i*h*g,b=v*h*c-u*y*c-v*l*p+a*y*p+u*l*g-a*h*g,S=u*m*c-v*d*c+v*i*p-a*m*p-u*i*g+a*d*g,w=v*d*l-u*m*l-v*i*h+a*m*h+u*i*y-a*d*y,C=n*_+s*b+r*S+o*w;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/C;return e[0]=_*A,e[1]=(m*h*o-d*y*o-m*r*p+s*y*p+d*r*g-s*h*g)*A,e[2]=(i*y*o-m*l*o+m*r*c-s*y*c-i*r*g+s*l*g)*A,e[3]=(d*l*o-i*h*o-d*r*c+s*h*c+i*r*p-s*l*p)*A,e[4]=b*A,e[5]=(u*y*o-v*h*o+v*r*p-n*y*p-u*r*g+n*h*g)*A,e[6]=(v*l*o-a*y*o-v*r*c+n*y*c+a*r*g-n*l*g)*A,e[7]=(a*h*o-u*l*o+u*r*c-n*h*c-a*r*p+n*l*p)*A,e[8]=S*A,e[9]=(v*d*o-u*m*o-v*s*p+n*m*p+u*s*g-n*d*g)*A,e[10]=(a*m*o-v*i*o+v*s*c-n*m*c-a*s*g+n*i*g)*A,e[11]=(u*i*o-a*d*o-u*s*c+n*d*c+a*s*p-n*i*p)*A,e[12]=w*A,e[13]=(u*m*r-v*d*r+v*s*h-n*m*h-u*s*y+n*d*y)*A,e[14]=(v*i*r-a*m*r-v*s*l+n*m*l+a*s*y-n*i*y)*A,e[15]=(a*d*r-u*i*r+u*s*l-n*d*l-a*s*h+n*i*h)*A,this}scale(e){const n=this.elements,s=e.x,r=e.y,o=e.z;return n[0]*=s,n[4]*=r,n[8]*=o,n[1]*=s,n[5]*=r,n[9]*=o,n[2]*=s,n[6]*=r,n[10]*=o,n[3]*=s,n[7]*=r,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,s,r))}makeTranslation(e,n,s){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,s,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,n,-s,0,0,s,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,0,s,0,0,1,0,0,-s,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,-s,0,0,s,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const s=Math.cos(n),r=Math.sin(n),o=1-s,a=e.x,i=e.y,l=e.z,c=o*a,u=o*i;return this.set(c*a+s,c*i-r*l,c*l+r*i,0,c*i+r*l,u*i+s,u*l-r*a,0,c*l-r*i,u*l+r*a,o*l*l+s,0,0,0,0,1),this}makeScale(e,n,s){return this.set(e,0,0,0,0,n,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,n,s,r,o,a){return this.set(1,s,o,0,e,1,a,0,n,r,1,0,0,0,0,1),this}compose(e,n,s){const r=this.elements,o=n._x,a=n._y,i=n._z,l=n._w,c=o+o,u=a+a,d=i+i,h=o*c,p=o*u,v=o*d,m=a*u,y=a*d,g=i*d,_=l*c,b=l*u,S=l*d,w=s.x,C=s.y,A=s.z;return r[0]=(1-(m+g))*w,r[1]=(p+S)*w,r[2]=(v-b)*w,r[3]=0,r[4]=(p-S)*C,r[5]=(1-(h+g))*C,r[6]=(y+_)*C,r[7]=0,r[8]=(v+b)*A,r[9]=(y-_)*A,r[10]=(1-(h+m))*A,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,s){const r=this.elements;let o=Gl.set(r[0],r[1],r[2]).length();const a=Gl.set(r[4],r[5],r[6]).length(),i=Gl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],to.copy(this);const c=1/o,u=1/a,d=1/i;return to.elements[0]*=c,to.elements[1]*=c,to.elements[2]*=c,to.elements[4]*=u,to.elements[5]*=u,to.elements[6]*=u,to.elements[8]*=d,to.elements[9]*=d,to.elements[10]*=d,n.setFromRotationMatrix(to),s.x=o,s.y=a,s.z=i,this}makePerspective(e,n,s,r,o,a,i=aa){const l=this.elements,c=2*o/(n-e),u=2*o/(s-r),d=(n+e)/(n-e),h=(s+r)/(s-r);let p,v;if(i===aa)p=-(a+o)/(a-o),v=-2*a*o/(a-o);else if(i===Rh)p=-a/(a-o),v=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+i);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,s,r,o,a,i=aa){const l=this.elements,c=1/(n-e),u=1/(s-r),d=1/(a-o),h=(n+e)*c,p=(s+r)*u;let v,m;if(i===aa)v=(a+o)*d,m=-2*d;else if(i===Rh)v=o*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+i);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=m,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,s=e.elements;for(let r=0;r<16;r++)if(n[r]!==s[r])return!1;return!0}fromArray(e,n=0){for(let s=0;s<16;s++)this.elements[s]=e[s+n];return this}toArray(e=[],n=0){const s=this.elements;return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],e[n+4]=s[4],e[n+5]=s[5],e[n+6]=s[6],e[n+7]=s[7],e[n+8]=s[8],e[n+9]=s[9],e[n+10]=s[10],e[n+11]=s[11],e[n+12]=s[12],e[n+13]=s[13],e[n+14]=s[14],e[n+15]=s[15],e}}const Gl=new Se,to=new Wt,rle=new Se(0,0,0),ole=new Se(1,1,1),La=new Se,Wf=new Se,cr=new Se,yx=new Wt,bx=new Nn;class va{constructor(e=0,n=0,s=0,r=va.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=s,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,s,r=this._order){return this._x=e,this._y=n,this._z=s,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,s=!0){const r=e.elements,o=r[0],a=r[4],i=r[8],l=r[1],c=r[5],u=r[9],d=r[2],h=r[6],p=r[10];switch(n){case"XYZ":this._y=Math.asin(tn(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-tn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(i,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(tn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-tn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(tn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(i,p));break;case"XZY":this._z=Math.asin(-tn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(i,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,s){return yx.makeRotationFromQuaternion(e),this.setFromRotationMatrix(yx,n,s)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return bx.setFromEuler(this),this.setFromQuaternion(bx,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}va.DEFAULT_ORDER="XYZ";class hP{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ale=0;const Sx=new Se,Kl=new Nn,Ko=new Wt,Gf=new Se,Lu=new Se,ile=new Se,lle=new Nn,_x=new Se(1,0,0),wx=new Se(0,1,0),Cx=new Se(0,0,1),xx={type:"added"},cle={type:"removed"},jl={type:"childadded",child:null},Pv={type:"childremoved",child:null};class ss extends Al{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ale++}),this.uuid=lf(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ss.DEFAULT_UP.clone();const e=new Se,n=new va,s=new Nn,r=new Se(1,1,1);function o(){s.setFromEuler(n,!1)}function a(){n.setFromQuaternion(s,void 0,!1)}n._onChange(o),s._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Wt},normalMatrix:{value:new Ht}}),this.matrix=new Wt,this.matrixWorld=new Wt,this.matrixAutoUpdate=ss.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ss.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new hP,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Kl.setFromAxisAngle(e,n),this.quaternion.multiply(Kl),this}rotateOnWorldAxis(e,n){return Kl.setFromAxisAngle(e,n),this.quaternion.premultiply(Kl),this}rotateX(e){return this.rotateOnAxis(_x,e)}rotateY(e){return this.rotateOnAxis(wx,e)}rotateZ(e){return this.rotateOnAxis(Cx,e)}translateOnAxis(e,n){return Sx.copy(e).applyQuaternion(this.quaternion),this.position.add(Sx.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_x,e)}translateY(e){return this.translateOnAxis(wx,e)}translateZ(e){return this.translateOnAxis(Cx,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ko.copy(this.matrixWorld).invert())}lookAt(e,n,s){e.isVector3?Gf.copy(e):Gf.set(e,n,s);const r=this.parent;this.updateWorldMatrix(!0,!1),Lu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ko.lookAt(Lu,Gf,this.up):Ko.lookAt(Gf,Lu,this.up),this.quaternion.setFromRotationMatrix(Ko),r&&(Ko.extractRotation(r.matrixWorld),Kl.setFromRotationMatrix(Ko),this.quaternion.premultiply(Kl.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(xx),jl.child=e,this.dispatchEvent(jl),jl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(cle),Pv.child=e,this.dispatchEvent(Pv),Pv.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ko.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ko.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ko),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(xx),jl.child=e,this.dispatchEvent(jl),jl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let s=0,r=this.children.length;s<r;s++){const a=this.children[s].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,s=[]){this[e]===n&&s.push(this);const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].getObjectsByProperty(e,n,s);return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lu,e,ile),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lu,lle,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let s=0,r=n.length;s<r;s++)n[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let s=0,r=n.length;s<r;s++)n[s].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let s=0,r=n.length;s<r;s++)n[s].updateMatrixWorld(e)}updateWorldMatrix(e,n){const s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",s={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(i=>({boxInitialized:i.boxInitialized,boxMin:i.box.min.toArray(),boxMax:i.box.max.toArray(),sphereInitialized:i.sphereInitialized,sphereRadius:i.sphere.radius,sphereCenter:i.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function o(i,l){return i[l.uuid]===void 0&&(i[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const i=this.geometry.parameters;if(i!==void 0&&i.shapes!==void 0){const l=i.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const i=[];for(let l=0,c=this.material.length;l<c;l++)i.push(o(e.materials,this.material[l]));r.material=i}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let i=0;i<this.children.length;i++)r.children.push(this.children[i].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let i=0;i<this.animations.length;i++){const l=this.animations[i];r.animations.push(o(e.animations,l))}}if(n){const i=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),h=a(e.skeletons),p=a(e.animations),v=a(e.nodes);i.length>0&&(s.geometries=i),l.length>0&&(s.materials=l),c.length>0&&(s.textures=c),u.length>0&&(s.images=u),d.length>0&&(s.shapes=d),h.length>0&&(s.skeletons=h),p.length>0&&(s.animations=p),v.length>0&&(s.nodes=v)}return s.object=r,s;function a(i){const l=[];for(const c in i){const u=i[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let s=0;s<e.children.length;s++){const r=e.children[s];this.add(r.clone())}return this}}ss.DEFAULT_UP=new Se(0,1,0);ss.DEFAULT_MATRIX_AUTO_UPDATE=!0;ss.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const no=new Se,jo=new Se,Dv=new Se,qo=new Se,ql=new Se,Yl=new Se,Ax=new Se,kv=new Se,Lv=new Se,Ov=new Se,Bv=new Fn,Fv=new Fn,Nv=new Fn;class io{constructor(e=new Se,n=new Se,s=new Se){this.a=e,this.b=n,this.c=s}static getNormal(e,n,s,r){r.subVectors(s,n),no.subVectors(e,n),r.cross(no);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,n,s,r,o){no.subVectors(r,n),jo.subVectors(s,n),Dv.subVectors(e,n);const a=no.dot(no),i=no.dot(jo),l=no.dot(Dv),c=jo.dot(jo),u=jo.dot(Dv),d=a*c-i*i;if(d===0)return o.set(0,0,0),null;const h=1/d,p=(c*l-i*u)*h,v=(a*u-i*l)*h;return o.set(1-p-v,v,p)}static containsPoint(e,n,s,r){return this.getBarycoord(e,n,s,r,qo)===null?!1:qo.x>=0&&qo.y>=0&&qo.x+qo.y<=1}static getInterpolation(e,n,s,r,o,a,i,l){return this.getBarycoord(e,n,s,r,qo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,qo.x),l.addScaledVector(a,qo.y),l.addScaledVector(i,qo.z),l)}static getInterpolatedAttribute(e,n,s,r,o,a){return Bv.setScalar(0),Fv.setScalar(0),Nv.setScalar(0),Bv.fromBufferAttribute(e,n),Fv.fromBufferAttribute(e,s),Nv.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(Bv,o.x),a.addScaledVector(Fv,o.y),a.addScaledVector(Nv,o.z),a}static isFrontFacing(e,n,s,r){return no.subVectors(s,n),jo.subVectors(e,n),no.cross(jo).dot(r)<0}set(e,n,s){return this.a.copy(e),this.b.copy(n),this.c.copy(s),this}setFromPointsAndIndices(e,n,s,r){return this.a.copy(e[n]),this.b.copy(e[s]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,s,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return no.subVectors(this.c,this.b),jo.subVectors(this.a,this.b),no.cross(jo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return io.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return io.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,s,r,o){return io.getInterpolation(e,this.a,this.b,this.c,n,s,r,o)}containsPoint(e){return io.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return io.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const s=this.a,r=this.b,o=this.c;let a,i;ql.subVectors(r,s),Yl.subVectors(o,s),kv.subVectors(e,s);const l=ql.dot(kv),c=Yl.dot(kv);if(l<=0&&c<=0)return n.copy(s);Lv.subVectors(e,r);const u=ql.dot(Lv),d=Yl.dot(Lv);if(u>=0&&d<=u)return n.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(s).addScaledVector(ql,a);Ov.subVectors(e,o);const p=ql.dot(Ov),v=Yl.dot(Ov);if(v>=0&&p<=v)return n.copy(o);const m=p*c-l*v;if(m<=0&&c>=0&&v<=0)return i=c/(c-v),n.copy(s).addScaledVector(Yl,i);const y=u*v-p*d;if(y<=0&&d-u>=0&&p-v>=0)return Ax.subVectors(o,r),i=(d-u)/(d-u+(p-v)),n.copy(r).addScaledVector(Ax,i);const g=1/(y+m+h);return a=m*g,i=h*g,n.copy(s).addScaledVector(ql,a).addScaledVector(Yl,i)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const mP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Oa={h:0,s:0,l:0},Kf={h:0,s:0,l:0};function Uv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class gn{constructor(e,n,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,s)}set(e,n,s){if(n===void 0&&s===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,s);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=kr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vn.toWorkingColorSpace(this,n),this}setRGB(e,n,s,r=vn.workingColorSpace){return this.r=e,this.g=n,this.b=s,vn.toWorkingColorSpace(this,r),this}setHSL(e,n,s,r=vn.workingColorSpace){if(e=Kie(e,1),n=tn(n,0,1),s=tn(s,0,1),n===0)this.r=this.g=this.b=s;else{const o=s<=.5?s*(1+n):s+n-s*n,a=2*s-o;this.r=Uv(a,o,e+1/3),this.g=Uv(a,o,e),this.b=Uv(a,o,e-1/3)}return vn.toWorkingColorSpace(this,r),this}setStyle(e,n=kr){function s(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=r[1],i=r[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return s(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return s(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return s(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=kr){const s=mP[e.toLowerCase()];return s!==void 0?this.setHex(s,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=la(e.r),this.g=la(e.g),this.b=la(e.b),this}copyLinearToSRGB(e){return this.r=Ac(e.r),this.g=Ac(e.g),this.b=Ac(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=kr){return vn.fromWorkingColorSpace(Ms.copy(this),e),Math.round(tn(Ms.r*255,0,255))*65536+Math.round(tn(Ms.g*255,0,255))*256+Math.round(tn(Ms.b*255,0,255))}getHexString(e=kr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=vn.workingColorSpace){vn.fromWorkingColorSpace(Ms.copy(this),n);const s=Ms.r,r=Ms.g,o=Ms.b,a=Math.max(s,r,o),i=Math.min(s,r,o);let l,c;const u=(i+a)/2;if(i===a)l=0,c=0;else{const d=a-i;switch(c=u<=.5?d/(a+i):d/(2-a-i),a){case s:l=(r-o)/d+(r<o?6:0);break;case r:l=(o-s)/d+2;break;case o:l=(s-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=vn.workingColorSpace){return vn.fromWorkingColorSpace(Ms.copy(this),n),e.r=Ms.r,e.g=Ms.g,e.b=Ms.b,e}getStyle(e=kr){vn.fromWorkingColorSpace(Ms.copy(this),e);const n=Ms.r,s=Ms.g,r=Ms.b;return e!==kr?`color(${e} ${n.toFixed(3)} ${s.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(s*255)},${Math.round(r*255)})`}offsetHSL(e,n,s){return this.getHSL(Oa),this.setHSL(Oa.h+e,Oa.s+n,Oa.l+s)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,s){return this.r=e.r+(n.r-e.r)*s,this.g=e.g+(n.g-e.g)*s,this.b=e.b+(n.b-e.b)*s,this}lerpHSL(e,n){this.getHSL(Oa),e.getHSL(Kf);const s=wv(Oa.h,Kf.h,n),r=wv(Oa.s,Kf.s,n),o=wv(Oa.l,Kf.l,n);return this.setHSL(s,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,s=this.g,r=this.b,o=e.elements;return this.r=o[0]*n+o[3]*s+o[6]*r,this.g=o[1]*n+o[4]*s+o[7]*r,this.b=o[2]*n+o[5]*s+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ms=new gn;gn.NAMES=mP;let ule=0;class Im extends Al{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ule++}),this.uuid=lf(),this.name="",this.type="Material",this.blending=ni,this.side=No,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Bd,this.blendDst=Fd,this.blendEquation=$i,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gn(0,0,0),this.blendAlpha=0,this.depthFunc=Yc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dx,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=zl,this.stencilZFail=zl,this.stencilZPass=zl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const s=e[n];if(s===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(s):r&&r.isVector3&&s&&s.isVector3?r.copy(s):this[n]=s}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(s.dispersion=this.dispersion),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapRotation!==void 0&&(s.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==ni&&(s.blending=this.blending),this.side!==No&&(s.side=this.side),this.vertexColors===!0&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=!0),this.blendSrc!==Bd&&(s.blendSrc=this.blendSrc),this.blendDst!==Fd&&(s.blendDst=this.blendDst),this.blendEquation!==$i&&(s.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(s.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(s.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(s.blendAlpha=this.blendAlpha),this.depthFunc!==Yc&&(s.depthFunc=this.depthFunc),this.depthTest===!1&&(s.depthTest=this.depthTest),this.depthWrite===!1&&(s.depthWrite=this.depthWrite),this.colorWrite===!1&&(s.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(s.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==dx&&(s.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(s.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==zl&&(s.stencilFail=this.stencilFail),this.stencilZFail!==zl&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==zl&&(s.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(s.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=!0),this.alphaToCoverage===!0&&(s.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=!0),this.forceSinglePass===!0&&(s.forceSinglePass=!0),this.wireframe===!0&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=!0),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function r(o){const a=[];for(const i in o){const l=o[i];delete l.metadata,a.push(l)}return a}if(n){const o=r(e.textures),a=r(e.images);o.length>0&&(s.textures=o),a.length>0&&(s.images=a)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let s=null;if(n!==null){const r=n.length;s=new Array(r);for(let o=0;o!==r;++o)s[o]=n[o].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class yl extends Im{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.combine=XR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ra=dle();function dle(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),s=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(s[l]=0,s[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(s[l]=1024>>-c-14,s[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(s[l]=c+15<<10,s[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(s[l]=31744,s[l|256]=64512,r[l]=24,r[l|256]=24):(s[l]=31744,s[l|256]=64512,r[l]=13,r[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),i=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;(c&8388608)===0;)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(i[l]=1024);return{floatView:e,uint32View:n,baseTable:s,shiftTable:r,mantissaTable:o,exponentTable:a,offsetTable:i}}function fle(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=tn(t,-65504,65504),ra.floatView[0]=t;const e=ra.uint32View[0],n=e>>23&511;return ra.baseTable[n]+((e&8388607)>>ra.shiftTable[n])}function ple(t){const e=t>>10;return ra.uint32View[0]=ra.mantissaTable[ra.offsetTable[e]+(t&1023)]+ra.exponentTable[e],ra.floatView[0]}const Ud={toHalfFloat:fle,fromHalfFloat:ple},Jn=new Se,jf=new Lt;class $r{constructor(e,n,s=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=s,this.usage=fx,this.updateRanges=[],this.gpuType=po,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,s){e*=this.itemSize,s*=n.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=n.array[s+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,s=this.count;n<s;n++)jf.fromBufferAttribute(this,n),jf.applyMatrix3(e),this.setXY(n,jf.x,jf.y);else if(this.itemSize===3)for(let n=0,s=this.count;n<s;n++)Jn.fromBufferAttribute(this,n),Jn.applyMatrix3(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}applyMatrix4(e){for(let n=0,s=this.count;n<s;n++)Jn.fromBufferAttribute(this,n),Jn.applyMatrix4(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}applyNormalMatrix(e){for(let n=0,s=this.count;n<s;n++)Jn.fromBufferAttribute(this,n),Jn.applyNormalMatrix(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}transformDirection(e){for(let n=0,s=this.count;n<s;n++)Jn.fromBufferAttribute(this,n),Jn.transformDirection(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let s=this.array[e*this.itemSize+n];return this.normalized&&(s=Pu(s,this.array)),s}setComponent(e,n,s){return this.normalized&&(s=Qs(s,this.array)),this.array[e*this.itemSize+n]=s,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Pu(n,this.array)),n}setX(e,n){return this.normalized&&(n=Qs(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Pu(n,this.array)),n}setY(e,n){return this.normalized&&(n=Qs(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Pu(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Qs(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Pu(n,this.array)),n}setW(e,n){return this.normalized&&(n=Qs(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,s){return e*=this.itemSize,this.normalized&&(n=Qs(n,this.array),s=Qs(s,this.array)),this.array[e+0]=n,this.array[e+1]=s,this}setXYZ(e,n,s,r){return e*=this.itemSize,this.normalized&&(n=Qs(n,this.array),s=Qs(s,this.array),r=Qs(r,this.array)),this.array[e+0]=n,this.array[e+1]=s,this.array[e+2]=r,this}setXYZW(e,n,s,r,o){return e*=this.itemSize,this.normalized&&(n=Qs(n,this.array),s=Qs(s,this.array),r=Qs(r,this.array),o=Qs(o,this.array)),this.array[e+0]=n,this.array[e+1]=s,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==fx&&(e.usage=this.usage),e}}class vP extends $r{constructor(e,n,s){super(new Uint16Array(e),n,s)}}class gP extends $r{constructor(e,n,s){super(new Uint32Array(e),n,s)}}class Sr extends $r{constructor(e,n,s){super(new Float32Array(e),n,s)}}let hle=0;const Mr=new Wt,zv=new ss,Xl=new Se,ur=new Io,Ou=new Io,ds=new Se;class Qr extends Al{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:hle++}),this.uuid=lf(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(uP(e)?gP:vP)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,s=0){this.groups.push({start:e,count:n,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const o=new Ht().getNormalMatrix(e);s.applyNormalMatrix(o),s.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mr.makeRotationFromQuaternion(e),this.applyMatrix4(Mr),this}rotateX(e){return Mr.makeRotationX(e),this.applyMatrix4(Mr),this}rotateY(e){return Mr.makeRotationY(e),this.applyMatrix4(Mr),this}rotateZ(e){return Mr.makeRotationZ(e),this.applyMatrix4(Mr),this}translate(e,n,s){return Mr.makeTranslation(e,n,s),this.applyMatrix4(Mr),this}scale(e,n,s){return Mr.makeScale(e,n,s),this.applyMatrix4(Mr),this}lookAt(e){return zv.lookAt(e),zv.updateMatrix(),this.applyMatrix4(zv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xl).negate(),this.translate(Xl.x,Xl.y,Xl.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const s=[];for(let r=0,o=e.length;r<o;r++){const a=e[r];s.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Sr(s,3))}else{const s=Math.min(e.length,n.count);for(let r=0;r<s;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Io);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Se(-1/0,-1/0,-1/0),new Se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let s=0,r=n.length;s<r;s++){const o=n[s];ur.setFromBufferAttribute(o),this.morphTargetsRelative?(ds.addVectors(this.boundingBox.min,ur.min),this.boundingBox.expandByPoint(ds),ds.addVectors(this.boundingBox.max,ur.max),this.boundingBox.expandByPoint(ds)):(this.boundingBox.expandByPoint(ur.min),this.boundingBox.expandByPoint(ur.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new VS);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Se,1/0);return}if(e){const s=this.boundingSphere.center;if(ur.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const i=n[o];Ou.setFromBufferAttribute(i),this.morphTargetsRelative?(ds.addVectors(ur.min,Ou.min),ur.expandByPoint(ds),ds.addVectors(ur.max,Ou.max),ur.expandByPoint(ds)):(ur.expandByPoint(Ou.min),ur.expandByPoint(Ou.max))}ur.getCenter(s);let r=0;for(let o=0,a=e.count;o<a;o++)ds.fromBufferAttribute(e,o),r=Math.max(r,s.distanceToSquared(ds));if(n)for(let o=0,a=n.length;o<a;o++){const i=n[o],l=this.morphTargetsRelative;for(let c=0,u=i.count;c<u;c++)ds.fromBufferAttribute(i,c),l&&(Xl.fromBufferAttribute(e,c),ds.add(Xl)),r=Math.max(r,s.distanceToSquared(ds))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=n.position,r=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new $r(new Float32Array(4*s.count),4));const a=this.getAttribute("tangent"),i=[],l=[];for(let T=0;T<s.count;T++)i[T]=new Se,l[T]=new Se;const c=new Se,u=new Se,d=new Se,h=new Lt,p=new Lt,v=new Lt,m=new Se,y=new Se;function g(T,x,E){c.fromBufferAttribute(s,T),u.fromBufferAttribute(s,x),d.fromBufferAttribute(s,E),h.fromBufferAttribute(o,T),p.fromBufferAttribute(o,x),v.fromBufferAttribute(o,E),u.sub(c),d.sub(c),p.sub(h),v.sub(h);const M=1/(p.x*v.y-v.x*p.y);isFinite(M)&&(m.copy(u).multiplyScalar(v.y).addScaledVector(d,-p.y).multiplyScalar(M),y.copy(d).multiplyScalar(p.x).addScaledVector(u,-v.x).multiplyScalar(M),i[T].add(m),i[x].add(m),i[E].add(m),l[T].add(y),l[x].add(y),l[E].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let T=0,x=_.length;T<x;++T){const E=_[T],M=E.start,I=E.count;for(let k=M,U=M+I;k<U;k+=3)g(e.getX(k+0),e.getX(k+1),e.getX(k+2))}const b=new Se,S=new Se,w=new Se,C=new Se;function A(T){w.fromBufferAttribute(r,T),C.copy(w);const x=i[T];b.copy(x),b.sub(w.multiplyScalar(w.dot(x))).normalize(),S.crossVectors(C,x);const M=S.dot(l[T])<0?-1:1;a.setXYZW(T,b.x,b.y,b.z,M)}for(let T=0,x=_.length;T<x;++T){const E=_[T],M=E.start,I=E.count;for(let k=M,U=M+I;k<U;k+=3)A(e.getX(k+0)),A(e.getX(k+1)),A(e.getX(k+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new $r(new Float32Array(n.count*3),3),this.setAttribute("normal",s);else for(let h=0,p=s.count;h<p;h++)s.setXYZ(h,0,0,0);const r=new Se,o=new Se,a=new Se,i=new Se,l=new Se,c=new Se,u=new Se,d=new Se;if(e)for(let h=0,p=e.count;h<p;h+=3){const v=e.getX(h+0),m=e.getX(h+1),y=e.getX(h+2);r.fromBufferAttribute(n,v),o.fromBufferAttribute(n,m),a.fromBufferAttribute(n,y),u.subVectors(a,o),d.subVectors(r,o),u.cross(d),i.fromBufferAttribute(s,v),l.fromBufferAttribute(s,m),c.fromBufferAttribute(s,y),i.add(u),l.add(u),c.add(u),s.setXYZ(v,i.x,i.y,i.z),s.setXYZ(m,l.x,l.y,l.z),s.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,p=n.count;h<p;h+=3)r.fromBufferAttribute(n,h+0),o.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),u.subVectors(a,o),d.subVectors(r,o),u.cross(d),s.setXYZ(h+0,u.x,u.y,u.z),s.setXYZ(h+1,u.x,u.y,u.z),s.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,s=e.count;n<s;n++)ds.fromBufferAttribute(e,n),ds.normalize(),e.setXYZ(n,ds.x,ds.y,ds.z)}toNonIndexed(){function e(i,l){const c=i.array,u=i.itemSize,d=i.normalized,h=new c.constructor(l.length*u);let p=0,v=0;for(let m=0,y=l.length;m<y;m++){i.isInterleavedBufferAttribute?p=l[m]*i.data.stride+i.offset:p=l[m]*u;for(let g=0;g<u;g++)h[v++]=c[p++]}return new $r(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Qr,s=this.index.array,r=this.attributes;for(const i in r){const l=r[i],c=e(l,s);n.setAttribute(i,c)}const o=this.morphAttributes;for(const i in o){const l=[],c=o[i];for(let u=0,d=c.length;u<d;u++){const h=c[u],p=e(h,s);l.push(p)}n.morphAttributes[i]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let i=0,l=a.length;i<l;i++){const c=a[i];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const s=this.attributes;for(const l in s){const c=s[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const p=c[d];u.push(p.toJSON(e.data))}u.length>0&&(r[l]=u,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const i=this.boundingSphere;return i!==null&&(e.data.boundingSphere={center:i.center.toArray(),radius:i.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let h=0,p=d.length;h<p;h++)u.push(d[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const i=e.boundingBox;i!==null&&(this.boundingBox=i.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ex=new Wt,Pi=new pP,qf=new VS,Tx=new Se,Yf=new Se,Xf=new Se,Qf=new Se,$v=new Se,Zf=new Se,Mx=new Se,Jf=new Se;class jn extends ss{constructor(e=new Qr,n=new yl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const r=n[s[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const i=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=o}}}}getVertexPosition(e,n){const s=this.geometry,r=s.attributes.position,o=s.morphAttributes.position,a=s.morphTargetsRelative;n.fromBufferAttribute(r,e);const i=this.morphTargetInfluences;if(o&&i){Zf.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=i[l],d=o[l];u!==0&&($v.fromBufferAttribute(d,e),a?Zf.addScaledVector($v,u):Zf.addScaledVector($v.sub(n),u))}n.add(Zf)}return n}raycast(e,n){const s=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),qf.copy(s.boundingSphere),qf.applyMatrix4(o),Pi.copy(e.ray).recast(e.near),!(qf.containsPoint(Pi.origin)===!1&&(Pi.intersectSphere(qf,Tx)===null||Pi.origin.distanceToSquared(Tx)>(e.far-e.near)**2))&&(Ex.copy(o).invert(),Pi.copy(e.ray).applyMatrix4(Ex),!(s.boundingBox!==null&&Pi.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(e,n,Pi)))}_computeIntersections(e,n,s){let r;const o=this.geometry,a=this.material,i=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,h=o.groups,p=o.drawRange;if(i!==null)if(Array.isArray(a))for(let v=0,m=h.length;v<m;v++){const y=h[v],g=a[y.materialIndex],_=Math.max(y.start,p.start),b=Math.min(i.count,Math.min(y.start+y.count,p.start+p.count));for(let S=_,w=b;S<w;S+=3){const C=i.getX(S),A=i.getX(S+1),T=i.getX(S+2);r=ep(this,g,e,s,c,u,d,C,A,T),r&&(r.faceIndex=Math.floor(S/3),r.face.materialIndex=y.materialIndex,n.push(r))}}else{const v=Math.max(0,p.start),m=Math.min(i.count,p.start+p.count);for(let y=v,g=m;y<g;y+=3){const _=i.getX(y),b=i.getX(y+1),S=i.getX(y+2);r=ep(this,a,e,s,c,u,d,_,b,S),r&&(r.faceIndex=Math.floor(y/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,m=h.length;v<m;v++){const y=h[v],g=a[y.materialIndex],_=Math.max(y.start,p.start),b=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let S=_,w=b;S<w;S+=3){const C=S,A=S+1,T=S+2;r=ep(this,g,e,s,c,u,d,C,A,T),r&&(r.faceIndex=Math.floor(S/3),r.face.materialIndex=y.materialIndex,n.push(r))}}else{const v=Math.max(0,p.start),m=Math.min(l.count,p.start+p.count);for(let y=v,g=m;y<g;y+=3){const _=y,b=y+1,S=y+2;r=ep(this,a,e,s,c,u,d,_,b,S),r&&(r.faceIndex=Math.floor(y/3),n.push(r))}}}}function mle(t,e,n,s,r,o,a,i){let l;if(e.side===or?l=s.intersectTriangle(a,o,r,!0,i):l=s.intersectTriangle(r,o,a,e.side===No,i),l===null)return null;Jf.copy(i),Jf.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Jf);return c<n.near||c>n.far?null:{distance:c,point:Jf.clone(),object:t}}function ep(t,e,n,s,r,o,a,i,l,c){t.getVertexPosition(i,Yf),t.getVertexPosition(l,Xf),t.getVertexPosition(c,Qf);const u=mle(t,e,n,s,Yf,Xf,Qf,Mx);if(u){const d=new Se;io.getBarycoord(Mx,Yf,Xf,Qf,d),r&&(u.uv=io.getInterpolatedAttribute(r,i,l,c,d,new Lt)),o&&(u.uv1=io.getInterpolatedAttribute(o,i,l,c,d,new Lt)),a&&(u.normal=io.getInterpolatedAttribute(a,i,l,c,d,new Se),u.normal.dot(s.direction)>0&&u.normal.multiplyScalar(-1));const h={a:i,b:l,c,normal:new Se,materialIndex:0};io.getNormal(Yf,Xf,Qf,h.normal),u.face=h,u.barycoord=d}return u}class Su extends Qr{constructor(e=1,n=1,s=1,r=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:s,widthSegments:r,heightSegments:o,depthSegments:a};const i=this;r=Math.floor(r),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],d=[];let h=0,p=0;v("z","y","x",-1,-1,s,n,e,a,o,0),v("z","y","x",1,-1,s,n,-e,a,o,1),v("x","z","y",1,1,e,s,n,r,a,2),v("x","z","y",1,-1,e,s,-n,r,a,3),v("x","y","z",1,-1,e,n,s,r,o,4),v("x","y","z",-1,-1,e,n,-s,r,o,5),this.setIndex(l),this.setAttribute("position",new Sr(c,3)),this.setAttribute("normal",new Sr(u,3)),this.setAttribute("uv",new Sr(d,2));function v(m,y,g,_,b,S,w,C,A,T,x){const E=S/A,M=w/T,I=S/2,k=w/2,U=C/2,B=A+1,P=T+1;let N=0,L=0;const O=new Se;for(let $=0;$<P;$++){const W=$*M-k;for(let ee=0;ee<B;ee++){const Y=ee*E-I;O[m]=Y*_,O[y]=W*b,O[g]=U,c.push(O.x,O.y,O.z),O[m]=0,O[y]=0,O[g]=C>0?1:-1,u.push(O.x,O.y,O.z),d.push(ee/A),d.push(1-$/T),N+=1}}for(let $=0;$<T;$++)for(let W=0;W<A;W++){const ee=h+W+B*$,Y=h+W+B*($+1),Z=h+(W+1)+B*($+1),ae=h+(W+1)+B*$;l.push(ee,Y,ae),l.push(Y,Z,ae),L+=6}i.addGroup(p,L,x),p+=L,h+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Su(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function tu(t){const e={};for(const n in t){e[n]={};for(const s in t[n]){const r=t[n][s];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][s]=null):e[n][s]=r.clone():Array.isArray(r)?e[n][s]=r.slice():e[n][s]=r}}return e}function Us(t){const e={};for(let n=0;n<t.length;n++){const s=tu(t[n]);for(const r in s)e[r]=s[r]}return e}function vle(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function yP(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:vn.workingColorSpace}const gle={clone:tu,merge:Us};var yle=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ble=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class _r extends Im{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yle,this.fragmentShader=ble,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=tu(e.uniforms),this.uniformsGroups=vle(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?n.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[r]={type:"m4",value:a.toArray()}:n.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const s={};for(const r in this.extensions)this.extensions[r]===!0&&(s[r]=!0);return Object.keys(s).length>0&&(n.extensions=s),n}}class bP extends ss{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wt,this.projectionMatrix=new Wt,this.projectionMatrixInverse=new Wt,this.coordinateSystem=aa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ba=new Se,Ix=new Lt,Rx=new Lt;class Lr extends bP{constructor(e=50,n=1,s=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=gy*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return gy*2*Math.atan(Math.tan(Yp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,s){Ba.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ba.x,Ba.y).multiplyScalar(-e/Ba.z),Ba.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(Ba.x,Ba.y).multiplyScalar(-e/Ba.z)}getViewSize(e,n){return this.getViewBounds(e,Ix,Rx),n.subVectors(Rx,Ix)}setViewOffset(e,n,s,r,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=s,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Yp*.5*this.fov)/this.zoom,s=2*n,r=this.aspect*s,o=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*r/l,n-=a.offsetY*s/c,r*=a.width/l,s*=a.height/c}const i=this.filmOffset;i!==0&&(o+=e*i/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,n,n-s,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ql=-90,Zl=1;class Sle extends ss{constructor(e,n,s){super(),this.type="CubeCamera",this.renderTarget=s,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Lr(Ql,Zl,e,n);r.layers=this.layers,this.add(r);const o=new Lr(Ql,Zl,e,n);o.layers=this.layers,this.add(o);const a=new Lr(Ql,Zl,e,n);a.layers=this.layers,this.add(a);const i=new Lr(Ql,Zl,e,n);i.layers=this.layers,this.add(i);const l=new Lr(Ql,Zl,e,n);l.layers=this.layers,this.add(l);const c=new Lr(Ql,Zl,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[s,r,o,a,i,l]=n;for(const c of n)this.remove(c);if(e===aa)s.up.set(0,1,0),s.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),i.up.set(0,1,0),i.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Rh)s.up.set(0,-1,0),s.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),i.up.set(0,-1,0),i.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:s,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,i,l,c,u]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const m=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0,r),e.render(n,o),e.setRenderTarget(s,1,r),e.render(n,a),e.setRenderTarget(s,2,r),e.render(n,i),e.setRenderTarget(s,3,r),e.render(n,l),e.setRenderTarget(s,4,r),e.render(n,c),s.texture.generateMipmaps=m,e.setRenderTarget(s,5,r),e.render(n,u),e.setRenderTarget(d,h,p),e.xr.enabled=v,s.texture.needsPMREMUpdate=!0}}class SP extends Gs{constructor(e,n,s,r,o,a,i,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Xc,super(e,n,s,r,o,a,i,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class _le extends vi{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const s={width:e,height:e,depth:1},r=[s,s,s,s,s,s];this.texture=new SP(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Mo}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Su(5,5,5),o=new _r({name:"CubemapFromEquirect",uniforms:tu(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:or,blending:ti});o.uniforms.tEquirect.value=n;const a=new jn(r,o),i=n.minFilter;return n.minFilter===Ji&&(n.minFilter=Mo),new Sle(1,10,this).update(e,a),n.minFilter=i,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,s,r){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,s,r);e.setRenderTarget(o)}}class wle extends ss{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new va,this.environmentIntensity=1,this.environmentRotation=new va,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Fa extends Gs{constructor(e=null,n=1,s=1,r,o,a,i,l,c=br,u=br,d,h){super(null,a,i,l,c,u,r,o,d,h),this.isDataTexture=!0,this.image={data:e,width:n,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Cle extends $r{constructor(e,n,s,r=1){super(e,n,s),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hv=new Se,xle=new Se,Ale=new Ht;class Va{constructor(e=new Se(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,s,r){return this.normal.set(e,n,s),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,s){const r=Hv.subVectors(s,n).cross(xle.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const s=e.delta(Hv),r=this.normal.dot(s);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:n.copy(e.start).addScaledVector(s,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return n<0&&s>0||s<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const s=n||Ale.getNormalMatrix(e),r=this.coplanarPoint(Hv).applyMatrix4(e),o=this.normal.applyMatrix3(s).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Di=new VS,tp=new Se;class _P{constructor(e=new Va,n=new Va,s=new Va,r=new Va,o=new Va,a=new Va){this.planes=[e,n,s,r,o,a]}set(e,n,s,r,o,a){const i=this.planes;return i[0].copy(e),i[1].copy(n),i[2].copy(s),i[3].copy(r),i[4].copy(o),i[5].copy(a),this}copy(e){const n=this.planes;for(let s=0;s<6;s++)n[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e,n=aa){const s=this.planes,r=e.elements,o=r[0],a=r[1],i=r[2],l=r[3],c=r[4],u=r[5],d=r[6],h=r[7],p=r[8],v=r[9],m=r[10],y=r[11],g=r[12],_=r[13],b=r[14],S=r[15];if(s[0].setComponents(l-o,h-c,y-p,S-g).normalize(),s[1].setComponents(l+o,h+c,y+p,S+g).normalize(),s[2].setComponents(l+a,h+u,y+v,S+_).normalize(),s[3].setComponents(l-a,h-u,y-v,S-_).normalize(),s[4].setComponents(l-i,h-d,y-m,S-b).normalize(),n===aa)s[5].setComponents(l+i,h+d,y+m,S+b).normalize();else if(n===Rh)s[5].setComponents(i,d,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Di.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Di.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Di)}intersectsSprite(e){return Di.center.set(0,0,0),Di.radius=.7071067811865476,Di.applyMatrix4(e.matrixWorld),this.intersectsSphere(Di)}intersectsSphere(e){const n=this.planes,s=e.center,r=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(s)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let s=0;s<6;s++){const r=n[s];if(tp.x=r.normal.x>0?e.max.x:e.min.x,tp.y=r.normal.y>0?e.max.y:e.min.y,tp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(tp)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let s=0;s<6;s++)if(n[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class np extends ss{constructor(){super(),this.isGroup=!0,this.type="Group"}}class WS extends Gs{constructor(e,n,s,r,o,a,i,l,c,u=ll){if(u!==ll&&u!==Jc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&u===ll&&(s=Nr),s===void 0&&u===Jc&&(s=Zc),super(null,r,o,a,i,l,u,s,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=i!==void 0?i:br,this.minFilter=l!==void 0?l:br,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class zd extends Qr{constructor(e=1,n=1,s=1,r=32,o=1,a=!1,i=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:s,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:i,thetaLength:l};const c=this;r=Math.floor(r),o=Math.floor(o);const u=[],d=[],h=[],p=[];let v=0;const m=[],y=s/2;let g=0;_(),a===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Sr(d,3)),this.setAttribute("normal",new Sr(h,3)),this.setAttribute("uv",new Sr(p,2));function _(){const S=new Se,w=new Se;let C=0;const A=(n-e)/s;for(let T=0;T<=o;T++){const x=[],E=T/o,M=E*(n-e)+e;for(let I=0;I<=r;I++){const k=I/r,U=k*l+i,B=Math.sin(U),P=Math.cos(U);w.x=M*B,w.y=-E*s+y,w.z=M*P,d.push(w.x,w.y,w.z),S.set(B,A,P).normalize(),h.push(S.x,S.y,S.z),p.push(k,1-E),x.push(v++)}m.push(x)}for(let T=0;T<r;T++)for(let x=0;x<o;x++){const E=m[x][T],M=m[x+1][T],I=m[x+1][T+1],k=m[x][T+1];(e>0||x!==0)&&(u.push(E,M,k),C+=3),(n>0||x!==o-1)&&(u.push(M,I,k),C+=3)}c.addGroup(g,C,0),g+=C}function b(S){const w=v,C=new Lt,A=new Se;let T=0;const x=S===!0?e:n,E=S===!0?1:-1;for(let I=1;I<=r;I++)d.push(0,y*E,0),h.push(0,E,0),p.push(.5,.5),v++;const M=v;for(let I=0;I<=r;I++){const U=I/r*l+i,B=Math.cos(U),P=Math.sin(U);A.x=x*P,A.y=y*E,A.z=x*B,d.push(A.x,A.y,A.z),h.push(0,E,0),C.x=B*.5+.5,C.y=P*.5*E+.5,p.push(C.x,C.y),v++}for(let I=0;I<r;I++){const k=w+I,U=M+I;S===!0?u.push(U,U+1,k):u.push(U+1,U,k),T+=3}c.addGroup(g,T,S===!0?1:2),g+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class GS extends zd{constructor(e=1,n=1,s=32,r=1,o=!1,a=0,i=Math.PI*2){super(0,e,n,s,r,o,a,i),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:s,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:i}}static fromJSON(e){return new GS(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nu extends Qr{constructor(e=1,n=1,s=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:s,heightSegments:r};const o=e/2,a=n/2,i=Math.floor(s),l=Math.floor(r),c=i+1,u=l+1,d=e/i,h=n/l,p=[],v=[],m=[],y=[];for(let g=0;g<u;g++){const _=g*h-a;for(let b=0;b<c;b++){const S=b*d-o;v.push(S,-_,0),m.push(0,0,1),y.push(b/i),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<i;_++){const b=_+c*g,S=_+c*(g+1),w=_+1+c*(g+1),C=_+1+c*g;p.push(b,S,C),p.push(S,w,C)}this.setIndex(p),this.setAttribute("position",new Sr(v,3)),this.setAttribute("normal",new Sr(m,3)),this.setAttribute("uv",new Sr(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nu(e.width,e.height,e.widthSegments,e.heightSegments)}}class Dh extends Qr{constructor(e=1,n=32,s=16,r=0,o=Math.PI*2,a=0,i=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:s,phiStart:r,phiLength:o,thetaStart:a,thetaLength:i},n=Math.max(3,Math.floor(n)),s=Math.max(2,Math.floor(s));const l=Math.min(a+i,Math.PI);let c=0;const u=[],d=new Se,h=new Se,p=[],v=[],m=[],y=[];for(let g=0;g<=s;g++){const _=[],b=g/s;let S=0;g===0&&a===0?S=.5/n:g===s&&l===Math.PI&&(S=-.5/n);for(let w=0;w<=n;w++){const C=w/n;d.x=-e*Math.cos(r+C*o)*Math.sin(a+b*i),d.y=e*Math.cos(a+b*i),d.z=e*Math.sin(r+C*o)*Math.sin(a+b*i),v.push(d.x,d.y,d.z),h.copy(d).normalize(),m.push(h.x,h.y,h.z),y.push(C+S,1-b),_.push(c++)}u.push(_)}for(let g=0;g<s;g++)for(let _=0;_<n;_++){const b=u[g][_+1],S=u[g][_],w=u[g+1][_],C=u[g+1][_+1];(g!==0||a>0)&&p.push(b,S,C),(g!==s-1||l<Math.PI)&&p.push(S,w,C)}this.setIndex(p),this.setAttribute("position",new Sr(v,3)),this.setAttribute("normal",new Sr(m,3)),this.setAttribute("uv",new Sr(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ele extends Im{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Lie,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Tle extends Im{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class KS extends bP{constructor(e=-1,n=1,s=1,r=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=s,this.bottom=r,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,s,r,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=s,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=s-e,a=s+e,i=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,i-=u*this.view.offsetY,l=i-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,i,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Mle extends Qr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Ile extends Lr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Px{constructor(e=1,n=0,s=0){return this.radius=e,this.phi=n,this.theta=s,this}set(e,n,s){return this.radius=e,this.phi=n,this.theta=s,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=tn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,s){return this.radius=Math.sqrt(e*e+n*n+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,s),this.phi=Math.acos(tn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}function Dx(t,e,n,s){const r=Rle(s);switch(n){case tP:return t*e;case sP:return t*e;case rP:return t*e*2;case oP:return t*e/r.components*r.byteLength;case Mm:return t*e/r.components*r.byteLength;case aP:return t*e*2/r.components*r.byteLength;case HS:return t*e*2/r.components*r.byteLength;case nP:return t*e*3/r.components*r.byteLength;case Vs:return t*e*4/r.components*r.byteLength;case xc:return t*e*4/r.components*r.byteLength;case Wp:case Gp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Kp:case jp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case K0:case q0:return Math.max(t,16)*Math.max(e,8)/4;case G0:case j0:return Math.max(t,8)*Math.max(e,8)/2;case Y0:case X0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Q0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Z0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case J0:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case ey:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case ty:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case ny:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case sy:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case ry:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case oy:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case ay:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case iy:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case ly:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case cy:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case uy:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case dy:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case qp:case fy:case py:return Math.ceil(t/4)*Math.ceil(e/4)*16;case iP:case hy:return Math.ceil(t/4)*Math.ceil(e/4)*8;case my:case vy:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Rle(t){switch(t){case Uo:case ZR:return{byteLength:1,components:1};case Nd:case JR:case bu:return{byteLength:2,components:1};case zS:case $S:return{byteLength:2,components:4};case Nr:case US:case po:return{byteLength:4,components:1};case eP:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:NS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=NS);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function wP(){let t=null,e=!1,n=null,s=null;function r(o,a){n(o,a),s=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(s=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Ple(t){const e=new WeakMap;function n(i,l){const c=i.array,u=i.usage,d=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),i.onUploadCallback();let p;if(c instanceof Float32Array)p=t.FLOAT;else if(c instanceof Uint16Array)i.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=t.SHORT;else if(c instanceof Uint32Array)p=t.UNSIGNED_INT;else if(c instanceof Int32Array)p=t.INT;else if(c instanceof Int8Array)p=t.BYTE;else if(c instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:i.version,size:d}}function s(i,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,i),d.length===0)t.bufferSubData(c,0,u);else{d.sort((p,v)=>p.start-v.start);let h=0;for(let p=1;p<d.length;p++){const v=d[h],m=d[p];m.start<=v.start+v.count+1?v.count=Math.max(v.count,m.start+m.count-v.start):(++h,d[h]=m)}d.length=h+1;for(let p=0,v=d.length;p<v;p++){const m=d[p];t.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(i){return i.isInterleavedBufferAttribute&&(i=i.data),e.get(i)}function o(i){i.isInterleavedBufferAttribute&&(i=i.data);const l=e.get(i);l&&(t.deleteBuffer(l.buffer),e.delete(i))}function a(i,l){if(i.isInterleavedBufferAttribute&&(i=i.data),i.isGLBufferAttribute){const u=e.get(i);(!u||u.version<i.version)&&e.set(i,{buffer:i.buffer,type:i.type,bytesPerElement:i.elementSize,version:i.version});return}const c=e.get(i);if(c===void 0)e.set(i,n(i,l));else if(c.version<i.version){if(c.size!==i.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(c.buffer,i,l),c.version=i.version}}return{get:r,remove:o,update:a}}var Dle=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,kle=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Lle=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Ole=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ble=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Fle=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Nle=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ule=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,zle=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,$le=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Hle=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Vle=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Wle=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Gle=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Kle=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jle=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,qle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Yle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Xle=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Qle=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Zle=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Jle=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,ece=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,tce=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,nce=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sce=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rce=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,oce=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ace=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,ice=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,lce="gl_FragColor = linearToOutputTexel( gl_FragColor );",cce=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,uce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,dce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,fce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,pce=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,hce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,mce=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,vce=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gce=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,yce=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,bce=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Sce=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_ce=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,wce=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Cce=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,xce=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Ace=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Ece=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Tce=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Mce=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ice=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Rce=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Pce=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Dce=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,kce=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Lce=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Oce=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Bce=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fce=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Nce=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Uce=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,zce=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$ce=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Hce=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Vce=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Wce=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Gce=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Kce=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,jce=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,qce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Yce=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Xce=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Qce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Zce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jce=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,eue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,tue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,nue=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,sue=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,rue=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,oue=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,aue=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,iue=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,lue=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,cue=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,uue=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,due=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,fue=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,pue=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,hue=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mue=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,vue=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,gue=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,yue=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,bue=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Sue=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_ue=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,wue=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Cue=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,xue=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Aue=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Eue=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Tue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Mue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Iue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Rue=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Pue=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Due=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Lue=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Oue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Bue=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fue=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Nue=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Uue=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,zue=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$ue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Hue=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Vue=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wue=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Gue=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Kue=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jue=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,que=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yue=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Xue=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Que=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Zue=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Jue=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ede=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tde=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,nde=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sde=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rde=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ode=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ade=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ide=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lde=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cde=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ude=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Xt={alphahash_fragment:Dle,alphahash_pars_fragment:kle,alphamap_fragment:Lle,alphamap_pars_fragment:Ole,alphatest_fragment:Ble,alphatest_pars_fragment:Fle,aomap_fragment:Nle,aomap_pars_fragment:Ule,batching_pars_vertex:zle,batching_vertex:$le,begin_vertex:Hle,beginnormal_vertex:Vle,bsdfs:Wle,iridescence_fragment:Gle,bumpmap_pars_fragment:Kle,clipping_planes_fragment:jle,clipping_planes_pars_fragment:qle,clipping_planes_pars_vertex:Yle,clipping_planes_vertex:Xle,color_fragment:Qle,color_pars_fragment:Zle,color_pars_vertex:Jle,color_vertex:ece,common:tce,cube_uv_reflection_fragment:nce,defaultnormal_vertex:sce,displacementmap_pars_vertex:rce,displacementmap_vertex:oce,emissivemap_fragment:ace,emissivemap_pars_fragment:ice,colorspace_fragment:lce,colorspace_pars_fragment:cce,envmap_fragment:uce,envmap_common_pars_fragment:dce,envmap_pars_fragment:fce,envmap_pars_vertex:pce,envmap_physical_pars_fragment:xce,envmap_vertex:hce,fog_vertex:mce,fog_pars_vertex:vce,fog_fragment:gce,fog_pars_fragment:yce,gradientmap_pars_fragment:bce,lightmap_pars_fragment:Sce,lights_lambert_fragment:_ce,lights_lambert_pars_fragment:wce,lights_pars_begin:Cce,lights_toon_fragment:Ace,lights_toon_pars_fragment:Ece,lights_phong_fragment:Tce,lights_phong_pars_fragment:Mce,lights_physical_fragment:Ice,lights_physical_pars_fragment:Rce,lights_fragment_begin:Pce,lights_fragment_maps:Dce,lights_fragment_end:kce,logdepthbuf_fragment:Lce,logdepthbuf_pars_fragment:Oce,logdepthbuf_pars_vertex:Bce,logdepthbuf_vertex:Fce,map_fragment:Nce,map_pars_fragment:Uce,map_particle_fragment:zce,map_particle_pars_fragment:$ce,metalnessmap_fragment:Hce,metalnessmap_pars_fragment:Vce,morphinstance_vertex:Wce,morphcolor_vertex:Gce,morphnormal_vertex:Kce,morphtarget_pars_vertex:jce,morphtarget_vertex:qce,normal_fragment_begin:Yce,normal_fragment_maps:Xce,normal_pars_fragment:Qce,normal_pars_vertex:Zce,normal_vertex:Jce,normalmap_pars_fragment:eue,clearcoat_normal_fragment_begin:tue,clearcoat_normal_fragment_maps:nue,clearcoat_pars_fragment:sue,iridescence_pars_fragment:rue,opaque_fragment:oue,packing:aue,premultiplied_alpha_fragment:iue,project_vertex:lue,dithering_fragment:cue,dithering_pars_fragment:uue,roughnessmap_fragment:due,roughnessmap_pars_fragment:fue,shadowmap_pars_fragment:pue,shadowmap_pars_vertex:hue,shadowmap_vertex:mue,shadowmask_pars_fragment:vue,skinbase_vertex:gue,skinning_pars_vertex:yue,skinning_vertex:bue,skinnormal_vertex:Sue,specularmap_fragment:_ue,specularmap_pars_fragment:wue,tonemapping_fragment:Cue,tonemapping_pars_fragment:xue,transmission_fragment:Aue,transmission_pars_fragment:Eue,uv_pars_fragment:Tue,uv_pars_vertex:Mue,uv_vertex:Iue,worldpos_vertex:Rue,background_vert:Pue,background_frag:Due,backgroundCube_vert:kue,backgroundCube_frag:Lue,cube_vert:Oue,cube_frag:Bue,depth_vert:Fue,depth_frag:Nue,distanceRGBA_vert:Uue,distanceRGBA_frag:zue,equirect_vert:$ue,equirect_frag:Hue,linedashed_vert:Vue,linedashed_frag:Wue,meshbasic_vert:Gue,meshbasic_frag:Kue,meshlambert_vert:jue,meshlambert_frag:que,meshmatcap_vert:Yue,meshmatcap_frag:Xue,meshnormal_vert:Que,meshnormal_frag:Zue,meshphong_vert:Jue,meshphong_frag:ede,meshphysical_vert:tde,meshphysical_frag:nde,meshtoon_vert:sde,meshtoon_frag:rde,points_vert:ode,points_frag:ade,shadow_vert:ide,shadow_frag:lde,sprite_vert:cde,sprite_frag:ude},At={common:{diffuse:{value:new gn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ht},alphaMap:{value:null},alphaMapTransform:{value:new Ht},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ht}},envmap:{envMap:{value:null},envMapRotation:{value:new Ht},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ht}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ht}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ht},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ht},normalScale:{value:new Lt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ht},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ht}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ht}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ht}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ht},alphaTest:{value:0},uvTransform:{value:new Ht}},sprite:{diffuse:{value:new gn(16777215)},opacity:{value:1},center:{value:new Lt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ht},alphaMap:{value:null},alphaMapTransform:{value:new Ht},alphaTest:{value:0}}},Co={basic:{uniforms:Us([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.fog]),vertexShader:Xt.meshbasic_vert,fragmentShader:Xt.meshbasic_frag},lambert:{uniforms:Us([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.fog,At.lights,{emissive:{value:new gn(0)}}]),vertexShader:Xt.meshlambert_vert,fragmentShader:Xt.meshlambert_frag},phong:{uniforms:Us([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.fog,At.lights,{emissive:{value:new gn(0)},specular:{value:new gn(1118481)},shininess:{value:30}}]),vertexShader:Xt.meshphong_vert,fragmentShader:Xt.meshphong_frag},standard:{uniforms:Us([At.common,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.roughnessmap,At.metalnessmap,At.fog,At.lights,{emissive:{value:new gn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag},toon:{uniforms:Us([At.common,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.gradientmap,At.fog,At.lights,{emissive:{value:new gn(0)}}]),vertexShader:Xt.meshtoon_vert,fragmentShader:Xt.meshtoon_frag},matcap:{uniforms:Us([At.common,At.bumpmap,At.normalmap,At.displacementmap,At.fog,{matcap:{value:null}}]),vertexShader:Xt.meshmatcap_vert,fragmentShader:Xt.meshmatcap_frag},points:{uniforms:Us([At.points,At.fog]),vertexShader:Xt.points_vert,fragmentShader:Xt.points_frag},dashed:{uniforms:Us([At.common,At.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xt.linedashed_vert,fragmentShader:Xt.linedashed_frag},depth:{uniforms:Us([At.common,At.displacementmap]),vertexShader:Xt.depth_vert,fragmentShader:Xt.depth_frag},normal:{uniforms:Us([At.common,At.bumpmap,At.normalmap,At.displacementmap,{opacity:{value:1}}]),vertexShader:Xt.meshnormal_vert,fragmentShader:Xt.meshnormal_frag},sprite:{uniforms:Us([At.sprite,At.fog]),vertexShader:Xt.sprite_vert,fragmentShader:Xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ht},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Xt.background_vert,fragmentShader:Xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ht}},vertexShader:Xt.backgroundCube_vert,fragmentShader:Xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Xt.cube_vert,fragmentShader:Xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xt.equirect_vert,fragmentShader:Xt.equirect_frag},distanceRGBA:{uniforms:Us([At.common,At.displacementmap,{referencePosition:{value:new Se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xt.distanceRGBA_vert,fragmentShader:Xt.distanceRGBA_frag},shadow:{uniforms:Us([At.lights,At.fog,{color:{value:new gn(0)},opacity:{value:1}}]),vertexShader:Xt.shadow_vert,fragmentShader:Xt.shadow_frag}};Co.physical={uniforms:Us([Co.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ht},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ht},clearcoatNormalScale:{value:new Lt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ht},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ht},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ht},sheen:{value:0},sheenColor:{value:new gn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ht},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ht},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ht},transmissionSamplerSize:{value:new Lt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ht},attenuationDistance:{value:0},attenuationColor:{value:new gn(0)},specularColor:{value:new gn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ht},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ht},anisotropyVector:{value:new Lt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ht}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag};const sp={r:0,b:0,g:0},ki=new va,dde=new Wt;function fde(t,e,n,s,r,o,a){const i=new gn(0);let l=o===!0?0:1,c,u,d=null,h=0,p=null;function v(b){let S=b.isScene===!0?b.background:null;return S&&S.isTexture&&(S=(b.backgroundBlurriness>0?n:e).get(S)),S}function m(b){let S=!1;const w=v(b);w===null?g(i,l):w&&w.isColor&&(g(w,1),S=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?s.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&s.buffers.color.setClear(0,0,0,0,a),(t.autoClear||S)&&(s.buffers.depth.setTest(!0),s.buffers.depth.setMask(!0),s.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(b,S){const w=v(S);w&&(w.isCubeTexture||w.mapping===Tm)?(u===void 0&&(u=new jn(new Su(1,1,1),new _r({name:"BackgroundCubeMaterial",uniforms:tu(Co.backgroundCube.uniforms),vertexShader:Co.backgroundCube.vertexShader,fragmentShader:Co.backgroundCube.fragmentShader,side:or,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,A,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),ki.copy(S.backgroundRotation),ki.x*=-1,ki.y*=-1,ki.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(ki.y*=-1,ki.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(dde.makeRotationFromEuler(ki)),u.material.toneMapped=vn.getTransfer(w.colorSpace)!==An,(d!==w||h!==w.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,d=w,h=w.version,p=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new jn(new nu(2,2),new _r({name:"BackgroundMaterial",uniforms:tu(Co.background.uniforms),vertexShader:Co.background.vertexShader,fragmentShader:Co.background.fragmentShader,side:No,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=vn.getTransfer(w.colorSpace)!==An,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||h!==w.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,d=w,h=w.version,p=t.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function g(b,S){b.getRGB(sp,yP(t)),s.buffers.color.setClear(sp.r,sp.g,sp.b,S,a)}function _(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return i},setClearColor:function(b,S=1){i.set(b),l=S,g(i,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,g(i,l)},render:m,addToRenderList:y,dispose:_}}function pde(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),s={},r=h(null);let o=r,a=!1;function i(E,M,I,k,U){let B=!1;const P=d(k,I,M);o!==P&&(o=P,c(o.object)),B=p(E,k,I,U),B&&v(E,k,I,U),U!==null&&e.update(U,t.ELEMENT_ARRAY_BUFFER),(B||a)&&(a=!1,S(E,M,I,k),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(U).buffer))}function l(){return t.createVertexArray()}function c(E){return t.bindVertexArray(E)}function u(E){return t.deleteVertexArray(E)}function d(E,M,I){const k=I.wireframe===!0;let U=s[E.id];U===void 0&&(U={},s[E.id]=U);let B=U[M.id];B===void 0&&(B={},U[M.id]=B);let P=B[k];return P===void 0&&(P=h(l()),B[k]=P),P}function h(E){const M=[],I=[],k=[];for(let U=0;U<n;U++)M[U]=0,I[U]=0,k[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:M,enabledAttributes:I,attributeDivisors:k,object:E,attributes:{},index:null}}function p(E,M,I,k){const U=o.attributes,B=M.attributes;let P=0;const N=I.getAttributes();for(const L in N)if(N[L].location>=0){const $=U[L];let W=B[L];if(W===void 0&&(L==="instanceMatrix"&&E.instanceMatrix&&(W=E.instanceMatrix),L==="instanceColor"&&E.instanceColor&&(W=E.instanceColor)),$===void 0||$.attribute!==W||W&&$.data!==W.data)return!0;P++}return o.attributesNum!==P||o.index!==k}function v(E,M,I,k){const U={},B=M.attributes;let P=0;const N=I.getAttributes();for(const L in N)if(N[L].location>=0){let $=B[L];$===void 0&&(L==="instanceMatrix"&&E.instanceMatrix&&($=E.instanceMatrix),L==="instanceColor"&&E.instanceColor&&($=E.instanceColor));const W={};W.attribute=$,$&&$.data&&(W.data=$.data),U[L]=W,P++}o.attributes=U,o.attributesNum=P,o.index=k}function m(){const E=o.newAttributes;for(let M=0,I=E.length;M<I;M++)E[M]=0}function y(E){g(E,0)}function g(E,M){const I=o.newAttributes,k=o.enabledAttributes,U=o.attributeDivisors;I[E]=1,k[E]===0&&(t.enableVertexAttribArray(E),k[E]=1),U[E]!==M&&(t.vertexAttribDivisor(E,M),U[E]=M)}function _(){const E=o.newAttributes,M=o.enabledAttributes;for(let I=0,k=M.length;I<k;I++)M[I]!==E[I]&&(t.disableVertexAttribArray(I),M[I]=0)}function b(E,M,I,k,U,B,P){P===!0?t.vertexAttribIPointer(E,M,I,U,B):t.vertexAttribPointer(E,M,I,k,U,B)}function S(E,M,I,k){m();const U=k.attributes,B=I.getAttributes(),P=M.defaultAttributeValues;for(const N in B){const L=B[N];if(L.location>=0){let O=U[N];if(O===void 0&&(N==="instanceMatrix"&&E.instanceMatrix&&(O=E.instanceMatrix),N==="instanceColor"&&E.instanceColor&&(O=E.instanceColor)),O!==void 0){const $=O.normalized,W=O.itemSize,ee=e.get(O);if(ee===void 0)continue;const Y=ee.buffer,Z=ee.type,ae=ee.bytesPerElement,ue=Z===t.INT||Z===t.UNSIGNED_INT||O.gpuType===US;if(O.isInterleavedBufferAttribute){const re=O.data,ge=re.stride,ye=O.offset;if(re.isInstancedInterleavedBuffer){for(let Fe=0;Fe<L.locationSize;Fe++)g(L.location+Fe,re.meshPerAttribute);E.isInstancedMesh!==!0&&k._maxInstanceCount===void 0&&(k._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let Fe=0;Fe<L.locationSize;Fe++)y(L.location+Fe);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let Fe=0;Fe<L.locationSize;Fe++)b(L.location+Fe,W/L.locationSize,Z,$,ge*ae,(ye+W/L.locationSize*Fe)*ae,ue)}else{if(O.isInstancedBufferAttribute){for(let re=0;re<L.locationSize;re++)g(L.location+re,O.meshPerAttribute);E.isInstancedMesh!==!0&&k._maxInstanceCount===void 0&&(k._maxInstanceCount=O.meshPerAttribute*O.count)}else for(let re=0;re<L.locationSize;re++)y(L.location+re);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let re=0;re<L.locationSize;re++)b(L.location+re,W/L.locationSize,Z,$,W*ae,W/L.locationSize*re*ae,ue)}}else if(P!==void 0){const $=P[N];if($!==void 0)switch($.length){case 2:t.vertexAttrib2fv(L.location,$);break;case 3:t.vertexAttrib3fv(L.location,$);break;case 4:t.vertexAttrib4fv(L.location,$);break;default:t.vertexAttrib1fv(L.location,$)}}}}_()}function w(){T();for(const E in s){const M=s[E];for(const I in M){const k=M[I];for(const U in k)u(k[U].object),delete k[U];delete M[I]}delete s[E]}}function C(E){if(s[E.id]===void 0)return;const M=s[E.id];for(const I in M){const k=M[I];for(const U in k)u(k[U].object),delete k[U];delete M[I]}delete s[E.id]}function A(E){for(const M in s){const I=s[M];if(I[E.id]===void 0)continue;const k=I[E.id];for(const U in k)u(k[U].object),delete k[U];delete I[E.id]}}function T(){x(),a=!0,o!==r&&(o=r,c(o.object))}function x(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:i,reset:T,resetDefaultState:x,dispose:w,releaseStatesOfGeometry:C,releaseStatesOfProgram:A,initAttributes:m,enableAttribute:y,disableUnusedAttributes:_}}function hde(t,e,n){let s;function r(c){s=c}function o(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function a(c,u,d){d!==0&&(t.drawArraysInstanced(s,c,u,d),n.update(u,s,d))}function i(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(s,c,0,u,0,d);let p=0;for(let v=0;v<d;v++)p+=u[v];n.update(p,s,1)}function l(c,u,d,h){if(d===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let v=0;v<c.length;v++)a(c[v],u[v],h[v]);else{p.multiDrawArraysInstancedWEBGL(s,c,0,u,0,h,0,d);let v=0;for(let m=0;m<d;m++)v+=u[m]*h[m];n.update(v,s,1)}}this.setMode=r,this.render=o,this.renderInstances=a,this.renderMultiDraw=i,this.renderMultiDrawInstances=l}function mde(t,e,n,s){let r;function o(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(A){return!(A!==Vs&&s.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function i(A){const T=A===bu&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==Uo&&s.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==po&&!T)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,h=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=v>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:i,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:h,maxTextures:p,maxVertexTextures:v,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:_,maxVaryings:b,maxFragmentUniforms:S,vertexTextures:w,maxSamples:C}}function vde(t){const e=this;let n=null,s=0,r=!1,o=!1;const a=new Va,i=new Ht,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const p=d.length!==0||h||s!==0||r;return r=h,s=d.length,p},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,h){n=u(d,h,0)},this.setState=function(d,h,p){const v=d.clippingPlanes,m=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!r||v===null||v.length===0||o&&!y)o?u(null):c();else{const _=o?0:s,b=_*4;let S=g.clippingState||null;l.value=S,S=u(v,h,b,p);for(let w=0;w!==b;++w)S[w]=n[w];g.clippingState=S,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function u(d,h,p,v){const m=d!==null?d.length:0;let y=null;if(m!==0){if(y=l.value,v!==!0||y===null){const g=p+m*4,_=h.matrixWorldInverse;i.getNormalMatrix(_),(y===null||y.length<g)&&(y=new Float32Array(g));for(let b=0,S=p;b!==m;++b,S+=4)a.copy(d[b]).applyMatrix4(_,i),a.normal.toArray(y,S),y[S+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function gde(t){let e=new WeakMap;function n(a,i){return i===$0?a.mapping=Xc:i===H0&&(a.mapping=Qc),a}function s(a){if(a&&a.isTexture){const i=a.mapping;if(i===$0||i===H0)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new _le(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",r),n(c.texture,a.mapping)}else return null}}return a}function r(a){const i=a.target;i.removeEventListener("dispose",r);const l=e.get(i);l!==void 0&&(e.delete(i),l.dispose())}function o(){e=new WeakMap}return{get:s,dispose:o}}const fc=4,kx=[.125,.215,.35,.446,.526,.582],Hi=20,Vv=new KS,Lx=new gn;let Wv=null,Gv=0,Kv=0,jv=!1;const Oi=(1+Math.sqrt(5))/2,Jl=1/Oi,Ox=[new Se(-Oi,Jl,0),new Se(Oi,Jl,0),new Se(-Jl,0,Oi),new Se(Jl,0,Oi),new Se(0,Oi,-Jl),new Se(0,Oi,Jl),new Se(-1,1,-1),new Se(1,1,-1),new Se(-1,1,1),new Se(1,1,1)];class Bx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,s=.1,r=100){Wv=this._renderer.getRenderTarget(),Gv=this._renderer.getActiveCubeFace(),Kv=this._renderer.getActiveMipmapLevel(),jv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,s,r,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Ux(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Nx(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Wv,Gv,Kv),this._renderer.xr.enabled=jv,e.scissorTest=!1,rp(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Xc||e.mapping===Qc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Wv=this._renderer.getRenderTarget(),Gv=this._renderer.getActiveCubeFace(),Kv=this._renderer.getActiveMipmapLevel(),jv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const s=n||this._allocateTargets();return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,s={magFilter:Mo,minFilter:Mo,generateMipmaps:!1,type:bu,format:Vs,colorSpace:eu,depthBuffer:!1},r=Fx(e,n,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Fx(e,n,s);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=yde(o)),this._blurMaterial=bde(o,e,n)}return r}_compileMaterial(e){const n=new jn(this._lodPlanes[0],e);this._renderer.compile(n,Vv)}_sceneToCubeUV(e,n,s,r){const i=new Lr(90,1,n,s),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(Lx),u.toneMapping=si,u.autoClear=!1;const p=new yl({name:"PMREM.Background",side:or,depthWrite:!1,depthTest:!1}),v=new jn(new Su,p);let m=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,m=!0):(p.color.copy(Lx),m=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(i.up.set(0,l[g],0),i.lookAt(c[g],0,0)):_===1?(i.up.set(0,0,l[g]),i.lookAt(0,c[g],0)):(i.up.set(0,l[g],0),i.lookAt(0,0,c[g]));const b=this._cubeSize;rp(r,_*b,g>2?b:0,b,b),u.setRenderTarget(r),m&&u.render(v,i),u.render(e,i)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const s=this._renderer,r=e.mapping===Xc||e.mapping===Qc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Ux()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Nx());const o=r?this._cubemapMaterial:this._equirectMaterial,a=new jn(this._lodPlanes[0],o),i=o.uniforms;i.envMap.value=e;const l=this._cubeSize;rp(n,0,0,3*l,2*l),s.setRenderTarget(n),s.render(a,Vv)}_applyPMREM(e){const n=this._renderer,s=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let o=1;o<r;o++){const a=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),i=Ox[(r-o-1)%Ox.length];this._blur(e,o-1,o,a,i)}n.autoClear=s}_blur(e,n,s,r,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,s,r,"latitudinal",o),this._halfBlur(a,e,s,s,r,"longitudinal",o)}_halfBlur(e,n,s,r,o,a,i){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new jn(this._lodPlanes[r],c),h=c.uniforms,p=this._sizeLods[s]-1,v=isFinite(o)?Math.PI/(2*p):2*Math.PI/(2*Hi-1),m=o/v,y=isFinite(o)?1+Math.floor(u*m):Hi;y>Hi&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Hi}`);const g=[];let _=0;for(let A=0;A<Hi;++A){const T=A/m,x=Math.exp(-T*T/2);g.push(x),A===0?_+=x:A<y&&(_+=2*x)}for(let A=0;A<g.length;A++)g[A]=g[A]/_;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=g,h.latitudinal.value=a==="latitudinal",i&&(h.poleAxis.value=i);const{_lodMax:b}=this;h.dTheta.value=v,h.mipInt.value=b-s;const S=this._sizeLods[r],w=3*S*(r>b-fc?r-b+fc:0),C=4*(this._cubeSize-S);rp(n,w,C,3*S,2*S),l.setRenderTarget(n),l.render(d,Vv)}}function yde(t){const e=[],n=[],s=[];let r=t;const o=t-fc+1+kx.length;for(let a=0;a<o;a++){const i=Math.pow(2,r);n.push(i);let l=1/i;a>t-fc?l=kx[a-t+fc-1]:a===0&&(l=0),s.push(l);const c=1/(i-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,v=6,m=3,y=2,g=1,_=new Float32Array(m*v*p),b=new Float32Array(y*v*p),S=new Float32Array(g*v*p);for(let C=0;C<p;C++){const A=C%3*2/3-1,T=C>2?0:-1,x=[A,T,0,A+2/3,T,0,A+2/3,T+1,0,A,T,0,A+2/3,T+1,0,A,T+1,0];_.set(x,m*v*C),b.set(h,y*v*C);const E=[C,C,C,C,C,C];S.set(E,g*v*C)}const w=new Qr;w.setAttribute("position",new $r(_,m)),w.setAttribute("uv",new $r(b,y)),w.setAttribute("faceIndex",new $r(S,g)),e.push(w),r>fc&&r--}return{lodPlanes:e,sizeLods:n,sigmas:s}}function Fx(t,e,n){const s=new vi(t,e,n);return s.texture.mapping=Tm,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function rp(t,e,n,s,r){t.viewport.set(e,n,s,r),t.scissor.set(e,n,s,r)}function bde(t,e,n){const s=new Float32Array(Hi),r=new Se(0,1,0);return new _r({name:"SphericalGaussianBlur",defines:{n:Hi,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ti,depthTest:!1,depthWrite:!1})}function Nx(){return new _r({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ti,depthTest:!1,depthWrite:!1})}function Ux(){return new _r({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ti,depthTest:!1,depthWrite:!1})}function jS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Sde(t){let e=new WeakMap,n=null;function s(i){if(i&&i.isTexture){const l=i.mapping,c=l===$0||l===H0,u=l===Xc||l===Qc;if(c||u){let d=e.get(i);const h=d!==void 0?d.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==h)return n===null&&(n=new Bx(t)),d=c?n.fromEquirectangular(i,d):n.fromCubemap(i,d),d.texture.pmremVersion=i.pmremVersion,e.set(i,d),d.texture;if(d!==void 0)return d.texture;{const p=i.image;return c&&p&&p.height>0||u&&p&&r(p)?(n===null&&(n=new Bx(t)),d=c?n.fromEquirectangular(i):n.fromCubemap(i),d.texture.pmremVersion=i.pmremVersion,e.set(i,d),i.addEventListener("dispose",o),d.texture):null}}}return i}function r(i){let l=0;const c=6;for(let u=0;u<c;u++)i[u]!==void 0&&l++;return l===c}function o(i){const l=i.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:s,dispose:a}}function _de(t){const e={};function n(s){if(e[s]!==void 0)return e[s];let r;switch(s){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(s)}return e[s]=r,r}return{has:function(s){return n(s)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(s){const r=n(s);return r===null&&ic("THREE.WebGLRenderer: "+s+" extension not supported."),r}}}function wde(t,e,n,s){const r={},o=new WeakMap;function a(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",a),delete r[h.id];const p=o.get(h);p&&(e.remove(p),o.delete(h)),s.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function i(d,h){return r[h.id]===!0||(h.addEventListener("dispose",a),r[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const p in h)e.update(h[p],t.ARRAY_BUFFER)}function c(d){const h=[],p=d.index,v=d.attributes.position;let m=0;if(p!==null){const _=p.array;m=p.version;for(let b=0,S=_.length;b<S;b+=3){const w=_[b+0],C=_[b+1],A=_[b+2];h.push(w,C,C,A,A,w)}}else if(v!==void 0){const _=v.array;m=v.version;for(let b=0,S=_.length/3-1;b<S;b+=3){const w=b+0,C=b+1,A=b+2;h.push(w,C,C,A,A,w)}}else return;const y=new(uP(h)?gP:vP)(h,1);y.version=m;const g=o.get(d);g&&e.remove(g),o.set(d,y)}function u(d){const h=o.get(d);if(h){const p=d.index;p!==null&&h.version<p.version&&c(d)}else c(d);return o.get(d)}return{get:i,update:l,getWireframeAttribute:u}}function Cde(t,e,n){let s;function r(h){s=h}let o,a;function i(h){o=h.type,a=h.bytesPerElement}function l(h,p){t.drawElements(s,p,o,h*a),n.update(p,s,1)}function c(h,p,v){v!==0&&(t.drawElementsInstanced(s,p,o,h*a,v),n.update(p,s,v))}function u(h,p,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(s,p,0,o,h,0,v);let y=0;for(let g=0;g<v;g++)y+=p[g];n.update(y,s,1)}function d(h,p,v,m){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<h.length;g++)c(h[g]/a,p[g],m[g]);else{y.multiDrawElementsInstancedWEBGL(s,p,0,o,h,0,m,0,v);let g=0;for(let _=0;_<v;_++)g+=p[_]*m[_];n.update(g,s,1)}}this.setMode=r,this.setIndex=i,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function xde(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function s(o,a,i){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=i*(o/3);break;case t.LINES:n.lines+=i*(o/2);break;case t.LINE_STRIP:n.lines+=i*(o-1);break;case t.LINE_LOOP:n.lines+=i*o;break;case t.POINTS:n.points+=i*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:s}}function Ade(t,e,n){const s=new WeakMap,r=new Fn;function o(a,i,l){const c=a.morphTargetInfluences,u=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,d=u!==void 0?u.length:0;let h=s.get(i);if(h===void 0||h.count!==d){let x=function(){A.dispose(),s.delete(i),i.removeEventListener("dispose",x)};h!==void 0&&h.texture.dispose();const p=i.morphAttributes.position!==void 0,v=i.morphAttributes.normal!==void 0,m=i.morphAttributes.color!==void 0,y=i.morphAttributes.position||[],g=i.morphAttributes.normal||[],_=i.morphAttributes.color||[];let b=0;p===!0&&(b=1),v===!0&&(b=2),m===!0&&(b=3);let S=i.attributes.position.count*b,w=1;S>e.maxTextureSize&&(w=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const C=new Float32Array(S*w*4*d),A=new fP(C,S,w,d);A.type=po,A.needsUpdate=!0;const T=b*4;for(let E=0;E<d;E++){const M=y[E],I=g[E],k=_[E],U=S*w*4*E;for(let B=0;B<M.count;B++){const P=B*T;p===!0&&(r.fromBufferAttribute(M,B),C[U+P+0]=r.x,C[U+P+1]=r.y,C[U+P+2]=r.z,C[U+P+3]=0),v===!0&&(r.fromBufferAttribute(I,B),C[U+P+4]=r.x,C[U+P+5]=r.y,C[U+P+6]=r.z,C[U+P+7]=0),m===!0&&(r.fromBufferAttribute(k,B),C[U+P+8]=r.x,C[U+P+9]=r.y,C[U+P+10]=r.z,C[U+P+11]=k.itemSize===4?r.w:1)}}h={count:d,texture:A,size:new Lt(S,w)},s.set(i,h),i.addEventListener("dispose",x)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let p=0;for(let m=0;m<c.length;m++)p+=c[m];const v=i.morphTargetsRelative?1:1-p;l.getUniforms().setValue(t,"morphTargetBaseInfluence",v),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:o}}function Ede(t,e,n,s){let r=new WeakMap;function o(l){const c=s.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",i)===!1&&l.addEventListener("dispose",i),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return d}function a(){r=new WeakMap}function i(l){const c=l.target;c.removeEventListener("dispose",i),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}const CP=new Gs,zx=new WS(1,1),xP=new fP,AP=new nle,EP=new SP,$x=[],Hx=[],Vx=new Float32Array(16),Wx=new Float32Array(9),Gx=new Float32Array(4);function _u(t,e,n){const s=t[0];if(s<=0||s>0)return t;const r=e*n;let o=$x[r];if(o===void 0&&(o=new Float32Array(r),$x[r]=o),e!==0){s.toArray(o,0);for(let a=1,i=0;a!==e;++a)i+=n,t[a].toArray(o,i)}return o}function ls(t,e){if(t.length!==e.length)return!1;for(let n=0,s=t.length;n<s;n++)if(t[n]!==e[n])return!1;return!0}function cs(t,e){for(let n=0,s=e.length;n<s;n++)t[n]=e[n]}function Rm(t,e){let n=Hx[e];n===void 0&&(n=new Int32Array(e),Hx[e]=n);for(let s=0;s!==e;++s)n[s]=t.allocateTextureUnit();return n}function Tde(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Mde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ls(n,e))return;t.uniform2fv(this.addr,e),cs(n,e)}}function Ide(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ls(n,e))return;t.uniform3fv(this.addr,e),cs(n,e)}}function Rde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ls(n,e))return;t.uniform4fv(this.addr,e),cs(n,e)}}function Pde(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(ls(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),cs(n,e)}else{if(ls(n,s))return;Gx.set(s),t.uniformMatrix2fv(this.addr,!1,Gx),cs(n,s)}}function Dde(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(ls(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),cs(n,e)}else{if(ls(n,s))return;Wx.set(s),t.uniformMatrix3fv(this.addr,!1,Wx),cs(n,s)}}function kde(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(ls(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),cs(n,e)}else{if(ls(n,s))return;Vx.set(s),t.uniformMatrix4fv(this.addr,!1,Vx),cs(n,s)}}function Lde(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Ode(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ls(n,e))return;t.uniform2iv(this.addr,e),cs(n,e)}}function Bde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ls(n,e))return;t.uniform3iv(this.addr,e),cs(n,e)}}function Fde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ls(n,e))return;t.uniform4iv(this.addr,e),cs(n,e)}}function Nde(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ude(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ls(n,e))return;t.uniform2uiv(this.addr,e),cs(n,e)}}function zde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ls(n,e))return;t.uniform3uiv(this.addr,e),cs(n,e)}}function $de(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ls(n,e))return;t.uniform4uiv(this.addr,e),cs(n,e)}}function Hde(t,e,n){const s=this.cache,r=n.allocateTextureUnit();s[0]!==r&&(t.uniform1i(this.addr,r),s[0]=r);let o;this.type===t.SAMPLER_2D_SHADOW?(zx.compareFunction=lP,o=zx):o=CP,n.setTexture2D(e||o,r)}function Vde(t,e,n){const s=this.cache,r=n.allocateTextureUnit();s[0]!==r&&(t.uniform1i(this.addr,r),s[0]=r),n.setTexture3D(e||AP,r)}function Wde(t,e,n){const s=this.cache,r=n.allocateTextureUnit();s[0]!==r&&(t.uniform1i(this.addr,r),s[0]=r),n.setTextureCube(e||EP,r)}function Gde(t,e,n){const s=this.cache,r=n.allocateTextureUnit();s[0]!==r&&(t.uniform1i(this.addr,r),s[0]=r),n.setTexture2DArray(e||xP,r)}function Kde(t){switch(t){case 5126:return Tde;case 35664:return Mde;case 35665:return Ide;case 35666:return Rde;case 35674:return Pde;case 35675:return Dde;case 35676:return kde;case 5124:case 35670:return Lde;case 35667:case 35671:return Ode;case 35668:case 35672:return Bde;case 35669:case 35673:return Fde;case 5125:return Nde;case 36294:return Ude;case 36295:return zde;case 36296:return $de;case 35678:case 36198:case 36298:case 36306:case 35682:return Hde;case 35679:case 36299:case 36307:return Vde;case 35680:case 36300:case 36308:case 36293:return Wde;case 36289:case 36303:case 36311:case 36292:return Gde}}function jde(t,e){t.uniform1fv(this.addr,e)}function qde(t,e){const n=_u(e,this.size,2);t.uniform2fv(this.addr,n)}function Yde(t,e){const n=_u(e,this.size,3);t.uniform3fv(this.addr,n)}function Xde(t,e){const n=_u(e,this.size,4);t.uniform4fv(this.addr,n)}function Qde(t,e){const n=_u(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Zde(t,e){const n=_u(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Jde(t,e){const n=_u(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function efe(t,e){t.uniform1iv(this.addr,e)}function tfe(t,e){t.uniform2iv(this.addr,e)}function nfe(t,e){t.uniform3iv(this.addr,e)}function sfe(t,e){t.uniform4iv(this.addr,e)}function rfe(t,e){t.uniform1uiv(this.addr,e)}function ofe(t,e){t.uniform2uiv(this.addr,e)}function afe(t,e){t.uniform3uiv(this.addr,e)}function ife(t,e){t.uniform4uiv(this.addr,e)}function lfe(t,e,n){const s=this.cache,r=e.length,o=Rm(n,r);ls(s,o)||(t.uniform1iv(this.addr,o),cs(s,o));for(let a=0;a!==r;++a)n.setTexture2D(e[a]||CP,o[a])}function cfe(t,e,n){const s=this.cache,r=e.length,o=Rm(n,r);ls(s,o)||(t.uniform1iv(this.addr,o),cs(s,o));for(let a=0;a!==r;++a)n.setTexture3D(e[a]||AP,o[a])}function ufe(t,e,n){const s=this.cache,r=e.length,o=Rm(n,r);ls(s,o)||(t.uniform1iv(this.addr,o),cs(s,o));for(let a=0;a!==r;++a)n.setTextureCube(e[a]||EP,o[a])}function dfe(t,e,n){const s=this.cache,r=e.length,o=Rm(n,r);ls(s,o)||(t.uniform1iv(this.addr,o),cs(s,o));for(let a=0;a!==r;++a)n.setTexture2DArray(e[a]||xP,o[a])}function ffe(t){switch(t){case 5126:return jde;case 35664:return qde;case 35665:return Yde;case 35666:return Xde;case 35674:return Qde;case 35675:return Zde;case 35676:return Jde;case 5124:case 35670:return efe;case 35667:case 35671:return tfe;case 35668:case 35672:return nfe;case 35669:case 35673:return sfe;case 5125:return rfe;case 36294:return ofe;case 36295:return afe;case 36296:return ife;case 35678:case 36198:case 36298:case 36306:case 35682:return lfe;case 35679:case 36299:case 36307:return cfe;case 35680:case 36300:case 36308:case 36293:return ufe;case 36289:case 36303:case 36311:case 36292:return dfe}}class pfe{constructor(e,n,s){this.id=e,this.addr=s,this.cache=[],this.type=n.type,this.setValue=Kde(n.type)}}class hfe{constructor(e,n,s){this.id=e,this.addr=s,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=ffe(n.type)}}class mfe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,s){const r=this.seq;for(let o=0,a=r.length;o!==a;++o){const i=r[o];i.setValue(e,n[i.id],s)}}}const qv=/(\w+)(\])?(\[|\.)?/g;function Kx(t,e){t.seq.push(e),t.map[e.id]=e}function vfe(t,e,n){const s=t.name,r=s.length;for(qv.lastIndex=0;;){const o=qv.exec(s),a=qv.lastIndex;let i=o[1];const l=o[2]==="]",c=o[3];if(l&&(i=i|0),c===void 0||c==="["&&a+2===r){Kx(n,c===void 0?new pfe(i,t,e):new hfe(i,t,e));break}else{let d=n.map[i];d===void 0&&(d=new mfe(i),Kx(n,d)),n=d}}}class Xp{constructor(e,n){this.seq=[],this.map={};const s=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<s;++r){const o=e.getActiveUniform(n,r),a=e.getUniformLocation(n,o.name);vfe(o,a,this)}}setValue(e,n,s,r){const o=this.map[n];o!==void 0&&o.setValue(e,s,r)}setOptional(e,n,s){const r=n[s];r!==void 0&&this.setValue(e,s,r)}static upload(e,n,s,r){for(let o=0,a=n.length;o!==a;++o){const i=n[o],l=s[i.id];l.needsUpdate!==!1&&i.setValue(e,l.value,r)}}static seqWithValue(e,n){const s=[];for(let r=0,o=e.length;r!==o;++r){const a=e[r];a.id in n&&s.push(a)}return s}}function jx(t,e,n){const s=t.createShader(e);return t.shaderSource(s,n),t.compileShader(s),s}const gfe=37297;let yfe=0;function bfe(t,e){const n=t.split(`
`),s=[],r=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=r;a<o;a++){const i=a+1;s.push(`${i===e?">":" "} ${i}: ${n[a]}`)}return s.join(`
`)}const qx=new Ht;function Sfe(t){vn._getMatrix(qx,vn.workingColorSpace,t);const e=`mat3( ${qx.elements.map(n=>n.toFixed(4))} )`;switch(vn.getTransfer(t)){case Ih:return[e,"LinearTransferOETF"];case An:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function Yx(t,e,n){const s=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(s&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+r+`

`+bfe(t.getShaderSource(e),a)}else return r}function _fe(t,e){const n=Sfe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function wfe(t,e){let n;switch(e){case Eie:n="Linear";break;case Tie:n="Reinhard";break;case Mie:n="Cineon";break;case Iie:n="ACESFilmic";break;case Pie:n="AgX";break;case Die:n="Neutral";break;case Rie:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const op=new Se;function Cfe(){vn.getLuminanceCoefficients(op);const t=op.x.toFixed(4),e=op.y.toFixed(4),n=op.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function xfe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($u).join(`
`)}function Afe(t){const e=[];for(const n in t){const s=t[n];s!==!1&&e.push("#define "+n+" "+s)}return e.join(`
`)}function Efe(t,e){const n={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<s;r++){const o=t.getActiveAttrib(e,r),a=o.name;let i=1;o.type===t.FLOAT_MAT2&&(i=2),o.type===t.FLOAT_MAT3&&(i=3),o.type===t.FLOAT_MAT4&&(i=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:i}}return n}function $u(t){return t!==""}function Xx(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Qx(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Tfe=/^[ \t]*#include +<([\w\d./]+)>/gm;function yy(t){return t.replace(Tfe,Ife)}const Mfe=new Map;function Ife(t,e){let n=Xt[e];if(n===void 0){const s=Mfe.get(e);if(s!==void 0)n=Xt[s],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,s);else throw new Error("Can not resolve #include <"+e+">")}return yy(n)}const Rfe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Zx(t){return t.replace(Rfe,Pfe)}function Pfe(t,e,n,s){let r="";for(let o=parseInt(e);o<parseInt(n);o++)r+=s.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function Jx(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Dfe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===qR?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===aie?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Zo&&(e="SHADOWMAP_TYPE_VSM"),e}function kfe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Xc:case Qc:e="ENVMAP_TYPE_CUBE";break;case Tm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Lfe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Qc:e="ENVMAP_MODE_REFRACTION";break}return e}function Ofe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case XR:e="ENVMAP_BLENDING_MULTIPLY";break;case xie:e="ENVMAP_BLENDING_MIX";break;case Aie:e="ENVMAP_BLENDING_ADD";break}return e}function Bfe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:s,maxMip:n}}function Ffe(t,e,n,s){const r=t.getContext(),o=n.defines;let a=n.vertexShader,i=n.fragmentShader;const l=Dfe(n),c=kfe(n),u=Lfe(n),d=Ofe(n),h=Bfe(n),p=xfe(n),v=Afe(o),m=r.createProgram();let y,g,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter($u).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter($u).join(`
`),g.length>0&&(g+=`
`)):(y=[Jx(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($u).join(`
`),g=[Jx(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==si?"#define TONE_MAPPING":"",n.toneMapping!==si?Xt.tonemapping_pars_fragment:"",n.toneMapping!==si?wfe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Xt.colorspace_pars_fragment,_fe("linearToOutputTexel",n.outputColorSpace),Cfe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter($u).join(`
`)),a=yy(a),a=Xx(a,n),a=Qx(a,n),i=yy(i),i=Xx(i,n),i=Qx(i,n),a=Zx(a),i=Zx(i),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===px?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===px?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=_+y+a,S=_+g+i,w=jx(r,r.VERTEX_SHADER,b),C=jx(r,r.FRAGMENT_SHADER,S);r.attachShader(m,w),r.attachShader(m,C),n.index0AttributeName!==void 0?r.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m);function A(M){if(t.debug.checkShaderErrors){const I=r.getProgramInfoLog(m).trim(),k=r.getShaderInfoLog(w).trim(),U=r.getShaderInfoLog(C).trim();let B=!0,P=!0;if(r.getProgramParameter(m,r.LINK_STATUS)===!1)if(B=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,m,w,C);else{const N=Yx(r,w,"vertex"),L=Yx(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+`

Material Name: `+M.name+`
Material Type: `+M.type+`

Program Info Log: `+I+`
`+N+`
`+L)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(k===""||U==="")&&(P=!1);P&&(M.diagnostics={runnable:B,programLog:I,vertexShader:{log:k,prefix:y},fragmentShader:{log:U,prefix:g}})}r.deleteShader(w),r.deleteShader(C),T=new Xp(r,m),x=Efe(r,m)}let T;this.getUniforms=function(){return T===void 0&&A(this),T};let x;this.getAttributes=function(){return x===void 0&&A(this),x};let E=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return E===!1&&(E=r.getProgramParameter(m,gfe)),E},this.destroy=function(){s.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=yfe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=C,this}let Nfe=0;class Ufe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,s=e.fragmentShader,r=this._getShaderStage(n),o=this._getShaderStage(s),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const s of n)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let s=n.get(e);return s===void 0&&(s=new Set,n.set(e,s)),s}_getShaderStage(e){const n=this.shaderCache;let s=n.get(e);return s===void 0&&(s=new zfe(e),n.set(e,s)),s}}class zfe{constructor(e){this.id=Nfe++,this.code=e,this.usedTimes=0}}function $fe(t,e,n,s,r,o,a){const i=new hP,l=new Ufe,c=new Set,u=[],d=r.logarithmicDepthBuffer,h=r.vertexTextures;let p=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(x){return c.add(x),x===0?"uv":`uv${x}`}function y(x,E,M,I,k){const U=I.fog,B=k.geometry,P=x.isMeshStandardMaterial?I.environment:null,N=(x.isMeshStandardMaterial?n:e).get(x.envMap||P),L=N&&N.mapping===Tm?N.image.height:null,O=v[x.type];x.precision!==null&&(p=r.getMaxPrecision(x.precision),p!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",p,"instead."));const $=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,W=$!==void 0?$.length:0;let ee=0;B.morphAttributes.position!==void 0&&(ee=1),B.morphAttributes.normal!==void 0&&(ee=2),B.morphAttributes.color!==void 0&&(ee=3);let Y,Z,ae,ue;if(O){const un=Co[O];Y=un.vertexShader,Z=un.fragmentShader}else Y=x.vertexShader,Z=x.fragmentShader,l.update(x),ae=l.getVertexShaderID(x),ue=l.getFragmentShaderID(x);const re=t.getRenderTarget(),ge=t.state.buffers.depth.getReversed(),ye=k.isInstancedMesh===!0,Fe=k.isBatchedMesh===!0,X=!!x.map,V=!!x.matcap,ce=!!N,Q=!!x.aoMap,Me=!!x.lightMap,Pe=!!x.bumpMap,Te=!!x.normalMap,ve=!!x.displacementMap,xe=!!x.emissiveMap,we=!!x.metalnessMap,J=!!x.roughnessMap,G=x.anisotropy>0,me=x.clearcoat>0,de=x.dispersion>0,Re=x.iridescence>0,ke=x.sheen>0,Je=x.transmission>0,je=G&&!!x.anisotropyMap,at=me&&!!x.clearcoatMap,gt=me&&!!x.clearcoatNormalMap,nt=me&&!!x.clearcoatRoughnessMap,q=Re&&!!x.iridescenceMap,Ae=Re&&!!x.iridescenceThicknessMap,oe=ke&&!!x.sheenColorMap,be=ke&&!!x.sheenRoughnessMap,ne=!!x.specularMap,ze=!!x.specularColorMap,ut=!!x.specularIntensityMap,Ce=Je&&!!x.transmissionMap,it=Je&&!!x.thicknessMap,Ve=!!x.gradientMap,Ge=!!x.alphaMap,dt=x.alphaTest>0,Ye=!!x.alphaHash,kt=!!x.extensions;let hn=si;x.toneMapped&&(re===null||re.isXRRenderTarget===!0)&&(hn=t.toneMapping);const Kn={shaderID:O,shaderType:x.type,shaderName:x.name,vertexShader:Y,fragmentShader:Z,defines:x.defines,customVertexShaderID:ae,customFragmentShaderID:ue,isRawShaderMaterial:x.isRawShaderMaterial===!0,glslVersion:x.glslVersion,precision:p,batching:Fe,batchingColor:Fe&&k._colorsTexture!==null,instancing:ye,instancingColor:ye&&k.instanceColor!==null,instancingMorph:ye&&k.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:re===null?t.outputColorSpace:re.isXRRenderTarget===!0?re.texture.colorSpace:eu,alphaToCoverage:!!x.alphaToCoverage,map:X,matcap:V,envMap:ce,envMapMode:ce&&N.mapping,envMapCubeUVHeight:L,aoMap:Q,lightMap:Me,bumpMap:Pe,normalMap:Te,displacementMap:h&&ve,emissiveMap:xe,normalMapObjectSpace:Te&&x.normalMapType===Fie,normalMapTangentSpace:Te&&x.normalMapType===Bie,metalnessMap:we,roughnessMap:J,anisotropy:G,anisotropyMap:je,clearcoat:me,clearcoatMap:at,clearcoatNormalMap:gt,clearcoatRoughnessMap:nt,dispersion:de,iridescence:Re,iridescenceMap:q,iridescenceThicknessMap:Ae,sheen:ke,sheenColorMap:oe,sheenRoughnessMap:be,specularMap:ne,specularColorMap:ze,specularIntensityMap:ut,transmission:Je,transmissionMap:Ce,thicknessMap:it,gradientMap:Ve,opaque:x.transparent===!1&&x.blending===ni&&x.alphaToCoverage===!1,alphaMap:Ge,alphaTest:dt,alphaHash:Ye,combine:x.combine,mapUv:X&&m(x.map.channel),aoMapUv:Q&&m(x.aoMap.channel),lightMapUv:Me&&m(x.lightMap.channel),bumpMapUv:Pe&&m(x.bumpMap.channel),normalMapUv:Te&&m(x.normalMap.channel),displacementMapUv:ve&&m(x.displacementMap.channel),emissiveMapUv:xe&&m(x.emissiveMap.channel),metalnessMapUv:we&&m(x.metalnessMap.channel),roughnessMapUv:J&&m(x.roughnessMap.channel),anisotropyMapUv:je&&m(x.anisotropyMap.channel),clearcoatMapUv:at&&m(x.clearcoatMap.channel),clearcoatNormalMapUv:gt&&m(x.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:nt&&m(x.clearcoatRoughnessMap.channel),iridescenceMapUv:q&&m(x.iridescenceMap.channel),iridescenceThicknessMapUv:Ae&&m(x.iridescenceThicknessMap.channel),sheenColorMapUv:oe&&m(x.sheenColorMap.channel),sheenRoughnessMapUv:be&&m(x.sheenRoughnessMap.channel),specularMapUv:ne&&m(x.specularMap.channel),specularColorMapUv:ze&&m(x.specularColorMap.channel),specularIntensityMapUv:ut&&m(x.specularIntensityMap.channel),transmissionMapUv:Ce&&m(x.transmissionMap.channel),thicknessMapUv:it&&m(x.thicknessMap.channel),alphaMapUv:Ge&&m(x.alphaMap.channel),vertexTangents:!!B.attributes.tangent&&(Te||G),vertexColors:x.vertexColors,vertexAlphas:x.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,pointsUvs:k.isPoints===!0&&!!B.attributes.uv&&(X||Ge),fog:!!U,useFog:x.fog===!0,fogExp2:!!U&&U.isFogExp2,flatShading:x.flatShading===!0,sizeAttenuation:x.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:ge,skinning:k.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:ee,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numLightProbes:E.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:x.dithering,shadowMapEnabled:t.shadowMap.enabled&&M.length>0,shadowMapType:t.shadowMap.type,toneMapping:hn,decodeVideoTexture:X&&x.map.isVideoTexture===!0&&vn.getTransfer(x.map.colorSpace)===An,decodeVideoTextureEmissive:xe&&x.emissiveMap.isVideoTexture===!0&&vn.getTransfer(x.emissiveMap.colorSpace)===An,premultipliedAlpha:x.premultipliedAlpha,doubleSided:x.side===Or,flipSided:x.side===or,useDepthPacking:x.depthPacking>=0,depthPacking:x.depthPacking||0,index0AttributeName:x.index0AttributeName,extensionClipCullDistance:kt&&x.extensions.clipCullDistance===!0&&s.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(kt&&x.extensions.multiDraw===!0||Fe)&&s.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:s.has("KHR_parallel_shader_compile"),customProgramCacheKey:x.customProgramCacheKey()};return Kn.vertexUv1s=c.has(1),Kn.vertexUv2s=c.has(2),Kn.vertexUv3s=c.has(3),c.clear(),Kn}function g(x){const E=[];if(x.shaderID?E.push(x.shaderID):(E.push(x.customVertexShaderID),E.push(x.customFragmentShaderID)),x.defines!==void 0)for(const M in x.defines)E.push(M),E.push(x.defines[M]);return x.isRawShaderMaterial===!1&&(_(E,x),b(E,x),E.push(t.outputColorSpace)),E.push(x.customProgramCacheKey),E.join()}function _(x,E){x.push(E.precision),x.push(E.outputColorSpace),x.push(E.envMapMode),x.push(E.envMapCubeUVHeight),x.push(E.mapUv),x.push(E.alphaMapUv),x.push(E.lightMapUv),x.push(E.aoMapUv),x.push(E.bumpMapUv),x.push(E.normalMapUv),x.push(E.displacementMapUv),x.push(E.emissiveMapUv),x.push(E.metalnessMapUv),x.push(E.roughnessMapUv),x.push(E.anisotropyMapUv),x.push(E.clearcoatMapUv),x.push(E.clearcoatNormalMapUv),x.push(E.clearcoatRoughnessMapUv),x.push(E.iridescenceMapUv),x.push(E.iridescenceThicknessMapUv),x.push(E.sheenColorMapUv),x.push(E.sheenRoughnessMapUv),x.push(E.specularMapUv),x.push(E.specularColorMapUv),x.push(E.specularIntensityMapUv),x.push(E.transmissionMapUv),x.push(E.thicknessMapUv),x.push(E.combine),x.push(E.fogExp2),x.push(E.sizeAttenuation),x.push(E.morphTargetsCount),x.push(E.morphAttributeCount),x.push(E.numDirLights),x.push(E.numPointLights),x.push(E.numSpotLights),x.push(E.numSpotLightMaps),x.push(E.numHemiLights),x.push(E.numRectAreaLights),x.push(E.numDirLightShadows),x.push(E.numPointLightShadows),x.push(E.numSpotLightShadows),x.push(E.numSpotLightShadowsWithMaps),x.push(E.numLightProbes),x.push(E.shadowMapType),x.push(E.toneMapping),x.push(E.numClippingPlanes),x.push(E.numClipIntersection),x.push(E.depthPacking)}function b(x,E){i.disableAll(),E.supportsVertexTextures&&i.enable(0),E.instancing&&i.enable(1),E.instancingColor&&i.enable(2),E.instancingMorph&&i.enable(3),E.matcap&&i.enable(4),E.envMap&&i.enable(5),E.normalMapObjectSpace&&i.enable(6),E.normalMapTangentSpace&&i.enable(7),E.clearcoat&&i.enable(8),E.iridescence&&i.enable(9),E.alphaTest&&i.enable(10),E.vertexColors&&i.enable(11),E.vertexAlphas&&i.enable(12),E.vertexUv1s&&i.enable(13),E.vertexUv2s&&i.enable(14),E.vertexUv3s&&i.enable(15),E.vertexTangents&&i.enable(16),E.anisotropy&&i.enable(17),E.alphaHash&&i.enable(18),E.batching&&i.enable(19),E.dispersion&&i.enable(20),E.batchingColor&&i.enable(21),x.push(i.mask),i.disableAll(),E.fog&&i.enable(0),E.useFog&&i.enable(1),E.flatShading&&i.enable(2),E.logarithmicDepthBuffer&&i.enable(3),E.reverseDepthBuffer&&i.enable(4),E.skinning&&i.enable(5),E.morphTargets&&i.enable(6),E.morphNormals&&i.enable(7),E.morphColors&&i.enable(8),E.premultipliedAlpha&&i.enable(9),E.shadowMapEnabled&&i.enable(10),E.doubleSided&&i.enable(11),E.flipSided&&i.enable(12),E.useDepthPacking&&i.enable(13),E.dithering&&i.enable(14),E.transmission&&i.enable(15),E.sheen&&i.enable(16),E.opaque&&i.enable(17),E.pointsUvs&&i.enable(18),E.decodeVideoTexture&&i.enable(19),E.decodeVideoTextureEmissive&&i.enable(20),E.alphaToCoverage&&i.enable(21),x.push(i.mask)}function S(x){const E=v[x.type];let M;if(E){const I=Co[E];M=gle.clone(I.uniforms)}else M=x.uniforms;return M}function w(x,E){let M;for(let I=0,k=u.length;I<k;I++){const U=u[I];if(U.cacheKey===E){M=U,++M.usedTimes;break}}return M===void 0&&(M=new Ffe(t,E,x,o),u.push(M)),M}function C(x){if(--x.usedTimes===0){const E=u.indexOf(x);u[E]=u[u.length-1],u.pop(),x.destroy()}}function A(x){l.remove(x)}function T(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:S,acquireProgram:w,releaseProgram:C,releaseShaderCache:A,programs:u,dispose:T}}function Hfe(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let i=t.get(a);return i===void 0&&(i={},t.set(a,i)),i}function s(a){t.delete(a)}function r(a,i,l){t.get(a)[i]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:s,update:r,dispose:o}}function Vfe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function eA(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function tA(){const t=[];let e=0;const n=[],s=[],r=[];function o(){e=0,n.length=0,s.length=0,r.length=0}function a(d,h,p,v,m,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:h,material:p,groupOrder:v,renderOrder:d.renderOrder,z:m,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=h,g.material=p,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=m,g.group=y),e++,g}function i(d,h,p,v,m,y){const g=a(d,h,p,v,m,y);p.transmission>0?s.push(g):p.transparent===!0?r.push(g):n.push(g)}function l(d,h,p,v,m,y){const g=a(d,h,p,v,m,y);p.transmission>0?s.unshift(g):p.transparent===!0?r.unshift(g):n.unshift(g)}function c(d,h){n.length>1&&n.sort(d||Vfe),s.length>1&&s.sort(h||eA),r.length>1&&r.sort(h||eA)}function u(){for(let d=e,h=t.length;d<h;d++){const p=t[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:s,transparent:r,init:o,push:i,unshift:l,finish:u,sort:c}}function Wfe(){let t=new WeakMap;function e(s,r){const o=t.get(s);let a;return o===void 0?(a=new tA,t.set(s,[a])):r>=o.length?(a=new tA,o.push(a)):a=o[r],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function Gfe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Se,color:new gn};break;case"SpotLight":n={position:new Se,direction:new Se,color:new gn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Se,color:new gn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Se,skyColor:new gn,groundColor:new gn};break;case"RectAreaLight":n={color:new gn,position:new Se,halfWidth:new Se,halfHeight:new Se};break}return t[e.id]=n,n}}}function Kfe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Lt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Lt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Lt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let jfe=0;function qfe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Yfe(t){const e=new Gfe,n=Kfe(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)s.probe.push(new Se);const r=new Se,o=new Wt,a=new Wt;function i(c){let u=0,d=0,h=0;for(let x=0;x<9;x++)s.probe[x].set(0,0,0);let p=0,v=0,m=0,y=0,g=0,_=0,b=0,S=0,w=0,C=0,A=0;c.sort(qfe);for(let x=0,E=c.length;x<E;x++){const M=c[x],I=M.color,k=M.intensity,U=M.distance,B=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)u+=I.r*k,d+=I.g*k,h+=I.b*k;else if(M.isLightProbe){for(let P=0;P<9;P++)s.probe[P].addScaledVector(M.sh.coefficients[P],k);A++}else if(M.isDirectionalLight){const P=e.get(M);if(P.color.copy(M.color).multiplyScalar(M.intensity),M.castShadow){const N=M.shadow,L=n.get(M);L.shadowIntensity=N.intensity,L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,s.directionalShadow[p]=L,s.directionalShadowMap[p]=B,s.directionalShadowMatrix[p]=M.shadow.matrix,_++}s.directional[p]=P,p++}else if(M.isSpotLight){const P=e.get(M);P.position.setFromMatrixPosition(M.matrixWorld),P.color.copy(I).multiplyScalar(k),P.distance=U,P.coneCos=Math.cos(M.angle),P.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),P.decay=M.decay,s.spot[m]=P;const N=M.shadow;if(M.map&&(s.spotLightMap[w]=M.map,w++,N.updateMatrices(M),M.castShadow&&C++),s.spotLightMatrix[m]=N.matrix,M.castShadow){const L=n.get(M);L.shadowIntensity=N.intensity,L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,s.spotShadow[m]=L,s.spotShadowMap[m]=B,S++}m++}else if(M.isRectAreaLight){const P=e.get(M);P.color.copy(I).multiplyScalar(k),P.halfWidth.set(M.width*.5,0,0),P.halfHeight.set(0,M.height*.5,0),s.rectArea[y]=P,y++}else if(M.isPointLight){const P=e.get(M);if(P.color.copy(M.color).multiplyScalar(M.intensity),P.distance=M.distance,P.decay=M.decay,M.castShadow){const N=M.shadow,L=n.get(M);L.shadowIntensity=N.intensity,L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,L.shadowCameraNear=N.camera.near,L.shadowCameraFar=N.camera.far,s.pointShadow[v]=L,s.pointShadowMap[v]=B,s.pointShadowMatrix[v]=M.shadow.matrix,b++}s.point[v]=P,v++}else if(M.isHemisphereLight){const P=e.get(M);P.skyColor.copy(M.color).multiplyScalar(k),P.groundColor.copy(M.groundColor).multiplyScalar(k),s.hemi[g]=P,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=At.LTC_FLOAT_1,s.rectAreaLTC2=At.LTC_FLOAT_2):(s.rectAreaLTC1=At.LTC_HALF_1,s.rectAreaLTC2=At.LTC_HALF_2)),s.ambient[0]=u,s.ambient[1]=d,s.ambient[2]=h;const T=s.hash;(T.directionalLength!==p||T.pointLength!==v||T.spotLength!==m||T.rectAreaLength!==y||T.hemiLength!==g||T.numDirectionalShadows!==_||T.numPointShadows!==b||T.numSpotShadows!==S||T.numSpotMaps!==w||T.numLightProbes!==A)&&(s.directional.length=p,s.spot.length=m,s.rectArea.length=y,s.point.length=v,s.hemi.length=g,s.directionalShadow.length=_,s.directionalShadowMap.length=_,s.pointShadow.length=b,s.pointShadowMap.length=b,s.spotShadow.length=S,s.spotShadowMap.length=S,s.directionalShadowMatrix.length=_,s.pointShadowMatrix.length=b,s.spotLightMatrix.length=S+w-C,s.spotLightMap.length=w,s.numSpotLightShadowsWithMaps=C,s.numLightProbes=A,T.directionalLength=p,T.pointLength=v,T.spotLength=m,T.rectAreaLength=y,T.hemiLength=g,T.numDirectionalShadows=_,T.numPointShadows=b,T.numSpotShadows=S,T.numSpotMaps=w,T.numLightProbes=A,s.version=jfe++)}function l(c,u){let d=0,h=0,p=0,v=0,m=0;const y=u.matrixWorldInverse;for(let g=0,_=c.length;g<_;g++){const b=c[g];if(b.isDirectionalLight){const S=s.directional[d];S.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(y),d++}else if(b.isSpotLight){const S=s.spot[p];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(y),S.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(y),p++}else if(b.isRectAreaLight){const S=s.rectArea[v];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(y),a.identity(),o.copy(b.matrixWorld),o.premultiply(y),a.extractRotation(o),S.halfWidth.set(b.width*.5,0,0),S.halfHeight.set(0,b.height*.5,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),v++}else if(b.isPointLight){const S=s.point[h];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(y),h++}else if(b.isHemisphereLight){const S=s.hemi[m];S.direction.setFromMatrixPosition(b.matrixWorld),S.direction.transformDirection(y),m++}}}return{setup:i,setupView:l,state:s}}function nA(t){const e=new Yfe(t),n=[],s=[];function r(u){c.camera=u,n.length=0,s.length=0}function o(u){n.push(u)}function a(u){s.push(u)}function i(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:s,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:i,setupLightsView:l,pushLight:o,pushShadow:a}}function Xfe(t){let e=new WeakMap;function n(r,o=0){const a=e.get(r);let i;return a===void 0?(i=new nA(t),e.set(r,[i])):o>=a.length?(i=new nA(t),a.push(i)):i=a[o],i}function s(){e=new WeakMap}return{get:n,dispose:s}}const Qfe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Zfe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Jfe(t,e,n){let s=new _P;const r=new Lt,o=new Lt,a=new Fn,i=new Ele({depthPacking:Oie}),l=new Tle,c={},u=n.maxTextureSize,d={[No]:or,[or]:No,[Or]:Or},h=new _r({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Lt},radius:{value:4}},vertexShader:Qfe,fragmentShader:Zfe}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const v=new Qr;v.setAttribute("position",new $r(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new jn(v,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qR;let g=this.type;this.render=function(C,A,T){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||C.length===0)return;const x=t.getRenderTarget(),E=t.getActiveCubeFace(),M=t.getActiveMipmapLevel(),I=t.state;I.setBlending(ti),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const k=g!==Zo&&this.type===Zo,U=g===Zo&&this.type!==Zo;for(let B=0,P=C.length;B<P;B++){const N=C[B],L=N.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;r.copy(L.mapSize);const O=L.getFrameExtents();if(r.multiply(O),o.copy(L.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(o.x=Math.floor(u/O.x),r.x=o.x*O.x,L.mapSize.x=o.x),r.y>u&&(o.y=Math.floor(u/O.y),r.y=o.y*O.y,L.mapSize.y=o.y)),L.map===null||k===!0||U===!0){const W=this.type!==Zo?{minFilter:br,magFilter:br}:{};L.map!==null&&L.map.dispose(),L.map=new vi(r.x,r.y,W),L.map.texture.name=N.name+".shadowMap",L.camera.updateProjectionMatrix()}t.setRenderTarget(L.map),t.clear();const $=L.getViewportCount();for(let W=0;W<$;W++){const ee=L.getViewport(W);a.set(o.x*ee.x,o.y*ee.y,o.x*ee.z,o.y*ee.w),I.viewport(a),L.updateMatrices(N,W),s=L.getFrustum(),S(A,T,L.camera,N,this.type)}L.isPointLightShadow!==!0&&this.type===Zo&&_(L,T),L.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(x,E,M)};function _(C,A){const T=e.update(m);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,p.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new vi(r.x,r.y)),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(A,null,T,h,m,null),p.uniforms.shadow_pass.value=C.mapPass.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(A,null,T,p,m,null)}function b(C,A,T,x){let E=null;const M=T.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(M!==void 0)E=M;else if(E=T.isPointLight===!0?l:i,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const I=E.uuid,k=A.uuid;let U=c[I];U===void 0&&(U={},c[I]=U);let B=U[k];B===void 0&&(B=E.clone(),U[k]=B,A.addEventListener("dispose",w)),E=B}if(E.visible=A.visible,E.wireframe=A.wireframe,x===Zo?E.side=A.shadowSide!==null?A.shadowSide:A.side:E.side=A.shadowSide!==null?A.shadowSide:d[A.side],E.alphaMap=A.alphaMap,E.alphaTest=A.alphaTest,E.map=A.map,E.clipShadows=A.clipShadows,E.clippingPlanes=A.clippingPlanes,E.clipIntersection=A.clipIntersection,E.displacementMap=A.displacementMap,E.displacementScale=A.displacementScale,E.displacementBias=A.displacementBias,E.wireframeLinewidth=A.wireframeLinewidth,E.linewidth=A.linewidth,T.isPointLight===!0&&E.isMeshDistanceMaterial===!0){const I=t.properties.get(E);I.light=T}return E}function S(C,A,T,x,E){if(C.visible===!1)return;if(C.layers.test(A.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&E===Zo)&&(!C.frustumCulled||s.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,C.matrixWorld);const k=e.update(C),U=C.material;if(Array.isArray(U)){const B=k.groups;for(let P=0,N=B.length;P<N;P++){const L=B[P],O=U[L.materialIndex];if(O&&O.visible){const $=b(C,O,x,E);C.onBeforeShadow(t,C,A,T,k,$,L),t.renderBufferDirect(T,null,k,$,C,L),C.onAfterShadow(t,C,A,T,k,$,L)}}}else if(U.visible){const B=b(C,U,x,E);C.onBeforeShadow(t,C,A,T,k,B,null),t.renderBufferDirect(T,null,k,B,C,null),C.onAfterShadow(t,C,A,T,k,B,null)}}const I=C.children;for(let k=0,U=I.length;k<U;k++)S(I[k],A,T,x,E)}function w(C){C.target.removeEventListener("dispose",w);for(const T in c){const x=c[T],E=C.target.uuid;E in x&&(x[E].dispose(),delete x[E])}}}const epe={[L0]:O0,[B0]:U0,[F0]:z0,[Yc]:N0,[O0]:L0,[U0]:B0,[z0]:F0,[N0]:Yc};function tpe(t,e){function n(){let Ce=!1;const it=new Fn;let Ve=null;const Ge=new Fn(0,0,0,0);return{setMask:function(dt){Ve!==dt&&!Ce&&(t.colorMask(dt,dt,dt,dt),Ve=dt)},setLocked:function(dt){Ce=dt},setClear:function(dt,Ye,kt,hn,Kn){Kn===!0&&(dt*=hn,Ye*=hn,kt*=hn),it.set(dt,Ye,kt,hn),Ge.equals(it)===!1&&(t.clearColor(dt,Ye,kt,hn),Ge.copy(it))},reset:function(){Ce=!1,Ve=null,Ge.set(-1,0,0,0)}}}function s(){let Ce=!1,it=!1,Ve=null,Ge=null,dt=null;return{setReversed:function(Ye){if(it!==Ye){const kt=e.get("EXT_clip_control");it?kt.clipControlEXT(kt.LOWER_LEFT_EXT,kt.ZERO_TO_ONE_EXT):kt.clipControlEXT(kt.LOWER_LEFT_EXT,kt.NEGATIVE_ONE_TO_ONE_EXT);const hn=dt;dt=null,this.setClear(hn)}it=Ye},getReversed:function(){return it},setTest:function(Ye){Ye?re(t.DEPTH_TEST):ge(t.DEPTH_TEST)},setMask:function(Ye){Ve!==Ye&&!Ce&&(t.depthMask(Ye),Ve=Ye)},setFunc:function(Ye){if(it&&(Ye=epe[Ye]),Ge!==Ye){switch(Ye){case L0:t.depthFunc(t.NEVER);break;case O0:t.depthFunc(t.ALWAYS);break;case B0:t.depthFunc(t.LESS);break;case Yc:t.depthFunc(t.LEQUAL);break;case F0:t.depthFunc(t.EQUAL);break;case N0:t.depthFunc(t.GEQUAL);break;case U0:t.depthFunc(t.GREATER);break;case z0:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ge=Ye}},setLocked:function(Ye){Ce=Ye},setClear:function(Ye){dt!==Ye&&(it&&(Ye=1-Ye),t.clearDepth(Ye),dt=Ye)},reset:function(){Ce=!1,Ve=null,Ge=null,dt=null,it=!1}}}function r(){let Ce=!1,it=null,Ve=null,Ge=null,dt=null,Ye=null,kt=null,hn=null,Kn=null;return{setTest:function(un){Ce||(un?re(t.STENCIL_TEST):ge(t.STENCIL_TEST))},setMask:function(un){it!==un&&!Ce&&(t.stencilMask(un),it=un)},setFunc:function(un,vs,gs){(Ve!==un||Ge!==vs||dt!==gs)&&(t.stencilFunc(un,vs,gs),Ve=un,Ge=vs,dt=gs)},setOp:function(un,vs,gs){(Ye!==un||kt!==vs||hn!==gs)&&(t.stencilOp(un,vs,gs),Ye=un,kt=vs,hn=gs)},setLocked:function(un){Ce=un},setClear:function(un){Kn!==un&&(t.clearStencil(un),Kn=un)},reset:function(){Ce=!1,it=null,Ve=null,Ge=null,dt=null,Ye=null,kt=null,hn=null,Kn=null}}}const o=new n,a=new s,i=new r,l=new WeakMap,c=new WeakMap;let u={},d={},h=new WeakMap,p=[],v=null,m=!1,y=null,g=null,_=null,b=null,S=null,w=null,C=null,A=new gn(0,0,0),T=0,x=!1,E=null,M=null,I=null,k=null,U=null;const B=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let P=!1,N=0;const L=t.getParameter(t.VERSION);L.indexOf("WebGL")!==-1?(N=parseFloat(/^WebGL (\d)/.exec(L)[1]),P=N>=1):L.indexOf("OpenGL ES")!==-1&&(N=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),P=N>=2);let O=null,$={};const W=t.getParameter(t.SCISSOR_BOX),ee=t.getParameter(t.VIEWPORT),Y=new Fn().fromArray(W),Z=new Fn().fromArray(ee);function ae(Ce,it,Ve,Ge){const dt=new Uint8Array(4),Ye=t.createTexture();t.bindTexture(Ce,Ye),t.texParameteri(Ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let kt=0;kt<Ve;kt++)Ce===t.TEXTURE_3D||Ce===t.TEXTURE_2D_ARRAY?t.texImage3D(it,0,t.RGBA,1,1,Ge,0,t.RGBA,t.UNSIGNED_BYTE,dt):t.texImage2D(it+kt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,dt);return Ye}const ue={};ue[t.TEXTURE_2D]=ae(t.TEXTURE_2D,t.TEXTURE_2D,1),ue[t.TEXTURE_CUBE_MAP]=ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ue[t.TEXTURE_2D_ARRAY]=ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ue[t.TEXTURE_3D]=ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),i.setClear(0),re(t.DEPTH_TEST),a.setFunc(Yc),Pe(!1),Te(ix),re(t.CULL_FACE),Q(ti);function re(Ce){u[Ce]!==!0&&(t.enable(Ce),u[Ce]=!0)}function ge(Ce){u[Ce]!==!1&&(t.disable(Ce),u[Ce]=!1)}function ye(Ce,it){return d[Ce]!==it?(t.bindFramebuffer(Ce,it),d[Ce]=it,Ce===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=it),Ce===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=it),!0):!1}function Fe(Ce,it){let Ve=p,Ge=!1;if(Ce){Ve=h.get(it),Ve===void 0&&(Ve=[],h.set(it,Ve));const dt=Ce.textures;if(Ve.length!==dt.length||Ve[0]!==t.COLOR_ATTACHMENT0){for(let Ye=0,kt=dt.length;Ye<kt;Ye++)Ve[Ye]=t.COLOR_ATTACHMENT0+Ye;Ve.length=dt.length,Ge=!0}}else Ve[0]!==t.BACK&&(Ve[0]=t.BACK,Ge=!0);Ge&&t.drawBuffers(Ve)}function X(Ce){return v!==Ce?(t.useProgram(Ce),v=Ce,!0):!1}const V={[$i]:t.FUNC_ADD,[iie]:t.FUNC_SUBTRACT,[lie]:t.FUNC_REVERSE_SUBTRACT};V[cie]=t.MIN,V[uie]=t.MAX;const ce={[die]:t.ZERO,[fie]:t.ONE,[pie]:t.SRC_COLOR,[Bd]:t.SRC_ALPHA,[bie]:t.SRC_ALPHA_SATURATE,[gie]:t.DST_COLOR,[mie]:t.DST_ALPHA,[hie]:t.ONE_MINUS_SRC_COLOR,[Fd]:t.ONE_MINUS_SRC_ALPHA,[yie]:t.ONE_MINUS_DST_COLOR,[vie]:t.ONE_MINUS_DST_ALPHA,[Sie]:t.CONSTANT_COLOR,[_ie]:t.ONE_MINUS_CONSTANT_COLOR,[wie]:t.CONSTANT_ALPHA,[Cie]:t.ONE_MINUS_CONSTANT_ALPHA};function Q(Ce,it,Ve,Ge,dt,Ye,kt,hn,Kn,un){if(Ce===ti){m===!0&&(ge(t.BLEND),m=!1);return}if(m===!1&&(re(t.BLEND),m=!0),Ce!==YR){if(Ce!==y||un!==x){if((g!==$i||S!==$i)&&(t.blendEquation(t.FUNC_ADD),g=$i,S=$i),un)switch(Ce){case ni:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case lx:t.blendFunc(t.ONE,t.ONE);break;case cx:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ux:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ce);break}else switch(Ce){case ni:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case lx:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case cx:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ux:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ce);break}_=null,b=null,w=null,C=null,A.set(0,0,0),T=0,y=Ce,x=un}return}dt=dt||it,Ye=Ye||Ve,kt=kt||Ge,(it!==g||dt!==S)&&(t.blendEquationSeparate(V[it],V[dt]),g=it,S=dt),(Ve!==_||Ge!==b||Ye!==w||kt!==C)&&(t.blendFuncSeparate(ce[Ve],ce[Ge],ce[Ye],ce[kt]),_=Ve,b=Ge,w=Ye,C=kt),(hn.equals(A)===!1||Kn!==T)&&(t.blendColor(hn.r,hn.g,hn.b,Kn),A.copy(hn),T=Kn),y=Ce,x=!1}function Me(Ce,it){Ce.side===Or?ge(t.CULL_FACE):re(t.CULL_FACE);let Ve=Ce.side===or;it&&(Ve=!Ve),Pe(Ve),Ce.blending===ni&&Ce.transparent===!1?Q(ti):Q(Ce.blending,Ce.blendEquation,Ce.blendSrc,Ce.blendDst,Ce.blendEquationAlpha,Ce.blendSrcAlpha,Ce.blendDstAlpha,Ce.blendColor,Ce.blendAlpha,Ce.premultipliedAlpha),a.setFunc(Ce.depthFunc),a.setTest(Ce.depthTest),a.setMask(Ce.depthWrite),o.setMask(Ce.colorWrite);const Ge=Ce.stencilWrite;i.setTest(Ge),Ge&&(i.setMask(Ce.stencilWriteMask),i.setFunc(Ce.stencilFunc,Ce.stencilRef,Ce.stencilFuncMask),i.setOp(Ce.stencilFail,Ce.stencilZFail,Ce.stencilZPass)),xe(Ce.polygonOffset,Ce.polygonOffsetFactor,Ce.polygonOffsetUnits),Ce.alphaToCoverage===!0?re(t.SAMPLE_ALPHA_TO_COVERAGE):ge(t.SAMPLE_ALPHA_TO_COVERAGE)}function Pe(Ce){E!==Ce&&(Ce?t.frontFace(t.CW):t.frontFace(t.CCW),E=Ce)}function Te(Ce){Ce!==rie?(re(t.CULL_FACE),Ce!==M&&(Ce===ix?t.cullFace(t.BACK):Ce===oie?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ge(t.CULL_FACE),M=Ce}function ve(Ce){Ce!==I&&(P&&t.lineWidth(Ce),I=Ce)}function xe(Ce,it,Ve){Ce?(re(t.POLYGON_OFFSET_FILL),(k!==it||U!==Ve)&&(t.polygonOffset(it,Ve),k=it,U=Ve)):ge(t.POLYGON_OFFSET_FILL)}function we(Ce){Ce?re(t.SCISSOR_TEST):ge(t.SCISSOR_TEST)}function J(Ce){Ce===void 0&&(Ce=t.TEXTURE0+B-1),O!==Ce&&(t.activeTexture(Ce),O=Ce)}function G(Ce,it,Ve){Ve===void 0&&(O===null?Ve=t.TEXTURE0+B-1:Ve=O);let Ge=$[Ve];Ge===void 0&&(Ge={type:void 0,texture:void 0},$[Ve]=Ge),(Ge.type!==Ce||Ge.texture!==it)&&(O!==Ve&&(t.activeTexture(Ve),O=Ve),t.bindTexture(Ce,it||ue[Ce]),Ge.type=Ce,Ge.texture=it)}function me(){const Ce=$[O];Ce!==void 0&&Ce.type!==void 0&&(t.bindTexture(Ce.type,null),Ce.type=void 0,Ce.texture=void 0)}function de(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Re(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function ke(){try{t.texSubImage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Je(){try{t.texSubImage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function je(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function at(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function gt(){try{t.texStorage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function nt(){try{t.texStorage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function q(){try{t.texImage2D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function Ae(){try{t.texImage3D.apply(t,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}}function oe(Ce){Y.equals(Ce)===!1&&(t.scissor(Ce.x,Ce.y,Ce.z,Ce.w),Y.copy(Ce))}function be(Ce){Z.equals(Ce)===!1&&(t.viewport(Ce.x,Ce.y,Ce.z,Ce.w),Z.copy(Ce))}function ne(Ce,it){let Ve=c.get(it);Ve===void 0&&(Ve=new WeakMap,c.set(it,Ve));let Ge=Ve.get(Ce);Ge===void 0&&(Ge=t.getUniformBlockIndex(it,Ce.name),Ve.set(Ce,Ge))}function ze(Ce,it){const Ge=c.get(it).get(Ce);l.get(it)!==Ge&&(t.uniformBlockBinding(it,Ge,Ce.__bindingPointIndex),l.set(it,Ge))}function ut(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},O=null,$={},d={},h=new WeakMap,p=[],v=null,m=!1,y=null,g=null,_=null,b=null,S=null,w=null,C=null,A=new gn(0,0,0),T=0,x=!1,E=null,M=null,I=null,k=null,U=null,Y.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),i.reset()}return{buffers:{color:o,depth:a,stencil:i},enable:re,disable:ge,bindFramebuffer:ye,drawBuffers:Fe,useProgram:X,setBlending:Q,setMaterial:Me,setFlipSided:Pe,setCullFace:Te,setLineWidth:ve,setPolygonOffset:xe,setScissorTest:we,activeTexture:J,bindTexture:G,unbindTexture:me,compressedTexImage2D:de,compressedTexImage3D:Re,texImage2D:q,texImage3D:Ae,updateUBOMapping:ne,uniformBlockBinding:ze,texStorage2D:gt,texStorage3D:nt,texSubImage2D:ke,texSubImage3D:Je,compressedTexSubImage2D:je,compressedTexSubImage3D:at,scissor:oe,viewport:be,reset:ut}}function npe(t,e,n,s,r,o,a){const i=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Lt,u=new WeakMap;let d;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(J,G){return p?new OffscreenCanvas(J,G):Ph("canvas")}function m(J,G,me){let de=1;const Re=we(J);if((Re.width>me||Re.height>me)&&(de=me/Math.max(Re.width,Re.height)),de<1)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap||typeof VideoFrame<"u"&&J instanceof VideoFrame){const ke=Math.floor(de*Re.width),Je=Math.floor(de*Re.height);d===void 0&&(d=v(ke,Je));const je=G?v(ke,Je):d;return je.width=ke,je.height=Je,je.getContext("2d").drawImage(J,0,0,ke,Je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Re.width+"x"+Re.height+") to ("+ke+"x"+Je+")."),je}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Re.width+"x"+Re.height+")."),J;return J}function y(J){return J.generateMipmaps}function g(J){t.generateMipmap(J)}function _(J){return J.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:J.isWebGL3DRenderTarget?t.TEXTURE_3D:J.isWebGLArrayRenderTarget||J.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(J,G,me,de,Re=!1){if(J!==null){if(t[J]!==void 0)return t[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let ke=G;if(G===t.RED&&(me===t.FLOAT&&(ke=t.R32F),me===t.HALF_FLOAT&&(ke=t.R16F),me===t.UNSIGNED_BYTE&&(ke=t.R8)),G===t.RED_INTEGER&&(me===t.UNSIGNED_BYTE&&(ke=t.R8UI),me===t.UNSIGNED_SHORT&&(ke=t.R16UI),me===t.UNSIGNED_INT&&(ke=t.R32UI),me===t.BYTE&&(ke=t.R8I),me===t.SHORT&&(ke=t.R16I),me===t.INT&&(ke=t.R32I)),G===t.RG&&(me===t.FLOAT&&(ke=t.RG32F),me===t.HALF_FLOAT&&(ke=t.RG16F),me===t.UNSIGNED_BYTE&&(ke=t.RG8)),G===t.RG_INTEGER&&(me===t.UNSIGNED_BYTE&&(ke=t.RG8UI),me===t.UNSIGNED_SHORT&&(ke=t.RG16UI),me===t.UNSIGNED_INT&&(ke=t.RG32UI),me===t.BYTE&&(ke=t.RG8I),me===t.SHORT&&(ke=t.RG16I),me===t.INT&&(ke=t.RG32I)),G===t.RGB_INTEGER&&(me===t.UNSIGNED_BYTE&&(ke=t.RGB8UI),me===t.UNSIGNED_SHORT&&(ke=t.RGB16UI),me===t.UNSIGNED_INT&&(ke=t.RGB32UI),me===t.BYTE&&(ke=t.RGB8I),me===t.SHORT&&(ke=t.RGB16I),me===t.INT&&(ke=t.RGB32I)),G===t.RGBA_INTEGER&&(me===t.UNSIGNED_BYTE&&(ke=t.RGBA8UI),me===t.UNSIGNED_SHORT&&(ke=t.RGBA16UI),me===t.UNSIGNED_INT&&(ke=t.RGBA32UI),me===t.BYTE&&(ke=t.RGBA8I),me===t.SHORT&&(ke=t.RGBA16I),me===t.INT&&(ke=t.RGBA32I)),G===t.RGB&&me===t.UNSIGNED_INT_5_9_9_9_REV&&(ke=t.RGB9_E5),G===t.RGBA){const Je=Re?Ih:vn.getTransfer(de);me===t.FLOAT&&(ke=t.RGBA32F),me===t.HALF_FLOAT&&(ke=t.RGBA16F),me===t.UNSIGNED_BYTE&&(ke=Je===An?t.SRGB8_ALPHA8:t.RGBA8),me===t.UNSIGNED_SHORT_4_4_4_4&&(ke=t.RGBA4),me===t.UNSIGNED_SHORT_5_5_5_1&&(ke=t.RGB5_A1)}return(ke===t.R16F||ke===t.R32F||ke===t.RG16F||ke===t.RG32F||ke===t.RGBA16F||ke===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ke}function S(J,G){let me;return J?G===null||G===Nr||G===Zc?me=t.DEPTH24_STENCIL8:G===po?me=t.DEPTH32F_STENCIL8:G===Nd&&(me=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===Nr||G===Zc?me=t.DEPTH_COMPONENT24:G===po?me=t.DEPTH_COMPONENT32F:G===Nd&&(me=t.DEPTH_COMPONENT16),me}function w(J,G){return y(J)===!0||J.isFramebufferTexture&&J.minFilter!==br&&J.minFilter!==Mo?Math.log2(Math.max(G.width,G.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?G.mipmaps.length:1}function C(J){const G=J.target;G.removeEventListener("dispose",C),T(G),G.isVideoTexture&&u.delete(G)}function A(J){const G=J.target;G.removeEventListener("dispose",A),E(G)}function T(J){const G=s.get(J);if(G.__webglInit===void 0)return;const me=J.source,de=h.get(me);if(de){const Re=de[G.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&x(J),Object.keys(de).length===0&&h.delete(me)}s.remove(J)}function x(J){const G=s.get(J);t.deleteTexture(G.__webglTexture);const me=J.source,de=h.get(me);delete de[G.__cacheKey],a.memory.textures--}function E(J){const G=s.get(J);if(J.depthTexture&&(J.depthTexture.dispose(),s.remove(J.depthTexture)),J.isWebGLCubeRenderTarget)for(let de=0;de<6;de++){if(Array.isArray(G.__webglFramebuffer[de]))for(let Re=0;Re<G.__webglFramebuffer[de].length;Re++)t.deleteFramebuffer(G.__webglFramebuffer[de][Re]);else t.deleteFramebuffer(G.__webglFramebuffer[de]);G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer[de])}else{if(Array.isArray(G.__webglFramebuffer))for(let de=0;de<G.__webglFramebuffer.length;de++)t.deleteFramebuffer(G.__webglFramebuffer[de]);else t.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&t.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let de=0;de<G.__webglColorRenderbuffer.length;de++)G.__webglColorRenderbuffer[de]&&t.deleteRenderbuffer(G.__webglColorRenderbuffer[de]);G.__webglDepthRenderbuffer&&t.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const me=J.textures;for(let de=0,Re=me.length;de<Re;de++){const ke=s.get(me[de]);ke.__webglTexture&&(t.deleteTexture(ke.__webglTexture),a.memory.textures--),s.remove(me[de])}s.remove(J)}let M=0;function I(){M=0}function k(){const J=M;return J>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+r.maxTextures),M+=1,J}function U(J){const G=[];return G.push(J.wrapS),G.push(J.wrapT),G.push(J.wrapR||0),G.push(J.magFilter),G.push(J.minFilter),G.push(J.anisotropy),G.push(J.internalFormat),G.push(J.format),G.push(J.type),G.push(J.generateMipmaps),G.push(J.premultiplyAlpha),G.push(J.flipY),G.push(J.unpackAlignment),G.push(J.colorSpace),G.join()}function B(J,G){const me=s.get(J);if(J.isVideoTexture&&ve(J),J.isRenderTargetTexture===!1&&J.version>0&&me.__version!==J.version){const de=J.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(me,J,G);return}}n.bindTexture(t.TEXTURE_2D,me.__webglTexture,t.TEXTURE0+G)}function P(J,G){const me=s.get(J);if(J.version>0&&me.__version!==J.version){Z(me,J,G);return}n.bindTexture(t.TEXTURE_2D_ARRAY,me.__webglTexture,t.TEXTURE0+G)}function N(J,G){const me=s.get(J);if(J.version>0&&me.__version!==J.version){Z(me,J,G);return}n.bindTexture(t.TEXTURE_3D,me.__webglTexture,t.TEXTURE0+G)}function L(J,G){const me=s.get(J);if(J.version>0&&me.__version!==J.version){ae(me,J,G);return}n.bindTexture(t.TEXTURE_CUBE_MAP,me.__webglTexture,t.TEXTURE0+G)}const O={[V0]:t.REPEAT,[Zi]:t.CLAMP_TO_EDGE,[W0]:t.MIRRORED_REPEAT},$={[br]:t.NEAREST,[kie]:t.NEAREST_MIPMAP_NEAREST,[Nf]:t.NEAREST_MIPMAP_LINEAR,[Mo]:t.LINEAR,[_v]:t.LINEAR_MIPMAP_NEAREST,[Ji]:t.LINEAR_MIPMAP_LINEAR},W={[Nie]:t.NEVER,[Wie]:t.ALWAYS,[Uie]:t.LESS,[lP]:t.LEQUAL,[zie]:t.EQUAL,[Vie]:t.GEQUAL,[$ie]:t.GREATER,[Hie]:t.NOTEQUAL};function ee(J,G){if(G.type===po&&e.has("OES_texture_float_linear")===!1&&(G.magFilter===Mo||G.magFilter===_v||G.magFilter===Nf||G.magFilter===Ji||G.minFilter===Mo||G.minFilter===_v||G.minFilter===Nf||G.minFilter===Ji)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(J,t.TEXTURE_WRAP_S,O[G.wrapS]),t.texParameteri(J,t.TEXTURE_WRAP_T,O[G.wrapT]),(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)&&t.texParameteri(J,t.TEXTURE_WRAP_R,O[G.wrapR]),t.texParameteri(J,t.TEXTURE_MAG_FILTER,$[G.magFilter]),t.texParameteri(J,t.TEXTURE_MIN_FILTER,$[G.minFilter]),G.compareFunction&&(t.texParameteri(J,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(J,t.TEXTURE_COMPARE_FUNC,W[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===br||G.minFilter!==Nf&&G.minFilter!==Ji||G.type===po&&e.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||s.get(G).__currentAnisotropy){const me=e.get("EXT_texture_filter_anisotropic");t.texParameterf(J,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,r.getMaxAnisotropy())),s.get(G).__currentAnisotropy=G.anisotropy}}}function Y(J,G){let me=!1;J.__webglInit===void 0&&(J.__webglInit=!0,G.addEventListener("dispose",C));const de=G.source;let Re=h.get(de);Re===void 0&&(Re={},h.set(de,Re));const ke=U(G);if(ke!==J.__cacheKey){Re[ke]===void 0&&(Re[ke]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,me=!0),Re[ke].usedTimes++;const Je=Re[J.__cacheKey];Je!==void 0&&(Re[J.__cacheKey].usedTimes--,Je.usedTimes===0&&x(G)),J.__cacheKey=ke,J.__webglTexture=Re[ke].texture}return me}function Z(J,G,me){let de=t.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(de=t.TEXTURE_2D_ARRAY),G.isData3DTexture&&(de=t.TEXTURE_3D);const Re=Y(J,G),ke=G.source;n.bindTexture(de,J.__webglTexture,t.TEXTURE0+me);const Je=s.get(ke);if(ke.version!==Je.__version||Re===!0){n.activeTexture(t.TEXTURE0+me);const je=vn.getPrimaries(vn.workingColorSpace),at=G.colorSpace===Ka?null:vn.getPrimaries(G.colorSpace),gt=G.colorSpace===Ka||je===at?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);let nt=m(G.image,!1,r.maxTextureSize);nt=xe(G,nt);const q=o.convert(G.format,G.colorSpace),Ae=o.convert(G.type);let oe=b(G.internalFormat,q,Ae,G.colorSpace,G.isVideoTexture);ee(de,G);let be;const ne=G.mipmaps,ze=G.isVideoTexture!==!0,ut=Je.__version===void 0||Re===!0,Ce=ke.dataReady,it=w(G,nt);if(G.isDepthTexture)oe=S(G.format===Jc,G.type),ut&&(ze?n.texStorage2D(t.TEXTURE_2D,1,oe,nt.width,nt.height):n.texImage2D(t.TEXTURE_2D,0,oe,nt.width,nt.height,0,q,Ae,null));else if(G.isDataTexture)if(ne.length>0){ze&&ut&&n.texStorage2D(t.TEXTURE_2D,it,oe,ne[0].width,ne[0].height);for(let Ve=0,Ge=ne.length;Ve<Ge;Ve++)be=ne[Ve],ze?Ce&&n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,be.width,be.height,q,Ae,be.data):n.texImage2D(t.TEXTURE_2D,Ve,oe,be.width,be.height,0,q,Ae,be.data);G.generateMipmaps=!1}else ze?(ut&&n.texStorage2D(t.TEXTURE_2D,it,oe,nt.width,nt.height),Ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,nt.width,nt.height,q,Ae,nt.data)):n.texImage2D(t.TEXTURE_2D,0,oe,nt.width,nt.height,0,q,Ae,nt.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){ze&&ut&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,oe,ne[0].width,ne[0].height,nt.depth);for(let Ve=0,Ge=ne.length;Ve<Ge;Ve++)if(be=ne[Ve],G.format!==Vs)if(q!==null)if(ze){if(Ce)if(G.layerUpdates.size>0){const dt=Dx(be.width,be.height,G.format,G.type);for(const Ye of G.layerUpdates){const kt=be.data.subarray(Ye*dt/be.data.BYTES_PER_ELEMENT,(Ye+1)*dt/be.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,Ye,be.width,be.height,1,q,kt)}G.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,0,be.width,be.height,nt.depth,q,be.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ve,oe,be.width,be.height,nt.depth,0,be.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ze?Ce&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,0,be.width,be.height,nt.depth,q,Ae,be.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ve,oe,be.width,be.height,nt.depth,0,q,Ae,be.data)}else{ze&&ut&&n.texStorage2D(t.TEXTURE_2D,it,oe,ne[0].width,ne[0].height);for(let Ve=0,Ge=ne.length;Ve<Ge;Ve++)be=ne[Ve],G.format!==Vs?q!==null?ze?Ce&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ve,0,0,be.width,be.height,q,be.data):n.compressedTexImage2D(t.TEXTURE_2D,Ve,oe,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?Ce&&n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,be.width,be.height,q,Ae,be.data):n.texImage2D(t.TEXTURE_2D,Ve,oe,be.width,be.height,0,q,Ae,be.data)}else if(G.isDataArrayTexture)if(ze){if(ut&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,oe,nt.width,nt.height,nt.depth),Ce)if(G.layerUpdates.size>0){const Ve=Dx(nt.width,nt.height,G.format,G.type);for(const Ge of G.layerUpdates){const dt=nt.data.subarray(Ge*Ve/nt.data.BYTES_PER_ELEMENT,(Ge+1)*Ve/nt.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ge,nt.width,nt.height,1,q,Ae,dt)}G.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,nt.width,nt.height,nt.depth,q,Ae,nt.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,oe,nt.width,nt.height,nt.depth,0,q,Ae,nt.data);else if(G.isData3DTexture)ze?(ut&&n.texStorage3D(t.TEXTURE_3D,it,oe,nt.width,nt.height,nt.depth),Ce&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,nt.width,nt.height,nt.depth,q,Ae,nt.data)):n.texImage3D(t.TEXTURE_3D,0,oe,nt.width,nt.height,nt.depth,0,q,Ae,nt.data);else if(G.isFramebufferTexture){if(ut)if(ze)n.texStorage2D(t.TEXTURE_2D,it,oe,nt.width,nt.height);else{let Ve=nt.width,Ge=nt.height;for(let dt=0;dt<it;dt++)n.texImage2D(t.TEXTURE_2D,dt,oe,Ve,Ge,0,q,Ae,null),Ve>>=1,Ge>>=1}}else if(ne.length>0){if(ze&&ut){const Ve=we(ne[0]);n.texStorage2D(t.TEXTURE_2D,it,oe,Ve.width,Ve.height)}for(let Ve=0,Ge=ne.length;Ve<Ge;Ve++)be=ne[Ve],ze?Ce&&n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,q,Ae,be):n.texImage2D(t.TEXTURE_2D,Ve,oe,q,Ae,be);G.generateMipmaps=!1}else if(ze){if(ut){const Ve=we(nt);n.texStorage2D(t.TEXTURE_2D,it,oe,Ve.width,Ve.height)}Ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,q,Ae,nt)}else n.texImage2D(t.TEXTURE_2D,0,oe,q,Ae,nt);y(G)&&g(de),Je.__version=ke.version,G.onUpdate&&G.onUpdate(G)}J.__version=G.version}function ae(J,G,me){if(G.image.length!==6)return;const de=Y(J,G),Re=G.source;n.bindTexture(t.TEXTURE_CUBE_MAP,J.__webglTexture,t.TEXTURE0+me);const ke=s.get(Re);if(Re.version!==ke.__version||de===!0){n.activeTexture(t.TEXTURE0+me);const Je=vn.getPrimaries(vn.workingColorSpace),je=G.colorSpace===Ka?null:vn.getPrimaries(G.colorSpace),at=G.colorSpace===Ka||Je===je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,at);const gt=G.isCompressedTexture||G.image[0].isCompressedTexture,nt=G.image[0]&&G.image[0].isDataTexture,q=[];for(let Ge=0;Ge<6;Ge++)!gt&&!nt?q[Ge]=m(G.image[Ge],!0,r.maxCubemapSize):q[Ge]=nt?G.image[Ge].image:G.image[Ge],q[Ge]=xe(G,q[Ge]);const Ae=q[0],oe=o.convert(G.format,G.colorSpace),be=o.convert(G.type),ne=b(G.internalFormat,oe,be,G.colorSpace),ze=G.isVideoTexture!==!0,ut=ke.__version===void 0||de===!0,Ce=Re.dataReady;let it=w(G,Ae);ee(t.TEXTURE_CUBE_MAP,G);let Ve;if(gt){ze&&ut&&n.texStorage2D(t.TEXTURE_CUBE_MAP,it,ne,Ae.width,Ae.height);for(let Ge=0;Ge<6;Ge++){Ve=q[Ge].mipmaps;for(let dt=0;dt<Ve.length;dt++){const Ye=Ve[dt];G.format!==Vs?oe!==null?ze?Ce&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,dt,0,0,Ye.width,Ye.height,oe,Ye.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,dt,ne,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ze?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,dt,0,0,Ye.width,Ye.height,oe,be,Ye.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,dt,ne,Ye.width,Ye.height,0,oe,be,Ye.data)}}}else{if(Ve=G.mipmaps,ze&&ut){Ve.length>0&&it++;const Ge=we(q[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,it,ne,Ge.width,Ge.height)}for(let Ge=0;Ge<6;Ge++)if(nt){ze?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,q[Ge].width,q[Ge].height,oe,be,q[Ge].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,ne,q[Ge].width,q[Ge].height,0,oe,be,q[Ge].data);for(let dt=0;dt<Ve.length;dt++){const kt=Ve[dt].image[Ge].image;ze?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,dt+1,0,0,kt.width,kt.height,oe,be,kt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,dt+1,ne,kt.width,kt.height,0,oe,be,kt.data)}}else{ze?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,oe,be,q[Ge]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,ne,oe,be,q[Ge]);for(let dt=0;dt<Ve.length;dt++){const Ye=Ve[dt];ze?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,dt+1,0,0,oe,be,Ye.image[Ge]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,dt+1,ne,oe,be,Ye.image[Ge])}}}y(G)&&g(t.TEXTURE_CUBE_MAP),ke.__version=Re.version,G.onUpdate&&G.onUpdate(G)}J.__version=G.version}function ue(J,G,me,de,Re,ke){const Je=o.convert(me.format,me.colorSpace),je=o.convert(me.type),at=b(me.internalFormat,Je,je,me.colorSpace),gt=s.get(G),nt=s.get(me);if(nt.__renderTarget=G,!gt.__hasExternalTextures){const q=Math.max(1,G.width>>ke),Ae=Math.max(1,G.height>>ke);Re===t.TEXTURE_3D||Re===t.TEXTURE_2D_ARRAY?n.texImage3D(Re,ke,at,q,Ae,G.depth,0,Je,je,null):n.texImage2D(Re,ke,at,q,Ae,0,Je,je,null)}n.bindFramebuffer(t.FRAMEBUFFER,J),Te(G)?i.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,de,Re,nt.__webglTexture,0,Pe(G)):(Re===t.TEXTURE_2D||Re>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,de,Re,nt.__webglTexture,ke),n.bindFramebuffer(t.FRAMEBUFFER,null)}function re(J,G,me){if(t.bindRenderbuffer(t.RENDERBUFFER,J),G.depthBuffer){const de=G.depthTexture,Re=de&&de.isDepthTexture?de.type:null,ke=S(G.stencilBuffer,Re),Je=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=Pe(G);Te(G)?i.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,je,ke,G.width,G.height):me?t.renderbufferStorageMultisample(t.RENDERBUFFER,je,ke,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,ke,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Je,t.RENDERBUFFER,J)}else{const de=G.textures;for(let Re=0;Re<de.length;Re++){const ke=de[Re],Je=o.convert(ke.format,ke.colorSpace),je=o.convert(ke.type),at=b(ke.internalFormat,Je,je,ke.colorSpace),gt=Pe(G);me&&Te(G)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,gt,at,G.width,G.height):Te(G)?i.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,gt,at,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,at,G.width,G.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ge(J,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,J),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const de=s.get(G.depthTexture);de.__renderTarget=G,(!de.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),B(G.depthTexture,0);const Re=de.__webglTexture,ke=Pe(G);if(G.depthTexture.format===ll)Te(G)?i.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Re,0,ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Re,0);else if(G.depthTexture.format===Jc)Te(G)?i.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Re,0,ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Re,0);else throw new Error("Unknown depthTexture format")}function ye(J){const G=s.get(J),me=J.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==J.depthTexture){const de=J.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),de){const Re=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,de.removeEventListener("dispose",Re)};de.addEventListener("dispose",Re),G.__depthDisposeCallback=Re}G.__boundDepthTexture=de}if(J.depthTexture&&!G.__autoAllocateDepthBuffer){if(me)throw new Error("target.depthTexture not supported in Cube render targets");ge(G.__webglFramebuffer,J)}else if(me){G.__webglDepthbuffer=[];for(let de=0;de<6;de++)if(n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[de]),G.__webglDepthbuffer[de]===void 0)G.__webglDepthbuffer[de]=t.createRenderbuffer(),re(G.__webglDepthbuffer[de],J,!1);else{const Re=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ke=G.__webglDepthbuffer[de];t.bindRenderbuffer(t.RENDERBUFFER,ke),t.framebufferRenderbuffer(t.FRAMEBUFFER,Re,t.RENDERBUFFER,ke)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=t.createRenderbuffer(),re(G.__webglDepthbuffer,J,!1);else{const de=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Re=G.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Re),t.framebufferRenderbuffer(t.FRAMEBUFFER,de,t.RENDERBUFFER,Re)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Fe(J,G,me){const de=s.get(J);G!==void 0&&ue(de.__webglFramebuffer,J,J.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),me!==void 0&&ye(J)}function X(J){const G=J.texture,me=s.get(J),de=s.get(G);J.addEventListener("dispose",A);const Re=J.textures,ke=J.isWebGLCubeRenderTarget===!0,Je=Re.length>1;if(Je||(de.__webglTexture===void 0&&(de.__webglTexture=t.createTexture()),de.__version=G.version,a.memory.textures++),ke){me.__webglFramebuffer=[];for(let je=0;je<6;je++)if(G.mipmaps&&G.mipmaps.length>0){me.__webglFramebuffer[je]=[];for(let at=0;at<G.mipmaps.length;at++)me.__webglFramebuffer[je][at]=t.createFramebuffer()}else me.__webglFramebuffer[je]=t.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){me.__webglFramebuffer=[];for(let je=0;je<G.mipmaps.length;je++)me.__webglFramebuffer[je]=t.createFramebuffer()}else me.__webglFramebuffer=t.createFramebuffer();if(Je)for(let je=0,at=Re.length;je<at;je++){const gt=s.get(Re[je]);gt.__webglTexture===void 0&&(gt.__webglTexture=t.createTexture(),a.memory.textures++)}if(J.samples>0&&Te(J)===!1){me.__webglMultisampledFramebuffer=t.createFramebuffer(),me.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,me.__webglMultisampledFramebuffer);for(let je=0;je<Re.length;je++){const at=Re[je];me.__webglColorRenderbuffer[je]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,me.__webglColorRenderbuffer[je]);const gt=o.convert(at.format,at.colorSpace),nt=o.convert(at.type),q=b(at.internalFormat,gt,nt,at.colorSpace,J.isXRRenderTarget===!0),Ae=Pe(J);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ae,q,J.width,J.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.RENDERBUFFER,me.__webglColorRenderbuffer[je])}t.bindRenderbuffer(t.RENDERBUFFER,null),J.depthBuffer&&(me.__webglDepthRenderbuffer=t.createRenderbuffer(),re(me.__webglDepthRenderbuffer,J,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ke){n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture),ee(t.TEXTURE_CUBE_MAP,G);for(let je=0;je<6;je++)if(G.mipmaps&&G.mipmaps.length>0)for(let at=0;at<G.mipmaps.length;at++)ue(me.__webglFramebuffer[je][at],J,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at);else ue(me.__webglFramebuffer[je],J,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0);y(G)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Je){for(let je=0,at=Re.length;je<at;je++){const gt=Re[je],nt=s.get(gt);n.bindTexture(t.TEXTURE_2D,nt.__webglTexture),ee(t.TEXTURE_2D,gt),ue(me.__webglFramebuffer,J,gt,t.COLOR_ATTACHMENT0+je,t.TEXTURE_2D,0),y(gt)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let je=t.TEXTURE_2D;if((J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(je=J.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(je,de.__webglTexture),ee(je,G),G.mipmaps&&G.mipmaps.length>0)for(let at=0;at<G.mipmaps.length;at++)ue(me.__webglFramebuffer[at],J,G,t.COLOR_ATTACHMENT0,je,at);else ue(me.__webglFramebuffer,J,G,t.COLOR_ATTACHMENT0,je,0);y(G)&&g(je),n.unbindTexture()}J.depthBuffer&&ye(J)}function V(J){const G=J.textures;for(let me=0,de=G.length;me<de;me++){const Re=G[me];if(y(Re)){const ke=_(J),Je=s.get(Re).__webglTexture;n.bindTexture(ke,Je),g(ke),n.unbindTexture()}}}const ce=[],Q=[];function Me(J){if(J.samples>0){if(Te(J)===!1){const G=J.textures,me=J.width,de=J.height;let Re=t.COLOR_BUFFER_BIT;const ke=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Je=s.get(J),je=G.length>1;if(je)for(let at=0;at<G.length;at++)n.bindFramebuffer(t.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+at,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+at,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Je.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Je.__webglFramebuffer);for(let at=0;at<G.length;at++){if(J.resolveDepthBuffer&&(J.depthBuffer&&(Re|=t.DEPTH_BUFFER_BIT),J.stencilBuffer&&J.resolveStencilBuffer&&(Re|=t.STENCIL_BUFFER_BIT)),je){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Je.__webglColorRenderbuffer[at]);const gt=s.get(G[at]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,gt,0)}t.blitFramebuffer(0,0,me,de,0,0,me,de,Re,t.NEAREST),l===!0&&(ce.length=0,Q.length=0,ce.push(t.COLOR_ATTACHMENT0+at),J.depthBuffer&&J.resolveDepthBuffer===!1&&(ce.push(ke),Q.push(ke),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Q)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ce))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),je)for(let at=0;at<G.length;at++){n.bindFramebuffer(t.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+at,t.RENDERBUFFER,Je.__webglColorRenderbuffer[at]);const gt=s.get(G[at]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+at,t.TEXTURE_2D,gt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Je.__webglMultisampledFramebuffer)}else if(J.depthBuffer&&J.resolveDepthBuffer===!1&&l){const G=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[G])}}}function Pe(J){return Math.min(r.maxSamples,J.samples)}function Te(J){const G=s.get(J);return J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function ve(J){const G=a.render.frame;u.get(J)!==G&&(u.set(J,G),J.update())}function xe(J,G){const me=J.colorSpace,de=J.format,Re=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||me!==eu&&me!==Ka&&(vn.getTransfer(me)===An?(de!==Vs||Re!==Uo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",me)),G}function we(J){return typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement?(c.width=J.naturalWidth||J.width,c.height=J.naturalHeight||J.height):typeof VideoFrame<"u"&&J instanceof VideoFrame?(c.width=J.displayWidth,c.height=J.displayHeight):(c.width=J.width,c.height=J.height),c}this.allocateTextureUnit=k,this.resetTextureUnits=I,this.setTexture2D=B,this.setTexture2DArray=P,this.setTexture3D=N,this.setTextureCube=L,this.rebindTextures=Fe,this.setupRenderTarget=X,this.updateRenderTargetMipmap=V,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=ue,this.useMultisampledRTT=Te}function TP(t,e){function n(s,r=Ka){let o;const a=vn.getTransfer(r);if(s===Uo)return t.UNSIGNED_BYTE;if(s===zS)return t.UNSIGNED_SHORT_4_4_4_4;if(s===$S)return t.UNSIGNED_SHORT_5_5_5_1;if(s===eP)return t.UNSIGNED_INT_5_9_9_9_REV;if(s===ZR)return t.BYTE;if(s===JR)return t.SHORT;if(s===Nd)return t.UNSIGNED_SHORT;if(s===US)return t.INT;if(s===Nr)return t.UNSIGNED_INT;if(s===po)return t.FLOAT;if(s===bu)return t.HALF_FLOAT;if(s===tP)return t.ALPHA;if(s===nP)return t.RGB;if(s===Vs)return t.RGBA;if(s===sP)return t.LUMINANCE;if(s===rP)return t.LUMINANCE_ALPHA;if(s===ll)return t.DEPTH_COMPONENT;if(s===Jc)return t.DEPTH_STENCIL;if(s===oP)return t.RED;if(s===Mm)return t.RED_INTEGER;if(s===aP)return t.RG;if(s===HS)return t.RG_INTEGER;if(s===xc)return t.RGBA_INTEGER;if(s===Wp||s===Gp||s===Kp||s===jp)if(a===An)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===Wp)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Gp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Kp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===jp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===Wp)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Gp)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Kp)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===jp)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===G0||s===K0||s===j0||s===q0)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===G0)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===K0)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===j0)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===q0)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Y0||s===X0||s===Q0)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===Y0||s===X0)return a===An?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===Q0)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Z0||s===J0||s===ey||s===ty||s===ny||s===sy||s===ry||s===oy||s===ay||s===iy||s===ly||s===cy||s===uy||s===dy)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===Z0)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===J0)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===ey)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===ty)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===ny)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===sy)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===ry)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===oy)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===ay)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===iy)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ly)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===cy)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===uy)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===dy)return a===An?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===qp||s===fy||s===py)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===qp)return a===An?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===fy)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===py)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===iP||s===hy||s===my||s===vy)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===qp)return o.COMPRESSED_RED_RGTC1_EXT;if(s===hy)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===my)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===vy)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Zc?t.UNSIGNED_INT_24_8:t[s]!==void 0?t[s]:null}return{convert:n}}const spe={type:"move"};class Yv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new np,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new np,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new np,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const s of e.hand.values())this._getHandJoint(n,s)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,s){let r=null,o=null,a=null;const i=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const m of e.hand.values()){const y=n.getJointPose(m,s),g=this._getHandJoint(c,m);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),p=.02,v=.005;c.inputState.pinching&&h>p+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=p-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,s),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));i!==null&&(r=n.getPose(e.targetRaySpace,s),r===null&&o!==null&&(r=o),r!==null&&(i.matrix.fromArray(r.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,r.linearVelocity?(i.hasLinearVelocity=!0,i.linearVelocity.copy(r.linearVelocity)):i.hasLinearVelocity=!1,r.angularVelocity?(i.hasAngularVelocity=!0,i.angularVelocity.copy(r.angularVelocity)):i.hasAngularVelocity=!1,this.dispatchEvent(spe)))}return i!==null&&(i.visible=r!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const s=new np;s.matrixAutoUpdate=!1,s.visible=!1,e.joints[n.jointName]=s,e.add(s)}return e.joints[n.jointName]}}const rpe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,ope=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ape{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,s){if(this.texture===null){const r=new Gs,o=e.properties.get(r);o.__webglTexture=n.texture,(n.depthNear!=s.depthNear||n.depthFar!=s.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,s=new _r({vertexShader:rpe,fragmentShader:ope,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new jn(new nu(20,20),s)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class ipe extends Al{constructor(e,n){super();const s=this;let r=null,o=1,a=null,i="local-floor",l=1,c=null,u=null,d=null,h=null,p=null,v=null;const m=new ape,y=n.getContextAttributes();let g=null,_=null;const b=[],S=[],w=new Lt;let C=null;const A=new Lr;A.viewport=new Fn;const T=new Lr;T.viewport=new Fn;const x=[A,T],E=new Ile;let M=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let ae=b[Z];return ae===void 0&&(ae=new Yv,b[Z]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(Z){let ae=b[Z];return ae===void 0&&(ae=new Yv,b[Z]=ae),ae.getGripSpace()},this.getHand=function(Z){let ae=b[Z];return ae===void 0&&(ae=new Yv,b[Z]=ae),ae.getHandSpace()};function k(Z){const ae=S.indexOf(Z.inputSource);if(ae===-1)return;const ue=b[ae];ue!==void 0&&(ue.update(Z.inputSource,Z.frame,c||a),ue.dispatchEvent({type:Z.type,data:Z.inputSource}))}function U(){r.removeEventListener("select",k),r.removeEventListener("selectstart",k),r.removeEventListener("selectend",k),r.removeEventListener("squeeze",k),r.removeEventListener("squeezestart",k),r.removeEventListener("squeezeend",k),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",B);for(let Z=0;Z<b.length;Z++){const ae=S[Z];ae!==null&&(S[Z]=null,b[Z].disconnect(ae))}M=null,I=null,m.reset(),e.setRenderTarget(g),p=null,h=null,d=null,r=null,_=null,Y.stop(),s.isPresenting=!1,e.setPixelRatio(C),e.setSize(w.width,w.height,!1),s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){o=Z,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){i=Z,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(Z){c=Z},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(Z){if(r=Z,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",k),r.addEventListener("selectstart",k),r.addEventListener("selectend",k),r.addEventListener("squeeze",k),r.addEventListener("squeezestart",k),r.addEventListener("squeezeend",k),r.addEventListener("end",U),r.addEventListener("inputsourceschange",B),y.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(w),r.renderState.layers===void 0){const ae={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(r,n,ae),r.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),_=new vi(p.framebufferWidth,p.framebufferHeight,{format:Vs,type:Uo,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ae=null,ue=null,re=null;y.depth&&(re=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ae=y.stencil?Jc:ll,ue=y.stencil?Zc:Nr);const ge={colorFormat:n.RGBA8,depthFormat:re,scaleFactor:o};d=new XRWebGLBinding(r,n),h=d.createProjectionLayer(ge),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),_=new vi(h.textureWidth,h.textureHeight,{format:Vs,type:Uo,depthTexture:new WS(h.textureWidth,h.textureHeight,ue,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(i),Y.setContext(r),Y.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function B(Z){for(let ae=0;ae<Z.removed.length;ae++){const ue=Z.removed[ae],re=S.indexOf(ue);re>=0&&(S[re]=null,b[re].disconnect(ue))}for(let ae=0;ae<Z.added.length;ae++){const ue=Z.added[ae];let re=S.indexOf(ue);if(re===-1){for(let ye=0;ye<b.length;ye++)if(ye>=S.length){S.push(ue),re=ye;break}else if(S[ye]===null){S[ye]=ue,re=ye;break}if(re===-1)break}const ge=b[re];ge&&ge.connect(ue)}}const P=new Se,N=new Se;function L(Z,ae,ue){P.setFromMatrixPosition(ae.matrixWorld),N.setFromMatrixPosition(ue.matrixWorld);const re=P.distanceTo(N),ge=ae.projectionMatrix.elements,ye=ue.projectionMatrix.elements,Fe=ge[14]/(ge[10]-1),X=ge[14]/(ge[10]+1),V=(ge[9]+1)/ge[5],ce=(ge[9]-1)/ge[5],Q=(ge[8]-1)/ge[0],Me=(ye[8]+1)/ye[0],Pe=Fe*Q,Te=Fe*Me,ve=re/(-Q+Me),xe=ve*-Q;if(ae.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(xe),Z.translateZ(ve),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),ge[10]===-1)Z.projectionMatrix.copy(ae.projectionMatrix),Z.projectionMatrixInverse.copy(ae.projectionMatrixInverse);else{const we=Fe+ve,J=X+ve,G=Pe-xe,me=Te+(re-xe),de=V*X/J*we,Re=ce*X/J*we;Z.projectionMatrix.makePerspective(G,me,de,Re,we,J),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}function O(Z,ae){ae===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(ae.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(r===null)return;let ae=Z.near,ue=Z.far;m.texture!==null&&(m.depthNear>0&&(ae=m.depthNear),m.depthFar>0&&(ue=m.depthFar)),E.near=T.near=A.near=ae,E.far=T.far=A.far=ue,(M!==E.near||I!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),M=E.near,I=E.far),A.layers.mask=Z.layers.mask|2,T.layers.mask=Z.layers.mask|4,E.layers.mask=A.layers.mask|T.layers.mask;const re=Z.parent,ge=E.cameras;O(E,re);for(let ye=0;ye<ge.length;ye++)O(ge[ye],re);ge.length===2?L(E,A,T):E.projectionMatrix.copy(A.projectionMatrix),$(Z,E,re)};function $(Z,ae,ue){ue===null?Z.matrix.copy(ae.matrixWorld):(Z.matrix.copy(ue.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(ae.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(ae.projectionMatrix),Z.projectionMatrixInverse.copy(ae.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=gy*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(Z){l=Z,h!==null&&(h.fixedFoveation=Z),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=Z)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(E)};let W=null;function ee(Z,ae){if(u=ae.getViewerPose(c||a),v=ae,u!==null){const ue=u.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let re=!1;ue.length!==E.cameras.length&&(E.cameras.length=0,re=!0);for(let ye=0;ye<ue.length;ye++){const Fe=ue[ye];let X=null;if(p!==null)X=p.getViewport(Fe);else{const ce=d.getViewSubImage(h,Fe);X=ce.viewport,ye===0&&(e.setRenderTargetTextures(_,ce.colorTexture,h.ignoreDepthValues?void 0:ce.depthStencilTexture),e.setRenderTarget(_))}let V=x[ye];V===void 0&&(V=new Lr,V.layers.enable(ye),V.viewport=new Fn,x[ye]=V),V.matrix.fromArray(Fe.transform.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale),V.projectionMatrix.fromArray(Fe.projectionMatrix),V.projectionMatrixInverse.copy(V.projectionMatrix).invert(),V.viewport.set(X.x,X.y,X.width,X.height),ye===0&&(E.matrix.copy(V.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),re===!0&&E.cameras.push(V)}const ge=r.enabledFeatures;if(ge&&ge.includes("depth-sensing")){const ye=d.getDepthInformation(ue[0]);ye&&ye.isValid&&ye.texture&&m.init(e,ye,r.renderState)}}for(let ue=0;ue<b.length;ue++){const re=S[ue],ge=b[ue];re!==null&&ge!==void 0&&ge.update(re,ae,c||a)}W&&W(Z,ae),ae.detectedPlanes&&s.dispatchEvent({type:"planesdetected",data:ae}),v=null}const Y=new wP;Y.setAnimationLoop(ee),this.setAnimationLoop=function(Z){W=Z},this.dispose=function(){}}}const Li=new va,lpe=new Wt;function cpe(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function s(y,g){g.color.getRGB(y.fogColor.value,yP(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function r(y,g,_,b,S){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(y,g):g.isMeshToonMaterial?(o(y,g),d(y,g)):g.isMeshPhongMaterial?(o(y,g),u(y,g)):g.isMeshStandardMaterial?(o(y,g),h(y,g),g.isMeshPhysicalMaterial&&p(y,g,S)):g.isMeshMatcapMaterial?(o(y,g),v(y,g)):g.isMeshDepthMaterial?o(y,g):g.isMeshDistanceMaterial?(o(y,g),m(y,g)):g.isMeshNormalMaterial?o(y,g):g.isLineBasicMaterial?(a(y,g),g.isLineDashedMaterial&&i(y,g)):g.isPointsMaterial?l(y,g,_,b):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===or&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===or&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const _=e.get(g),b=_.envMap,S=_.envMapRotation;b&&(y.envMap.value=b,Li.copy(S),Li.x*=-1,Li.y*=-1,Li.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Li.y*=-1,Li.z*=-1),y.envMapRotation.value.setFromMatrix4(lpe.makeRotationFromEuler(Li)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function a(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function i(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,_,b){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*_,y.scale.value=b*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function h(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function p(y,g,_){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===or&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function m(y,g){const _=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:s,refreshMaterialUniforms:r}}function upe(t,e,n,s){let r={},o={},a=[];const i=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,b){const S=b.program;s.uniformBlockBinding(_,S)}function c(_,b){let S=r[_.id];S===void 0&&(v(_),S=u(_),r[_.id]=S,_.addEventListener("dispose",y));const w=b.program;s.updateUBOMapping(_,w);const C=e.render.frame;o[_.id]!==C&&(h(_),o[_.id]=C)}function u(_){const b=d();_.__bindingPointIndex=b;const S=t.createBuffer(),w=_.__size,C=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,w,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,S),S}function d(){for(let _=0;_<i;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const b=r[_.id],S=_.uniforms,w=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let C=0,A=S.length;C<A;C++){const T=Array.isArray(S[C])?S[C]:[S[C]];for(let x=0,E=T.length;x<E;x++){const M=T[x];if(p(M,C,x,w)===!0){const I=M.__offset,k=Array.isArray(M.value)?M.value:[M.value];let U=0;for(let B=0;B<k.length;B++){const P=k[B],N=m(P);typeof P=="number"||typeof P=="boolean"?(M.__data[0]=P,t.bufferSubData(t.UNIFORM_BUFFER,I+U,M.__data)):P.isMatrix3?(M.__data[0]=P.elements[0],M.__data[1]=P.elements[1],M.__data[2]=P.elements[2],M.__data[3]=0,M.__data[4]=P.elements[3],M.__data[5]=P.elements[4],M.__data[6]=P.elements[5],M.__data[7]=0,M.__data[8]=P.elements[6],M.__data[9]=P.elements[7],M.__data[10]=P.elements[8],M.__data[11]=0):(P.toArray(M.__data,U),U+=N.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,I,M.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(_,b,S,w){const C=_.value,A=b+"_"+S;if(w[A]===void 0)return typeof C=="number"||typeof C=="boolean"?w[A]=C:w[A]=C.clone(),!0;{const T=w[A];if(typeof C=="number"||typeof C=="boolean"){if(T!==C)return w[A]=C,!0}else if(T.equals(C)===!1)return T.copy(C),!0}return!1}function v(_){const b=_.uniforms;let S=0;const w=16;for(let A=0,T=b.length;A<T;A++){const x=Array.isArray(b[A])?b[A]:[b[A]];for(let E=0,M=x.length;E<M;E++){const I=x[E],k=Array.isArray(I.value)?I.value:[I.value];for(let U=0,B=k.length;U<B;U++){const P=k[U],N=m(P),L=S%w,O=L%N.boundary,$=L+O;S+=O,$!==0&&w-$<N.storage&&(S+=w-$),I.__data=new Float32Array(N.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=S,S+=N.storage}}}const C=S%w;return C>0&&(S+=w-C),_.__size=S,_.__cache={},this}function m(_){const b={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function y(_){const b=_.target;b.removeEventListener("dispose",y);const S=a.indexOf(b.__bindingPointIndex);a.splice(S,1),t.deleteBuffer(r[b.id]),delete r[b.id],delete o[b.id]}function g(){for(const _ in r)t.deleteBuffer(r[_]);a=[],r={},o={}}return{bind:l,update:c,dispose:g}}class dpe{constructor(e={}){const{canvas:n=jie(),context:s=null,depth:r=!0,stencil:o=!1,alpha:a=!1,antialias:i=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let p;if(s!==null){if(typeof WebGLRenderingContext<"u"&&s instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=s.getContextAttributes().alpha}else p=a;const v=new Uint32Array(4),m=new Int32Array(4);let y=null,g=null;const _=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=kr,this.toneMapping=si,this.toneMappingExposure=1;const S=this;let w=!1,C=0,A=0,T=null,x=-1,E=null;const M=new Fn,I=new Fn;let k=null;const U=new gn(0);let B=0,P=n.width,N=n.height,L=1,O=null,$=null;const W=new Fn(0,0,P,N),ee=new Fn(0,0,P,N);let Y=!1;const Z=new _P;let ae=!1,ue=!1;const re=new Wt,ge=new Wt,ye=new Se,Fe=new Fn,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let V=!1;function ce(){return T===null?L:1}let Q=s;function Me(ie,Oe){return n.getContext(ie,Oe)}try{const ie={alpha:!0,depth:r,stencil:o,antialias:i,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${NS}`),n.addEventListener("webglcontextlost",Ge,!1),n.addEventListener("webglcontextrestored",dt,!1),n.addEventListener("webglcontextcreationerror",Ye,!1),Q===null){const Oe="webgl2";if(Q=Me(Oe,ie),Q===null)throw Me(Oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ie){throw console.error("THREE.WebGLRenderer: "+ie.message),ie}let Pe,Te,ve,xe,we,J,G,me,de,Re,ke,Je,je,at,gt,nt,q,Ae,oe,be,ne,ze,ut,Ce;function it(){Pe=new _de(Q),Pe.init(),ze=new TP(Q,Pe),Te=new mde(Q,Pe,e,ze),ve=new tpe(Q,Pe),Te.reverseDepthBuffer&&h&&ve.buffers.depth.setReversed(!0),xe=new xde(Q),we=new Hfe,J=new npe(Q,Pe,ve,we,Te,ze,xe),G=new gde(S),me=new Sde(S),de=new Ple(Q),ut=new pde(Q,de),Re=new wde(Q,de,xe,ut),ke=new Ede(Q,Re,de,xe),oe=new Ade(Q,Te,J),nt=new vde(we),Je=new $fe(S,G,me,Pe,Te,ut,nt),je=new cpe(S,we),at=new Wfe,gt=new Xfe(Pe),Ae=new fde(S,G,me,ve,ke,p,l),q=new Jfe(S,ke,Te),Ce=new upe(Q,xe,Te,ve),be=new hde(Q,Pe,xe),ne=new Cde(Q,Pe,xe),xe.programs=Je.programs,S.capabilities=Te,S.extensions=Pe,S.properties=we,S.renderLists=at,S.shadowMap=q,S.state=ve,S.info=xe}it();const Ve=new ipe(S,Q);this.xr=Ve,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const ie=Pe.get("WEBGL_lose_context");ie&&ie.loseContext()},this.forceContextRestore=function(){const ie=Pe.get("WEBGL_lose_context");ie&&ie.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(ie){ie!==void 0&&(L=ie,this.setSize(P,N,!1))},this.getSize=function(ie){return ie.set(P,N)},this.setSize=function(ie,Oe,fe=!0){if(Ve.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=ie,N=Oe,n.width=Math.floor(ie*L),n.height=Math.floor(Oe*L),fe===!0&&(n.style.width=ie+"px",n.style.height=Oe+"px"),this.setViewport(0,0,ie,Oe)},this.getDrawingBufferSize=function(ie){return ie.set(P*L,N*L).floor()},this.setDrawingBufferSize=function(ie,Oe,fe){P=ie,N=Oe,L=fe,n.width=Math.floor(ie*fe),n.height=Math.floor(Oe*fe),this.setViewport(0,0,ie,Oe)},this.getCurrentViewport=function(ie){return ie.copy(M)},this.getViewport=function(ie){return ie.copy(W)},this.setViewport=function(ie,Oe,fe,Ie){ie.isVector4?W.set(ie.x,ie.y,ie.z,ie.w):W.set(ie,Oe,fe,Ie),ve.viewport(M.copy(W).multiplyScalar(L).round())},this.getScissor=function(ie){return ie.copy(ee)},this.setScissor=function(ie,Oe,fe,Ie){ie.isVector4?ee.set(ie.x,ie.y,ie.z,ie.w):ee.set(ie,Oe,fe,Ie),ve.scissor(I.copy(ee).multiplyScalar(L).round())},this.getScissorTest=function(){return Y},this.setScissorTest=function(ie){ve.setScissorTest(Y=ie)},this.setOpaqueSort=function(ie){O=ie},this.setTransparentSort=function(ie){$=ie},this.getClearColor=function(ie){return ie.copy(Ae.getClearColor())},this.setClearColor=function(){Ae.setClearColor.apply(Ae,arguments)},this.getClearAlpha=function(){return Ae.getClearAlpha()},this.setClearAlpha=function(){Ae.setClearAlpha.apply(Ae,arguments)},this.clear=function(ie=!0,Oe=!0,fe=!0){let Ie=0;if(ie){let Ee=!1;if(T!==null){const Ke=T.texture.format;Ee=Ke===xc||Ke===HS||Ke===Mm}if(Ee){const Ke=T.texture.type,ht=Ke===Uo||Ke===Nr||Ke===Nd||Ke===Zc||Ke===zS||Ke===$S,xt=Ae.getClearColor(),Ot=Ae.getClearAlpha(),Gt=xt.r,jt=xt.g,Ft=xt.b;ht?(v[0]=Gt,v[1]=jt,v[2]=Ft,v[3]=Ot,Q.clearBufferuiv(Q.COLOR,0,v)):(m[0]=Gt,m[1]=jt,m[2]=Ft,m[3]=Ot,Q.clearBufferiv(Q.COLOR,0,m))}else Ie|=Q.COLOR_BUFFER_BIT}Oe&&(Ie|=Q.DEPTH_BUFFER_BIT),fe&&(Ie|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(Ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ge,!1),n.removeEventListener("webglcontextrestored",dt,!1),n.removeEventListener("webglcontextcreationerror",Ye,!1),Ae.dispose(),at.dispose(),gt.dispose(),we.dispose(),G.dispose(),me.dispose(),ke.dispose(),ut.dispose(),Ce.dispose(),Je.dispose(),Ve.dispose(),Ve.removeEventListener("sessionstart",wi),Ve.removeEventListener("sessionend",El),qs.stop()};function Ge(ie){ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function dt(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const ie=xe.autoReset,Oe=q.enabled,fe=q.autoUpdate,Ie=q.needsUpdate,Ee=q.type;it(),xe.autoReset=ie,q.enabled=Oe,q.autoUpdate=fe,q.needsUpdate=Ie,q.type=Ee}function Ye(ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ie.statusMessage)}function kt(ie){const Oe=ie.target;Oe.removeEventListener("dispose",kt),hn(Oe)}function hn(ie){Kn(ie),we.remove(ie)}function Kn(ie){const Oe=we.get(ie).programs;Oe!==void 0&&(Oe.forEach(function(fe){Je.releaseProgram(fe)}),ie.isShaderMaterial&&Je.releaseShaderCache(ie))}this.renderBufferDirect=function(ie,Oe,fe,Ie,Ee,Ke){Oe===null&&(Oe=X);const ht=Ee.isMesh&&Ee.matrixWorld.determinant()<0,xt=zn(ie,Oe,fe,Ie,Ee);ve.setMaterial(Ie,ht);let Ot=fe.index,Gt=1;if(Ie.wireframe===!0){if(Ot=Re.getWireframeAttribute(fe),Ot===void 0)return;Gt=2}const jt=fe.drawRange,Ft=fe.attributes.position;let pn=jt.start*Gt,yn=(jt.start+jt.count)*Gt;Ke!==null&&(pn=Math.max(pn,Ke.start*Gt),yn=Math.min(yn,(Ke.start+Ke.count)*Gt)),Ot!==null?(pn=Math.max(pn,0),yn=Math.min(yn,Ot.count)):Ft!=null&&(pn=Math.max(pn,0),yn=Math.min(yn,Ft.count));const Zn=yn-pn;if(Zn<0||Zn===1/0)return;ut.setup(Ee,Ie,xt,fe,Ot);let Vn,mn=be;if(Ot!==null&&(Vn=de.get(Ot),mn=ne,mn.setIndex(Vn)),Ee.isMesh)Ie.wireframe===!0?(ve.setLineWidth(Ie.wireframeLinewidth*ce()),mn.setMode(Q.LINES)):mn.setMode(Q.TRIANGLES);else if(Ee.isLine){let zt=Ie.linewidth;zt===void 0&&(zt=1),ve.setLineWidth(zt*ce()),Ee.isLineSegments?mn.setMode(Q.LINES):Ee.isLineLoop?mn.setMode(Q.LINE_LOOP):mn.setMode(Q.LINE_STRIP)}else Ee.isPoints?mn.setMode(Q.POINTS):Ee.isSprite&&mn.setMode(Q.TRIANGLES);if(Ee.isBatchedMesh)if(Ee._multiDrawInstances!==null)mn.renderMultiDrawInstances(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount,Ee._multiDrawInstances);else if(Pe.get("WEBGL_multi_draw"))mn.renderMultiDraw(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount);else{const zt=Ee._multiDrawStarts,ys=Ee._multiDrawCounts,bn=Ee._multiDrawCount,Zr=Ot?de.get(Ot).bytesPerElement:1,Rl=we.get(Ie).currentProgram.getUniforms();for(let lr=0;lr<bn;lr++)Rl.setValue(Q,"_gl_DrawID",lr),mn.render(zt[lr]/Zr,ys[lr])}else if(Ee.isInstancedMesh)mn.renderInstances(pn,Zn,Ee.count);else if(fe.isInstancedBufferGeometry){const zt=fe._maxInstanceCount!==void 0?fe._maxInstanceCount:1/0,ys=Math.min(fe.instanceCount,zt);mn.renderInstances(pn,Zn,ys)}else mn.render(pn,Zn)};function un(ie,Oe,fe){ie.transparent===!0&&ie.side===Or&&ie.forceSinglePass===!1?(ie.side=or,ie.needsUpdate=!0,We(ie,Oe,fe),ie.side=No,ie.needsUpdate=!0,We(ie,Oe,fe),ie.side=Or):We(ie,Oe,fe)}this.compile=function(ie,Oe,fe=null){fe===null&&(fe=ie),g=gt.get(fe),g.init(Oe),b.push(g),fe.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(Oe.layers)&&(g.pushLight(Ee),Ee.castShadow&&g.pushShadow(Ee))}),ie!==fe&&ie.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(Oe.layers)&&(g.pushLight(Ee),Ee.castShadow&&g.pushShadow(Ee))}),g.setupLights();const Ie=new Set;return ie.traverse(function(Ee){if(!(Ee.isMesh||Ee.isPoints||Ee.isLine||Ee.isSprite))return;const Ke=Ee.material;if(Ke)if(Array.isArray(Ke))for(let ht=0;ht<Ke.length;ht++){const xt=Ke[ht];un(xt,fe,Ee),Ie.add(xt)}else un(Ke,fe,Ee),Ie.add(Ke)}),b.pop(),g=null,Ie},this.compileAsync=function(ie,Oe,fe=null){const Ie=this.compile(ie,Oe,fe);return new Promise(Ee=>{function Ke(){if(Ie.forEach(function(ht){we.get(ht).currentProgram.isReady()&&Ie.delete(ht)}),Ie.size===0){Ee(ie);return}setTimeout(Ke,10)}Pe.get("KHR_parallel_shader_compile")!==null?Ke():setTimeout(Ke,10)})};let vs=null;function gs(ie){vs&&vs(ie)}function wi(){qs.stop()}function El(){qs.start()}const qs=new wP;qs.setAnimationLoop(gs),typeof self<"u"&&qs.setContext(self),this.setAnimationLoop=function(ie){vs=ie,Ve.setAnimationLoop(ie),ie===null?qs.stop():qs.start()},Ve.addEventListener("sessionstart",wi),Ve.addEventListener("sessionend",El),this.render=function(ie,Oe){if(Oe!==void 0&&Oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;if(ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),Oe.parent===null&&Oe.matrixWorldAutoUpdate===!0&&Oe.updateMatrixWorld(),Ve.enabled===!0&&Ve.isPresenting===!0&&(Ve.cameraAutoUpdate===!0&&Ve.updateCamera(Oe),Oe=Ve.getCamera()),ie.isScene===!0&&ie.onBeforeRender(S,ie,Oe,T),g=gt.get(ie,b.length),g.init(Oe),b.push(g),ge.multiplyMatrices(Oe.projectionMatrix,Oe.matrixWorldInverse),Z.setFromProjectionMatrix(ge),ue=this.localClippingEnabled,ae=nt.init(this.clippingPlanes,ue),y=at.get(ie,_.length),y.init(),_.push(y),Ve.enabled===!0&&Ve.isPresenting===!0){const Ke=S.xr.getDepthSensingMesh();Ke!==null&&Ea(Ke,Oe,-1/0,S.sortObjects)}Ea(ie,Oe,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort(O,$),V=Ve.enabled===!1||Ve.isPresenting===!1||Ve.hasDepthSensing()===!1,V&&Ae.addToRenderList(y,ie),this.info.render.frame++,ae===!0&&nt.beginShadows();const fe=g.state.shadowsArray;q.render(fe,ie,Oe),ae===!0&&nt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ie=y.opaque,Ee=y.transmissive;if(g.setupLights(),Oe.isArrayCamera){const Ke=Oe.cameras;if(Ee.length>0)for(let ht=0,xt=Ke.length;ht<xt;ht++){const Ot=Ke[ht];Ml(Ie,Ee,ie,Ot)}V&&Ae.render(ie);for(let ht=0,xt=Ke.length;ht<xt;ht++){const Ot=Ke[ht];Tl(y,ie,Ot,Ot.viewport)}}else Ee.length>0&&Ml(Ie,Ee,ie,Oe),V&&Ae.render(ie),Tl(y,ie,Oe);T!==null&&(J.updateMultisampleRenderTarget(T),J.updateRenderTargetMipmap(T)),ie.isScene===!0&&ie.onAfterRender(S,ie,Oe),ut.resetDefaultState(),x=-1,E=null,b.pop(),b.length>0?(g=b[b.length-1],ae===!0&&nt.setGlobalState(S.clippingPlanes,g.state.camera)):g=null,_.pop(),_.length>0?y=_[_.length-1]:y=null};function Ea(ie,Oe,fe,Ie){if(ie.visible===!1)return;if(ie.layers.test(Oe.layers)){if(ie.isGroup)fe=ie.renderOrder;else if(ie.isLOD)ie.autoUpdate===!0&&ie.update(Oe);else if(ie.isLight)g.pushLight(ie),ie.castShadow&&g.pushShadow(ie);else if(ie.isSprite){if(!ie.frustumCulled||Z.intersectsSprite(ie)){Ie&&Fe.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(ge);const ht=ke.update(ie),xt=ie.material;xt.visible&&y.push(ie,ht,xt,fe,Fe.z,null)}}else if((ie.isMesh||ie.isLine||ie.isPoints)&&(!ie.frustumCulled||Z.intersectsObject(ie))){const ht=ke.update(ie),xt=ie.material;if(Ie&&(ie.boundingSphere!==void 0?(ie.boundingSphere===null&&ie.computeBoundingSphere(),Fe.copy(ie.boundingSphere.center)):(ht.boundingSphere===null&&ht.computeBoundingSphere(),Fe.copy(ht.boundingSphere.center)),Fe.applyMatrix4(ie.matrixWorld).applyMatrix4(ge)),Array.isArray(xt)){const Ot=ht.groups;for(let Gt=0,jt=Ot.length;Gt<jt;Gt++){const Ft=Ot[Gt],pn=xt[Ft.materialIndex];pn&&pn.visible&&y.push(ie,ht,pn,fe,Fe.z,Ft)}}else xt.visible&&y.push(ie,ht,xt,fe,Fe.z,null)}}const Ke=ie.children;for(let ht=0,xt=Ke.length;ht<xt;ht++)Ea(Ke[ht],Oe,fe,Ie)}function Tl(ie,Oe,fe,Ie){const Ee=ie.opaque,Ke=ie.transmissive,ht=ie.transparent;g.setupLightsView(fe),ae===!0&&nt.setGlobalState(S.clippingPlanes,fe),Ie&&ve.viewport(M.copy(Ie)),Ee.length>0&&Ta(Ee,Oe,fe),Ke.length>0&&Ta(Ke,Oe,fe),ht.length>0&&Ta(ht,Oe,fe),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function Ml(ie,Oe,fe,Ie){if((fe.isScene===!0?fe.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[Ie.id]===void 0&&(g.state.transmissionRenderTarget[Ie.id]=new vi(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")||Pe.has("EXT_color_buffer_float")?bu:Uo,minFilter:Ji,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:vn.workingColorSpace}));const Ke=g.state.transmissionRenderTarget[Ie.id],ht=Ie.viewport||M;Ke.setSize(ht.z,ht.w);const xt=S.getRenderTarget();S.setRenderTarget(Ke),S.getClearColor(U),B=S.getClearAlpha(),B<1&&S.setClearColor(16777215,.5),S.clear(),V&&Ae.render(fe);const Ot=S.toneMapping;S.toneMapping=si;const Gt=Ie.viewport;if(Ie.viewport!==void 0&&(Ie.viewport=void 0),g.setupLightsView(Ie),ae===!0&&nt.setGlobalState(S.clippingPlanes,Ie),Ta(ie,fe,Ie),J.updateMultisampleRenderTarget(Ke),J.updateRenderTargetMipmap(Ke),Pe.has("WEBGL_multisampled_render_to_texture")===!1){let jt=!1;for(let Ft=0,pn=Oe.length;Ft<pn;Ft++){const yn=Oe[Ft],Zn=yn.object,Vn=yn.geometry,mn=yn.material,zt=yn.group;if(mn.side===Or&&Zn.layers.test(Ie.layers)){const ys=mn.side;mn.side=or,mn.needsUpdate=!0,Il(Zn,fe,Ie,Vn,mn,zt),mn.side=ys,mn.needsUpdate=!0,jt=!0}}jt===!0&&(J.updateMultisampleRenderTarget(Ke),J.updateRenderTargetMipmap(Ke))}S.setRenderTarget(xt),S.setClearColor(U,B),Gt!==void 0&&(Ie.viewport=Gt),S.toneMapping=Ot}function Ta(ie,Oe,fe){const Ie=Oe.isScene===!0?Oe.overrideMaterial:null;for(let Ee=0,Ke=ie.length;Ee<Ke;Ee++){const ht=ie[Ee],xt=ht.object,Ot=ht.geometry,Gt=Ie===null?ht.material:Ie,jt=ht.group;xt.layers.test(fe.layers)&&Il(xt,Oe,fe,Ot,Gt,jt)}}function Il(ie,Oe,fe,Ie,Ee,Ke){ie.onBeforeRender(S,Oe,fe,Ie,Ee,Ke),ie.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,ie.matrixWorld),ie.normalMatrix.getNormalMatrix(ie.modelViewMatrix),Ee.onBeforeRender(S,Oe,fe,Ie,ie,Ke),Ee.transparent===!0&&Ee.side===Or&&Ee.forceSinglePass===!1?(Ee.side=or,Ee.needsUpdate=!0,S.renderBufferDirect(fe,Oe,Ie,Ee,ie,Ke),Ee.side=No,Ee.needsUpdate=!0,S.renderBufferDirect(fe,Oe,Ie,Ee,ie,Ke),Ee.side=Or):S.renderBufferDirect(fe,Oe,Ie,Ee,ie,Ke),ie.onAfterRender(S,Oe,fe,Ie,Ee,Ke)}function We(ie,Oe,fe){Oe.isScene!==!0&&(Oe=X);const Ie=we.get(ie),Ee=g.state.lights,Ke=g.state.shadowsArray,ht=Ee.state.version,xt=Je.getParameters(ie,Ee.state,Ke,Oe,fe),Ot=Je.getProgramCacheKey(xt);let Gt=Ie.programs;Ie.environment=ie.isMeshStandardMaterial?Oe.environment:null,Ie.fog=Oe.fog,Ie.envMap=(ie.isMeshStandardMaterial?me:G).get(ie.envMap||Ie.environment),Ie.envMapRotation=Ie.environment!==null&&ie.envMap===null?Oe.environmentRotation:ie.envMapRotation,Gt===void 0&&(ie.addEventListener("dispose",kt),Gt=new Map,Ie.programs=Gt);let jt=Gt.get(Ot);if(jt!==void 0){if(Ie.currentProgram===jt&&Ie.lightsStateVersion===ht)return Kt(ie,xt),jt}else xt.uniforms=Je.getUniforms(ie),ie.onBeforeCompile(xt,S),jt=Je.acquireProgram(xt,Ot),Gt.set(Ot,jt),Ie.uniforms=xt.uniforms;const Ft=Ie.uniforms;return(!ie.isShaderMaterial&&!ie.isRawShaderMaterial||ie.clipping===!0)&&(Ft.clippingPlanes=nt.uniform),Kt(ie,xt),Ie.needsLights=bo(ie),Ie.lightsStateVersion=ht,Ie.needsLights&&(Ft.ambientLightColor.value=Ee.state.ambient,Ft.lightProbe.value=Ee.state.probe,Ft.directionalLights.value=Ee.state.directional,Ft.directionalLightShadows.value=Ee.state.directionalShadow,Ft.spotLights.value=Ee.state.spot,Ft.spotLightShadows.value=Ee.state.spotShadow,Ft.rectAreaLights.value=Ee.state.rectArea,Ft.ltc_1.value=Ee.state.rectAreaLTC1,Ft.ltc_2.value=Ee.state.rectAreaLTC2,Ft.pointLights.value=Ee.state.point,Ft.pointLightShadows.value=Ee.state.pointShadow,Ft.hemisphereLights.value=Ee.state.hemi,Ft.directionalShadowMap.value=Ee.state.directionalShadowMap,Ft.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,Ft.spotShadowMap.value=Ee.state.spotShadowMap,Ft.spotLightMatrix.value=Ee.state.spotLightMatrix,Ft.spotLightMap.value=Ee.state.spotLightMap,Ft.pointShadowMap.value=Ee.state.pointShadowMap,Ft.pointShadowMatrix.value=Ee.state.pointShadowMatrix),Ie.currentProgram=jt,Ie.uniformsList=null,jt}function vt(ie){if(ie.uniformsList===null){const Oe=ie.currentProgram.getUniforms();ie.uniformsList=Xp.seqWithValue(Oe.seq,ie.uniforms)}return ie.uniformsList}function Kt(ie,Oe){const fe=we.get(ie);fe.outputColorSpace=Oe.outputColorSpace,fe.batching=Oe.batching,fe.batchingColor=Oe.batchingColor,fe.instancing=Oe.instancing,fe.instancingColor=Oe.instancingColor,fe.instancingMorph=Oe.instancingMorph,fe.skinning=Oe.skinning,fe.morphTargets=Oe.morphTargets,fe.morphNormals=Oe.morphNormals,fe.morphColors=Oe.morphColors,fe.morphTargetsCount=Oe.morphTargetsCount,fe.numClippingPlanes=Oe.numClippingPlanes,fe.numIntersection=Oe.numClipIntersection,fe.vertexAlphas=Oe.vertexAlphas,fe.vertexTangents=Oe.vertexTangents,fe.toneMapping=Oe.toneMapping}function zn(ie,Oe,fe,Ie,Ee){Oe.isScene!==!0&&(Oe=X),J.resetTextureUnits();const Ke=Oe.fog,ht=Ie.isMeshStandardMaterial?Oe.environment:null,xt=T===null?S.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:eu,Ot=(Ie.isMeshStandardMaterial?me:G).get(Ie.envMap||ht),Gt=Ie.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,jt=!!fe.attributes.tangent&&(!!Ie.normalMap||Ie.anisotropy>0),Ft=!!fe.morphAttributes.position,pn=!!fe.morphAttributes.normal,yn=!!fe.morphAttributes.color;let Zn=si;Ie.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(Zn=S.toneMapping);const Vn=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,mn=Vn!==void 0?Vn.length:0,zt=we.get(Ie),ys=g.state.lights;if(ae===!0&&(ue===!0||ie!==E)){const Bs=ie===E&&Ie.id===x;nt.setState(Ie,ie,Bs)}let bn=!1;Ie.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==ys.state.version||zt.outputColorSpace!==xt||Ee.isBatchedMesh&&zt.batching===!1||!Ee.isBatchedMesh&&zt.batching===!0||Ee.isBatchedMesh&&zt.batchingColor===!0&&Ee.colorTexture===null||Ee.isBatchedMesh&&zt.batchingColor===!1&&Ee.colorTexture!==null||Ee.isInstancedMesh&&zt.instancing===!1||!Ee.isInstancedMesh&&zt.instancing===!0||Ee.isSkinnedMesh&&zt.skinning===!1||!Ee.isSkinnedMesh&&zt.skinning===!0||Ee.isInstancedMesh&&zt.instancingColor===!0&&Ee.instanceColor===null||Ee.isInstancedMesh&&zt.instancingColor===!1&&Ee.instanceColor!==null||Ee.isInstancedMesh&&zt.instancingMorph===!0&&Ee.morphTexture===null||Ee.isInstancedMesh&&zt.instancingMorph===!1&&Ee.morphTexture!==null||zt.envMap!==Ot||Ie.fog===!0&&zt.fog!==Ke||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==nt.numPlanes||zt.numIntersection!==nt.numIntersection)||zt.vertexAlphas!==Gt||zt.vertexTangents!==jt||zt.morphTargets!==Ft||zt.morphNormals!==pn||zt.morphColors!==yn||zt.toneMapping!==Zn||zt.morphTargetsCount!==mn)&&(bn=!0):(bn=!0,zt.__version=Ie.version);let Zr=zt.currentProgram;bn===!0&&(Zr=We(Ie,Oe,Ee));let Rl=!1,lr=!1,wu=!1;const Ln=Zr.getUniforms(),Ar=zt.uniforms;if(ve.useProgram(Zr.program)&&(Rl=!0,lr=!0,wu=!0),Ie.id!==x&&(x=Ie.id,lr=!0),Rl||E!==ie){ve.buffers.depth.getReversed()?(re.copy(ie.projectionMatrix),Yie(re),Xie(re),Ln.setValue(Q,"projectionMatrix",re)):Ln.setValue(Q,"projectionMatrix",ie.projectionMatrix),Ln.setValue(Q,"viewMatrix",ie.matrixWorldInverse);const Ys=Ln.map.cameraPosition;Ys!==void 0&&Ys.setValue(Q,ye.setFromMatrixPosition(ie.matrixWorld)),Te.logarithmicDepthBuffer&&Ln.setValue(Q,"logDepthBufFC",2/(Math.log(ie.far+1)/Math.LN2)),(Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshLambertMaterial||Ie.isMeshBasicMaterial||Ie.isMeshStandardMaterial||Ie.isShaderMaterial)&&Ln.setValue(Q,"isOrthographic",ie.isOrthographicCamera===!0),E!==ie&&(E=ie,lr=!0,wu=!0)}if(Ee.isSkinnedMesh){Ln.setOptional(Q,Ee,"bindMatrix"),Ln.setOptional(Q,Ee,"bindMatrixInverse");const Bs=Ee.skeleton;Bs&&(Bs.boneTexture===null&&Bs.computeBoneTexture(),Ln.setValue(Q,"boneTexture",Bs.boneTexture,J))}Ee.isBatchedMesh&&(Ln.setOptional(Q,Ee,"batchingTexture"),Ln.setValue(Q,"batchingTexture",Ee._matricesTexture,J),Ln.setOptional(Q,Ee,"batchingIdTexture"),Ln.setValue(Q,"batchingIdTexture",Ee._indirectTexture,J),Ln.setOptional(Q,Ee,"batchingColorTexture"),Ee._colorsTexture!==null&&Ln.setValue(Q,"batchingColorTexture",Ee._colorsTexture,J));const Er=fe.morphAttributes;if((Er.position!==void 0||Er.normal!==void 0||Er.color!==void 0)&&oe.update(Ee,fe,Zr),(lr||zt.receiveShadow!==Ee.receiveShadow)&&(zt.receiveShadow=Ee.receiveShadow,Ln.setValue(Q,"receiveShadow",Ee.receiveShadow)),Ie.isMeshGouraudMaterial&&Ie.envMap!==null&&(Ar.envMap.value=Ot,Ar.flipEnvMap.value=Ot.isCubeTexture&&Ot.isRenderTargetTexture===!1?-1:1),Ie.isMeshStandardMaterial&&Ie.envMap===null&&Oe.environment!==null&&(Ar.envMapIntensity.value=Oe.environmentIntensity),lr&&(Ln.setValue(Q,"toneMappingExposure",S.toneMappingExposure),zt.needsLights&&us(Ar,wu),Ke&&Ie.fog===!0&&je.refreshFogUniforms(Ar,Ke),je.refreshMaterialUniforms(Ar,Ie,L,N,g.state.transmissionRenderTarget[ie.id]),Xp.upload(Q,vt(zt),Ar,J)),Ie.isShaderMaterial&&Ie.uniformsNeedUpdate===!0&&(Xp.upload(Q,vt(zt),Ar,J),Ie.uniformsNeedUpdate=!1),Ie.isSpriteMaterial&&Ln.setValue(Q,"center",Ee.center),Ln.setValue(Q,"modelViewMatrix",Ee.modelViewMatrix),Ln.setValue(Q,"normalMatrix",Ee.normalMatrix),Ln.setValue(Q,"modelMatrix",Ee.matrixWorld),Ie.isShaderMaterial||Ie.isRawShaderMaterial){const Bs=Ie.uniformsGroups;for(let Ys=0,Dm=Bs.length;Ys<Dm;Ys++){const Ci=Bs[Ys];Ce.update(Ci,Zr),Ce.bind(Ci,Zr)}}return Zr}function us(ie,Oe){ie.ambientLightColor.needsUpdate=Oe,ie.lightProbe.needsUpdate=Oe,ie.directionalLights.needsUpdate=Oe,ie.directionalLightShadows.needsUpdate=Oe,ie.pointLights.needsUpdate=Oe,ie.pointLightShadows.needsUpdate=Oe,ie.spotLights.needsUpdate=Oe,ie.spotLightShadows.needsUpdate=Oe,ie.rectAreaLights.needsUpdate=Oe,ie.hemisphereLights.needsUpdate=Oe}function bo(ie){return ie.isMeshLambertMaterial||ie.isMeshToonMaterial||ie.isMeshPhongMaterial||ie.isMeshStandardMaterial||ie.isShadowMaterial||ie.isShaderMaterial&&ie.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(ie,Oe,fe){we.get(ie.texture).__webglTexture=Oe,we.get(ie.depthTexture).__webglTexture=fe;const Ie=we.get(ie);Ie.__hasExternalTextures=!0,Ie.__autoAllocateDepthBuffer=fe===void 0,Ie.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ie.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ie,Oe){const fe=we.get(ie);fe.__webglFramebuffer=Oe,fe.__useDefaultFramebuffer=Oe===void 0},this.setRenderTarget=function(ie,Oe=0,fe=0){T=ie,C=Oe,A=fe;let Ie=!0,Ee=null,Ke=!1,ht=!1;if(ie){const Ot=we.get(ie);if(Ot.__useDefaultFramebuffer!==void 0)ve.bindFramebuffer(Q.FRAMEBUFFER,null),Ie=!1;else if(Ot.__webglFramebuffer===void 0)J.setupRenderTarget(ie);else if(Ot.__hasExternalTextures)J.rebindTextures(ie,we.get(ie.texture).__webglTexture,we.get(ie.depthTexture).__webglTexture);else if(ie.depthBuffer){const Ft=ie.depthTexture;if(Ot.__boundDepthTexture!==Ft){if(Ft!==null&&we.has(Ft)&&(ie.width!==Ft.image.width||ie.height!==Ft.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");J.setupDepthRenderbuffer(ie)}}const Gt=ie.texture;(Gt.isData3DTexture||Gt.isDataArrayTexture||Gt.isCompressedArrayTexture)&&(ht=!0);const jt=we.get(ie).__webglFramebuffer;ie.isWebGLCubeRenderTarget?(Array.isArray(jt[Oe])?Ee=jt[Oe][fe]:Ee=jt[Oe],Ke=!0):ie.samples>0&&J.useMultisampledRTT(ie)===!1?Ee=we.get(ie).__webglMultisampledFramebuffer:Array.isArray(jt)?Ee=jt[fe]:Ee=jt,M.copy(ie.viewport),I.copy(ie.scissor),k=ie.scissorTest}else M.copy(W).multiplyScalar(L).floor(),I.copy(ee).multiplyScalar(L).floor(),k=Y;if(ve.bindFramebuffer(Q.FRAMEBUFFER,Ee)&&Ie&&ve.drawBuffers(ie,Ee),ve.viewport(M),ve.scissor(I),ve.setScissorTest(k),Ke){const Ot=we.get(ie.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,Ot.__webglTexture,fe)}else if(ht){const Ot=we.get(ie.texture),Gt=Oe||0;Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Ot.__webglTexture,fe||0,Gt)}x=-1},this.readRenderTargetPixels=function(ie,Oe,fe,Ie,Ee,Ke,ht){if(!(ie&&ie.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=we.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&ht!==void 0&&(xt=xt[ht]),xt){ve.bindFramebuffer(Q.FRAMEBUFFER,xt);try{const Ot=ie.texture,Gt=Ot.format,jt=Ot.type;if(!Te.textureFormatReadable(Gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Te.textureTypeReadable(jt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Oe>=0&&Oe<=ie.width-Ie&&fe>=0&&fe<=ie.height-Ee&&Q.readPixels(Oe,fe,Ie,Ee,ze.convert(Gt),ze.convert(jt),Ke)}finally{const Ot=T!==null?we.get(T).__webglFramebuffer:null;ve.bindFramebuffer(Q.FRAMEBUFFER,Ot)}}},this.readRenderTargetPixelsAsync=async function(ie,Oe,fe,Ie,Ee,Ke,ht){if(!(ie&&ie.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xt=we.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&ht!==void 0&&(xt=xt[ht]),xt){const Ot=ie.texture,Gt=Ot.format,jt=Ot.type;if(!Te.textureFormatReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Te.textureTypeReadable(jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Oe>=0&&Oe<=ie.width-Ie&&fe>=0&&fe<=ie.height-Ee){ve.bindFramebuffer(Q.FRAMEBUFFER,xt);const Ft=Q.createBuffer();Q.bindBuffer(Q.PIXEL_PACK_BUFFER,Ft),Q.bufferData(Q.PIXEL_PACK_BUFFER,Ke.byteLength,Q.STREAM_READ),Q.readPixels(Oe,fe,Ie,Ee,ze.convert(Gt),ze.convert(jt),0);const pn=T!==null?we.get(T).__webglFramebuffer:null;ve.bindFramebuffer(Q.FRAMEBUFFER,pn);const yn=Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return Q.flush(),await qie(Q,yn,4),Q.bindBuffer(Q.PIXEL_PACK_BUFFER,Ft),Q.getBufferSubData(Q.PIXEL_PACK_BUFFER,0,Ke),Q.deleteBuffer(Ft),Q.deleteSync(yn),Ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(ie,Oe=null,fe=0){ie.isTexture!==!0&&(ic("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Oe=arguments[0]||null,ie=arguments[1]);const Ie=Math.pow(2,-fe),Ee=Math.floor(ie.image.width*Ie),Ke=Math.floor(ie.image.height*Ie),ht=Oe!==null?Oe.x:0,xt=Oe!==null?Oe.y:0;J.setTexture2D(ie,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,fe,0,0,ht,xt,Ee,Ke),ve.unbindTexture()};const xr=Q.createFramebuffer(),So=Q.createFramebuffer();this.copyTextureToTexture=function(ie,Oe,fe=null,Ie=null,Ee=0,Ke=null){ie.isTexture!==!0&&(ic("WebGLRenderer: copyTextureToTexture function signature has changed."),Ie=arguments[0]||null,ie=arguments[1],Oe=arguments[2],Ke=arguments[3]||0,fe=null),Ke===null&&(Ee!==0?(ic("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ke=Ee,Ee=0):Ke=0);let ht,xt,Ot,Gt,jt,Ft,pn,yn,Zn;const Vn=ie.isCompressedTexture?ie.mipmaps[Ke]:ie.image;if(fe!==null)ht=fe.max.x-fe.min.x,xt=fe.max.y-fe.min.y,Ot=fe.isBox3?fe.max.z-fe.min.z:1,Gt=fe.min.x,jt=fe.min.y,Ft=fe.isBox3?fe.min.z:0;else{const Er=Math.pow(2,-Ee);ht=Math.floor(Vn.width*Er),xt=Math.floor(Vn.height*Er),ie.isDataArrayTexture?Ot=Vn.depth:ie.isData3DTexture?Ot=Math.floor(Vn.depth*Er):Ot=1,Gt=0,jt=0,Ft=0}Ie!==null?(pn=Ie.x,yn=Ie.y,Zn=Ie.z):(pn=0,yn=0,Zn=0);const mn=ze.convert(Oe.format),zt=ze.convert(Oe.type);let ys;Oe.isData3DTexture?(J.setTexture3D(Oe,0),ys=Q.TEXTURE_3D):Oe.isDataArrayTexture||Oe.isCompressedArrayTexture?(J.setTexture2DArray(Oe,0),ys=Q.TEXTURE_2D_ARRAY):(J.setTexture2D(Oe,0),ys=Q.TEXTURE_2D),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,Oe.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Oe.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,Oe.unpackAlignment);const bn=Q.getParameter(Q.UNPACK_ROW_LENGTH),Zr=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),Rl=Q.getParameter(Q.UNPACK_SKIP_PIXELS),lr=Q.getParameter(Q.UNPACK_SKIP_ROWS),wu=Q.getParameter(Q.UNPACK_SKIP_IMAGES);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Vn.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Vn.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Gt),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,jt),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Ft);const Ln=ie.isDataArrayTexture||ie.isData3DTexture,Ar=Oe.isDataArrayTexture||Oe.isData3DTexture;if(ie.isDepthTexture){const Er=we.get(ie),Bs=we.get(Oe),Ys=we.get(Er.__renderTarget),Dm=we.get(Bs.__renderTarget);ve.bindFramebuffer(Q.READ_FRAMEBUFFER,Ys.__webglFramebuffer),ve.bindFramebuffer(Q.DRAW_FRAMEBUFFER,Dm.__webglFramebuffer);for(let Ci=0;Ci<Ot;Ci++)Ln&&(Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,we.get(ie).__webglTexture,Ee,Ft+Ci),Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,we.get(Oe).__webglTexture,Ke,Zn+Ci)),Q.blitFramebuffer(Gt,jt,ht,xt,pn,yn,ht,xt,Q.DEPTH_BUFFER_BIT,Q.NEAREST);ve.bindFramebuffer(Q.READ_FRAMEBUFFER,null),ve.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else if(Ee!==0||ie.isRenderTargetTexture||we.has(ie)){const Er=we.get(ie),Bs=we.get(Oe);ve.bindFramebuffer(Q.READ_FRAMEBUFFER,xr),ve.bindFramebuffer(Q.DRAW_FRAMEBUFFER,So);for(let Ys=0;Ys<Ot;Ys++)Ln?Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Er.__webglTexture,Ee,Ft+Ys):Q.framebufferTexture2D(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Er.__webglTexture,Ee),Ar?Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Bs.__webglTexture,Ke,Zn+Ys):Q.framebufferTexture2D(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Bs.__webglTexture,Ke),Ee!==0?Q.blitFramebuffer(Gt,jt,ht,xt,pn,yn,ht,xt,Q.COLOR_BUFFER_BIT,Q.NEAREST):Ar?Q.copyTexSubImage3D(ys,Ke,pn,yn,Zn+Ys,Gt,jt,ht,xt):Q.copyTexSubImage2D(ys,Ke,pn,yn,Gt,jt,ht,xt);ve.bindFramebuffer(Q.READ_FRAMEBUFFER,null),ve.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else Ar?ie.isDataTexture||ie.isData3DTexture?Q.texSubImage3D(ys,Ke,pn,yn,Zn,ht,xt,Ot,mn,zt,Vn.data):Oe.isCompressedArrayTexture?Q.compressedTexSubImage3D(ys,Ke,pn,yn,Zn,ht,xt,Ot,mn,Vn.data):Q.texSubImage3D(ys,Ke,pn,yn,Zn,ht,xt,Ot,mn,zt,Vn):ie.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,Ke,pn,yn,ht,xt,mn,zt,Vn.data):ie.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,Ke,pn,yn,Vn.width,Vn.height,mn,Vn.data):Q.texSubImage2D(Q.TEXTURE_2D,Ke,pn,yn,ht,xt,mn,zt,Vn);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,bn),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Zr),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Rl),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,lr),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,wu),Ke===0&&Oe.generateMipmaps&&Q.generateMipmap(ys),ve.unbindTexture()},this.copyTextureToTexture3D=function(ie,Oe,fe=null,Ie=null,Ee=0){return ie.isTexture!==!0&&(ic("WebGLRenderer: copyTextureToTexture3D function signature has changed."),fe=arguments[0]||null,Ie=arguments[1]||null,ie=arguments[2],Oe=arguments[3],Ee=arguments[4]||0),ic('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(ie,Oe,fe,Ie,Ee)},this.initRenderTarget=function(ie){we.get(ie).__webglFramebuffer===void 0&&J.setupRenderTarget(ie)},this.initTexture=function(ie){ie.isCubeTexture?J.setTextureCube(ie,0):ie.isData3DTexture?J.setTexture3D(ie,0):ie.isDataArrayTexture||ie.isCompressedArrayTexture?J.setTexture2DArray(ie,0):J.setTexture2D(ie,0),ve.unbindTexture()},this.resetState=function(){C=0,A=0,T=null,ve.reset(),ut.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return aa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=vn._getDrawingBufferColorSpace(e),n.unpackColorSpace=vn._getUnpackColorSpace()}}const Wi=class Wi{constructor(e,n){let s,r;this.promise=new Promise((c,u)=>{s=c,r=u});const o=s.bind(this),a=r.bind(this),i=(...c)=>{o(...c)},l=c=>{a(c)};e(i.bind(this),l.bind(this)),this.abortHandler=n,this.id=Wi.idGen++}then(e){return new Wi((n,s)=>{this.promise=this.promise.then((...r)=>{const o=e(...r);o instanceof Promise||o instanceof Wi?o.then((...a)=>{n(...a)}):n(o)}).catch(r=>{s(r)})},this.abortHandler)}catch(e){return new Wi(n=>{this.promise=this.promise.then((...s)=>{n(...s)}).catch(e)},this.abortHandler)}abort(e){this.abortHandler&&this.abortHandler(e)}};mt(Wi,"idGen",0);let $d=Wi;class MP extends Error{constructor(e){super(e)}}(function(){const t=new Float32Array(1),e=new Int32Array(t.buffer);return function(n){t[0]=n;const s=e[0];let r=s>>16&32768,o=s>>12&2047;const a=s>>23&255;return a<103?r:a>142?(r|=31744,r|=(a==255?0:1)&&s&8388607,r):a<113?(o|=2048,r|=(o>>114-a)+(o>>113-a&1),r):(r|=a-112<<10|o>>1,r+=o&1,r)}})();const Xv=function(){const t=new Float32Array(1),e=new Int32Array(t.buffer);return function(n){return t[0]=n,e[0]}}(),fpe=function(t,e){return t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24)},Pm=function(t,e,n=!0,s){const r=new AbortController,o=r.signal;let a=!1;const i=u=>{r.abort(u),a=!0};let l=!1;const c=(u,d,h,p)=>{e&&!l&&(e(u,d,h,p),u===100&&(l=!0))};return new $d((u,d)=>{const h={signal:o};s&&(h.headers=s),fetch(t,h).then(async p=>{if(!p.ok){const b=await p.text();d(new Error(`Fetch failed: ${p.status} ${p.statusText} ${b}`));return}const v=p.body.getReader();let m=0,y=p.headers.get("Content-Length"),g=y?parseInt(y):void 0;const _=[];for(;!a;)try{const{value:b,done:S}=await v.read();if(S){if(c(100,"100%",b,g),n){const A=new Blob(_).arrayBuffer();u(A)}else u();break}m+=b.length;let w,C;g!==void 0&&(w=m/g*100,C=`${w.toFixed(2)}%`),n&&_.push(b),c(w,C,b,g)}catch(b){d(b);return}}).catch(p=>{d(new MP(p))})},i)},Bn=function(t,e,n){return Math.max(Math.min(t,n),e)},ec=function(){return performance.now()/1e3},lc=t=>{if(t.geometry&&(t.geometry.dispose(),t.geometry=null),t.material&&(t.material.dispose(),t.material=null),t.children)for(let e of t.children)lc(e)},vr=(t,e)=>new Promise(n=>{window.setTimeout(()=>{n(t?t():void 0)},e?1:50)}),Ec=(t=0)=>{let e=0;if(t===1)e=9;else if(t===2)e=24;else if(t===3)e=45;else if(t>3)throw new Error("getSphericalHarmonicsComponentCountForDegree() -> Invalid spherical harmonics degree");return e},qS=()=>{let t,e;return{promise:new Promise((s,r)=>{t=s,e=r}),resolve:t,reject:e}},Qv=t=>{let e,n;return t||(t=()=>{}),{promise:new $d((r,o)=>{e=r,n=o},t),resolve:e,reject:n}};class ppe{constructor(e,n,s){this.major=e,this.minor=n,this.patch=s}toString(){return`${this.major}_${this.minor}_${this.patch}`}}function YS(){const t=navigator.userAgent;return t.indexOf("iPhone")>0||t.indexOf("iPad")>0}function IP(){if(YS()){const t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return new ppe(parseInt(t[1]||0,10),parseInt(t[2]||0,10),parseInt(t[3]||0,10))}else return null}const hpe=14,rd=class rd{constructor(e=0){this.sphericalHarmonicsDegree=e,this.sphericalHarmonicsCount=Ec(this.sphericalHarmonicsDegree),this.componentCount=this.sphericalHarmonicsCount+hpe,this.defaultSphericalHarmonics=new Array(this.sphericalHarmonicsCount).fill(0),this.splats=[],this.splatCount=0}static createSplat(e=0){const n=[0,0,0,1,1,1,1,0,0,0,0,0,0,0];let s=Ec(e);for(let r=0;r<s;r++)n.push(0);return n}addSplat(e){this.splats.push(e),this.splatCount++}getSplat(e){return this.splats[e]}addDefaultSplat(){const e=rd.createSplat(this.sphericalHarmonicsDegree);return this.addSplat(e),e}addSplatFromComonents(e,n,s,r,o,a,i,l,c,u,d,h,p,v,...m){const y=[e,n,s,r,o,a,i,l,c,u,d,h,p,v,...this.defaultSphericalHarmonics];for(let g=0;g<m.length&&g<this.sphericalHarmonicsCount;g++)y[g]=m[g];return this.addSplat(y),y}addSplatFromArray(e,n){const s=e.splats[n],r=rd.createSplat(this.sphericalHarmonicsDegree);for(let o=0;o<this.componentCount&&o<s.length;o++)r[o]=s[o];this.addSplat(r)}};mt(rd,"OFFSET",{X:0,Y:1,Z:2,SCALE0:3,SCALE1:4,SCALE2:5,ROTATION0:6,ROTATION1:7,ROTATION2:8,ROTATION3:9,FDC0:10,FDC1:11,FDC2:12,OPACITY:13,FRC0:14,FRC1:15,FRC2:16,FRC3:17,FRC4:18,FRC5:19,FRC6:20,FRC7:21,FRC8:22,FRC9:23,FRC10:24,FRC11:25,FRC12:26,FRC13:27,FRC14:28,FRC15:29,FRC16:30,FRC17:31,FRC18:32,FRC19:33,FRC20:34,FRC21:35,FRC22:36,FRC23:37});let bt=rd;class an{}mt(an,"DefaultSplatSortDistanceMapPrecision",16),mt(an,"MemoryPageSize",65536),mt(an,"BytesPerFloat",4),mt(an,"BytesPerInt",4),mt(an,"MaxScenes",32),mt(an,"ProgressiveLoadSectionSize",262144),mt(an,"ProgressiveLoadSectionDelayDuration",15),mt(an,"SphericalHarmonics8BitCompressionRange",3);const mpe=an.SphericalHarmonics8BitCompressionRange,ap=mpe/2,ts=Ud.toHalfFloat.bind(Ud),XS=Ud.fromHalfFloat.bind(Ud),On=(t,e,n=!1,s,r)=>{if(e===0)return t;if(e===1||e===2&&!n)return Ud.fromHalfFloat(t);if(e===2)return QS(t,s,r)},ed=(t,e,n)=>{t=Bn(t,e,n);const s=n-e;return Bn(Math.floor((t-e)/s*255),0,255)},QS=(t,e,n)=>{const s=n-e;return t/255*s+e},RP=(t,e,n)=>ed(XS(t,e,n)),vpe=(t,e,n)=>ts(QS(t,e,n)),Sn=(t,e,n,s=!1)=>n===0?t.getFloat32(e*4,!0):n===1||n===2&&!s?t.getUint16(e*2,!0):t.getUint8(e,!0),gpe=function(){const t=e=>e;return function(e,n,s,r=!1){if(n===s)return e;let o=t;return n===2&&r?s===1?o=vpe:s==0&&(o=QS):n===2||n===1?s===0?o=XS:s==2&&(r?o=RP:o=t):n===0&&(s===1?o=ts:s==2&&(r?o=ed:o=ts)),o(e)}}(),tc=(t,e,n,s,r=0)=>{const o=new Uint8Array(t,e),a=new Uint8Array(n,s);for(let i=0;i<r;i++)a[i]=o[i]},Xe=class Xe{constructor(e,n=!0){mt(this,"getSplatScaleAndRotation",function(){const e=new Wt,n=new Wt,s=new Wt,r=new Se,o=new Se,a=new Nn;return function(i,l,c,u,d){const h=this.globalSplatIndexToSectionMap[i],p=this.sections[h],v=i-p.splatCountOffset,m=p.bytesPerSplat*v+Xe.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,y=new DataView(this.bufferData,p.dataBase+m);o.set(On(Sn(y,0,this.compressionLevel),this.compressionLevel),On(Sn(y,1,this.compressionLevel),this.compressionLevel),On(Sn(y,2,this.compressionLevel),this.compressionLevel)),d&&(d.x!==void 0&&(o.x=d.x),d.y!==void 0&&(o.y=d.y),d.z!==void 0&&(o.z=d.z)),a.set(On(Sn(y,4,this.compressionLevel),this.compressionLevel),On(Sn(y,5,this.compressionLevel),this.compressionLevel),On(Sn(y,6,this.compressionLevel),this.compressionLevel),On(Sn(y,3,this.compressionLevel),this.compressionLevel)),u?(e.makeScale(o.x,o.y,o.z),n.makeRotationFromQuaternion(a),s.copy(e).multiply(n).multiply(u),s.decompose(r,c,l)):(l.copy(o),c.copy(a))}}());mt(this,"fillSplatScaleRotationArray",function(){const e=new Wt,n=new Wt,s=new Wt,r=new Se,o=new Nn,a=new Se,i=l=>{const c=l.w<0?-1:1;l.x*=c,l.y*=c,l.z*=c,l.w*=c};return function(l,c,u,d,h,p,v,m){const y=this.splatCount;d=d||0,h=h||y-1,p===void 0&&(p=d);const g=(_,b)=>gpe(_,b,v);for(let _=d;_<=h;_++){const b=this.globalSplatIndexToSectionMap[_],S=this.sections[b],w=_-S.splatCountOffset,C=S.bytesPerSplat*w+Xe.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,A=(_-d+p)*Xe.ScaleComponentCount,T=(_-d+p)*Xe.RotationComponentCount,x=new DataView(this.bufferData,S.dataBase+C),E=m&&m.x!==void 0?m.x:Sn(x,0,this.compressionLevel),M=m&&m.y!==void 0?m.y:Sn(x,1,this.compressionLevel),I=m&&m.z!==void 0?m.z:Sn(x,2,this.compressionLevel),k=Sn(x,3,this.compressionLevel),U=Sn(x,4,this.compressionLevel),B=Sn(x,5,this.compressionLevel),P=Sn(x,6,this.compressionLevel);r.set(On(E,this.compressionLevel),On(M,this.compressionLevel),On(I,this.compressionLevel)),o.set(On(U,this.compressionLevel),On(B,this.compressionLevel),On(P,this.compressionLevel),On(k,this.compressionLevel)).normalize(),u&&(a.set(0,0,0),e.makeScale(r.x,r.y,r.z),n.makeRotationFromQuaternion(o),s.identity().premultiply(e).premultiply(n),s.premultiply(u),s.decompose(a,o,r),o.normalize()),i(o),l&&(l[A]=g(r.x,0),l[A+1]=g(r.y,0),l[A+2]=g(r.z,0)),c&&(c[T]=g(o.x,0),c[T+1]=g(o.y,0),c[T+2]=g(o.z,0),c[T+3]=g(o.w,0))}}}());mt(this,"fillSphericalHarmonicsArray",function(){for(let U=0;U<15;U++)new Se;const e=new Ht,n=new Wt,s=new Se,r=new Se,o=new Nn,a=[],i=[],l=[],c=[],u=[],d=[],h=[],p=[],v=[],m=[],y=[],g=[],_=[],b=[],S=[],w=[],C=[],A=[],T=U=>U,x=(U,B,P,N)=>{U[0]=B,U[1]=P,U[2]=N},E=(U,B,P,N,L)=>{U[0]=Sn(B,N,L,!0),U[1]=Sn(B,N+P,L,!0),U[2]=Sn(B,N+P+P,L,!0)},M=(U,B)=>{B[0]=U[0],B[1]=U[1],B[2]=U[2]},I=(U,B,P,N)=>{B[P]=N(U[0]),B[P+1]=N(U[1]),B[P+2]=N(U[2])},k=(U,B,P,N,L)=>(B[0]=On(U[0],P,!0,N,L),B[1]=On(U[1],P,!0,N,L),B[2]=On(U[2],P,!0,N,L),B);return function(U,B,P,N,L,O,$){const W=this.splatCount;N=N||0,L=L||W-1,O===void 0&&(O=N),P&&B>=1&&(n.copy(P),n.decompose(s,o,r),o.normalize(),n.makeRotationFromQuaternion(o),e.setFromMatrix4(n),x(a,e.elements[4],-e.elements[7],e.elements[1]),x(i,-e.elements[5],e.elements[8],-e.elements[2]),x(l,e.elements[3],-e.elements[6],e.elements[0]));const ee=Z=>RP(Z,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff),Y=Z=>ed(Z,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff);for(let Z=N;Z<=L;Z++){const ae=this.globalSplatIndexToSectionMap[Z],ue=this.sections[ae];B=Math.min(B,ue.sphericalHarmonicsDegree);const re=Ec(B),ge=Z-ue.splatCountOffset,ye=ue.bytesPerSplat*ge+Xe.CompressionLevels[this.compressionLevel].SphericalHarmonicsOffsetBytes,Fe=new DataView(this.bufferData,ue.dataBase+ye),X=(Z-N+O)*re;let V=P?0:this.compressionLevel,ce=T;V!==$&&(V===1?$===0?ce=XS:$==2&&(ce=ee):V===0&&($===1?ce=ts:$==2&&(ce=Y)));const Q=this.minSphericalHarmonicsCoeff,Me=this.maxSphericalHarmonicsCoeff;B>=1&&(E(v,Fe,3,0,this.compressionLevel),E(m,Fe,3,1,this.compressionLevel),E(y,Fe,3,2,this.compressionLevel),P?(k(v,v,this.compressionLevel,Q,Me),k(m,m,this.compressionLevel,Q,Me),k(y,y,this.compressionLevel,Q,Me),Xe.rotateSphericalHarmonics3(v,m,y,a,i,l,b,S,w)):(M(v,b),M(m,S),M(y,w)),I(b,U,X,ce),I(S,U,X+3,ce),I(w,U,X+6,ce),B>=2&&(E(v,Fe,5,9,this.compressionLevel),E(m,Fe,5,10,this.compressionLevel),E(y,Fe,5,11,this.compressionLevel),E(g,Fe,5,12,this.compressionLevel),E(_,Fe,5,13,this.compressionLevel),P?(k(v,v,this.compressionLevel,Q,Me),k(m,m,this.compressionLevel,Q,Me),k(y,y,this.compressionLevel,Q,Me),k(g,g,this.compressionLevel,Q,Me),k(_,_,this.compressionLevel,Q,Me),Xe.rotateSphericalHarmonics5(v,m,y,g,_,a,i,l,c,u,d,h,p,b,S,w,C,A)):(M(v,b),M(m,S),M(y,w),M(g,C),M(_,A)),I(b,U,X+9,ce),I(S,U,X+12,ce),I(w,U,X+15,ce),I(C,U,X+18,ce),I(A,U,X+21,ce)))}}}());this.constructFromBuffer(e,n)}getSplatCount(){return this.splatCount}getMaxSplatCount(){return this.maxSplatCount}getMinSphericalHarmonicsDegree(){let e=0;for(let n=0;n<this.sections.length;n++){const s=this.sections[n];(n===0||s.sphericalHarmonicsDegree<e)&&(e=s.sphericalHarmonicsDegree)}return e}getBucketIndex(e,n){let s;const r=e.fullBucketCount*e.bucketSize;if(n<r)s=Math.floor(n/e.bucketSize);else{let o=r;s=e.fullBucketCount;let a=0;for(;o<e.splatCount;){let i=e.partiallyFilledBucketLengths[a];if(n>=o&&n<o+i)break;o+=i,s++,a++}}return s}getSplatCenter(e,n,s){const r=this.globalSplatIndexToSectionMap[e],o=this.sections[r],a=e-o.splatCountOffset,i=o.bytesPerSplat*a,l=new DataView(this.bufferData,o.dataBase+i),c=Sn(l,0,this.compressionLevel),u=Sn(l,1,this.compressionLevel),d=Sn(l,2,this.compressionLevel);if(this.compressionLevel>=1){const p=this.getBucketIndex(o,a)*Xe.BucketStorageSizeFloats,v=o.compressionScaleFactor,m=o.compressionScaleRange;n.x=(c-m)*v+o.bucketArray[p],n.y=(u-m)*v+o.bucketArray[p+1],n.z=(d-m)*v+o.bucketArray[p+2]}else n.x=c,n.y=u,n.z=d;s&&n.applyMatrix4(s)}getSplatColor(e,n){const s=this.globalSplatIndexToSectionMap[e],r=this.sections[s],o=e-r.splatCountOffset,a=r.bytesPerSplat*o+Xe.CompressionLevels[this.compressionLevel].ColorOffsetBytes,i=new Uint8Array(this.bufferData,r.dataBase+a,4);n.set(i[0],i[1],i[2],i[3])}fillSplatCenterArray(e,n,s,r,o){const a=this.splatCount;s=s||0,r=r||a-1,o===void 0&&(o=s);const i=new Se;for(let l=s;l<=r;l++){const c=this.globalSplatIndexToSectionMap[l],u=this.sections[c],d=l-u.splatCountOffset,h=(l-s+o)*Xe.CenterComponentCount,p=u.bytesPerSplat*d,v=new DataView(this.bufferData,u.dataBase+p),m=Sn(v,0,this.compressionLevel),y=Sn(v,1,this.compressionLevel),g=Sn(v,2,this.compressionLevel);if(this.compressionLevel>=1){const b=this.getBucketIndex(u,d)*Xe.BucketStorageSizeFloats,S=u.compressionScaleFactor,w=u.compressionScaleRange;i.x=(m-w)*S+u.bucketArray[b],i.y=(y-w)*S+u.bucketArray[b+1],i.z=(g-w)*S+u.bucketArray[b+2]}else i.x=m,i.y=y,i.z=g;n&&i.applyMatrix4(n),e[h]=i.x,e[h+1]=i.y,e[h+2]=i.z}}fillSplatCovarianceArray(e,n,s,r,o,a){const i=this.splatCount,l=new Se,c=new Nn;s=s||0,r=r||i-1,o===void 0&&(o=s);for(let u=s;u<=r;u++){const d=this.globalSplatIndexToSectionMap[u],h=this.sections[d],p=u-h.splatCountOffset,v=(u-s+o)*Xe.CovarianceComponentCount,m=h.bytesPerSplat*p+Xe.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,y=new DataView(this.bufferData,h.dataBase+m);l.set(On(Sn(y,0,this.compressionLevel),this.compressionLevel),On(Sn(y,1,this.compressionLevel),this.compressionLevel),On(Sn(y,2,this.compressionLevel),this.compressionLevel)),c.set(On(Sn(y,4,this.compressionLevel),this.compressionLevel),On(Sn(y,5,this.compressionLevel),this.compressionLevel),On(Sn(y,6,this.compressionLevel),this.compressionLevel),On(Sn(y,3,this.compressionLevel),this.compressionLevel)),Xe.computeCovariance(l,c,n,e,v,a)}}fillSplatColorArray(e,n,s,r,o){const a=this.splatCount;s=s||0,r=r||a-1,o===void 0&&(o=s);for(let i=s;i<=r;i++){const l=this.globalSplatIndexToSectionMap[i],c=this.sections[l],u=i-c.splatCountOffset,d=(i-s+o)*Xe.ColorComponentCount,h=c.bytesPerSplat*u+Xe.CompressionLevels[this.compressionLevel].ColorOffsetBytes,p=new Uint8Array(this.bufferData,c.dataBase+h);let v=p[3];v=v>=n?v:0,e[d]=p[0],e[d+1]=p[1],e[d+2]=p[2],e[d+3]=v}}static parseHeader(e){const n=new Uint8Array(e,0,Xe.HeaderSizeBytes),s=new Uint16Array(e,0,Xe.HeaderSizeBytes/2),r=new Uint32Array(e,0,Xe.HeaderSizeBytes/4),o=new Float32Array(e,0,Xe.HeaderSizeBytes/4),a=n[0],i=n[1],l=r[1],c=r[2],u=r[3],d=r[4],h=s[10],p=new Se(o[6],o[7],o[8]),v=o[9]||-1.5,m=o[10]||ap;return{versionMajor:a,versionMinor:i,maxSectionCount:l,sectionCount:c,maxSplatCount:u,splatCount:d,compressionLevel:h,sceneCenter:p,minSphericalHarmonicsCoeff:v,maxSphericalHarmonicsCoeff:m}}static writeHeaderCountsToBuffer(e,n,s){const r=new Uint32Array(s,0,Xe.HeaderSizeBytes/4);r[2]=e,r[4]=n}static writeHeaderToBuffer(e,n){const s=new Uint8Array(n,0,Xe.HeaderSizeBytes),r=new Uint16Array(n,0,Xe.HeaderSizeBytes/2),o=new Uint32Array(n,0,Xe.HeaderSizeBytes/4),a=new Float32Array(n,0,Xe.HeaderSizeBytes/4);s[0]=e.versionMajor,s[1]=e.versionMinor,s[2]=0,s[3]=0,o[1]=e.maxSectionCount,o[2]=e.sectionCount,o[3]=e.maxSplatCount,o[4]=e.splatCount,r[10]=e.compressionLevel,a[6]=e.sceneCenter.x,a[7]=e.sceneCenter.y,a[8]=e.sceneCenter.z,a[9]=e.minSphericalHarmonicsCoeff||-1.5,a[10]=e.maxSphericalHarmonicsCoeff||ap}static parseSectionHeaders(e,n,s=0,r){const o=e.compressionLevel,a=e.maxSectionCount,i=new Uint16Array(n,s,a*Xe.SectionHeaderSizeBytes/2),l=new Uint32Array(n,s,a*Xe.SectionHeaderSizeBytes/4),c=new Float32Array(n,s,a*Xe.SectionHeaderSizeBytes/4),u=[];let d=0,h=d/2,p=d/4,v=Xe.HeaderSizeBytes+e.maxSectionCount*Xe.SectionHeaderSizeBytes,m=0;for(let y=0;y<a;y++){const g=l[p+1],_=l[p+2],b=l[p+3],S=c[p+4],w=S/2,C=i[h+10],A=l[p+6]||Xe.CompressionLevels[o].ScaleRange,T=l[p+8],x=l[p+9],E=x*4,M=C*b+E,I=i[h+20],{bytesPerSplat:k}=Xe.calculateComponentStorage(o,I),U=k*g,B=U+M,P={bytesPerSplat:k,splatCountOffset:m,splatCount:r?g:0,maxSplatCount:g,bucketSize:_,bucketCount:b,bucketBlockSize:S,halfBucketBlockSize:w,bucketStorageSizeBytes:C,bucketsStorageSizeBytes:M,splatDataStorageSizeBytes:U,storageSizeBytes:B,compressionScaleRange:A,compressionScaleFactor:w/A,base:v,bucketsBase:v+E,dataBase:v+M,fullBucketCount:T,partiallyFilledBucketCount:x,sphericalHarmonicsDegree:I};u[y]=P,v+=B,d+=Xe.SectionHeaderSizeBytes,h=d/2,p=d/4,m+=g}return u}static writeSectionHeaderToBuffer(e,n,s,r=0){const o=new Uint16Array(s,r,Xe.SectionHeaderSizeBytes/2),a=new Uint32Array(s,r,Xe.SectionHeaderSizeBytes/4),i=new Float32Array(s,r,Xe.SectionHeaderSizeBytes/4);a[0]=e.splatCount,a[1]=e.maxSplatCount,a[2]=n>=1?e.bucketSize:0,a[3]=n>=1?e.bucketCount:0,i[4]=n>=1?e.bucketBlockSize:0,o[10]=n>=1?Xe.BucketStorageSizeBytes:0,a[6]=n>=1?e.compressionScaleRange:0,a[7]=e.storageSizeBytes,a[8]=n>=1?e.fullBucketCount:0,a[9]=n>=1?e.partiallyFilledBucketCount:0,o[20]=e.sphericalHarmonicsDegree}static writeSectionHeaderSplatCountToBuffer(e,n,s=0){const r=new Uint32Array(n,s,Xe.SectionHeaderSizeBytes/4);r[0]=e}constructFromBuffer(e,n){this.bufferData=e,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSectionMap=[];const s=Xe.parseHeader(this.bufferData);this.versionMajor=s.versionMajor,this.versionMinor=s.versionMinor,this.maxSectionCount=s.maxSectionCount,this.sectionCount=n?s.maxSectionCount:0,this.maxSplatCount=s.maxSplatCount,this.splatCount=n?s.maxSplatCount:0,this.compressionLevel=s.compressionLevel,this.sceneCenter=new Se().copy(s.sceneCenter),this.minSphericalHarmonicsCoeff=s.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff=s.maxSphericalHarmonicsCoeff,this.sections=Xe.parseSectionHeaders(s,this.bufferData,Xe.HeaderSizeBytes,n),this.linkBufferArrays(),this.buildMaps()}static calculateComponentStorage(e,n){const s=Xe.CompressionLevels[e].BytesPerCenter,r=Xe.CompressionLevels[e].BytesPerScale,o=Xe.CompressionLevels[e].BytesPerRotation,a=Xe.CompressionLevels[e].BytesPerColor,i=Ec(n),l=Xe.CompressionLevels[e].BytesPerSphericalHarmonicsComponent*i,c=s+r+o+a+l;return{bytesPerCenter:s,bytesPerScale:r,bytesPerRotation:o,bytesPerColor:a,sphericalHarmonicsComponentsPerSplat:i,sphericalHarmonicsBytesPerSplat:l,bytesPerSplat:c}}linkBufferArrays(){for(let e=0;e<this.maxSectionCount;e++){const n=this.sections[e];n.bucketArray=new Float32Array(this.bufferData,n.bucketsBase,n.bucketCount*Xe.BucketStorageSizeFloats),n.partiallyFilledBucketCount>0&&(n.partiallyFilledBucketLengths=new Uint32Array(this.bufferData,n.base,n.partiallyFilledBucketCount))}}buildMaps(){let e=0;for(let n=0;n<this.maxSectionCount;n++){const s=this.sections[n];for(let r=0;r<s.maxSplatCount;r++){const o=e+r;this.globalSplatIndexToLocalSplatIndexMap[o]=r,this.globalSplatIndexToSectionMap[o]=n}e+=s.maxSplatCount}}updateLoadedCounts(e,n){Xe.writeHeaderCountsToBuffer(e,n,this.bufferData),this.sectionCount=e,this.splatCount=n}updateSectionLoadedCounts(e,n){const s=Xe.HeaderSizeBytes+Xe.SectionHeaderSizeBytes*e;Xe.writeSectionHeaderSplatCountToBuffer(n,this.bufferData,s),this.sections[e].splatCount=n}static generateFromUncompressedSplatArrays(e,n,s,r,o,a,i=[]){let l=0;for(let w=0;w<e.length;w++){const C=e[w];l=Math.max(C.sphericalHarmonicsDegree,l)}let c,u;for(let w=0;w<e.length;w++){const C=e[w];for(let A=0;A<C.splats.length;A++){const T=C.splats[A];for(let x=bt.OFFSET.FRC0;x<bt.OFFSET.FRC23&&x<T.length;x++)(!c||T[x]<c)&&(c=T[x]),(!u||T[x]>u)&&(u=T[x])}}c=c||-1.5,u=u||ap;const{bytesPerSplat:d}=Xe.calculateComponentStorage(s,l),h=Xe.CompressionLevels[s].ScaleRange,p=[],v=[];let m=0;for(let w=0;w<e.length;w++){const C=e[w],A=new bt(l);for(let ae=0;ae<C.splatCount;ae++){const ue=C.splats[ae];(ue[bt.OFFSET.OPACITY]||0)>=n&&A.addSplat(ue)}const T=i[w]||{},x=(T.blockSizeFactor||1)*(o||Xe.BucketBlockSize),E=Math.ceil((T.bucketSizeFactor||1)*(a||Xe.BucketSize)),M=Xe.computeBucketsForUncompressedSplatArray(A,x,E),I=M.fullBuckets.length,k=M.partiallyFullBuckets.map(ae=>ae.splats.length),U=k.length,B=[...M.fullBuckets,...M.partiallyFullBuckets],P=A.splats.length*d,N=U*4,L=s>=1?B.length*Xe.BucketStorageSizeBytes+N:0,O=P+L,$=new ArrayBuffer(O),W=h/(x*.5),ee=new Se;let Y=0;for(let ae=0;ae<B.length;ae++){const ue=B[ae];ee.fromArray(ue.center);for(let re=0;re<ue.splats.length;re++){let ge=ue.splats[re];const ye=A.splats[ge],Fe=L+Y*d;Xe.writeSplatDataToSectionBuffer(ye,$,Fe,s,l,ee,W,h,c,u),Y++}}if(m+=Y,s>=1){const ae=new Uint32Array($,0,k.length*4);for(let re=0;re<k.length;re++)ae[re]=k[re];const ue=new Float32Array($,N,B.length*Xe.BucketStorageSizeFloats);for(let re=0;re<B.length;re++){const ge=B[re],ye=re*3;ue[ye]=ge.center[0],ue[ye+1]=ge.center[1],ue[ye+2]=ge.center[2]}}p.push($);const Z=new ArrayBuffer(Xe.SectionHeaderSizeBytes);Xe.writeSectionHeaderToBuffer({maxSplatCount:Y,splatCount:Y,bucketSize:E,bucketCount:B.length,bucketBlockSize:x,compressionScaleRange:h,storageSizeBytes:O,fullBucketCount:I,partiallyFilledBucketCount:U,sphericalHarmonicsDegree:l},s,Z,0),v.push(Z)}let y=0;for(let w of p)y+=w.byteLength;const g=Xe.HeaderSizeBytes+Xe.SectionHeaderSizeBytes*p.length+y,_=new ArrayBuffer(g);Xe.writeHeaderToBuffer({versionMajor:0,versionMinor:1,maxSectionCount:p.length,sectionCount:p.length,maxSplatCount:m,splatCount:m,compressionLevel:s,sceneCenter:r,minSphericalHarmonicsCoeff:c,maxSphericalHarmonicsCoeff:u},_);let b=Xe.HeaderSizeBytes;for(let w of v)new Uint8Array(_,b,Xe.SectionHeaderSizeBytes).set(new Uint8Array(w)),b+=Xe.SectionHeaderSizeBytes;for(let w of p)new Uint8Array(_,b,w.byteLength).set(new Uint8Array(w)),b+=w.byteLength;return new Xe(_)}static computeBucketsForUncompressedSplatArray(e,n,s){let r=e.splatCount;const o=n/2,a=new Se,i=new Se;for(let m=0;m<r;m++){const y=e.splats[m],g=[y[bt.OFFSET.X],y[bt.OFFSET.Y],y[bt.OFFSET.Z]];(m===0||g[0]<a.x)&&(a.x=g[0]),(m===0||g[0]>i.x)&&(i.x=g[0]),(m===0||g[1]<a.y)&&(a.y=g[1]),(m===0||g[1]>i.y)&&(i.y=g[1]),(m===0||g[2]<a.z)&&(a.z=g[2]),(m===0||g[2]>i.z)&&(i.z=g[2])}const l=new Se().copy(i).sub(a),c=Math.ceil(l.y/n),u=Math.ceil(l.z/n),d=new Se,h=[],p={};for(let m=0;m<r;m++){const y=e.splats[m],g=[y[bt.OFFSET.X],y[bt.OFFSET.Y],y[bt.OFFSET.Z]],_=Math.floor((g[0]-a.x)/n),b=Math.floor((g[1]-a.y)/n),S=Math.floor((g[2]-a.z)/n);d.x=_*n+a.x+o,d.y=b*n+a.y+o,d.z=S*n+a.z+o;const w=_*(c*u)+b*u+S;let C=p[w];C||(p[w]=C={splats:[],center:d.toArray()}),C.splats.push(m),C.splats.length>=s&&(h.push(C),p[w]=null)}const v=[];for(let m in p)if(p.hasOwnProperty(m)){const y=p[m];y&&v.push(y)}return{fullBuckets:h,partiallyFullBuckets:v}}static preallocateUncompressed(e,n){const s=Xe.CompressionLevels[0].SphericalHarmonicsDegrees[n],r=Xe.HeaderSizeBytes+Xe.SectionHeaderSizeBytes,o=r+s.BytesPerSplat*e,a=new ArrayBuffer(o);return Xe.writeHeaderToBuffer({versionMajor:Xe.CurrentMajorVersion,versionMinor:Xe.CurrentMinorVersion,maxSectionCount:1,sectionCount:1,maxSplatCount:e,splatCount:e,compressionLevel:0,sceneCenter:new Se},a),Xe.writeSectionHeaderToBuffer({maxSplatCount:e,splatCount:e,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0,sphericalHarmonicsDegree:n},0,a,Xe.HeaderSizeBytes),{splatBuffer:new Xe(a,!0),splatBufferDataOffsetBytes:r}}};mt(Xe,"CurrentMajorVersion",0),mt(Xe,"CurrentMinorVersion",1),mt(Xe,"CenterComponentCount",3),mt(Xe,"ScaleComponentCount",3),mt(Xe,"RotationComponentCount",4),mt(Xe,"ColorComponentCount",4),mt(Xe,"CovarianceComponentCount",6),mt(Xe,"SplatScaleOffsetFloat",3),mt(Xe,"SplatRotationOffsetFloat",6),mt(Xe,"CompressionLevels",{0:{BytesPerCenter:12,BytesPerScale:12,BytesPerRotation:16,BytesPerColor:4,ScaleOffsetBytes:12,RotationffsetBytes:24,ColorOffsetBytes:40,SphericalHarmonicsOffsetBytes:44,ScaleRange:1,BytesPerSphericalHarmonicsComponent:4,SphericalHarmonicsOffsetFloat:11,SphericalHarmonicsDegrees:{0:{BytesPerSplat:44},1:{BytesPerSplat:80},2:{BytesPerSplat:140}}},1:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:2,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:42},2:{BytesPerSplat:72}}},2:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:1,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:33},2:{BytesPerSplat:48}}}}),mt(Xe,"CovarianceSizeFloats",6),mt(Xe,"HeaderSizeBytes",4096),mt(Xe,"SectionHeaderSizeBytes",1024),mt(Xe,"BucketStorageSizeBytes",12),mt(Xe,"BucketStorageSizeFloats",3),mt(Xe,"BucketBlockSize",5),mt(Xe,"BucketSize",256),mt(Xe,"computeCovariance",function(){const e=new Wt,n=new Ht,s=new Ht,r=new Ht,o=new Ht,a=new Ht,i=new Ht;return function(l,c,u,d,h=0,p){e.makeScale(l.x,l.y,l.z),n.setFromMatrix4(e),e.makeRotationFromQuaternion(c),s.setFromMatrix4(e),r.copy(s).multiply(n),o.copy(r).transpose().premultiply(r),u&&(a.setFromMatrix4(u),i.copy(a).transpose(),o.multiply(i),o.premultiply(a)),p>=1?(d[h]=ts(o.elements[0]),d[h+1]=ts(o.elements[3]),d[h+2]=ts(o.elements[6]),d[h+3]=ts(o.elements[4]),d[h+4]=ts(o.elements[7]),d[h+5]=ts(o.elements[8])):(d[h]=o.elements[0],d[h+1]=o.elements[3],d[h+2]=o.elements[6],d[h+3]=o.elements[4],d[h+4]=o.elements[7],d[h+5]=o.elements[8])}}()),mt(Xe,"dot3",(e,n,s,r,o)=>{o[0]=o[1]=o[2]=0;const a=r[0],i=r[1],l=r[2];Xe.addInto3(e[0]*a,e[1]*a,e[2]*a,o),Xe.addInto3(n[0]*i,n[1]*i,n[2]*i,o),Xe.addInto3(s[0]*l,s[1]*l,s[2]*l,o)}),mt(Xe,"addInto3",(e,n,s,r)=>{r[0]=r[0]+e,r[1]=r[1]+n,r[2]=r[2]+s}),mt(Xe,"dot5",(e,n,s,r,o,a,i)=>{i[0]=i[1]=i[2]=0;const l=a[0],c=a[1],u=a[2],d=a[3],h=a[4];Xe.addInto3(e[0]*l,e[1]*l,e[2]*l,i),Xe.addInto3(n[0]*c,n[1]*c,n[2]*c,i),Xe.addInto3(s[0]*u,s[1]*u,s[2]*u,i),Xe.addInto3(r[0]*d,r[1]*d,r[2]*d,i),Xe.addInto3(o[0]*h,o[1]*h,o[2]*h,i)}),mt(Xe,"rotateSphericalHarmonics3",(e,n,s,r,o,a,i,l,c)=>{Xe.dot3(e,n,s,r,i),Xe.dot3(e,n,s,o,l),Xe.dot3(e,n,s,a,c)}),mt(Xe,"rotateSphericalHarmonics5",(e,n,s,r,o,a,i,l,c,u,d,h,p,v,m,y,g,_)=>{const b=Math.sqrt(.25),S=Math.sqrt(3/4),w=Math.sqrt(1/3),C=Math.sqrt(4/3),A=Math.sqrt(1/12);c[0]=b*(l[2]*a[0]+l[0]*a[2]+(a[2]*l[0]+a[0]*l[2])),c[1]=l[1]*a[0]+a[1]*l[0],c[2]=S*(l[1]*a[1]+a[1]*l[1]),c[3]=l[1]*a[2]+a[1]*l[2],c[4]=b*(l[2]*a[2]-l[0]*a[0]+(a[2]*l[2]-a[0]*l[0])),Xe.dot5(e,n,s,r,o,c,v),u[0]=b*(i[2]*a[0]+i[0]*a[2]+(a[2]*i[0]+a[0]*i[2])),u[1]=i[1]*a[0]+a[1]*i[0],u[2]=S*(i[1]*a[1]+a[1]*i[1]),u[3]=i[1]*a[2]+a[1]*i[2],u[4]=b*(i[2]*a[2]-i[0]*a[0]+(a[2]*i[2]-a[0]*i[0])),Xe.dot5(e,n,s,r,o,u,m),d[0]=w*(i[2]*i[0]+i[0]*i[2])+-A*(l[2]*l[0]+l[0]*l[2]+(a[2]*a[0]+a[0]*a[2])),d[1]=C*i[1]*i[0]+-w*(l[1]*l[0]+a[1]*a[0]),d[2]=i[1]*i[1]+-b*(l[1]*l[1]+a[1]*a[1]),d[3]=C*i[1]*i[2]+-w*(l[1]*l[2]+a[1]*a[2]),d[4]=w*(i[2]*i[2]-i[0]*i[0])+-A*(l[2]*l[2]-l[0]*l[0]+(a[2]*a[2]-a[0]*a[0])),Xe.dot5(e,n,s,r,o,d,y),h[0]=b*(i[2]*l[0]+i[0]*l[2]+(l[2]*i[0]+l[0]*i[2])),h[1]=i[1]*l[0]+l[1]*i[0],h[2]=S*(i[1]*l[1]+l[1]*i[1]),h[3]=i[1]*l[2]+l[1]*i[2],h[4]=b*(i[2]*l[2]-i[0]*l[0]+(l[2]*i[2]-l[0]*i[0])),Xe.dot5(e,n,s,r,o,h,g),p[0]=b*(l[2]*l[0]+l[0]*l[2]-(a[2]*a[0]+a[0]*a[2])),p[1]=l[1]*l[0]-a[1]*a[0],p[2]=S*(l[1]*l[1]-a[1]*a[1]),p[3]=l[1]*l[2]-a[1]*a[2],p[4]=b*(l[2]*l[2]-l[0]*l[0]-(a[2]*a[2]-a[0]*a[0])),Xe.dot5(e,n,s,r,o,p,_)}),mt(Xe,"writeSplatDataToSectionBuffer",function(){const e=new ArrayBuffer(12),n=new ArrayBuffer(12),s=new ArrayBuffer(16),r=new ArrayBuffer(4),o=new ArrayBuffer(256),a=new Nn,i=new Se,l=new Se,{X:c,Y:u,Z:d,SCALE0:h,SCALE1:p,SCALE2:v,ROTATION0:m,ROTATION1:y,ROTATION2:g,ROTATION3:_,FDC0:b,FDC1:S,FDC2:w,OPACITY:C,FRC0:A,FRC9:T}=bt.OFFSET,x=(E,M,I)=>{const k=I*2+1;return E=Math.round(E*M)+I,Bn(E,0,k)};return function(E,M,I,k,U,B,P,N,L=-1.5,O=ap){const $=Ec(U),W=Xe.CompressionLevels[k].BytesPerCenter,ee=Xe.CompressionLevels[k].BytesPerScale,Y=Xe.CompressionLevels[k].BytesPerRotation,Z=Xe.CompressionLevels[k].BytesPerColor,ae=I,ue=ae+W,re=ue+ee,ge=re+Y,ye=ge+Z;if(E[m]!==void 0?(a.set(E[m],E[y],E[g],E[_]),a.normalize()):a.set(1,0,0,0),E[h]!==void 0?i.set(E[h]||0,E[p]||0,E[v]||0):i.set(0,0,0),k===0){const X=new Float32Array(M,ae,Xe.CenterComponentCount),V=new Float32Array(M,re,Xe.RotationComponentCount),ce=new Float32Array(M,ue,Xe.ScaleComponentCount);if(V.set([a.x,a.y,a.z,a.w]),ce.set([i.x,i.y,i.z]),X.set([E[c],E[u],E[d]]),U>0){const Q=new Float32Array(M,ye,$);if(U>=1){for(let Me=0;Me<9;Me++)Q[Me]=E[A+Me]||0;if(U>=2)for(let Me=0;Me<15;Me++)Q[Me+9]=E[T+Me]||0}}}else{const X=new Uint16Array(e,0,Xe.CenterComponentCount),V=new Uint16Array(s,0,Xe.RotationComponentCount),ce=new Uint16Array(n,0,Xe.ScaleComponentCount);if(V.set([ts(a.x),ts(a.y),ts(a.z),ts(a.w)]),ce.set([ts(i.x),ts(i.y),ts(i.z)]),l.set(E[c],E[u],E[d]).sub(B),l.x=x(l.x,P,N),l.y=x(l.y,P,N),l.z=x(l.z,P,N),X.set([l.x,l.y,l.z]),U>0){const Q=k===1?Uint16Array:Uint8Array,Me=k===1?2:1,Pe=new Q(o,0,$);if(U>=1){for(let ve=0;ve<9;ve++){const xe=E[A+ve]||0;Pe[ve]=k===1?ts(xe):ed(xe,L,O)}const Te=9*Me;if(tc(Pe.buffer,0,M,ye,Te),U>=2){for(let ve=0;ve<15;ve++){const xe=E[T+ve]||0;Pe[ve+9]=k===1?ts(xe):ed(xe,L,O)}tc(Pe.buffer,Te,M,ye+Te,15*Me)}}}tc(X.buffer,0,M,ae,6),tc(ce.buffer,0,M,ue,6),tc(V.buffer,0,M,re,8)}const Fe=new Uint8ClampedArray(r,0,4);Fe.set([E[b]||0,E[S]||0,E[w]||0]),Fe[3]=E[C]||0,tc(Fe.buffer,0,M,ge,4)}}());let Pt=Xe;const sA=new Uint8Array([112,108,121,10]),rA=new Uint8Array([10,101,110,100,95,104,101,97,100,101,114,10]),Zv="end_header",Jv=new Map([["char",Int8Array],["uchar",Uint8Array],["short",Int16Array],["ushort",Uint16Array],["int",Int32Array],["uint",Uint32Array],["float",Float32Array],["double",Float64Array]]),Ro=(t,e)=>{const n=(1<<e)-1;return(t&n)/n},oA=(t,e)=>{t.x=Ro(e>>>21,11),t.y=Ro(e>>>11,10),t.z=Ro(e,11)},ype=(t,e)=>{t.x=Ro(e>>>24,8),t.y=Ro(e>>>16,8),t.z=Ro(e>>>8,8),t.w=Ro(e,8)},bpe=(t,e)=>{const n=1/(Math.sqrt(2)*.5),s=(Ro(e>>>20,10)-.5)*n,r=(Ro(e>>>10,10)-.5)*n,o=(Ro(e,10)-.5)*n,a=Math.sqrt(1-(s*s+r*r+o*o));switch(e>>>30){case 0:t.set(a,s,r,o);break;case 1:t.set(s,a,r,o);break;case 2:t.set(s,r,a,o);break;case 3:t.set(s,r,o,a);break}},Yo=(t,e,n)=>t*(1-n)+e*n,$n=(t,e)=>{var n;return(n=t.properties.find(s=>s.name===e&&s.storage))==null?void 0:n.storage},xn=class xn{static decodeHeaderText(e){let n,s,r,o;const a=e.split(`
`).filter(d=>!d.startsWith("comment "));let i=0,l=!1;for(let d=1;d<a.length;++d){const h=a[d].split(" ");switch(h[0]){case"format":if(h[1]!=="binary_little_endian")throw new Error("Unsupported ply format");break;case"element":n={name:h[1],count:parseInt(h[2],10),properties:[],storageSizeBytes:0},n.name==="chunk"?s=n:n.name==="vertex"?r=n:n.name==="sh"&&(o=n);break;case"property":{if(!Jv.has(h[1]))throw new Error(`Unrecognized property data type '${h[1]}' in ply header`);const p=Jv.get(h[1]),v=p.BYTES_PER_ELEMENT*n.count;n.name==="vertex"&&(i+=p.BYTES_PER_ELEMENT),n.properties.push({type:h[1],name:h[2],storage:null,byteSize:p.BYTES_PER_ELEMENT,storageSizeByes:v}),n.storageSizeBytes+=v;break}case Zv:l=!0;break;default:throw new Error(`Unrecognized header value '${h[0]}' in ply header`)}if(l)break}let c=0,u=0;return o&&(u=o.properties.length,o.properties.length>=45?c=3:o.properties.length>=24?c=2:o.properties.length>=9&&(c=1)),{chunkElement:s,vertexElement:r,shElement:o,bytesPerSplat:i,headerSizeBytes:e.indexOf(Zv)+Zv.length+1,sphericalHarmonicsDegree:c,sphericalHarmonicsPerSplat:u}}static decodeHeader(e){const n=(p,v)=>{const m=p.length-v.length;let y,g;for(y=0;y<=m;++y){for(g=0;g<v.length&&p[y+g]===v[g];++g);if(g===v.length)return y}return-1},s=(p,v)=>{if(p.length<v.length)return!1;for(let m=0;m<v.length;++m)if(p[m]!==v[m])return!1;return!0};let r=new Uint8Array(e),o;if(r.length>=sA.length&&!s(r,sA))throw new Error("Invalid PLY header");if(o=n(r,rA),o===-1)throw new Error("End of PLY header not found");const a=new TextDecoder("ascii").decode(r.slice(0,o)),{chunkElement:i,vertexElement:l,shElement:c,sphericalHarmonicsDegree:u,sphericalHarmonicsPerSplat:d,bytesPerSplat:h}=xn.decodeHeaderText(a);return{headerSizeBytes:o+rA.length,bytesPerSplat:h,chunkElement:i,vertexElement:l,shElement:c,sphericalHarmonicsDegree:u,sphericalHarmonicsPerSplat:d}}static readElementData(e,n,s,r,o,a=null){let i=n instanceof DataView?n:new DataView(n);r=r||0,o=o||e.count-1;for(let l=r;l<=o;++l)for(let c=0;c<e.properties.length;++c){const u=e.properties[c],d=Jv.get(u.type),h=d.BYTES_PER_ELEMENT*e.count;if((!u.storage||u.storage.byteLength<h)&&(!a||a(u.name))&&(u.storage=new d(e.count)),u.storage)switch(u.type){case"char":u.storage[l]=i.getInt8(s);break;case"uchar":u.storage[l]=i.getUint8(s);break;case"short":u.storage[l]=i.getInt16(s,!0);break;case"ushort":u.storage[l]=i.getUint16(s,!0);break;case"int":u.storage[l]=i.getInt32(s,!0);break;case"uint":u.storage[l]=i.getUint32(s,!0);break;case"float":u.storage[l]=i.getFloat32(s,!0);break;case"double":u.storage[l]=i.getFloat64(s,!0);break}s+=u.byteSize}return s}static readPly(e,n=null){const s=xn.decodeHeader(e);let r=xn.readElementData(s.chunkElement,e,s.headerSizeBytes,null,null,n);return r=xn.readElementData(s.vertexElement,e,r,null,null,n),xn.readElementData(s.shElement,e,r,null,null,n),{chunkElement:s.chunkElement,vertexElement:s.vertexElement,shElement:s.shElement,sphericalHarmonicsDegree:s.sphericalHarmonicsDegree,sphericalHarmonicsPerSplat:s.sphericalHarmonicsPerSplat}}static getElementStorageArrays(e,n,s){const r={};if(n){const o=$n(e,"min_r"),a=$n(e,"min_g"),i=$n(e,"min_b"),l=$n(e,"max_r"),c=$n(e,"max_g"),u=$n(e,"max_b"),d=$n(e,"min_x"),h=$n(e,"min_y"),p=$n(e,"min_z"),v=$n(e,"max_x"),m=$n(e,"max_y"),y=$n(e,"max_z"),g=$n(e,"min_scale_x"),_=$n(e,"min_scale_y"),b=$n(e,"min_scale_z"),S=$n(e,"max_scale_x"),w=$n(e,"max_scale_y"),C=$n(e,"max_scale_z"),A=$n(n,"packed_position"),T=$n(n,"packed_rotation"),x=$n(n,"packed_scale"),E=$n(n,"packed_color");r.colorExtremes={minR:o,maxR:l,minG:a,maxG:c,minB:i,maxB:u},r.positionExtremes={minX:d,maxX:v,minY:h,maxY:m,minZ:p,maxZ:y},r.scaleExtremes={minScaleX:g,maxScaleX:S,minScaleY:_,maxScaleY:w,minScaleZ:b,maxScaleZ:C},r.position=A,r.rotation=T,r.scale=x,r.color=E}if(s){const o={};for(let a=0;a<45;a++){const i=`f_rest_${a}`,l=$n(s,i);if(l)o[i]=l;else break}r.sh=o}return r}static parseToUncompressedSplatBufferSection(e,n,s,r,o,a,i,l,c=null){xn.readElementData(n,a,0,s,r,c);const u=Pt.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,{positionExtremes:d,scaleExtremes:h,colorExtremes:p,position:v,rotation:m,scale:y,color:g}=xn.getElementStorageArrays(e,n),_=bt.createSplat();for(let b=s;b<=r;++b){xn.decompressBaseSplat(b,o,v,d,y,h,m,p,g,_);const S=b*u+l;Pt.writeSplatDataToSectionBuffer(_,i,S,0,0)}}static parseToUncompressedSplatArraySection(e,n,s,r,o,a,i,l=null){xn.readElementData(n,a,0,s,r,l);const{positionExtremes:c,scaleExtremes:u,colorExtremes:d,position:h,rotation:p,scale:v,color:m}=xn.getElementStorageArrays(e,n);for(let y=s;y<=r;++y){const g=bt.createSplat();xn.decompressBaseSplat(y,o,h,c,v,u,p,d,m,g),i.addSplat(g)}}static parseSphericalHarmonicsToUncompressedSplatArraySection(e,n,s,r,o,a,i,l,c,u=null){xn.readElementData(n,o,a,s,r,u);const{sh:d}=xn.getElementStorageArrays(e,void 0,n),h=Object.values(d);for(let p=s;p<=r;++p)xn.decompressSphericalHarmonics(p,h,i,l,c.splats[p])}static parseToUncompressedSplatArray(e,n){const{chunkElement:s,vertexElement:r,shElement:o,sphericalHarmonicsDegree:a}=xn.readPly(e);n=Math.min(n,a);const i=new bt(n),{positionExtremes:l,scaleExtremes:c,colorExtremes:u,position:d,rotation:h,scale:p,color:v}=xn.getElementStorageArrays(s,r);let m;if(n>0){const{sh:y}=xn.getElementStorageArrays(s,void 0,o);m=Object.values(y)}for(let y=0;y<r.count;++y){i.addDefaultSplat();const g=i.getSplat(i.splatCount-1);xn.decompressBaseSplat(y,0,d,l,p,c,h,u,v,g),n>0&&xn.decompressSphericalHarmonics(y,m,n,a,g)}return i}static parseToUncompressedSplatBuffer(e,n){const{chunkElement:s,vertexElement:r,shElement:o,sphericalHarmonicsDegree:a}=xn.readPly(e);n=Math.min(n,a);const{splatBuffer:i,splatBufferDataOffsetBytes:l}=Pt.preallocateUncompressed(r.count,n),{positionExtremes:c,scaleExtremes:u,colorExtremes:d,position:h,rotation:p,scale:v,color:m}=xn.getElementStorageArrays(s,r);let y;if(n>0){const{sh:b}=xn.getElementStorageArrays(s,void 0,o);y=Object.values(b)}const g=Pt.CompressionLevels[0].SphericalHarmonicsDegrees[n].BytesPerSplat,_=bt.createSplat(n);for(let b=0;b<r.count;++b){xn.decompressBaseSplat(b,0,h,c,v,u,p,d,m,_),n>0&&xn.decompressSphericalHarmonics(b,y,n,a,_);const S=b*g+l;Pt.writeSplatDataToSectionBuffer(_,i.bufferData,S,0,n)}return i}};mt(xn,"decompressBaseSplat",function(){const e=new Se,n=new Nn,s=new Se,r=new Fn,o=bt.OFFSET;return function(a,i,l,c,u,d,h,p,v,m){m=m||bt.createSplat();const y=Math.floor((i+a)/256);return oA(e,l[a]),bpe(n,h[a]),oA(s,u[a]),ype(r,v[a]),m[o.X]=Yo(c.minX[y],c.maxX[y],e.x),m[o.Y]=Yo(c.minY[y],c.maxY[y],e.y),m[o.Z]=Yo(c.minZ[y],c.maxZ[y],e.z),m[o.ROTATION0]=n.x,m[o.ROTATION1]=n.y,m[o.ROTATION2]=n.z,m[o.ROTATION3]=n.w,m[o.SCALE0]=Math.exp(Yo(d.minScaleX[y],d.maxScaleX[y],s.x)),m[o.SCALE1]=Math.exp(Yo(d.minScaleY[y],d.maxScaleY[y],s.y)),m[o.SCALE2]=Math.exp(Yo(d.minScaleZ[y],d.maxScaleZ[y],s.z)),p.minR&&p.maxR?m[o.FDC0]=Bn(Math.round(Yo(p.minR[y],p.maxR[y],r.x)*255),0,255):m[o.FDC0]=Bn(Math.floor(r.x*255),0,255),p.minG&&p.maxG?m[o.FDC1]=Bn(Math.round(Yo(p.minG[y],p.maxG[y],r.y)*255),0,255):m[o.FDC1]=Bn(Math.floor(r.y*255),0,255),p.minB&&p.maxB?m[o.FDC2]=Bn(Math.round(Yo(p.minB[y],p.maxB[y],r.z)*255),0,255):m[o.FDC2]=Bn(Math.floor(r.z*255),0,255),m[o.OPACITY]=Bn(Math.floor(r.w*255),0,255),m}}()),mt(xn,"decompressSphericalHarmonics",function(){const e=[0,3,8,15],n=[0,1,2,9,10,11,12,13,24,25,26,27,28,29,30,3,4,5,14,15,16,17,18,31,32,33,34,35,36,37,6,7,8,19,20,21,22,23,38,39,40,41,42,43,44];return function(s,r,o,a,i){i=i||bt.createSplat();let l=e[o],c=e[a];for(let u=0;u<3;++u)for(let d=0;d<15;++d){const h=n[u*15+d];d<l&&d<c&&(i[bt.OFFSET.FRC0+h]=r[u*c+d][s]*(8/255)-4)}return i}}());let oa=xn;const zs={INRIAV1:0,INRIAV2:1,PlayCanvasCompressed:2},[PP,ZS,JS,e_,t_,n_,s_]=[0,1,2,3,4,5,6],aA={double:PP,int:ZS,uint:JS,float:e_,short:t_,ushort:n_,uchar:s_},Spe={[PP]:8,[ZS]:4,[JS]:4,[e_]:4,[t_]:2,[n_]:2,[s_]:1},Zs=class Zs{static decodeSectionHeader(e,n,s=0){const r=[];let o=!1,a=-1,i=0,l=!1,c=null;const u=[],d=[],h=[],p={};for(let g=s;g<e.length;g++){const _=e[g].trim();if(_.startsWith("element"))if(o){a--;break}else{o=!0,s=g,a=g;const b=_.split(" ");let S=0;for(let w of b){const C=w.trim();C.length>0&&(S++,S===2?c=C:S===3&&(i=parseInt(C)))}}else if(_.startsWith("property")){const b=_.match(/(\w+)\s+(\w+)\s+(\w+)/);if(b){const S=b[2],w=b[3];h.push(w);const C=n[w];p[w]=S;const A=aA[S];C!==void 0&&(u.push(C),d[C]=A)}}if(_===Zs.HeaderEndToken){l=!0;break}o&&(r.push(_),a++)}const v=[];let m=0;for(let g of h){const _=p[g];if(p.hasOwnProperty(g)){const b=n[g];b!==void 0&&(v[b]=m)}m+=Spe[aA[_]]}const y=Zs.decodeSphericalHarmonicsFromSectionHeader(h,n);return{headerLines:r,headerStartLine:s,headerEndLine:a,fieldTypes:d,fieldIds:u,fieldOffsets:v,bytesPerVertex:m,vertexCount:i,dataSizeBytes:m*i,endOfHeader:l,sectionName:c,sphericalHarmonicsDegree:y.degree,sphericalHarmonicsCoefficientsPerChannel:y.coefficientsPerChannel,sphericalHarmonicsDegree1Fields:y.degree1Fields,sphericalHarmonicsDegree2Fields:y.degree2Fields}}static decodeSphericalHarmonicsFromSectionHeader(e,n){let s=0,r=0;for(let l of e)l.startsWith("f_rest")&&s++;r=s/3;let o=0;r>=3&&(o=1),r>=8&&(o=2);let a=[],i=[];for(let l=0;l<3;l++){if(o>=1)for(let c=0;c<3;c++)a.push(n["f_rest_"+(c+r*l)]);if(o>=2)for(let c=0;c<5;c++)i.push(n["f_rest_"+(c+r*l+3)])}return{degree:o,coefficientsPerChannel:r,degree1Fields:a,degree2Fields:i}}static getHeaderSectionNames(e){const n=[];for(let s of e)if(s.startsWith("element")){const r=s.split(" ");let o=0;for(let a of r){const i=a.trim();i.length>0&&(o++,o===2&&n.push(i))}}return n}static checkTextForEndHeader(e){return!!e.includes(Zs.HeaderEndToken)}static checkBufferForEndHeader(e,n,s,r){const o=new Uint8Array(e,Math.max(0,n-s),s),a=r.decode(o);return Zs.checkTextForEndHeader(a)}static extractHeaderFromBufferToText(e){const n=new TextDecoder;let s=0,r="";const o=100;for(;;){if(s+o>=e.byteLength)throw new Error("End of file reached while searching for end of header");const a=new Uint8Array(e,s,o);if(r+=n.decode(a),s+=o,Zs.checkBufferForEndHeader(e,s,o*2,n))break}return r}static readHeaderFromBuffer(e){const n=new TextDecoder;let s=0,r="";const o=100;for(;;){if(s+o>=e.byteLength)throw new Error("End of file reached while searching for end of header");const a=new Uint8Array(e,s,o);if(r+=n.decode(a),s+=o,Zs.checkBufferForEndHeader(e,s,o*2,n))break}return r}static convertHeaderTextToLines(e){const n=e.split(`
`),s=[];for(let r=0;r<n.length;r++){const o=n[r].trim();if(s.push(o),o===Zs.HeaderEndToken)break}return s}static determineHeaderFormatFromHeaderText(e){const n=Zs.convertHeaderTextToLines(e);let s=zs.INRIAV1;for(let r=0;r<n.length;r++){const o=n[r].trim();if(o.startsWith("element chunk")||o.match(/[A-Za-z]*packed_[A-Za-z]*/))s=zs.PlayCanvasCompressed;else if(o.startsWith("element codebook_centers"))s=zs.INRIAV2;else if(o===Zs.HeaderEndToken)break}return s}static determineHeaderFormatFromPlyBuffer(e){const n=Zs.extractHeaderFromBufferToText(e);return Zs.determineHeaderFormatFromHeaderText(n)}static readVertex(e,n,s,r,o,a,i=!0){const l=s*n.bytesPerVertex+r,c=n.fieldOffsets,u=n.fieldTypes;for(let d of o){const h=u[d];h===e_?a[d]=e.getFloat32(l+c[d],!0):h===t_?a[d]=e.getInt16(l+c[d],!0):h===n_?a[d]=e.getUint16(l+c[d],!0):h===ZS?a[d]=e.getInt32(l+c[d],!0):h===JS?a[d]=e.getUint32(l+c[d],!0):h===s_&&(i?a[d]=e.getUint8(l+c[d])/255:a[d]=e.getUint8(l+c[d]))}}};mt(Zs,"HeaderEndToken","end_header");let qn=Zs;const DP=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0"],_pe=DP.map((t,e)=>e),[iA,wpe,Cpe,xpe,Ape,Epe,Tpe,Mpe,Ipe,Rpe,lA,Ppe,Dpe,cA,uA,kpe,Lpe,Ope]=_pe,Rr=class Rr{static decodeHeaderLines(e){let n=0;e.forEach(u=>{u.includes("f_rest_")&&n++});let s=0;n>=45?s=45:n>=24?s=24:n>=9&&(s=9);let o=Array.from(Array(Math.max(s-1,0))).map((u,d)=>`f_rest_${d+1}`);const a=[...DP,...o],i=a.map((u,d)=>d),l=i.reduce((u,d)=>(u[a[d]]=d,u),{}),c=qn.decodeSectionHeader(e,l,0);return c.splatCount=c.vertexCount,c.bytesPerSplat=c.bytesPerVertex,c.fieldsToReadIndexes=i,c}static decodeHeaderText(e){const n=qn.convertHeaderTextToLines(e),s=Rr.decodeHeaderLines(n);return s.headerText=e,s.headerSizeBytes=e.indexOf(qn.HeaderEndToken)+qn.HeaderEndToken.length+1,s}static decodeHeaderFromBuffer(e){const n=qn.readHeaderFromBuffer(e);return Rr.decodeHeaderText(n)}static findSplatData(e,n){return new DataView(e,n.headerSizeBytes)}static parseToUncompressedSplatBufferSection(e,n,s,r,o,a,i,l=0){l=Math.min(l,e.sphericalHarmonicsDegree);const c=Pt.CompressionLevels[0].SphericalHarmonicsDegrees[l].BytesPerSplat;for(let u=n;u<=s;u++){const d=Rr.parseToUncompressedSplat(r,u,e,o,l),h=u*c+i;Pt.writeSplatDataToSectionBuffer(d,a,h,0,l)}}static parseToUncompressedSplatArraySection(e,n,s,r,o,a,i=0){i=Math.min(i,e.sphericalHarmonicsDegree);for(let l=n;l<=s;l++){const c=Rr.parseToUncompressedSplat(r,l,e,o,i);a.addSplat(c)}}static decodeSectionSplatData(e,n,s,r,o=!0){if(r=Math.min(r,s.sphericalHarmonicsDegree),o){const a=new bt(r);for(let i=0;i<n;i++){const l=Rr.parseToUncompressedSplat(e,i,s,0,r);a.addSplat(l)}return a}else{const{splatBuffer:a,splatBufferDataOffsetBytes:i}=Pt.preallocateUncompressed(n,r);return Rr.parseToUncompressedSplatBufferSection(s,0,n-1,e,0,a.bufferData,i,r),a}}static readSplat(e,n,s,r,o){return qn.readVertex(e,n,s,r,n.fieldsToReadIndexes,o,!0)}static parseToUncompressedSplatArray(e,n=0){const{header:s,splatCount:r,splatData:o}=dA(e);return Rr.decodeSectionSplatData(o,r,s,n,!0)}static parseToUncompressedSplatBuffer(e,n=0){const{header:s,splatCount:r,splatData:o}=dA(e);return Rr.decodeSectionSplatData(o,r,s,n,!1)}};mt(Rr,"parseToUncompressedSplat",function(){let e=[];const n=new Nn,s=bt.OFFSET.X,r=bt.OFFSET.Y,o=bt.OFFSET.Z,a=bt.OFFSET.SCALE0,i=bt.OFFSET.SCALE1,l=bt.OFFSET.SCALE2,c=bt.OFFSET.ROTATION0,u=bt.OFFSET.ROTATION1,d=bt.OFFSET.ROTATION2,h=bt.OFFSET.ROTATION3,p=bt.OFFSET.FDC0,v=bt.OFFSET.FDC1,m=bt.OFFSET.FDC2,y=bt.OFFSET.OPACITY,g=[];for(let _=0;_<45;_++)g[_]=bt.OFFSET.FRC0+_;return function(_,b,S,w=0,C=0){C=Math.min(C,S.sphericalHarmonicsDegree),Rr.readSplat(_,S,b,w,e);const A=bt.createSplat(C);if(e[iA]!==void 0?(A[a]=Math.exp(e[iA]),A[i]=Math.exp(e[wpe]),A[l]=Math.exp(e[Cpe])):(A[a]=.01,A[i]=.01,A[l]=.01),e[lA]!==void 0){const T=.28209479177387814;A[p]=(.5+T*e[lA])*255,A[v]=(.5+T*e[Ppe])*255,A[m]=(.5+T*e[Dpe])*255}else e[uA]!==void 0?(A[p]=e[uA]*255,A[v]=e[kpe]*255,A[m]=e[Lpe]*255):(A[p]=0,A[v]=0,A[m]=0);if(e[cA]!==void 0&&(A[y]=1/(1+Math.exp(-e[cA]))*255),A[p]=Bn(Math.floor(A[p]),0,255),A[v]=Bn(Math.floor(A[v]),0,255),A[m]=Bn(Math.floor(A[m]),0,255),A[y]=Bn(Math.floor(A[y]),0,255),C>=1&&e[Ope]!==void 0){for(let T=0;T<9;T++)A[g[T]]=e[S.sphericalHarmonicsDegree1Fields[T]];if(C>=2)for(let T=0;T<15;T++)A[g[9+T]]=e[S.sphericalHarmonicsDegree2Fields[T]]}return n.set(e[xpe],e[Ape],e[Epe],e[Tpe]),n.normalize(),A[c]=n.x,A[u]=n.y,A[d]=n.z,A[h]=n.w,A[s]=e[Mpe],A[r]=e[Ipe],A[o]=e[Rpe],A}}());let ca=Rr;function dA(t){const e=ca.decodeHeaderFromBuffer(t),n=e.splatCount,s=ca.findSplatData(t,e);return{header:e,splatCount:n,splatData:s}}const kP=["features_dc","features_rest_0","features_rest_1","features_rest_2","features_rest_3","features_rest_4","features_rest_5","features_rest_6","features_rest_7","features_rest_8","features_rest_9","features_rest_10","features_rest_11","features_rest_12","features_rest_13","features_rest_14","opacity","scaling","rotation_re","rotation_im"],ip=kP.map((t,e)=>e),[lp,Bpe,Fpe,fA,cp,Npe,eg]=[0,1,4,16,17,18,19],LP=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0","f_rest_1","f_rest_2","f_rest_3","f_rest_4","f_rest_5","f_rest_6","f_rest_7","f_rest_8","f_rest_9","f_rest_10","f_rest_11","f_rest_12","f_rest_13","f_rest_14","f_rest_15","f_rest_16","f_rest_17","f_rest_18","f_rest_19","f_rest_20","f_rest_21","f_rest_22","f_rest_23","f_rest_24","f_rest_25","f_rest_26","f_rest_27","f_rest_28","f_rest_29","f_rest_30","f_rest_31","f_rest_32","f_rest_33","f_rest_34","f_rest_35","f_rest_36","f_rest_37","f_rest_38","f_rest_39","f_rest_40","f_rest_41","f_rest_42","f_rest_43","f_rest_44","f_rest_45"],by=LP.map((t,e)=>e),[pA,Upe,zpe,$pe,Hpe,Vpe,Wpe,Gpe,Kpe,jpe,Sy,OP,BP,hA]=by,mA=Sy,qpe=OP,Ype=BP,up=t=>{const e=(31744&t)>>10,n=1023&t;return(t>>15?-1:1)*(e?e===31?n?NaN:1/0:Math.pow(2,e-15)*(1+n/1024):n/1024*6103515625e-14)},Js=class Js{static decodeSectionHeadersFromHeaderLines(e){const n=by.reduce((u,d)=>(u[LP[d]]=d,u),{}),s=ip.reduce((u,d)=>(u[kP[d]]=d,u),{}),r=qn.getHeaderSectionNames(e);let o;for(let u=0;u<r.length;u++)r[u]==="codebook_centers"&&(o=u);let a=0,i=!1;const l=[];let c=0;for(;!i;){let u;c===o?u=qn.decodeSectionHeader(e,s,a):u=qn.decodeSectionHeader(e,n,a),i=u.endOfHeader,a=u.headerEndLine+1,i||(u.splatCount=u.vertexCount,u.bytesPerSplat=u.bytesPerVertex),l.push(u),c++}return l}static decodeSectionHeadersFromHeaderText(e){const n=qn.convertHeaderTextToLines(e);return Js.decodeSectionHeadersFromHeaderLines(n)}static getSplatCountFromSectionHeaders(e){let n=0;for(let s of e)s.sectionName!=="codebook_centers"&&(n+=s.vertexCount);return n}static decodeHeaderFromHeaderText(e){const n=e.indexOf(qn.HeaderEndToken)+qn.HeaderEndToken.length+1,s=Js.decodeSectionHeadersFromHeaderText(e),r=Js.getSplatCountFromSectionHeaders(s);return{headerSizeBytes:n,sectionHeaders:s,splatCount:r}}static decodeHeaderFromBuffer(e){const n=qn.readHeaderFromBuffer(e);return Js.decodeHeaderFromHeaderText(n)}static findVertexData(e,n,s){let r=n.headerSizeBytes;for(let o=0;o<s&&o<n.sectionHeaders.length;o++){const a=n.sectionHeaders[o];r+=a.dataSizeBytes}return new DataView(e,r,n.sectionHeaders[s].dataSizeBytes)}static decodeCodeBook(e,n){const s=[],r=[];for(let o=0;o<n.vertexCount;o++){qn.readVertex(e,n,o,0,ip,s);for(let a of ip){const i=ip[a];let l=r[i];l||(r[i]=l=[]),l.push(s[a])}}for(let o=0;o<r.length;o++){const a=r[o],i=.28209479177387814;for(let l=0;l<a.length;l++){const c=up(a[l]);o===fA?a[l]=Math.round(1/(1+Math.exp(-c))*255):o===lp?a[l]=Math.round((.5+i*c)*255):o===cp?a[l]=Math.exp(c):a[l]=c}}return r}static decodeSectionSplatData(e,n,s,r,o){o=Math.min(o,s.sphericalHarmonicsDegree);const a=new bt(o);for(let i=0;i<n;i++){const l=Js.parseToUncompressedSplat(e,i,s,r,0,o);a.addSplat(l)}return a}static readSplat(e,n,s,r,o){return qn.readVertex(e,n,s,r,by,o,!1)}static parseToUncompressedSplatArray(e,n=0){const s=[],r=Js.decodeHeaderFromBuffer(e,n);let o;for(let i=0;i<r.sectionHeaders.length;i++){const l=r.sectionHeaders[i];if(l.sectionName==="codebook_centers"){const c=Js.findVertexData(e,r,i);o=Js.decodeCodeBook(c,l)}}for(let i=0;i<r.sectionHeaders.length;i++){const l=r.sectionHeaders[i];if(l.sectionName!=="codebook_centers"){const c=l.vertexCount,u=Js.findVertexData(e,r,i),d=Js.decodeSectionSplatData(u,c,l,o,n);s.push(d)}}const a=new bt(n);for(let i of s)for(let l of i.splats)a.addSplat(l);return a}};mt(Js,"parseToUncompressedSplat",function(){let e=[];const n=new Nn,s=bt.OFFSET.X,r=bt.OFFSET.Y,o=bt.OFFSET.Z,a=bt.OFFSET.SCALE0,i=bt.OFFSET.SCALE1,l=bt.OFFSET.SCALE2,c=bt.OFFSET.ROTATION0,u=bt.OFFSET.ROTATION1,d=bt.OFFSET.ROTATION2,h=bt.OFFSET.ROTATION3,p=bt.OFFSET.FDC0,v=bt.OFFSET.FDC1,m=bt.OFFSET.FDC2,y=bt.OFFSET.OPACITY,g=[];for(let _=0;_<45;_++)g[_]=bt.OFFSET.FRC0+_;return function(_,b,S,w,C=0,A=0){A=Math.min(A,S.sphericalHarmonicsDegree),Js.readSplat(_,S,b,C,e);const T=bt.createSplat(A);if(e[pA]!==void 0?(T[a]=w[cp][e[pA]],T[i]=w[cp][e[Upe]],T[l]=w[cp][e[zpe]]):(T[a]=.01,T[i]=.01,T[l]=.01),e[Sy]!==void 0?(T[p]=w[lp][e[Sy]],T[v]=w[lp][e[OP]],T[m]=w[lp][e[BP]]):e[mA]!==void 0?(T[p]=e[mA]*255,T[v]=e[qpe]*255,T[m]=e[Ype]*255):(T[p]=0,T[v]=0,T[m]=0),e[hA]!==void 0&&(T[y]=w[fA][e[hA]]),T[p]=Bn(Math.floor(T[p]),0,255),T[v]=Bn(Math.floor(T[v]),0,255),T[m]=Bn(Math.floor(T[m]),0,255),T[y]=Bn(Math.floor(T[y]),0,255),A>=1&&S.sphericalHarmonicsDegree>=1){for(let k=0;k<9;k++){const U=w[Bpe+k%3];T[g[k]]=U[e[S.sphericalHarmonicsDegree1Fields[k]]]}if(A>=2&&S.sphericalHarmonicsDegree>=2)for(let k=0;k<15;k++){const U=w[Fpe+k%5];T[g[9+k]]=U[e[S.sphericalHarmonicsDegree2Fields[k]]]}}const x=w[Npe][e[$pe]],E=w[eg][e[Hpe]],M=w[eg][e[Vpe]],I=w[eg][e[Wpe]];return n.set(x,E,M,I),n.normalize(),T[c]=n.x,T[u]=n.y,T[d]=n.z,T[h]=n.w,T[s]=up(e[Gpe]),T[r]=up(e[Kpe]),T[o]=up(e[jpe]),T}}());let _y=Js;class vA{static parseToUncompressedSplatArray(e,n=0){const s=qn.determineHeaderFormatFromPlyBuffer(e);if(s===zs.PlayCanvasCompressed)return oa.parseToUncompressedSplatArray(e,n);if(s===zs.INRIAV1)return ca.parseToUncompressedSplatArray(e,n);if(s===zs.INRIAV2)return _y.parseToUncompressedSplatArray(e,n)}static parseToUncompressedSplatBuffer(e,n=0){const s=qn.determineHeaderFormatFromPlyBuffer(e);if(s===zs.PlayCanvasCompressed)return oa.parseToUncompressedSplatBuffer(e,n);if(s===zs.INRIAV1)return ca.parseToUncompressedSplatBuffer(e,n);if(s===zs.INRIAV2)throw new Error("parseToUncompressedSplatBuffer() is not implemented for INRIA V2 PLY files")}}class r_{constructor(e,n,s,r){this.sectionCount=e,this.sectionFilters=n,this.groupingParameters=s,this.partitionGenerator=r}partitionUncompressedSplatArray(e){let n,s,r;if(this.partitionGenerator){const a=this.partitionGenerator(e);n=a.groupingParameters,s=a.sectionCount,r=a.sectionFilters}else n=this.groupingParameters,s=this.sectionCount,r=this.sectionFilters;const o=[];for(let a=0;a<s;a++){const i=new bt(e.sphericalHarmonicsDegree),l=r[a];for(let c=0;c<e.splatCount;c++)l(c)&&i.addSplat(e.splats[c]);o.push(i)}return{splatArrays:o,parameters:n}}static getStandardPartitioner(e=0,n=new Se,s=Pt.BucketBlockSize,r=Pt.BucketSize){const o=a=>{const i=bt.OFFSET.X,l=bt.OFFSET.Y,c=bt.OFFSET.Z;e<=0&&(e=a.splatCount);const u=new Se,d=.5,h=g=>{g.x=Math.floor(g.x/d)*d,g.y=Math.floor(g.y/d)*d,g.z=Math.floor(g.z/d)*d};a.splats.forEach(g=>{u.set(g[i],g[l],g[c]).sub(n),h(u),g.centerDist=u.lengthSq()}),a.splats.sort((g,_)=>{let b=g.centerDist,S=_.centerDist;return b>S?1:-1});const p=[],v=[];e=Math.min(a.splatCount,e);const m=Math.ceil(a.splatCount/e);let y=0;for(let g=0;g<m;g++){let _=y;p.push(b=>b>=_&&b<_+e),v.push({blocksSize:s,bucketSize:r}),y+=e}return{sectionCount:p.length,sectionFilters:p,groupingParameters:v}};return new r_(void 0,void 0,void 0,o)}}class cf{constructor(e,n,s,r,o,a,i){this.splatPartitioner=e,this.alphaRemovalThreshold=n,this.compressionLevel=s,this.sectionSize=r,this.sceneCenter=o?new Se().copy(o):void 0,this.blockSize=a,this.bucketSize=i}generateFromUncompressedSplatArray(e){const n=this.splatPartitioner.partitionUncompressedSplatArray(e);return Pt.generateFromUncompressedSplatArrays(n.splatArrays,this.alphaRemovalThreshold,this.compressionLevel,this.sceneCenter,this.blockSize,this.bucketSize,n.parameters)}static getStandardGenerator(e=1,n=1,s=0,r=new Se,o=Pt.BucketBlockSize,a=Pt.BucketSize){const i=r_.getStandardPartitioner(s,r,o,a);return new cf(i,e,n,s,r,o,a)}}const Yn={Downloading:0,Processing:1,Done:2};class kh extends Error{constructor(e){super(e)}}const Dn={ProgressiveToSplatBuffer:0,ProgressiveToSplatArray:1,DownloadBeforeProcessing:2};function gA(t,e){let n=0;for(let r of t)n+=r.sizeBytes;(!e||e.byteLength<n)&&(e=new ArrayBuffer(n));let s=0;for(let r of t)new Uint8Array(e,s,r.sizeBytes).set(r.data),s+=r.sizeBytes;return e}function yA(t,e,n,s,r,o,a,i){return e?cf.getStandardGenerator(n,s,r,o,a,i).generateFromUncompressedSplatArray(t):Pt.generateFromUncompressedSplatArrays([t],n,0,new Se)}class o_{static loadFromURL(e,n,s,r,o,a,i=!0,l=0,c,u,d,h,p){let v;!s&&!i?v=Dn.DownloadBeforeProcessing:i?v=Dn.ProgressiveToSplatArray:v=Dn.ProgressiveToSplatBuffer;const m=an.ProgressiveLoadSectionSize,y=Pt.HeaderSizeBytes+Pt.SectionHeaderSizeBytes,g=1;let _,b,S,w,C,A=0,T=0,x=0,E=!1,M=!1,I=!1;const k=qS();let U=0,B=0,P=0,N=0,L="",O=null,$=[],W;const ee=new TextDecoder,Y=(Z,ae,ue)=>{const re=Z>=100;if(ue&&($.push({data:ue,sizeBytes:ue.byteLength,startBytes:P,endBytes:P+ue.byteLength}),P+=ue.byteLength),v===Dn.DownloadBeforeProcessing)re&&k.resolve($);else{if(E){if(_===zs.PlayCanvasCompressed&&!M){const ge=O.headerSizeBytes+O.chunkElement.storageSizeBytes;C=gA($,C),C.byteLength>=ge&&(oa.readElementData(O.chunkElement,C,O.headerSizeBytes),U=ge,B=ge,M=!0)}}else if(L+=ee.decode(ue),qn.checkTextForEndHeader(L)){if(_=qn.determineHeaderFormatFromHeaderText(L),_===zs.INRIAV1)O=ca.decodeHeaderText(L),l=Math.min(l,O.sphericalHarmonicsDegree),A=O.splatCount,M=!0,N=O.headerSizeBytes+O.bytesPerSplat*A;else if(_===zs.PlayCanvasCompressed){if(O=oa.decodeHeaderText(L),l=Math.min(l,O.sphericalHarmonicsDegree),v===Dn.ProgressiveToSplatBuffer&&l>0)throw new kh("PlyLoader.loadFromURL() -> Selected PLY format has spherical harmonics data that cannot be progressively loaded.");A=O.vertexElement.count,N=O.headerSizeBytes+O.bytesPerSplat*A+O.chunkElement.storageSizeBytes}else{if(v===Dn.ProgressiveToSplatBuffer)throw new kh("PlyLoader.loadFromURL() -> Selected PLY format cannot be progressively loaded.");v=Dn.DownloadBeforeProcessing;return}if(v===Dn.ProgressiveToSplatBuffer){const ge=Pt.CompressionLevels[0].SphericalHarmonicsDegrees[l],ye=y+ge.BytesPerSplat*A;S=new ArrayBuffer(ye),Pt.writeHeaderToBuffer({versionMajor:Pt.CurrentMajorVersion,versionMinor:Pt.CurrentMinorVersion,maxSectionCount:g,sectionCount:g,maxSplatCount:A,splatCount:0,compressionLevel:0,sceneCenter:new Se},S)}else W=new bt(l);U=O.headerSizeBytes,B=O.headerSizeBytes,E=!0}if(E&&M&&$.length>0&&(b=gA($,b),P-U>m||P>=N&&!I||re)){const ye=I?O.sphericalHarmonicsPerSplat:O.bytesPerSplat,X=(I?P:Math.min(N,P))-B,V=Math.floor(X/ye),ce=V*ye,Q=P-B-ce,Me=B-$[0].startBytes,Pe=new DataView(b,Me,ce);if(I)_===zs.PlayCanvasCompressed&&v===Dn.ProgressiveToSplatArray&&(oa.parseSphericalHarmonicsToUncompressedSplatArraySection(O.chunkElement,O.shElement,x,x+V-1,Pe,0,l,O.sphericalHarmonicsDegree,W),x+=V);else{if(v===Dn.ProgressiveToSplatBuffer){const Te=Pt.CompressionLevels[0].SphericalHarmonicsDegrees[l],ve=T*Te.BytesPerSplat+y;_===zs.PlayCanvasCompressed?oa.parseToUncompressedSplatBufferSection(O.chunkElement,O.vertexElement,0,V-1,T,Pe,S,ve):ca.parseToUncompressedSplatBufferSection(O,0,V-1,Pe,0,S,ve,l)}else _===zs.PlayCanvasCompressed?oa.parseToUncompressedSplatArraySection(O.chunkElement,O.vertexElement,0,V-1,T,Pe,W):ca.parseToUncompressedSplatArraySection(O,0,V-1,Pe,0,W,l);T+=V,v===Dn.ProgressiveToSplatBuffer&&(w||(Pt.writeSectionHeaderToBuffer({maxSplatCount:A,splatCount:T,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0,sphericalHarmonicsDegree:l},0,S,Pt.HeaderSizeBytes),w=new Pt(S,!1)),w.updateLoadedCounts(1,T)),P>=N&&(I=!0)}if(Q===0)$=[];else{let Te=[],ve=0;for(let xe=$.length-1;xe>=0;xe--){const we=$[xe];if(ve+=we.sizeBytes,Te.unshift(we),ve>=Q)break}$=Te}U+=m,B+=ce}r&&w&&r(w,re),re&&(v===Dn.ProgressiveToSplatBuffer?k.resolve(w):k.resolve(W))}n&&n(Z,ae,Yn.Downloading)};return n&&n(0,"0%",Yn.Downloading),Pm(e,Y,!1,c).then(()=>(n&&n(0,"0%",Yn.Processing),k.promise.then(Z=>{if(n&&n(100,"100%",Yn.Done),v===Dn.DownloadBeforeProcessing){const ae=$.map(ue=>ue.data);return new Blob(ae).arrayBuffer().then(ue=>o_.loadFromFileData(ue,o,a,i,l,u,d,h,p))}else return v===Dn.ProgressiveToSplatBuffer?Z:vr(()=>yA(Z,i,o,a,u,d,h,p))})))}static loadFromFileData(e,n,s,r,o=0,a,i,l,c){return r?vr(()=>vA.parseToUncompressedSplatArray(e,o)).then(u=>yA(u,r,n,s,a,i,l,c)):vr(()=>vA.parseToUncompressedSplatBuffer(e,o))}}const Xpe=t=>new ReadableStream({async start(e){e.enqueue(t),e.close()}});async function Qpe(t){try{const e=Xpe(t);if(!e)throw new Error("Failed to create stream from data");return await Zpe(e)}catch(e){throw console.error("Error decompressing gzipped data:",e),e}}async function Zpe(t){const e=t.pipeThrough(new DecompressionStream("gzip")),s=await new Response(e).arrayBuffer();return new Uint8Array(s)}const Jpe=1347635022,ehe=1,the=.15;function nhe(t){const e=t>>15&1,n=t>>10&31,s=t&1023,r=e===1?-1:1;return n===0?r*Math.pow(2,-14)*s/1024:n===31?s!==0?NaN:r*(1/0):r*Math.pow(2,n-15)*(1+s/1024)}function she(t){return(t-128)/128}function el(t){switch(t){case 0:return 0;case 1:return 3;case 2:return 8;case 3:return 15;default:return console.error(`[SPZ: ERROR] Unsupported SH degree: ${t}`),0}}const rhe=function(){let t=[];const e=new Nn,n=bt.OFFSET.X,s=bt.OFFSET.Y,r=bt.OFFSET.Z,o=bt.OFFSET.SCALE0,a=bt.OFFSET.SCALE1,i=bt.OFFSET.SCALE2,l=bt.OFFSET.ROTATION0,c=bt.OFFSET.ROTATION1,u=bt.OFFSET.ROTATION2,d=bt.OFFSET.ROTATION3,h=bt.OFFSET.FDC0,p=bt.OFFSET.FDC1,v=bt.OFFSET.FDC2,m=bt.OFFSET.OPACITY,y=[el(0),el(1),el(2),el(3)],g=[0,1,2,9,10,11,12,13,24,25,26,27,28,29,30,3,4,5,14,15,16,17,18,31,32,33,34,35,36,37,6,7,8,19,20,21,22,23,38,39,40,41,42,43,44];return function(_,b,S){S=Math.min(b,S);const w=bt.createSplat(S);_.scale[0]!==void 0?(w[o]=_.scale[0],w[a]=_.scale[1],w[i]=_.scale[2]):(w[o]=.01,w[a]=.01,w[i]=.01),_.color[0]!==void 0?(w[h]=_.color[0],w[p]=_.color[1],w[v]=_.color[2]):t[RED]!==void 0?(w[h]=t[RED]*255,w[p]=t[GREEN]*255,w[v]=t[BLUE]*255):(w[h]=0,w[p]=0,w[v]=0),_.alpha!==void 0&&(w[m]=_.alpha),w[h]=Bn(Math.floor(w[h]),0,255),w[p]=Bn(Math.floor(w[p]),0,255),w[v]=Bn(Math.floor(w[v]),0,255),w[m]=Bn(Math.floor(w[m]),0,255);let C=y[S],A=y[b];for(let T=0;T<3;++T)for(let x=0;x<15;++x){const E=g[T*15+x];x<C&&x<A&&(w[bt.OFFSET.FRC0+E]=_.sh[T*A+x])}return e.set(_.rotation[3],_.rotation[0],_.rotation[1],_.rotation[2]),e.normalize(),w[l]=e.x,w[c]=e.y,w[u]=e.z,w[d]=e.w,w[n]=_.position[0],w[s]=_.position[1],w[r]=_.position[2],w}}();function ohe(t,e,n,s){return!(t.positions.length!==e*3*(s?2:3)||t.scales.length!==e*3||t.rotations.length!==e*3||t.alphas.length!==e||t.colors.length!==e*3||t.sh.length!==e*n*3)}function bA(t,e,n,s,r){e=Math.min(e,t.shDegree);const o=t.numPoints,a=el(t.shDegree),i=t.positions.length===o*3*2;if(!ohe(t,o,a,i))return null;const l={position:[],scale:[],rotation:[],alpha:void 0,color:[],sh:[]};let c;i&&(c=new Uint16Array(t.positions.buffer,t.positions.byteOffset,o*3));const u=1/(1<<t.fractionalBits),d=el(t.shDegree),h=.28209479177387814;for(let p=0;p<o;p++){if(i)for(let _=0;_<3;_++)l.position[_]=nhe(c[p*3+_]);else for(let _=0;_<3;_++){const b=p*9+_*3;let S=t.positions[b];S|=t.positions[b+1]<<8,S|=t.positions[b+2]<<16,S|=S&8388608?4278190080:0,l.position[_]=S*u}for(let _=0;_<3;_++)l.scale[_]=Math.exp(t.scales[p*3+_]/16-10);const v=t.rotations.subarray(p*3,p*3+3),m=[v[0]/127.5-1,v[1]/127.5-1,v[2]/127.5-1];l.rotation[0]=m[0],l.rotation[1]=m[1],l.rotation[2]=m[2];const y=m[0]*m[0]+m[1]*m[1]+m[2]*m[2];l.rotation[3]=Math.sqrt(Math.max(0,1-y)),l.alpha=Math.floor(t.alphas[p]);for(let _=0;_<3;_++)l.color[_]=Math.floor(((t.colors[p*3+_]/255-.5)/the*h+.5)*255);for(let _=0;_<3;_++)for(let b=0;b<d;b++)l.sh[_*d+b]=she(t.sh[d*3*p+b*3+_]);const g=rhe(l,t.shDegree,e);if(n){const _=Pt.CompressionLevels[0].SphericalHarmonicsDegrees[e].BytesPerSplat,b=p*_+r;Pt.writeSplatDataToSectionBuffer(g,s,b,0,e)}else s.addSplat(g)}}const ahe=16,ihe=1e7;function lhe(t){const e=new DataView(t);let n=0;const s={magic:e.getUint32(n,!0),version:e.getUint32(n+4,!0),numPoints:e.getUint32(n+8,!0),shDegree:e.getUint8(n+12),fractionalBits:e.getUint8(n+13),flags:e.getUint8(n+14),reserved:e.getUint8(n+15)};if(n+=ahe,s.magic!==Jpe)return console.error("[SPZ ERROR] deserializePackedGaussians: header not found"),null;if(s.version<1||s.version>2)return console.error(`[SPZ ERROR] deserializePackedGaussians: version not supported: ${s.version}`),null;if(s.numPoints>ihe)return console.error(`[SPZ ERROR] deserializePackedGaussians: Too many points: ${s.numPoints}`),null;if(s.shDegree>3)return console.error(`[SPZ ERROR] deserializePackedGaussians: Unsupported SH degree: ${s.shDegree}`),null;const r=s.numPoints,o=el(s.shDegree),a=s.version===1,i={numPoints:r,shDegree:s.shDegree,fractionalBits:s.fractionalBits,antialiased:(s.flags&ehe)!==0,positions:new Uint8Array(r*3*(a?2:3)),scales:new Uint8Array(r*3),rotations:new Uint8Array(r*3),alphas:new Uint8Array(r),colors:new Uint8Array(r*3),sh:new Uint8Array(r*o*3)};try{const l=new Uint8Array(t);let c=i.positions.length,u=n;if(i.positions.set(l.slice(u,u+c)),u+=c,i.alphas.set(l.slice(u,u+i.alphas.length)),u+=i.alphas.length,i.colors.set(l.slice(u,u+i.colors.length)),u+=i.colors.length,i.scales.set(l.slice(u,u+i.scales.length)),u+=i.scales.length,i.rotations.set(l.slice(u,u+i.rotations.length)),u+=i.rotations.length,i.sh.set(l.slice(u,u+i.sh.length)),u+i.sh.length!==t.byteLength)return console.error("[SPZ ERROR] deserializePackedGaussians: incorrect buffer size"),null}catch(l){return console.error("[SPZ ERROR] deserializePackedGaussians: read error",l),null}return i}async function che(t){try{const e=await Qpe(t);return lhe(e.buffer)}catch(e){return console.error("[SPZ ERROR] loadSpzPacked: decompression error",e),null}}class a_{static loadFromURL(e,n,s,r,o=!0,a=0,i,l,c,u,d){return n&&n(0,"0%",Yn.Downloading),Pm(e,n,!0,i).then(h=>(n&&n(0,"0%",Yn.Processing),a_.loadFromFileData(h,s,r,o,a,l,c,u,d)))}static async loadFromFileData(e,n,s,r,o=0,a,i,l,c){await vr();const u=await che(e);o=Math.min(u.shDegree,o);const d=new bt(o);if(r)return bA(u,o,!1,d,0),cf.getStandardGenerator(n,s,a,i,l,c).generateFromUncompressedSplatArray(d);{const{splatBuffer:h,splatBufferDataOffsetBytes:p}=Pt.preallocateUncompressed(u.numPoints,o);return bA(u,o,!0,h.bufferData,p),h}}}const wn=class wn{static parseToUncompressedSplatBufferSection(e,n,s,r,o,a){const i=Pt.CompressionLevels[0].BytesPerCenter,l=Pt.CompressionLevels[0].BytesPerScale,c=Pt.CompressionLevels[0].BytesPerRotation,u=Pt.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat;for(let d=e;d<=n;d++){const h=d*wn.RowSizeBytes+r,p=new Float32Array(s,h,3),v=new Float32Array(s,h+wn.CenterSizeBytes,3),m=new Uint8Array(s,h+wn.CenterSizeBytes+wn.ScaleSizeBytes,4),y=new Uint8Array(s,h+wn.CenterSizeBytes+wn.ScaleSizeBytes+wn.RotationSizeBytes,4),g=new Nn((y[1]-128)/128,(y[2]-128)/128,(y[3]-128)/128,(y[0]-128)/128);g.normalize();const _=d*u+a,b=new Float32Array(o,_,3),S=new Float32Array(o,_+i,3),w=new Float32Array(o,_+i+l,4),C=new Uint8Array(o,_+i+l+c,4);b[0]=p[0],b[1]=p[1],b[2]=p[2],S[0]=v[0],S[1]=v[1],S[2]=v[2],w[0]=g.w,w[1]=g.x,w[2]=g.y,w[3]=g.z,C[0]=m[0],C[1]=m[1],C[2]=m[2],C[3]=m[3]}}static parseToUncompressedSplatArraySection(e,n,s,r,o){for(let a=e;a<=n;a++){const i=a*wn.RowSizeBytes+r,l=new Float32Array(s,i,3),c=new Float32Array(s,i+wn.CenterSizeBytes,3),u=new Uint8Array(s,i+wn.CenterSizeBytes+wn.ScaleSizeBytes,4),d=new Uint8Array(s,i+wn.CenterSizeBytes+wn.ScaleSizeBytes+wn.RotationSizeBytes,4),h=new Nn((d[1]-128)/128,(d[2]-128)/128,(d[3]-128)/128,(d[0]-128)/128);h.normalize(),o.addSplatFromComonents(l[0],l[1],l[2],c[0],c[1],c[2],h.w,h.x,h.y,h.z,u[0],u[1],u[2],u[3])}}static parseStandardSplatToUncompressedSplatArray(e){const n=e.byteLength/wn.RowSizeBytes,s=new bt;for(let r=0;r<n;r++){const o=r*wn.RowSizeBytes,a=new Float32Array(e,o,3),i=new Float32Array(e,o+wn.CenterSizeBytes,3),l=new Uint8Array(e,o+wn.CenterSizeBytes+wn.ScaleSizeBytes,4),c=new Uint8Array(e,o+wn.CenterSizeBytes+wn.ScaleSizeBytes+wn.ColorSizeBytes,4),u=new Nn((c[1]-128)/128,(c[2]-128)/128,(c[3]-128)/128,(c[0]-128)/128);u.normalize(),s.addSplatFromComonents(a[0],a[1],a[2],i[0],i[1],i[2],u.w,u.x,u.y,u.z,l[0],l[1],l[2],l[3])}return s}};mt(wn,"RowSizeBytes",32),mt(wn,"CenterSizeBytes",12),mt(wn,"ScaleSizeBytes",12),mt(wn,"RotationSizeBytes",4),mt(wn,"ColorSizeBytes",4);let Vi=wn;function SA(t,e,n,s,r,o,a,i){return e?cf.getStandardGenerator(n,s,r,o,a,i).generateFromUncompressedSplatArray(t):Pt.generateFromUncompressedSplatArrays([t],n,0,new Se)}class i_{static loadFromURL(e,n,s,r,o,a,i=!0,l,c,u,d,h){let p=s?Dn.ProgressiveToSplatBuffer:Dn.ProgressiveToSplatArray;i&&(p=Dn.ProgressiveToSplatArray);const v=Pt.HeaderSizeBytes+Pt.SectionHeaderSizeBytes,m=an.ProgressiveLoadSectionSize,y=1;let g,_,b,S=0,w=0,C;const A=qS();let T=0,x=0,E=[];const M=(I,k,U,B)=>{const P=I>=100;if(U&&E.push(U),p===Dn.DownloadBeforeProcessing){P&&A.resolve(E);return}if(!B){if(s)throw new kh("Cannon directly load .splat because no file size info is available.");p=Dn.DownloadBeforeProcessing;return}if(!g){S=B/Vi.RowSizeBytes,g=new ArrayBuffer(B);const N=Pt.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,L=v+N*S;p===Dn.ProgressiveToSplatBuffer?(_=new ArrayBuffer(L),Pt.writeHeaderToBuffer({versionMajor:Pt.CurrentMajorVersion,versionMinor:Pt.CurrentMinorVersion,maxSectionCount:y,sectionCount:y,maxSplatCount:S,splatCount:w,compressionLevel:0,sceneCenter:new Se},_)):C=new bt(0)}if(U){new Uint8Array(g,x,U.byteLength).set(new Uint8Array(U)),x+=U.byteLength;const N=x-T;if(N>m||P){const O=(P?N:m)/Vi.RowSizeBytes,$=w+O;p===Dn.ProgressiveToSplatBuffer?Vi.parseToUncompressedSplatBufferSection(w,$-1,g,0,_,v):Vi.parseToUncompressedSplatArraySection(w,$-1,g,0,C),w=$,p===Dn.ProgressiveToSplatBuffer&&(b||(Pt.writeSectionHeaderToBuffer({maxSplatCount:S,splatCount:w,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0},0,_,Pt.HeaderSizeBytes),b=new Pt(_,!1)),b.updateLoadedCounts(1,w),r&&r(b,P)),T+=m}}P&&(p===Dn.ProgressiveToSplatBuffer?A.resolve(b):A.resolve(C)),n&&n(I,k,Yn.Downloading)};return n&&n(0,"0%",Yn.Downloading),Pm(e,M,!1,l).then(()=>(n&&n(0,"0%",Yn.Processing),A.promise.then(I=>(n&&n(100,"100%",Yn.Done),p===Dn.DownloadBeforeProcessing?new Blob(E).arrayBuffer().then(k=>i_.loadFromFileData(k,o,a,i,c,u,d,h)):p===Dn.ProgressiveToSplatBuffer?I:vr(()=>SA(I,i,o,a,c,u,d,h))))))}static loadFromFileData(e,n,s,r,o,a,i,l){return vr(()=>{const c=Vi.parseStandardSplatToUncompressedSplatArray(e);return SA(c,r,n,s,o,a,i,l)})}}const pc=class pc{static checkVersion(e){const n=Pt.CurrentMajorVersion,s=Pt.CurrentMinorVersion,r=Pt.parseHeader(e);if(r.versionMajor===n&&r.versionMinor>=s||r.versionMajor>n)return!0;throw new Error(`KSplat version not supported: v${r.versionMajor}.${r.versionMinor}. Minimum required: v${n}.${s}`)}static loadFromURL(e,n,s,r,o){let a,i,l,c,u=!1,d=!1,h,p=[],v=!1,m=!1,y=0,g=0,_=0,b=!1,S=!1,w=!1,C=[];const A=qS(),T=()=>{!u&&!d&&y>=Pt.HeaderSizeBytes&&(d=!0,new Blob(C).arrayBuffer().then(B=>{l=new ArrayBuffer(Pt.HeaderSizeBytes),new Uint8Array(l).set(new Uint8Array(B,0,Pt.HeaderSizeBytes)),pc.checkVersion(l),d=!1,u=!0,c=Pt.parseHeader(l),window.setTimeout(()=>{M()},1)}))};let x=0;const E=()=>{x===0&&(x++,window.setTimeout(()=>{x--,I()},1))},M=()=>{const U=()=>{m=!0,new Blob(C).arrayBuffer().then(P=>{m=!1,v=!0,h=new ArrayBuffer(c.maxSectionCount*Pt.SectionHeaderSizeBytes),new Uint8Array(h).set(new Uint8Array(P,Pt.HeaderSizeBytes,c.maxSectionCount*Pt.SectionHeaderSizeBytes)),p=Pt.parseSectionHeaders(c,h,0,!1);let N=0;for(let O=0;O<c.maxSectionCount;O++)N+=p[O].storageSizeBytes;const L=Pt.HeaderSizeBytes+c.maxSectionCount*Pt.SectionHeaderSizeBytes+N;if(!a){a=new ArrayBuffer(L);let O=0;for(let $=0;$<C.length;$++){const W=C[$];new Uint8Array(a,O,W.byteLength).set(new Uint8Array(W)),O+=W.byteLength}}_=Pt.HeaderSizeBytes+Pt.SectionHeaderSizeBytes*c.maxSectionCount;for(let O=0;O<=p.length&&O<c.maxSectionCount;O++)_+=p[O].storageSizeBytes;E()})};!m&&!v&&u&&y>=Pt.HeaderSizeBytes+Pt.SectionHeaderSizeBytes*c.maxSectionCount&&U()},I=()=>{if(w)return;w=!0;const U=()=>{if(w=!1,v){if(S)return;if(b=y>=_,y-g>an.ProgressiveLoadSectionSize||b){g+=an.ProgressiveLoadSectionSize,S=g>=_,i||(i=new Pt(a,!1));const P=Pt.HeaderSizeBytes+Pt.SectionHeaderSizeBytes*c.maxSectionCount;let N=0,L=0,O=0;for(let ee=0;ee<c.maxSectionCount;ee++){const Y=p[ee],Z=N+Y.partiallyFilledBucketCount*4+Y.bucketStorageSizeBytes*Y.bucketCount,ae=P+Z;if(g>=ae){L++;const ue=g-ae,ye=Pt.CompressionLevels[c.compressionLevel].SphericalHarmonicsDegrees[Y.sphericalHarmonicsDegree].BytesPerSplat;let Fe=Math.floor(ue/ye);Fe=Math.min(Fe,Y.maxSplatCount),O+=Fe,i.updateLoadedCounts(L,O),i.updateSectionLoadedCounts(ee,Fe)}else break;N+=Y.storageSizeBytes}r(i,S);const $=g/_*100,W=$.toFixed(2)+"%";n&&n($,W,Yn.Downloading),S?A.resolve(i):I()}}};window.setTimeout(U,an.ProgressiveLoadSectionDelayDuration)};return Pm(e,(U,B,P)=>{P&&(C.push(P),a&&new Uint8Array(a,y,P.byteLength).set(new Uint8Array(P)),y+=P.byteLength),s?(T(),M(),I()):n&&n(U,B,Yn.Downloading)},!s,o).then(U=>(n&&n(0,"0%",Yn.Processing),(s?A.promise:pc.loadFromFileData(U)).then(P=>(n&&n(100,"100%",Yn.Done),P))))}static loadFromFileData(e){return vr(()=>(pc.checkVersion(e),new Pt(e)))}};mt(pc,"downloadFile",function(){let e;return function(n,s){const r=new Blob([n.bufferData],{type:"application/octet-stream"});e||(e=document.createElement("a"),document.body.appendChild(e)),e.download=s,e.href=URL.createObjectURL(r),e.click()}}());let wy=pc;const tr={Splat:0,KSplat:1,Ply:2,Spz:3},_A=t=>t.endsWith(".ply")?tr.Ply:t.endsWith(".splat")?tr.Splat:t.endsWith(".ksplat")?tr.KSplat:t.endsWith(".spz")?tr.Spz:null,wA={type:"change"},tg={type:"start"},CA={type:"end"},dp=new pP,xA=new Va,uhe=Math.cos(70*cP.DEG2RAD);class fp extends Al{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Se,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"KeyA",UP:"KeyW",RIGHT:"KeyD",BOTTOM:"KeyS"},this.mouseButtons={LEFT:Nl.ROTATE,MIDDLE:Nl.DOLLY,RIGHT:Nl.PAN},this.touches={ONE:Ul.ROTATE,TWO:Ul.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return i.phi},this.getAzimuthalAngle=function(){return i.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(q){q.addEventListener("keydown",de),this._domElementKeyEvents=q},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",de),this._domElementKeyEvents=null},this.saveState=function(){s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=function(){s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,this.clearDampedRotation(),this.clearDampedPan(),s.object.updateProjectionMatrix(),s.dispatchEvent(wA),s.update(),o=r.NONE},this.clearDampedRotation=function(){l.theta=0,l.phi=0},this.clearDampedPan=function(){u.set(0,0,0)},this.update=function(){const q=new Se,Ae=new Nn().setFromUnitVectors(e.up,new Se(0,1,0)),oe=Ae.clone().invert(),be=new Se,ne=new Nn,ze=new Se,ut=2*Math.PI;return function(){Ae.setFromUnitVectors(e.up,new Se(0,1,0)),oe.copy(Ae).invert();const it=s.object.position;q.copy(it).sub(s.target),q.applyQuaternion(Ae),i.setFromVector3(q),s.autoRotate&&o===r.NONE&&M(x()),s.enableDamping?(i.theta+=l.theta*s.dampingFactor,i.phi+=l.phi*s.dampingFactor):(i.theta+=l.theta,i.phi+=l.phi);let Ve=s.minAzimuthAngle,Ge=s.maxAzimuthAngle;isFinite(Ve)&&isFinite(Ge)&&(Ve<-Math.PI?Ve+=ut:Ve>Math.PI&&(Ve-=ut),Ge<-Math.PI?Ge+=ut:Ge>Math.PI&&(Ge-=ut),Ve<=Ge?i.theta=Math.max(Ve,Math.min(Ge,i.theta)):i.theta=i.theta>(Ve+Ge)/2?Math.max(Ve,i.theta):Math.min(Ge,i.theta)),i.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,i.phi)),i.makeSafe(),s.enableDamping===!0?s.target.addScaledVector(u,s.dampingFactor):s.target.add(u),s.zoomToCursor&&C||s.object.isOrthographicCamera?i.radius=O(i.radius):i.radius=O(i.radius*c),q.setFromSpherical(i),q.applyQuaternion(oe),it.copy(s.target).add(q),s.object.lookAt(s.target),s.enableDamping===!0?(l.theta*=1-s.dampingFactor,l.phi*=1-s.dampingFactor,u.multiplyScalar(1-s.dampingFactor)):(l.set(0,0,0),u.set(0,0,0));let dt=!1;if(s.zoomToCursor&&C){let Ye=null;if(s.object.isPerspectiveCamera){const kt=q.length();Ye=O(kt*c);const hn=kt-Ye;s.object.position.addScaledVector(S,hn),s.object.updateMatrixWorld()}else if(s.object.isOrthographicCamera){const kt=new Se(w.x,w.y,0);kt.unproject(s.object),s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/c)),s.object.updateProjectionMatrix(),dt=!0;const hn=new Se(w.x,w.y,0);hn.unproject(s.object),s.object.position.sub(hn).add(kt),s.object.updateMatrixWorld(),Ye=q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),s.zoomToCursor=!1;Ye!==null&&(this.screenSpacePanning?s.target.set(0,0,-1).transformDirection(s.object.matrix).multiplyScalar(Ye).add(s.object.position):(dp.origin.copy(s.object.position),dp.direction.set(0,0,-1).transformDirection(s.object.matrix),Math.abs(s.object.up.dot(dp.direction))<uhe?e.lookAt(s.target):(xA.setFromNormalAndCoplanarPoint(s.object.up,s.target),dp.intersectPlane(xA,s.target))))}else s.object.isOrthographicCamera&&(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/c)),s.object.updateProjectionMatrix(),dt=!0);return c=1,C=!1,dt||be.distanceToSquared(s.object.position)>a||8*(1-ne.dot(s.object.quaternion))>a||ze.distanceToSquared(s.target)>0?(s.dispatchEvent(wA),be.copy(s.object.position),ne.copy(s.object.quaternion),ze.copy(s.target),dt=!1,!0):!1}}(),this.dispose=function(){s.domElement.removeEventListener("contextmenu",Je),s.domElement.removeEventListener("pointerdown",ve),s.domElement.removeEventListener("pointercancel",we),s.domElement.removeEventListener("wheel",me),s.domElement.removeEventListener("pointermove",xe),s.domElement.removeEventListener("pointerup",we),s._domElementKeyEvents!==null&&(s._domElementKeyEvents.removeEventListener("keydown",de),s._domElementKeyEvents=null)};const s=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=r.NONE;const a=1e-6,i=new Px,l=new Px;let c=1;const u=new Se,d=new Lt,h=new Lt,p=new Lt,v=new Lt,m=new Lt,y=new Lt,g=new Lt,_=new Lt,b=new Lt,S=new Se,w=new Lt;let C=!1;const A=[],T={};function x(){return 2*Math.PI/60/60*s.autoRotateSpeed}function E(){return Math.pow(.95,s.zoomSpeed)}function M(q){l.theta-=q}function I(q){l.phi-=q}const k=function(){const q=new Se;return function(oe,be){q.setFromMatrixColumn(be,0),q.multiplyScalar(-oe),u.add(q)}}(),U=function(){const q=new Se;return function(oe,be){s.screenSpacePanning===!0?q.setFromMatrixColumn(be,1):(q.setFromMatrixColumn(be,0),q.crossVectors(s.object.up,q)),q.multiplyScalar(oe),u.add(q)}}(),B=function(){const q=new Se;return function(oe,be){const ne=s.domElement;if(s.object.isPerspectiveCamera){const ze=s.object.position;q.copy(ze).sub(s.target);let ut=q.length();ut*=Math.tan(s.object.fov/2*Math.PI/180),k(2*oe*ut/ne.clientHeight,s.object.matrix),U(2*be*ut/ne.clientHeight,s.object.matrix)}else s.object.isOrthographicCamera?(k(oe*(s.object.right-s.object.left)/s.object.zoom/ne.clientWidth,s.object.matrix),U(be*(s.object.top-s.object.bottom)/s.object.zoom/ne.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)}}();function P(q){s.object.isPerspectiveCamera||s.object.isOrthographicCamera?c/=q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function N(q){s.object.isPerspectiveCamera||s.object.isOrthographicCamera?c*=q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function L(q){if(!s.zoomToCursor)return;C=!0;const Ae=s.domElement.getBoundingClientRect(),oe=q.clientX-Ae.left,be=q.clientY-Ae.top,ne=Ae.width,ze=Ae.height;w.x=oe/ne*2-1,w.y=-(be/ze)*2+1,S.set(w.x,w.y,1).unproject(e).sub(e.position).normalize()}function O(q){return Math.max(s.minDistance,Math.min(s.maxDistance,q))}function $(q){d.set(q.clientX,q.clientY)}function W(q){L(q),g.set(q.clientX,q.clientY)}function ee(q){v.set(q.clientX,q.clientY)}function Y(q){h.set(q.clientX,q.clientY),p.subVectors(h,d).multiplyScalar(s.rotateSpeed);const Ae=s.domElement;M(2*Math.PI*p.x/Ae.clientHeight),I(2*Math.PI*p.y/Ae.clientHeight),d.copy(h),s.update()}function Z(q){_.set(q.clientX,q.clientY),b.subVectors(_,g),b.y>0?P(E()):b.y<0&&N(E()),g.copy(_),s.update()}function ae(q){m.set(q.clientX,q.clientY),y.subVectors(m,v).multiplyScalar(s.panSpeed),B(y.x,y.y),v.copy(m),s.update()}function ue(q){L(q),q.deltaY<0?N(E()):q.deltaY>0&&P(E()),s.update()}function re(q){let Ae=!1;switch(q.code){case s.keys.UP:q.ctrlKey||q.metaKey||q.shiftKey?I(2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):B(0,s.keyPanSpeed),Ae=!0;break;case s.keys.BOTTOM:q.ctrlKey||q.metaKey||q.shiftKey?I(-2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):B(0,-s.keyPanSpeed),Ae=!0;break;case s.keys.LEFT:q.ctrlKey||q.metaKey||q.shiftKey?M(2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):B(s.keyPanSpeed,0),Ae=!0;break;case s.keys.RIGHT:q.ctrlKey||q.metaKey||q.shiftKey?M(-2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):B(-s.keyPanSpeed,0),Ae=!0;break}Ae&&(q.preventDefault(),s.update())}function ge(){if(A.length===1)d.set(A[0].pageX,A[0].pageY);else{const q=.5*(A[0].pageX+A[1].pageX),Ae=.5*(A[0].pageY+A[1].pageY);d.set(q,Ae)}}function ye(){if(A.length===1)v.set(A[0].pageX,A[0].pageY);else{const q=.5*(A[0].pageX+A[1].pageX),Ae=.5*(A[0].pageY+A[1].pageY);v.set(q,Ae)}}function Fe(){const q=A[0].pageX-A[1].pageX,Ae=A[0].pageY-A[1].pageY,oe=Math.sqrt(q*q+Ae*Ae);g.set(0,oe)}function X(){s.enableZoom&&Fe(),s.enablePan&&ye()}function V(){s.enableZoom&&Fe(),s.enableRotate&&ge()}function ce(q){if(A.length==1)h.set(q.pageX,q.pageY);else{const oe=nt(q),be=.5*(q.pageX+oe.x),ne=.5*(q.pageY+oe.y);h.set(be,ne)}p.subVectors(h,d).multiplyScalar(s.rotateSpeed);const Ae=s.domElement;M(2*Math.PI*p.x/Ae.clientHeight),I(2*Math.PI*p.y/Ae.clientHeight),d.copy(h)}function Q(q){if(A.length===1)m.set(q.pageX,q.pageY);else{const Ae=nt(q),oe=.5*(q.pageX+Ae.x),be=.5*(q.pageY+Ae.y);m.set(oe,be)}y.subVectors(m,v).multiplyScalar(s.panSpeed),B(y.x,y.y),v.copy(m)}function Me(q){const Ae=nt(q),oe=q.pageX-Ae.x,be=q.pageY-Ae.y,ne=Math.sqrt(oe*oe+be*be);_.set(0,ne),b.set(0,Math.pow(_.y/g.y,s.zoomSpeed)),P(b.y),g.copy(_)}function Pe(q){s.enableZoom&&Me(q),s.enablePan&&Q(q)}function Te(q){s.enableZoom&&Me(q),s.enableRotate&&ce(q)}function ve(q){s.enabled!==!1&&(A.length===0&&(s.domElement.setPointerCapture(q.pointerId),s.domElement.addEventListener("pointermove",xe),s.domElement.addEventListener("pointerup",we)),je(q),q.pointerType==="touch"?Re(q):J(q))}function xe(q){s.enabled!==!1&&(q.pointerType==="touch"?ke(q):G(q))}function we(q){at(q),A.length===0&&(s.domElement.releasePointerCapture(q.pointerId),s.domElement.removeEventListener("pointermove",xe),s.domElement.removeEventListener("pointerup",we)),s.dispatchEvent(CA),o=r.NONE}function J(q){let Ae;switch(q.button){case 0:Ae=s.mouseButtons.LEFT;break;case 1:Ae=s.mouseButtons.MIDDLE;break;case 2:Ae=s.mouseButtons.RIGHT;break;default:Ae=-1}switch(Ae){case Nl.DOLLY:if(s.enableZoom===!1)return;W(q),o=r.DOLLY;break;case Nl.ROTATE:if(q.ctrlKey||q.metaKey||q.shiftKey){if(s.enablePan===!1)return;ee(q),o=r.PAN}else{if(s.enableRotate===!1)return;$(q),o=r.ROTATE}break;case Nl.PAN:if(q.ctrlKey||q.metaKey||q.shiftKey){if(s.enableRotate===!1)return;$(q),o=r.ROTATE}else{if(s.enablePan===!1)return;ee(q),o=r.PAN}break;default:o=r.NONE}o!==r.NONE&&s.dispatchEvent(tg)}function G(q){switch(o){case r.ROTATE:if(s.enableRotate===!1)return;Y(q);break;case r.DOLLY:if(s.enableZoom===!1)return;Z(q);break;case r.PAN:if(s.enablePan===!1)return;ae(q);break}}function me(q){s.enabled===!1||s.enableZoom===!1||o!==r.NONE||(q.preventDefault(),s.dispatchEvent(tg),ue(q),s.dispatchEvent(CA))}function de(q){s.enabled===!1||s.enablePan===!1||re(q)}function Re(q){switch(gt(q),A.length){case 1:switch(s.touches.ONE){case Ul.ROTATE:if(s.enableRotate===!1)return;ge(),o=r.TOUCH_ROTATE;break;case Ul.PAN:if(s.enablePan===!1)return;ye(),o=r.TOUCH_PAN;break;default:o=r.NONE}break;case 2:switch(s.touches.TWO){case Ul.DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;X(),o=r.TOUCH_DOLLY_PAN;break;case Ul.DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;V(),o=r.TOUCH_DOLLY_ROTATE;break;default:o=r.NONE}break;default:o=r.NONE}o!==r.NONE&&s.dispatchEvent(tg)}function ke(q){switch(gt(q),o){case r.TOUCH_ROTATE:if(s.enableRotate===!1)return;ce(q),s.update();break;case r.TOUCH_PAN:if(s.enablePan===!1)return;Q(q),s.update();break;case r.TOUCH_DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;Pe(q),s.update();break;case r.TOUCH_DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;Te(q),s.update();break;default:o=r.NONE}}function Je(q){s.enabled!==!1&&q.preventDefault()}function je(q){A.push(q)}function at(q){delete T[q.pointerId];for(let Ae=0;Ae<A.length;Ae++)if(A[Ae].pointerId==q.pointerId){A.splice(Ae,1);return}}function gt(q){let Ae=T[q.pointerId];Ae===void 0&&(Ae=new Lt,T[q.pointerId]=Ae),Ae.set(q.pageX,q.pageY)}function nt(q){const Ae=q.pointerId===A[0].pointerId?A[1]:A[0];return T[Ae.pointerId]}s.domElement.addEventListener("contextmenu",Je),s.domElement.addEventListener("pointerdown",ve),s.domElement.addEventListener("pointercancel",we),s.domElement.addEventListener("wheel",me,{passive:!1}),this.update()}}const dhe=(t,e,n,s,r)=>{const o=performance.now();let a=t.style.display==="none"?0:parseFloat(t.style.opacity);isNaN(a)&&(a=1);const i=window.setInterval(()=>{const c=performance.now()-o;let u=Math.min(c/s,1);u>.999&&(u=1);let d;e?(d=(1-u)*a,d<1e-4&&(d=0)):d=(1-a)*u+a,d>0?(t.style.display=n,t.style.opacity=d):t.style.display="none",u>=1&&(r&&r(),window.clearInterval(i))},16);return i},fhe=500,Bh=class Bh{constructor(e,n){this.taskIDGen=0,this.elementID=Bh.elementIDGen++,this.tasks=[],this.message=e||"Loading...",this.container=n||document.body,this.spinnerContainerOuter=document.createElement("div"),this.spinnerContainerOuter.className=`spinnerOuterContainer${this.elementID}`,this.spinnerContainerOuter.style.display="none",this.spinnerContainerPrimary=document.createElement("div"),this.spinnerContainerPrimary.className=`spinnerContainerPrimary${this.elementID}`,this.spinnerPrimary=document.createElement("div"),this.spinnerPrimary.classList.add(`spinner${this.elementID}`,`spinnerPrimary${this.elementID}`),this.messageContainerPrimary=document.createElement("div"),this.messageContainerPrimary.classList.add(`messageContainer${this.elementID}`,`messageContainerPrimary${this.elementID}`),this.messageContainerPrimary.innerHTML=this.message,this.spinnerContainerMin=document.createElement("div"),this.spinnerContainerMin.className=`spinnerContainerMin${this.elementID}`,this.spinnerMin=document.createElement("div"),this.spinnerMin.classList.add(`spinner${this.elementID}`,`spinnerMin${this.elementID}`),this.messageContainerMin=document.createElement("div"),this.messageContainerMin.classList.add(`messageContainer${this.elementID}`,`messageContainerMin${this.elementID}`),this.messageContainerMin.innerHTML=this.message,this.spinnerContainerPrimary.appendChild(this.spinnerPrimary),this.spinnerContainerPrimary.appendChild(this.messageContainerPrimary),this.spinnerContainerOuter.appendChild(this.spinnerContainerPrimary),this.spinnerContainerMin.appendChild(this.spinnerMin),this.spinnerContainerMin.appendChild(this.messageContainerMin),this.spinnerContainerOuter.appendChild(this.spinnerContainerMin);const s=document.createElement("style");s.innerHTML=`

            .spinnerOuterContainer${this.elementID} {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .messageContainer${this.elementID} {
                height: 20px;
                font-family: arial;
                font-size: 12pt;
                color: #ffffff;
                text-align: center;
                vertical-align: middle;
            }

            .spinner${this.elementID} {
                padding: 15px;
                background: #07e8d6;
                z-index:99999;
            
                aspect-ratio: 1;
                border-radius: 50%;
                --_m: 
                    conic-gradient(#0000,#000),
                    linear-gradient(#000 0 0) content-box;
                -webkit-mask: var(--_m);
                    mask: var(--_m);
                -webkit-mask-composite: source-out;
                    mask-composite: subtract;
                box-sizing: border-box;
                animation: load 1s linear infinite;
            }

            .spinnerContainerPrimary${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 10px;
                margin: 0;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-80px, -80px);
                width: 180px;
                pointer-events: auto;
            }

            .spinnerPrimary${this.elementID} {
                width: 120px;
                margin-left: 30px;
            }

            .messageContainerPrimary${this.elementID} {
                padding-top: 15px;
            }

            .spinnerContainerMin${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                display: flex;
                flex-direction: left;
                pointer-events: auto;
                min-width: 250px;
            }

            .messageContainerMin${this.elementID} {
                margin-right: 15px;
            }

            .spinnerMin${this.elementID} {
                width: 50px;
                height: 50px;
                margin-left: 15px;
                margin-right: 25px;
            }

            .messageContainerMin${this.elementID} {
                padding-top: 15px;
            }
            
            @keyframes load {
                to{transform: rotate(1turn)}
            }

        `,this.spinnerContainerOuter.appendChild(s),this.container.appendChild(this.spinnerContainerOuter),this.setMinimized(!1,!0),this.fadeTransitions=[]}addTask(e){const n={message:e,id:this.taskIDGen++};return this.tasks.push(n),this.update(),n.id}removeTask(e){let n=0;for(let s of this.tasks){if(s.id===e){this.tasks.splice(n,1);break}n++}this.update()}removeAllTasks(){this.tasks=[],this.update()}setMessageForTask(e,n){for(let s of this.tasks)if(s.id===e){s.message=n;break}this.update()}update(){this.tasks.length>0?(this.show(),this.setMessage(this.tasks[this.tasks.length-1].message)):this.hide()}show(){this.spinnerContainerOuter.style.display="block",this.visible=!0}hide(){this.spinnerContainerOuter.style.display="none",this.visible=!1}setContainer(e){this.container&&this.spinnerContainerOuter.parentElement===this.container&&this.container.removeChild(this.spinnerContainerOuter),e&&(this.container=e,this.container.appendChild(this.spinnerContainerOuter),this.spinnerContainerOuter.style.zIndex=this.container.style.zIndex+1)}setMinimized(e,n){const s=(r,o,a,i,l)=>{a?r.style.display=o?i:"none":this.fadeTransitions[l]=dhe(r,!o,i,fhe,()=>{this.fadeTransitions[l]=null})};s(this.spinnerContainerPrimary,!e,n,"block",0),s(this.spinnerContainerMin,e,n,"flex",1),this.minimized=e}setMessage(e){this.messageContainerPrimary.innerHTML=e,this.messageContainerMin.innerHTML=e}};mt(Bh,"elementIDGen",0);let Cy=Bh;class phe{constructor(e){this.idGen=0,this.tasks=[],this.container=e||document.body,this.progressBarContainerOuter=document.createElement("div"),this.progressBarContainerOuter.className="progressBarOuterContainer",this.progressBarContainerOuter.style.display="none",this.progressBarBox=document.createElement("div"),this.progressBarBox.className="progressBarBox",this.progressBarBackground=document.createElement("div"),this.progressBarBackground.className="progressBarBackground",this.progressBar=document.createElement("div"),this.progressBar.className="progressBar",this.progressBarBackground.appendChild(this.progressBar),this.progressBarBox.appendChild(this.progressBarBackground),this.progressBarContainerOuter.appendChild(this.progressBarBox);const n=document.createElement("style");n.innerHTML=`

            .progressBarOuterContainer {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .progressBarBox {
                z-index:99999;
                padding: 7px 9px 5px 7px;
                background-color: rgba(190, 190, 190, 0.75);
                border: #555555 1px solid;
                border-radius: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                width: 180px;
                height: 30px;
                pointer-events: auto;
            }

            .progressBarBackground {
                width: 100%;
                height: 25px;
                border-radius:10px;
                background-color: rgba(128, 128, 128, 0.75);
                border: #444444 1px solid;
                box-shadow: inset 0 0 10px #333333;
            }

            .progressBar {
                height: 25px;
                width: 0px;
                border-radius:10px;
                background-color: rgba(0, 200, 0, 0.75);
                box-shadow: inset 0 0 10px #003300;
            }

        `,this.progressBarContainerOuter.appendChild(n),this.container.appendChild(this.progressBarContainerOuter)}show(){this.progressBarContainerOuter.style.display="block"}hide(){this.progressBarContainerOuter.style.display="none"}setProgress(e){this.progressBar.style.width=e+"%"}setContainer(e){this.container&&this.progressBarContainerOuter.parentElement===this.container&&this.container.removeChild(this.progressBarContainerOuter),e&&(this.container=e,this.container.appendChild(this.progressBarContainerOuter),this.progressBarContainerOuter.style.zIndex=this.container.style.zIndex+1)}}class hhe{constructor(e){mt(this,"update",function(e,n,s,r,o,a,i,l,c,u,d,h,p,v){const m=`${n.x.toFixed(5)}, ${n.y.toFixed(5)}, ${n.z.toFixed(5)}`;if(this.infoCells.cameraPosition.innerHTML!==m&&(this.infoCells.cameraPosition.innerHTML=m),s){const g=s,_=`${g.x.toFixed(5)}, ${g.y.toFixed(5)}, ${g.z.toFixed(5)}`;this.infoCells.cameraLookAt.innerHTML!==_&&(this.infoCells.cameraLookAt.innerHTML=_)}const y=`${r.x.toFixed(5)}, ${r.y.toFixed(5)}, ${r.z.toFixed(5)}`;if(this.infoCells.cameraUp.innerHTML!==y&&(this.infoCells.cameraUp.innerHTML=y),this.infoCells.orthographicCamera.innerHTML=o?"Orthographic":"Perspective",a){const g=a,_=`${g.x.toFixed(5)}, ${g.y.toFixed(5)}, ${g.z.toFixed(5)}`;this.infoCells.cursorPosition.innerHTML=_}else this.infoCells.cursorPosition.innerHTML="N/A";this.infoCells.fps.innerHTML=i,this.infoCells.renderWindow.innerHTML=`${e.x} x ${e.y}`,this.infoCells.renderSplatCount.innerHTML=`${c} splats out of ${l} (${u.toFixed(2)}%)`,this.infoCells.sortTime.innerHTML=`${d.toFixed(3)} ms`,this.infoCells.focalAdjustment.innerHTML=`${h.toFixed(3)}`,this.infoCells.splatScale.innerHTML=`${p.toFixed(3)}`,this.infoCells.pointCloudMode.innerHTML=`${v}`});this.container=e||document.body,this.infoCells={};const n=[["Camera position","cameraPosition"],["Camera look-at","cameraLookAt"],["Camera up","cameraUp"],["Camera mode","orthographicCamera"],["Cursor position","cursorPosition"],["FPS","fps"],["Rendering:","renderSplatCount"],["Sort time","sortTime"],["Render window","renderWindow"],["Focal adjustment","focalAdjustment"],["Splat scale","splatScale"],["Point cloud mode","pointCloudMode"]];this.infoPanelContainer=document.createElement("div");const s=document.createElement("style");s.innerHTML=`

            .infoPanel {
                width: 430px;
                padding: 10px;
                background-color: rgba(50, 50, 50, 0.85);
                border: #555555 2px solid;
                color: #dddddd;
                border-radius: 10px;
                z-index: 9999;
                font-family: arial;
                font-size: 11pt;
                text-align: left;
                margin: 0;
                top: 10px;
                left:10px;
                position: absolute;
                pointer-events: auto;
            }

            .info-panel-cell {
                margin-bottom: 5px;
                padding-bottom: 2px;
            }

            .label-cell {
                font-weight: bold;
                font-size: 12pt;
                width: 140px;
            }

        `,this.infoPanelContainer.append(s),this.infoPanel=document.createElement("div"),this.infoPanel.className="infoPanel";const r=document.createElement("div");r.style.display="table";for(let o of n){const a=document.createElement("div");a.style.display="table-row",a.className="info-panel-row";const i=document.createElement("div");i.style.display="table-cell",i.innerHTML=`${o[0]}: `,i.classList.add("info-panel-cell","label-cell");const l=document.createElement("div");l.style.display="table-cell",l.style.width="10px",l.innerHTML=" ",l.className="info-panel-cell";const c=document.createElement("div");c.style.display="table-cell",c.innerHTML="",c.className="info-panel-cell",this.infoCells[o[1]]=c,a.appendChild(i),a.appendChild(l),a.appendChild(c),r.appendChild(a)}this.infoPanel.appendChild(r),this.infoPanelContainer.append(this.infoPanel),this.infoPanelContainer.style.display="none",this.container.appendChild(this.infoPanelContainer),this.visible=!1}setContainer(e){this.container&&this.infoPanelContainer.parentElement===this.container&&this.container.removeChild(this.infoPanelContainer),e&&(this.container=e,this.container.appendChild(this.infoPanelContainer),this.infoPanelContainer.style.zIndex=this.container.style.zIndex+1)}show(){this.infoPanelContainer.style.display="block",this.visible=!0}hide(){this.infoPanelContainer.style.display="none",this.visible=!1}}const AA=new Se;class mhe extends ss{constructor(e=new Se(0,0,1),n=new Se(0,0,0),s=1,r=.1,o=16776960,a=s*.2,i=a*.2){super(),this.type="ArrowHelper";const l=new zd(r,r,s,32);l.translate(0,s/2,0);const c=new zd(0,i,a,32);c.translate(0,s,0),this.position.copy(n),this.line=new jn(l,new yl({color:o,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new jn(c,new yl({color:o,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{AA.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(AA,n)}}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class td{constructor(e){mt(this,"updateFocusMarker",function(){const e=new Se,n=new Wt,s=new Se;return function(r,o,a){n.copy(o.matrixWorld).invert(),e.copy(r).applyMatrix4(n),e.normalize().multiplyScalar(10),e.applyMatrix4(o.matrixWorld),s.copy(o.position).sub(r);const i=s.length();this.focusMarker.position.copy(r),this.focusMarker.scale.set(i,i,i),this.focusMarker.material.uniforms.realFocusPosition.value.copy(r),this.focusMarker.material.uniforms.viewport.value.copy(a),this.focusMarker.material.uniformsNeedUpdate=!0}}());mt(this,"positionAndOrientControlPlane",function(){const e=new Nn,n=new Se(0,1,0);return function(s,r){e.setFromUnitVectors(n,r),this.controlPlane.position.copy(s),this.controlPlane.quaternion.copy(e)}}());this.threeScene=e,this.splatRenderTarget=null,this.renderTargetCopyQuad=null,this.renderTargetCopyCamera=null,this.meshCursor=null,this.focusMarker=null,this.controlPlane=null,this.debugRoot=null,this.secondaryDebugRoot=null}updateSplatRenderTargetForRenderDimensions(e,n){this.destroySplatRendertarget(),this.splatRenderTarget=new vi(e,n,{format:Vs,stencilBuffer:!1,depthBuffer:!0}),this.splatRenderTarget.depthTexture=new WS(e,n),this.splatRenderTarget.depthTexture.format=ll,this.splatRenderTarget.depthTexture.type=Nr}destroySplatRendertarget(){this.splatRenderTarget&&(this.splatRenderTarget=null)}setupRenderTargetCopyObjects(){const e={sourceColorTexture:{type:"t",value:null},sourceDepthTexture:{type:"t",value:null}},n=new _r({vertexShader:`
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = vec4( position.xy, 0.0, 1.0 );    
                }
            `,fragmentShader:`
                #include <common>
                #include <packing>
                varying vec2 vUv;
                uniform sampler2D sourceColorTexture;
                uniform sampler2D sourceDepthTexture;
                void main() {
                    vec4 color = texture2D(sourceColorTexture, vUv);
                    float fragDepth = texture2D(sourceDepthTexture, vUv).x;
                    gl_FragDepth = fragDepth;
                    gl_FragColor = vec4(color.rgb, color.a * 2.0);
              }
            `,uniforms:e,depthWrite:!1,depthTest:!1,transparent:!0,blending:YR,blendSrc:Bd,blendSrcAlpha:Bd,blendDst:Fd,blendDstAlpha:Fd});n.extensions.fragDepth=!0,this.renderTargetCopyQuad=new jn(new nu(2,2),n),this.renderTargetCopyCamera=new KS(-1,1,1,-1,0,1)}destroyRenderTargetCopyObjects(){this.renderTargetCopyQuad&&(lc(this.renderTargetCopyQuad),this.renderTargetCopyQuad=null)}setupMeshCursor(){if(!this.meshCursor){const e=new GS(.5,1.5,32),n=new yl({color:16777215}),s=new jn(e,n);s.rotation.set(0,0,Math.PI),s.position.set(0,1,0);const r=new jn(e,n);r.position.set(0,-1,0);const o=new jn(e,n);o.rotation.set(0,0,Math.PI/2),o.position.set(1,0,0);const a=new jn(e,n);a.rotation.set(0,0,-Math.PI/2),a.position.set(-1,0,0),this.meshCursor=new ss,this.meshCursor.add(s),this.meshCursor.add(r),this.meshCursor.add(o),this.meshCursor.add(a),this.meshCursor.scale.set(.1,.1,.1),this.threeScene.add(this.meshCursor),this.meshCursor.visible=!1}}destroyMeshCursor(){this.meshCursor&&(lc(this.meshCursor),this.threeScene.remove(this.meshCursor),this.meshCursor=null)}setMeshCursorVisibility(e){this.meshCursor.visible=e}getMeschCursorVisibility(){return this.meshCursor.visible}setMeshCursorPosition(e){this.meshCursor.position.copy(e)}positionAndOrientMeshCursor(e,n){this.meshCursor.position.copy(e),this.meshCursor.up.copy(n.up),this.meshCursor.lookAt(n.position)}setupFocusMarker(){if(!this.focusMarker){const e=new Dh(.5,32,32),n=td.buildFocusMarkerMaterial();n.depthTest=!1,n.depthWrite=!1,n.transparent=!0,this.focusMarker=new jn(e,n)}}destroyFocusMarker(){this.focusMarker&&(lc(this.focusMarker),this.focusMarker=null)}setFocusMarkerVisibility(e){this.focusMarker.visible=e}setFocusMarkerOpacity(e){this.focusMarker.material.uniforms.opacity.value=e,this.focusMarker.material.uniformsNeedUpdate=!0}getFocusMarkerOpacity(){return this.focusMarker.material.uniforms.opacity.value}setupControlPlane(){if(!this.controlPlane){const e=new nu(1,1);e.rotateX(-Math.PI/2);const n=new yl({color:16777215});n.transparent=!0,n.opacity=.6,n.depthTest=!1,n.depthWrite=!1,n.side=Or;const s=new jn(e,n),r=new Se(0,1,0);r.normalize();const o=new Se(0,0,0),a=.5,i=.01,l=56576,c=new mhe(r,o,a,i,l,.1,.03);this.controlPlane=new ss,this.controlPlane.add(s),this.controlPlane.add(c)}}destroyControlPlane(){this.controlPlane&&(lc(this.controlPlane),this.controlPlane=null)}setControlPlaneVisibility(e){this.controlPlane.visible=e}addDebugMeshes(){this.debugRoot=this.createDebugMeshes(),this.secondaryDebugRoot=this.createSecondaryDebugMeshes(),this.threeScene.add(this.debugRoot),this.threeScene.add(this.secondaryDebugRoot)}destroyDebugMeshes(){for(let e of[this.debugRoot,this.secondaryDebugRoot])e&&(lc(e),this.threeScene.remove(e));this.debugRoot=null,this.secondaryDebugRoot=null}createDebugMeshes(e){const n=new Dh(1,32,32),s=new ss,r=(o,a)=>{let i=new jn(n,td.buildDebugMaterial(o));i.renderOrder=e,s.add(i),i.position.fromArray(a)};return r(16711680,[-50,0,0]),r(16711680,[50,0,0]),r(65280,[0,0,-50]),r(65280,[0,0,50]),r(16755200,[5,0,5]),s}createSecondaryDebugMeshes(e){const n=new Su(3,3,3),s=new ss;let r=12303291;const o=i=>{let l=new jn(n,td.buildDebugMaterial(r));l.renderOrder=e,s.add(l),l.position.fromArray(i)};let a=10;return o([-10,0,-10]),o([-10,0,a]),o([a,0,-10]),o([a,0,a]),s}static buildDebugMaterial(e){const n=`
            #include <common>
            varying float ndcDepth;

            void main() {
                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position.xyz, 1.0);
                ndcDepth = gl_Position.z / gl_Position.w;
                gl_Position.x = gl_Position.x / gl_Position.w;
                gl_Position.y = gl_Position.y / gl_Position.w;
                gl_Position.z = 0.0;
                gl_Position.w = 1.0;
    
            }
        `,s=`
            #include <common>
            uniform vec3 color;
            varying float ndcDepth;
            void main() {
                gl_FragDepth = (ndcDepth + 1.0) / 2.0;
                gl_FragColor = vec4(color.rgb, 0.0);
            }
        `,r={color:{type:"v3",value:new gn(e)}},o=new _r({uniforms:r,vertexShader:n,fragmentShader:s,transparent:!1,depthTest:!0,depthWrite:!0,side:No});return o.extensions.fragDepth=!0,o}static buildFocusMarkerMaterial(e){const n=`
            #include <common>

            uniform vec2 viewport;
            uniform vec3 realFocusPosition;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                float radius = 0.01;

                vec4 viewPosition = modelViewMatrix * vec4(position.xyz, 1.0);
                vec4 viewCenter = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);

                vec4 viewFocusPosition = modelViewMatrix * vec4(realFocusPosition, 1.0);

                ndcPosition = projectionMatrix * viewPosition;
                ndcPosition = ndcPosition * vec4(1.0 / ndcPosition.w);
                ndcCenter = projectionMatrix * viewCenter;
                ndcCenter = ndcCenter * vec4(1.0 / ndcCenter.w);

                ndcFocusPosition = projectionMatrix * viewFocusPosition;
                ndcFocusPosition = ndcFocusPosition * vec4(1.0 / ndcFocusPosition.w);

                gl_Position = projectionMatrix * viewPosition;

            }
        `,s=`
            #include <common>
            uniform vec3 color;
            uniform vec2 viewport;
            uniform float opacity;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                vec2 screenPosition = vec2(ndcPosition) * viewport;
                vec2 screenCenter = vec2(ndcCenter) * viewport;

                vec2 screenVec = screenPosition - screenCenter;

                float projectedRadius = length(screenVec);

                float lineWidth = 0.0005 * viewport.y;
                float aaRange = 0.0025 * viewport.y;
                float radius = 0.06 * viewport.y;
                float radDiff = abs(projectedRadius - radius) - lineWidth;
                float alpha = 1.0 - clamp(radDiff / 5.0, 0.0, 1.0); 

                gl_FragColor = vec4(color.rgb, alpha * opacity);
            }
        `,r={color:{type:"v3",value:new gn(e)},realFocusPosition:{type:"v3",value:new Se},viewport:{type:"v2",value:new Lt},opacity:{value:0}};return new _r({uniforms:r,vertexShader:n,fragmentShader:s,transparent:!0,depthTest:!1,depthWrite:!1,side:No})}dispose(){this.destroyMeshCursor(),this.destroyFocusMarker(),this.destroyDebugMeshes(),this.destroyControlPlane(),this.destroyRenderTargetCopyObjects(),this.destroySplatRendertarget()}}const vhe=new Se(1,0,0),ghe=new Se(0,1,0),yhe=new Se(0,0,1);class ng{constructor(e=new Se,n=new Se){mt(this,"intersectBox",function(){const e=new Se,n=[],s=[],r=[];return function(o,a){if(s[0]=this.origin.x,s[1]=this.origin.y,s[2]=this.origin.z,r[0]=this.direction.x,r[1]=this.direction.y,r[2]=this.direction.z,this.boxContainsPoint(o,this.origin,1e-4))return a&&(a.origin.copy(this.origin),a.normal.set(0,0,0),a.distance=-1),!0;for(let i=0;i<3;i++){if(r[i]==0)continue;const l=i==0?vhe:i==1?ghe:yhe,c=r[i]<0?o.max:o.min;let u=-Math.sign(r[i]);n[0]=i==0?c.x:i==1?c.y:c.z;let d=n[0]-s[i];if(d*u<0){const h=(i+1)%3,p=(i+2)%3;if(n[2]=r[h]/r[i]*d+s[h],n[1]=r[p]/r[i]*d+s[p],e.set(n[i],n[p],n[h]),this.boxContainsPoint(o,e,1e-4))return a&&(a.origin.copy(e),a.normal.copy(l).multiplyScalar(u),a.distance=e.sub(this.origin).length()),!0}}return!1}}());mt(this,"intersectSphere",function(){const e=new Se;return function(n,s,r){e.copy(n).sub(this.origin);const o=e.dot(this.direction),a=o*o,l=e.dot(e)-a,c=s*s;if(l>c)return!1;const u=Math.sqrt(c-l),d=o-u,h=o+u;if(h<0)return!1;let p=d<0?h:d;return r&&(r.origin.copy(this.origin).addScaledVector(this.direction,p),r.normal.copy(r.origin).sub(n).normalize(),r.distance=p),!0}}());this.origin=new Se,this.direction=new Se,this.setParameters(e,n)}setParameters(e,n){this.origin.copy(e),this.direction.copy(n).normalize()}boxContainsPoint(e,n,s){return!(n.x<e.min.x-s||n.x>e.max.x+s||n.y<e.min.y-s||n.y>e.max.y+s||n.z<e.min.z-s||n.z>e.max.z+s)}}class l_{constructor(){this.origin=new Se,this.normal=new Se,this.distance=0,this.splatIndex=0}set(e,n,s,r){this.origin.copy(e),this.normal.copy(n),this.distance=s,this.splatIndex=r}clone(){const e=new l_;return e.origin.copy(this.origin),e.normal.copy(this.normal),e.distance=this.distance,e.splatIndex=this.splatIndex,e}}const ta={ThreeD:0,TwoD:1};class bhe{constructor(e,n,s=!1){mt(this,"setFromCameraAndScreenPosition",function(){const e=new Lt;return function(n,s,r){if(e.x=s.x/r.x*2-1,e.y=(r.y-s.y)/r.y*2-1,n.isPerspectiveCamera)this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n;else if(n.isOrthographicCamera)this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n;else throw new Error("Raycaster::setFromCameraAndScreenPosition() -> Unsupported camera type")}}());mt(this,"intersectSplatMesh",function(){const e=new Wt,n=new Wt,s=new Wt,r=new ng,o=new Se;return function(a,i=[]){const l=a.getSplatTree();if(l){for(let c=0;c<l.subTrees.length;c++){const u=l.subTrees[c];n.copy(a.matrixWorld),a.dynamicMode&&(a.getSceneTransform(c,s),n.multiply(s)),e.copy(n).invert(),r.origin.copy(this.ray.origin).applyMatrix4(e),r.direction.copy(this.ray.origin).add(this.ray.direction),r.direction.applyMatrix4(e).sub(r.origin).normalize();const d=[];u.rootNode&&this.castRayAtSplatTreeNode(r,l,u.rootNode,d),d.forEach(h=>{h.origin.applyMatrix4(n),h.normal.applyMatrix4(n).normalize(),h.distance=o.copy(h.origin).sub(this.ray.origin).length()}),i.push(...d)}return i.sort((c,u)=>c.distance>u.distance?1:-1),i}}}());mt(this,"castRayAtSplatTreeNode",function(){const e=new Fn,n=new Se,s=new Se,r=new Nn,o=new l_,a=1e-7,i=new Se(0,0,0),l=new Wt,c=new Wt,u=new Wt,d=new Wt,h=new Wt,p=new ng;return function(v,m,y,g=[]){if(v.intersectBox(y.boundingBox)){if(y.data&&y.data.indexes&&y.data.indexes.length>0)for(let _=0;_<y.data.indexes.length;_++){const b=y.data.indexes[_],S=m.splatMesh.getSceneIndexForSplat(b);if(m.splatMesh.getScene(S).visible&&(m.splatMesh.getSplatColor(b,e),m.splatMesh.getSplatCenter(b,n),m.splatMesh.getSplatScaleAndRotation(b,s,r),!(s.x<=a||s.y<=a||m.splatMesh.splatRenderMode===ta.ThreeD&&s.z<=a)))if(this.raycastAgainstTrueSplatEllipsoid){c.makeScale(s.x,s.y,s.z),u.makeRotationFromQuaternion(r);const C=Math.log10(e.w)*2;if(l.makeScale(C,C,C),h.copy(l).multiply(u).multiply(c),d.copy(h).invert(),p.origin.copy(v.origin).sub(n).applyMatrix4(d),p.direction.copy(v.origin).add(v.direction).sub(n),p.direction.applyMatrix4(d).sub(p.origin).normalize(),p.intersectSphere(i,1,o)){const A=o.clone();A.splatIndex=b,A.origin.applyMatrix4(h).add(n),g.push(A)}}else{let C=s.x+s.y,A=2;if(m.splatMesh.splatRenderMode===ta.ThreeD&&(C+=s.z,A=3),C=C/A,v.intersectSphere(n,C,o)){const T=o.clone();T.splatIndex=b,g.push(T)}}}if(y.children&&y.children.length>0)for(let _ of y.children)this.castRayAtSplatTreeNode(v,m,_,g);return g}}}());this.ray=new ng(e,n),this.raycastAgainstTrueSplatEllipsoid=s}}class Tc{static buildVertexShaderBase(e=!1,n=!1,s=0,r=""){let o=`
        precision highp float;
        #include <common>

        attribute uint splatIndex;
        uniform highp usampler2D centersColorsTexture;
        uniform highp sampler2D sphericalHarmonicsTexture;
        uniform highp sampler2D sphericalHarmonicsTextureR;
        uniform highp sampler2D sphericalHarmonicsTextureG;
        uniform highp sampler2D sphericalHarmonicsTextureB;

        uniform highp usampler2D sceneIndexesTexture;
        uniform vec2 sceneIndexesTextureSize;
        uniform int sceneCount;
    `;return n&&(o+=`
            uniform float sceneOpacity[${an.MaxScenes}];
            uniform int sceneVisibility[${an.MaxScenes}];
        `),e&&(o+=`
            uniform highp mat4 transforms[${an.MaxScenes}];
        `),o+=`
        ${r}
        uniform vec2 focal;
        uniform float orthoZoom;
        uniform int orthographicMode;
        uniform int pointCloudModeEnabled;
        uniform float inverseFocalAdjustment;
        uniform vec2 viewport;
        uniform vec2 basisViewport;
        uniform vec2 centersColorsTextureSize;
        uniform int sphericalHarmonicsDegree;
        uniform vec2 sphericalHarmonicsTextureSize;
        uniform int sphericalHarmonics8BitMode;
        uniform int sphericalHarmonicsMultiTextureMode;
        uniform float visibleRegionRadius;
        uniform float visibleRegionFadeStartRadius;
        uniform float firstRenderTime;
        uniform float currentTime;
        uniform int fadeInComplete;
        uniform vec3 sceneCenter;
        uniform float splatScale;
        uniform float sphericalHarmonics8BitCompressionRangeMin[${an.MaxScenes}];
        uniform float sphericalHarmonics8BitCompressionRangeMax[${an.MaxScenes}];

        varying vec4 vColor;
        varying vec2 vUv;
        varying vec2 vPosition;

        mat3 quaternionToRotationMatrix(float x, float y, float z, float w) {
            float s = 1.0 / sqrt(w * w + x * x + y * y + z * z);
        
            return mat3(
                1. - 2. * (y * y + z * z),
                2. * (x * y + w * z),
                2. * (x * z - w * y),
                2. * (x * y - w * z),
                1. - 2. * (x * x + z * z),
                2. * (y * z + w * x),
                2. * (x * z + w * y),
                2. * (y * z - w * x),
                1. - 2. * (x * x + y * y)
            );
        }

        const float sqrt8 = sqrt(8.0);
        const float minAlpha = 1.0 / 255.0;

        const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
        const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
        const uvec4 shift4 = uvec4(0, 8, 16, 24);
        vec4 uintToRGBAVec (uint u) {
           uvec4 urgba = mask4 & u;
           urgba = urgba >> shift4;
           vec4 rgba = vec4(urgba) * encodeNorm4;
           return rgba;
        }

        vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        vec2 getDataUVF(in uint sIndex, in float stride, in uint offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(uint(float(sIndex) * stride) + offset) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        const float SH_C1 = 0.4886025119029199f;
        const float[5] SH_C2 = float[](1.0925484, -1.0925484, 0.3153916, -1.0925484, 0.5462742);

        void main () {

            uint oddOffset = splatIndex & uint(0x00000001);
            uint doubleOddOffset = oddOffset * uint(2);
            bool isEven = oddOffset == uint(0);
            uint nearestEvenIndex = splatIndex - oddOffset;
            float fOddOffset = float(oddOffset);

            uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
            vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));

            uint sceneIndex = uint(0);
            if (sceneCount > 1) {
                sceneIndex = texture(sceneIndexesTexture, getDataUV(1, 0, sceneIndexesTextureSize)).r;
            }
            `,n&&(o+=`
                float splatOpacityFromScene = sceneOpacity[sceneIndex];
                int sceneVisible = sceneVisibility[sceneIndex];
                if (splatOpacityFromScene <= 0.01 || sceneVisible == 0) {
                    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                    return;
                }
            `),e?o+=`
                mat4 transform = transforms[sceneIndex];
                mat4 transformModelViewMatrix = viewMatrix * transform;
            `:o+="mat4 transformModelViewMatrix = modelViewMatrix;",o+=`
            float sh8BitCompressionRangeMinForScene = sphericalHarmonics8BitCompressionRangeMin[sceneIndex];
            float sh8BitCompressionRangeMaxForScene = sphericalHarmonics8BitCompressionRangeMax[sceneIndex];
            float sh8BitCompressionRangeForScene = sh8BitCompressionRangeMaxForScene - sh8BitCompressionRangeMinForScene;
            float sh8BitCompressionHalfRangeForScene = sh8BitCompressionRangeForScene / 2.0;
            vec3 vec8BitSHShift = vec3(sh8BitCompressionRangeMinForScene);

            vec4 viewCenter = transformModelViewMatrix * vec4(splatCenter, 1.0);

            vec4 clipCenter = projectionMatrix * viewCenter;

            float clip = 1.2 * clipCenter.w;
            if (clipCenter.z < -clip || clipCenter.x < -clip || clipCenter.x > clip || clipCenter.y < -clip || clipCenter.y > clip) {
                gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                return;
            }

            vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

            vPosition = position.xy;
            vColor = uintToRGBAVec(sampledCenterColor.r);
        `,s>=1&&(o+=`   
            if (sphericalHarmonicsDegree >= 1) {
            `,e?o+=`
                    vec3 worldViewDir = normalize(splatCenter - vec3(inverse(transform) * vec4(cameraPosition, 1.0)));
                `:o+=`
                    vec3 worldViewDir = normalize(splatCenter - cameraPosition);
                `,o+=`
                vec3 sh1;
                vec3 sh2;
                vec3 sh3;
            `,s>=2&&(o+=`
                    vec3 sh4;
                    vec3 sh5;
                    vec3 sh6;
                    vec3 sh7;
                    vec3 sh8;
                `),s===1?o+=`
                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        vec2 shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset, sphericalHarmonicsTextureSize);
                        vec4 sampledSH0123 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(1), sphericalHarmonicsTextureSize);
                        vec4 sampledSH4567 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(2), sphericalHarmonicsTextureSize);
                        vec4 sampledSH891011 = texture(sphericalHarmonicsTexture, shUV);
                        sh1 = vec3(sampledSH0123.rgb) * (1.0 - fOddOffset) + vec3(sampledSH0123.ba, sampledSH4567.r) * fOddOffset;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg) * (1.0 - fOddOffset) + vec3(sampledSH4567.gba) * fOddOffset;
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r) * (1.0 - fOddOffset) + vec3(sampledSH891011.rgb) * fOddOffset;
                    } else {
                        vec2 sampledSH01R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        sh1 = vec3(sampledSH01R.rg, sampledSH23R.r);
                        sh2 = vec3(sampledSH01G.rg, sampledSH23G.r);
                        sh3 = vec3(sampledSH01B.rg, sampledSH23B.r);
                    }
                `:s===2&&(o+=`
                    vec4 sampledSH0123;
                    vec4 sampledSH4567;
                    vec4 sampledSH891011;

                    vec4 sampledSH0123R;
                    vec4 sampledSH0123G;
                    vec4 sampledSH0123B;

                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        sampledSH0123 = texture(sphericalHarmonicsTexture, getDataUV(6, 0, sphericalHarmonicsTextureSize));
                        sampledSH4567 = texture(sphericalHarmonicsTexture, getDataUV(6, 1, sphericalHarmonicsTextureSize));
                        sampledSH891011 = texture(sphericalHarmonicsTexture, getDataUV(6, 2, sphericalHarmonicsTextureSize));
                        sh1 = sampledSH0123.rgb;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg);
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r);
                    } else {
                        sampledSH0123R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sh1 = vec3(sampledSH0123R.rgb);
                        sh2 = vec3(sampledSH0123G.rgb);
                        sh3 = vec3(sampledSH0123B.rgb);
                    }
                `),o+=`
                    if (sphericalHarmonics8BitMode == 1) {
                        sh1 = sh1 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh2 = sh2 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh3 = sh3 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                    }
                    float x = worldViewDir.x;
                    float y = worldViewDir.y;
                    float z = worldViewDir.z;
                    vColor.rgb += SH_C1 * (-sh1 * y + sh2 * z - sh3 * x);
            `,s>=2&&(o+=`
                    if (sphericalHarmonicsDegree >= 2) {
                        float xx = x * x;
                        float yy = y * y;
                        float zz = z * z;
                        float xy = x * y;
                        float yz = y * z;
                        float xz = x * z;
                `,s===2&&(o+=`
                        if (sphericalHarmonicsMultiTextureMode == 0) {
                            vec4 sampledSH12131415 = texture(sphericalHarmonicsTexture, getDataUV(6, 3, sphericalHarmonicsTextureSize));
                            vec4 sampledSH16171819 = texture(sphericalHarmonicsTexture, getDataUV(6, 4, sphericalHarmonicsTextureSize));
                            vec4 sampledSH20212223 = texture(sphericalHarmonicsTexture, getDataUV(6, 5, sphericalHarmonicsTextureSize));
                            sh4 = sampledSH891011.gba;
                            sh5 = sampledSH12131415.rgb;
                            sh6 = vec3(sampledSH12131415.a, sampledSH16171819.rg);
                            sh7 = vec3(sampledSH16171819.ba, sampledSH20212223.r);
                            sh8 = sampledSH20212223.gba;
                        } else {
                            vec4 sampledSH4567R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            sh4 = vec3(sampledSH0123R.a, sampledSH4567R.rg);
                            sh5 = vec3(sampledSH4567R.ba, sampledSH0123G.a);
                            sh6 = vec3(sampledSH4567G.rgb);
                            sh7 = vec3(sampledSH4567G.a, sampledSH0123B.a, sampledSH4567B.r);
                            sh8 = vec3(sampledSH4567B.gba);
                        }
                    `),o+=`
                        if (sphericalHarmonics8BitMode == 1) {
                            sh4 = sh4 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh5 = sh5 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh6 = sh6 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh7 = sh7 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh8 = sh8 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        }

                        vColor.rgb +=
                            (SH_C2[0] * xy) * sh4 +
                            (SH_C2[1] * yz) * sh5 +
                            (SH_C2[2] * (2.0 * zz - xx - yy)) * sh6 +
                            (SH_C2[3] * xz) * sh7 +
                            (SH_C2[4] * (xx - yy)) * sh8;
                    }
                `),o+=`

                vColor.rgb = clamp(vColor.rgb, vec3(0.), vec3(1.));

            }

            `),o}static getVertexShaderFadeIn(){return`
            if (fadeInComplete == 0) {
                float opacityAdjust = 1.0;
                float centerDist = length(splatCenter - sceneCenter);
                float renderTime = max(currentTime - firstRenderTime, 0.0);

                float fadeDistance = 0.75;
                float distanceLoadFadeInFactor = step(visibleRegionFadeStartRadius, centerDist);
                distanceLoadFadeInFactor = (1.0 - distanceLoadFadeInFactor) +
                                        (1.0 - clamp((centerDist - visibleRegionFadeStartRadius) / fadeDistance, 0.0, 1.0)) *
                                        distanceLoadFadeInFactor;
                opacityAdjust *= distanceLoadFadeInFactor;
                vColor.a *= opacityAdjust;
            }
        `}static getUniforms(e=!1,n=!1,s=0,r=1,o=!1){const a={sceneCenter:{type:"v3",value:new Se},fadeInComplete:{type:"i",value:0},orthographicMode:{type:"i",value:0},visibleRegionFadeStartRadius:{type:"f",value:0},visibleRegionRadius:{type:"f",value:0},currentTime:{type:"f",value:0},firstRenderTime:{type:"f",value:0},centersColorsTexture:{type:"t",value:null},sphericalHarmonicsTexture:{type:"t",value:null},sphericalHarmonicsTextureR:{type:"t",value:null},sphericalHarmonicsTextureG:{type:"t",value:null},sphericalHarmonicsTextureB:{type:"t",value:null},sphericalHarmonics8BitCompressionRangeMin:{type:"f",value:[]},sphericalHarmonics8BitCompressionRangeMax:{type:"f",value:[]},focal:{type:"v2",value:new Lt},orthoZoom:{type:"f",value:1},inverseFocalAdjustment:{type:"f",value:1},viewport:{type:"v2",value:new Lt},basisViewport:{type:"v2",value:new Lt},debugColor:{type:"v3",value:new gn},centersColorsTextureSize:{type:"v2",value:new Lt(1024,1024)},sphericalHarmonicsDegree:{type:"i",value:s},sphericalHarmonicsTextureSize:{type:"v2",value:new Lt(1024,1024)},sphericalHarmonics8BitMode:{type:"i",value:0},sphericalHarmonicsMultiTextureMode:{type:"i",value:0},splatScale:{type:"f",value:r},pointCloudModeEnabled:{type:"i",value:o?1:0},sceneIndexesTexture:{type:"t",value:null},sceneIndexesTextureSize:{type:"v2",value:new Lt(1024,1024)},sceneCount:{type:"i",value:1}};for(let i=0;i<an.MaxScenes;i++)a.sphericalHarmonics8BitCompressionRangeMin.value.push(-3/2),a.sphericalHarmonics8BitCompressionRangeMax.value.push(an.SphericalHarmonics8BitCompressionRange/2);if(n){const i=[];for(let c=0;c<an.MaxScenes;c++)i.push(1);a.sceneOpacity={type:"f",value:i};const l=[];for(let c=0;c<an.MaxScenes;c++)l.push(1);a.sceneVisibility={type:"i",value:l}}if(e){const i=[];for(let l=0;l<an.MaxScenes;l++)i.push(new Wt);a.transforms={type:"mat4",value:i}}return a}}class Lh{static build(e=!1,n=!1,s=!1,r=2048,o=1,a=!1,i=0,l=.3){let u=Tc.buildVertexShaderBase(e,n,i,`
            uniform vec2 covariancesTextureSize;
            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D covariancesTextureHalfFloat;
            uniform int covariancesAreHalfFloat;

            void fromCovarianceHalfFloatV4(uvec4 val, out vec4 first, out vec4 second) {
                vec2 r = unpackHalf2x16(val.r);
                vec2 g = unpackHalf2x16(val.g);
                vec2 b = unpackHalf2x16(val.b);

                first = vec4(r.x, r.y, g.x, g.y);
                second = vec4(b.x, b.y, 0.0, 0.0);
            }
        `);u+=Lh.buildVertexShaderProjection(s,n,r,l);const d=Lh.buildFragmentShader(),h=Tc.getUniforms(e,n,i,o,a);return h.covariancesTextureSize={type:"v2",value:new Lt(1024,1024)},h.covariancesTexture={type:"t",value:null},h.covariancesTextureHalfFloat={type:"t",value:null},h.covariancesAreHalfFloat={type:"i",value:0},new _r({uniforms:h,vertexShader:u,fragmentShader:d,transparent:!0,alphaTest:1,blending:ni,depthTest:!0,depthWrite:!1,side:Or})}static buildVertexShaderProjection(e,n,s,r){let o=`

            vec4 sampledCovarianceA;
            vec4 sampledCovarianceB;
            vec3 cov3D_M11_M12_M13;
            vec3 cov3D_M22_M23_M33;
            if (covariancesAreHalfFloat == 0) {
                sampledCovarianceA = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset,
                                                                            covariancesTextureSize));
                sampledCovarianceB = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset + uint(1),
                                                                            covariancesTextureSize));

                cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rgb) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceA.ba, sampledCovarianceB.r) * fOddOffset;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceB.gba) * fOddOffset;
            } else {
                uvec4 sampledCovarianceU = texture(covariancesTextureHalfFloat, getDataUV(1, 0, covariancesTextureSize));
                fromCovarianceHalfFloatV4(sampledCovarianceU, sampledCovarianceA, sampledCovarianceB);
                cov3D_M11_M12_M13 = sampledCovarianceA.rgb;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg);
            }
        
            // Construct the 3D covariance matrix
            mat3 Vrk = mat3(
                cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
            );

            mat3 J;
            if (orthographicMode == 1) {
                // Since the projection is linear, we don't need an approximation
                J = transpose(mat3(orthoZoom, 0.0, 0.0,
                                0.0, orthoZoom, 0.0,
                                0.0, 0.0, 0.0));
            } else {
                // Construct the Jacobian of the affine approximation of the projection matrix. It will be used to transform the
                // 3D covariance matrix instead of using the actual projection matrix because that transformation would
                // require a non-linear component (perspective division) which would yield a non-gaussian result.
                float s = 1.0 / (viewCenter.z * viewCenter.z);
                J = mat3(
                    focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
                    0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
                    0., 0., 0.
                );
            }

            // Concatenate the projection approximation with the model-view transformation
            mat3 W = transpose(mat3(transformModelViewMatrix));
            mat3 T = W * J;

            // Transform the 3D covariance matrix (Vrk) to compute the 2D covariance matrix
            mat3 cov2Dm = transpose(T) * Vrk * T;
            `;return e?o+=`
                float detOrig = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                cov2Dm[0][0] += ${r};
                cov2Dm[1][1] += ${r};
                float detBlur = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                vColor.a *= sqrt(max(detOrig / detBlur, 0.0));
                if (vColor.a < minAlpha) return;
            `:o+=`
                cov2Dm[0][0] += ${r};
                cov2Dm[1][1] += ${r};
            `,o+=`

            // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
            // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
            // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
            // need cov2Dm[1][0] because it is a symetric matrix.
            vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

            // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
            // so that we can determine the 2D basis for the splat. This is done using the method described
            // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
            // After calculating the eigen-values and eigen-vectors, we calculate the basis for rendering the splat
            // by normalizing the eigen-vectors and then multiplying them by (sqrt(8) * sqrt(eigen-value)), which is
            // equal to scaling them by sqrt(8) standard deviations.
            //
            // This is a different approach than in the original work at INRIA. In that work they compute the
            // max extents of the projected splat in screen space to form a screen-space aligned bounding rectangle
            // which forms the geometry that is actually rasterized. The dimensions of that bounding box are 3.0
            // times the square root of the maximum eigen-value, or 3 standard deviations. They then use the inverse
            // 2D covariance matrix (called 'conic') in the CUDA rendering thread to determine fragment opacity by
            // calculating the full gaussian: exp(-0.5 * (X - mean) * conic * (X - mean)) * splat opacity
            float a = cov2Dv.x;
            float d = cov2Dv.z;
            float b = cov2Dv.y;
            float D = a * d - b * b;
            float trace = a + d;
            float traceOver2 = 0.5 * trace;
            float term2 = sqrt(max(0.1f, traceOver2 * traceOver2 - D));
            float eigenValue1 = traceOver2 + term2;
            float eigenValue2 = traceOver2 - term2;

            if (pointCloudModeEnabled == 1) {
                eigenValue1 = eigenValue2 = 0.2;
            }

            if (eigenValue2 <= 0.0) return;

            vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
            // since the eigen vectors are orthogonal, we derive the second one from the first
            vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);

            // We use sqrt(8) standard deviations instead of 3 to eliminate more of the splat with a very low opacity.
            vec2 basisVector1 = eigenVector1 * splatScale * min(sqrt8 * sqrt(eigenValue1), ${parseInt(s)}.0);
            vec2 basisVector2 = eigenVector2 * splatScale * min(sqrt8 * sqrt(eigenValue2), ${parseInt(s)}.0);
            `,n&&(o+=`
                vColor.a *= splatOpacityFromScene;
            `),o+=`
            vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) *
                             basisViewport * 2.0 * inverseFocalAdjustment;

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            // Scale the position data we send to the fragment shader
            vPosition *= sqrt8;
        `,o+=Tc.getVertexShaderFadeIn(),o+="}",o}static buildFragmentShader(){let e=`
            precision highp float;
            #include <common>
 
            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
        `;return e+=`
            void main () {
                // Compute the positional squared distance from the center of the splat to the current fragment.
                float A = dot(vPosition, vPosition);
                // Since the positional data in vPosition has been scaled by sqrt(8), the squared result will be
                // scaled by a factor of 8. If the squared result is larger than 8, it means it is outside the ellipse
                // defined by the rectangle formed by vPosition. It also means it's farther
                // away than sqrt(8) standard deviations from the mean.
                if (A > 8.0) discard;
                vec3 color = vColor.rgb;

                // Since the rendered splat is scaled by sqrt(8), the inverse covariance matrix that is part of
                // the gaussian formula becomes the identity matrix. We're then left with (X - mean) * (X - mean),
                // and since 'mean' is zero, we have X * X, which is the same as A:
                float opacity = exp(-0.5 * A) * vColor.a;

                gl_FragColor = vec4(color.rgb, opacity);
            }
        `,e}}class Oh{static build(e=!1,n=!1,s=1,r=!1,o=0){let i=Tc.buildVertexShaderBase(e,n,o,`
            uniform vec2 scaleRotationsTextureSize;
            uniform highp sampler2D scaleRotationsTexture;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;
        `);i+=Oh.buildVertexShaderProjection();const l=Oh.buildFragmentShader(),c=Tc.getUniforms(e,n,o,s,r);return c.scaleRotationsTexture={type:"t",value:null},c.scaleRotationsTextureSize={type:"v2",value:new Lt(1024,1024)},new _r({uniforms:c,vertexShader:i,fragmentShader:l,transparent:!0,alphaTest:1,blending:ni,depthTest:!0,depthWrite:!1,side:Or})}static buildVertexShaderProjection(){let e=`

            vec4 scaleRotationA = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset, scaleRotationsTextureSize));
            vec4 scaleRotationB = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset + uint(1), scaleRotationsTextureSize));

            vec3 scaleRotation123 = vec3(scaleRotationA.rgb) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationA.ba, scaleRotationB.r) * fOddOffset;
            vec3 scaleRotation456 = vec3(scaleRotationA.a, scaleRotationB.rg) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationB.gba) * fOddOffset;

            float missingW = sqrt(1.0 - scaleRotation456.x * scaleRotation456.x - scaleRotation456.y *
                                    scaleRotation456.y - scaleRotation456.z * scaleRotation456.z);
            mat3 R = quaternionToRotationMatrix(scaleRotation456.r, scaleRotation456.g, scaleRotation456.b, missingW);
            mat3 S = mat3(scaleRotation123.r, 0.0, 0.0,
                            0.0, scaleRotation123.g, 0.0,
                            0.0, 0.0, scaleRotation123.b);
            
            mat3 L = R * S;

            mat3x4 splat2World = mat3x4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

            mat4 world2ndc = transpose(projectionMatrix * transformModelViewMatrix);

            mat3x4 ndc2pix = mat3x4(vec4(viewport.x / 2.0, 0.0, 0.0, (viewport.x - 1.0) / 2.0),
                                    vec4(0.0, viewport.y / 2.0, 0.0, (viewport.y - 1.0) / 2.0),
                                    vec4(0.0, 0.0, 0.0, 1.0));

            mat3 T = transpose(splat2World) * world2ndc * ndc2pix;
            vec3 normal = vec3(viewMatrix * vec4(L[0][2], L[1][2], L[2][2], 0.0));
        `;return e+=`

                mat4 splat2World4 = mat4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(L[2], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

                mat4 Tt = transpose(transpose(splat2World4) * world2ndc);

                vec4 tempPoint1 = Tt * vec4(1.0, 0.0, 0.0, 1.0);
                tempPoint1 /= tempPoint1.w;

                vec4 tempPoint2 = Tt * vec4(0.0, 1.0, 0.0, 1.0);
                tempPoint2 /= tempPoint2.w;

                vec4 center = Tt * vec4(0.0, 0.0, 0.0, 1.0);
                center /= center.w;

                vec2 basisVector1 = tempPoint1.xy - center.xy;
                vec2 basisVector2 = tempPoint2.xy - center.xy;

                vec2 basisVector1Screen = basisVector1 * 0.5 * viewport;
                vec2 basisVector2Screen = basisVector2 * 0.5 * viewport;

                const float minPix = 1.;
                if (length(basisVector1Screen) < minPix || length(basisVector2Screen) < minPix) {
                    
            vec3 T0 = vec3(T[0][0], T[0][1], T[0][2]);
            vec3 T1 = vec3(T[1][0], T[1][1], T[1][2]);
            vec3 T3 = vec3(T[2][0], T[2][1], T[2][2]);

            vec3 tempPoint = vec3(1.0, 1.0, -1.0);
            float distance = (T3.x * T3.x * tempPoint.x) + (T3.y * T3.y * tempPoint.y) + (T3.z * T3.z * tempPoint.z);
            vec3 f = (1.0 / distance) * tempPoint;
            if (abs(distance) < 0.00001) return;

            float pointImageX = (T0.x * T3.x * f.x) + (T0.y * T3.y * f.y) + (T0.z * T3.z * f.z);
            float pointImageY = (T1.x * T3.x * f.x) + (T1.y * T3.y * f.y) + (T1.z * T3.z * f.z);
            vec2 pointImage = vec2(pointImageX, pointImageY);

            float tempX = (T0.x * T0.x * f.x) + (T0.y * T0.y * f.y) + (T0.z * T0.z * f.z);
            float tempY = (T1.x * T1.x * f.x) + (T1.y * T1.y * f.y) + (T1.z * T1.z * f.z);
            vec2 temp = vec2(tempX, tempY);

            vec2 halfExtend = pointImage * pointImage - temp;
            vec2 extent = sqrt(max(vec2(0.0001), halfExtend));
            float radius = max(extent.x, extent.y);

            vec2 ndcOffset = ((position.xy * radius * 3.0) * basisViewport * 2.0);

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            vT = T;
            vQuadCenter = pointImage;
            vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
        
                } else {
                    vec2 ndcOffset = vec2(position.x * basisVector1 + position.y * basisVector2) * 3.0 * inverseFocalAdjustment;
                    vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
                    gl_Position = quadPos;

                    vT = T;
                    vQuadCenter = center.xy;
                    vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
                }
            `,e+=Tc.getVertexShaderFadeIn(),e+="}",e}static buildFragmentShader(){return`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;

            void main () {

                const float FilterInvSquare = 2.0;
                const float near_n = 0.2;
                const float T = 1.0;

                vec2 xy = vQuadCenter;
                vec3 Tu = vT[0];
                vec3 Tv = vT[1];
                vec3 Tw = vT[2];
                vec3 k = vFragCoord.x * Tw - Tu;
                vec3 l = vFragCoord.y * Tw - Tv;
                vec3 p = cross(k, l);
                if (p.z == 0.0) discard;
                vec2 s = vec2(p.x / p.z, p.y / p.z);
                float rho3d = (s.x * s.x + s.y * s.y); 
                vec2 d = vec2(xy.x - vFragCoord.x, xy.y - vFragCoord.y);
                float rho2d = FilterInvSquare * (d.x * d.x + d.y * d.y); 

                // compute intersection and depth
                float rho = min(rho3d, rho2d);
                float depth = (rho3d <= rho2d) ? (s.x * Tw.x + s.y * Tw.y) + Tw.z : Tw.z; 
                if (depth < near_n) discard;
                //  vec4 nor_o = collected_normal_opacity[j];
                //  float normal[3] = {nor_o.x, nor_o.y, nor_o.z};
                float opa = vColor.a;

                float power = -0.5f * rho;
                if (power > 0.0f) discard;

                // Eq. (2) from 3D Gaussian splatting paper.
                // Obtain alpha by multiplying with Gaussian opacity
                // and its exponential falloff from mean.
                // Avoid numerical instabilities (see paper appendix). 
                float alpha = min(0.99f, opa * exp(power));
                if (alpha < 1.0f / 255.0f) discard;
                float test_T = T * (1.0 - alpha);
                if (test_T < 0.0001)discard;

                float w = alpha * T;
                gl_FragColor = vec4(vColor.rgb, w);
            }
        `}}class She{static build(e){const n=new Qr;n.setIndex([0,1,2,0,2,3]);const s=new Float32Array(4*3),r=new $r(s,3);n.setAttribute("position",r),r.setXYZ(0,-1,-1,0),r.setXYZ(1,-1,1,0),r.setXYZ(2,1,1,0),r.setXYZ(3,1,-1,0),r.needsUpdate=!0;const o=new Mle().copy(n),a=new Uint32Array(e),i=new Cle(a,1,!1);return i.setUsage(Gie),o.setAttribute("splatIndex",i),o.instanceCount=0,o}}class _he extends ss{constructor(e,n=new Se,s=new Nn,r=new Se(1,1,1),o=1,a=1,i=!0){super(),this.splatBuffer=e,this.position.copy(n),this.quaternion.copy(s),this.scale.copy(r),this.transform=new Wt,this.minimumAlpha=o,this.opacity=a,this.visible=i}copyTransformData(e){this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.transform.copy(e.transform)}updateTransform(e){e?(this.matrixWorldAutoUpdate&&this.updateWorldMatrix(!0,!1),this.transform.copy(this.matrixWorld)):(this.matrixAutoUpdate&&this.updateMatrix(),this.transform.copy(this.matrix))}}const Fh=class Fh{constructor(e,n,s,r){this.min=new Se().copy(e),this.max=new Se().copy(n),this.boundingBox=new Io(this.min,this.max),this.center=new Se().copy(this.max).sub(this.min).multiplyScalar(.5).add(this.min),this.depth=s,this.children=[],this.data=null,this.id=r||Fh.idGen++}};mt(Fh,"idGen",0);let xy=Fh;class nd{constructor(e,n){this.maxDepth=e,this.maxCentersPerNode=n,this.sceneDimensions=new Se,this.sceneMin=new Se,this.sceneMax=new Se,this.rootNode=null,this.nodesWithIndexes=[],this.splatMesh=null}static convertWorkerSubTreeNode(e){const n=new Se().fromArray(e.min),s=new Se().fromArray(e.max),r=new xy(n,s,e.depth,e.id);if(e.data.indexes){r.data={indexes:[]};for(let o of e.data.indexes)r.data.indexes.push(o)}if(e.children)for(let o of e.children)r.children.push(nd.convertWorkerSubTreeNode(o));return r}static convertWorkerSubTree(e,n){const s=new nd(e.maxDepth,e.maxCentersPerNode);s.sceneMin=new Se().fromArray(e.sceneMin),s.sceneMax=new Se().fromArray(e.sceneMax),s.splatMesh=n,s.rootNode=nd.convertWorkerSubTreeNode(e.rootNode);const r=(o,a)=>{o.children.length===0&&a(o);for(let i of o.children)r(i,a)};return s.nodesWithIndexes=[],r(s.rootNode,o=>{o.data&&o.data.indexes&&o.data.indexes.length>0&&s.nodesWithIndexes.push(o)}),s}}function whe(t){let e=0;class n{constructor(l,c){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]]}containsPoint(l){return l[0]>=this.min[0]&&l[0]<=this.max[0]&&l[1]>=this.min[1]&&l[1]<=this.max[1]&&l[2]>=this.min[2]&&l[2]<=this.max[2]}}class s{constructor(l,c){this.maxDepth=l,this.maxCentersPerNode=c,this.sceneDimensions=[],this.sceneMin=[],this.sceneMax=[],this.rootNode=null,this.addedIndexes={},this.nodesWithIndexes=[],this.splatMesh=null,this.disposed=!1}}class r{constructor(l,c,u,d){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]],this.center=[(c[0]-l[0])*.5+l[0],(c[1]-l[1])*.5+l[1],(c[2]-l[2])*.5+l[2]],this.depth=u,this.children=[],this.data=null,this.id=d||e++}}processSplatTreeNode=function(i,l,c,u){const d=l.data.indexes.length;if(d<i.maxCentersPerNode||l.depth>i.maxDepth){const _=[];for(let b=0;b<l.data.indexes.length;b++)i.addedIndexes[l.data.indexes[b]]||(_.push(l.data.indexes[b]),i.addedIndexes[l.data.indexes[b]]=!0);l.data.indexes=_,l.data.indexes.sort((b,S)=>b>S?1:-1),i.nodesWithIndexes.push(l);return}const h=[l.max[0]-l.min[0],l.max[1]-l.min[1],l.max[2]-l.min[2]],p=[h[0]*.5,h[1]*.5,h[2]*.5],v=[l.min[0]+p[0],l.min[1]+p[1],l.min[2]+p[2]],m=[new n([v[0]-p[0],v[1],v[2]-p[2]],[v[0],v[1]+p[1],v[2]]),new n([v[0],v[1],v[2]-p[2]],[v[0]+p[0],v[1]+p[1],v[2]]),new n([v[0],v[1],v[2]],[v[0]+p[0],v[1]+p[1],v[2]+p[2]]),new n([v[0]-p[0],v[1],v[2]],[v[0],v[1]+p[1],v[2]+p[2]]),new n([v[0]-p[0],v[1]-p[1],v[2]-p[2]],[v[0],v[1],v[2]]),new n([v[0],v[1]-p[1],v[2]-p[2]],[v[0]+p[0],v[1],v[2]]),new n([v[0],v[1]-p[1],v[2]],[v[0]+p[0],v[1],v[2]+p[2]]),new n([v[0]-p[0],v[1]-p[1],v[2]],[v[0],v[1],v[2]+p[2]])],y=[];for(let _=0;_<m.length;_++)y[_]=[];const g=[0,0,0];for(let _=0;_<d;_++){const b=l.data.indexes[_],S=c[b];g[0]=u[S],g[1]=u[S+1],g[2]=u[S+2];for(let w=0;w<m.length;w++)m[w].containsPoint(g)&&y[w].push(b)}for(let _=0;_<m.length;_++){const b=new r(m[_].min,m[_].max,l.depth+1);b.data={indexes:y[_]},l.children.push(b)}l.data={};for(let _ of l.children)processSplatTreeNode(i,_,c,u)};const o=(i,l,c)=>{const u=[0,0,0],d=[0,0,0],h=[],p=Math.floor(i.length/4);for(let m=0;m<p;m++){const y=m*4,g=i[y],_=i[y+1],b=i[y+2],S=Math.round(i[y+3]);(m===0||g<u[0])&&(u[0]=g),(m===0||g>d[0])&&(d[0]=g),(m===0||_<u[1])&&(u[1]=_),(m===0||_>d[1])&&(d[1]=_),(m===0||b<u[2])&&(u[2]=b),(m===0||b>d[2])&&(d[2]=b),h.push(S)}const v=new s(l,c);return v.sceneMin=u,v.sceneMax=d,v.rootNode=new r(v.sceneMin,v.sceneMax,0),v.rootNode.data={indexes:h},v};function a(i,l,c){const u=[];for(let h of i){const p=Math.floor(h.length/4);for(let v=0;v<p;v++){const m=v*4,y=Math.round(h[m+3]);u[y]=m}}const d=[];for(let h of i){const p=o(h,l,c);d.push(p),processSplatTreeNode(p,p.rootNode,u,h)}t.postMessage({subTrees:d})}t.onmessage=i=>{i.data.process&&a(i.data.process.centers,i.data.process.maxDepth,i.data.process.maxCentersPerNode)}}function Che(t,e,n,s,r){t.postMessage({process:{centers:e,maxDepth:s,maxCentersPerNode:r}},n)}function xhe(){return new Worker(URL.createObjectURL(new Blob(["(",whe.toString(),")(self)"],{type:"application/javascript"})))}class Ahe{constructor(e,n){mt(this,"processSplatMesh",function(e,n=()=>!0,s,r){this.splatTreeWorker||(this.splatTreeWorker=xhe()),this.splatMesh=e,this.subTrees=[];const o=new Se,a=(i,l)=>{const c=new Float32Array(l*4);let u=0;for(let d=0;d<l;d++){const h=d+i;if(n(h)){e.getSplatCenter(h,o);const p=u*4;c[p]=o.x,c[p+1]=o.y,c[p+2]=o.z,c[p+3]=h,u++}}return c};return new Promise(i=>{const l=()=>this.disposed?(this.diposeSplatTreeWorker(),i(),!0):!1;s&&s(!1),vr(()=>{if(l())return;const c=[];if(e.dynamicMode){let u=0;for(let d=0;d<e.scenes.length;d++){const p=e.getScene(d).splatBuffer.getSplatCount(),v=a(u,p);c.push(v),u+=p}}else{const u=a(0,e.getSplatCount());c.push(u)}this.splatTreeWorker.onmessage=u=>{l()||u.data.subTrees&&(r&&r(!1),vr(()=>{if(!l()){for(let d of u.data.subTrees){const h=nd.convertWorkerSubTree(d,e);this.subTrees.push(h)}this.diposeSplatTreeWorker(),r&&r(!0),vr(()=>{i()})}}))},vr(()=>{if(l())return;s&&s(!0);const u=c.map(d=>d.buffer);Che(this.splatTreeWorker,c,u,this.maxDepth,this.maxCentersPerNode)})})})});this.maxDepth=e,this.maxCentersPerNode=n,this.subTrees=[],this.splatMesh=null}dispose(){this.diposeSplatTreeWorker(),this.disposed=!0}diposeSplatTreeWorker(){this.splatTreeWorker&&this.splatTreeWorker.terminate(),this.splatTreeWorker=null}countLeaves(){let e=0;return this.visitLeaves(()=>{e++}),e}visitLeaves(e){const n=(s,r)=>{s.children.length===0&&r(s);for(let o of s.children)n(o,r)};for(let s of this.subTrees)n(s.rootNode,e)}}function Ehe(t){const e={};function n(s){if(e[s]!==void 0)return e[s];let r;switch(s){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(s)}return e[s]=r,r}return{has:function(s){return n(s)!==null},init:function(s){s.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(s){const r=n(s);return r===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),r}}}function The(t,e,n){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let i=n.precision!==void 0?n.precision:"highp";const l=o(i);l!==i&&(console.warn("THREE.WebGLRenderer:",i,"not supported, using",l,"instead."),i=l);const c=a||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=h>0,S=a||e.has("OES_texture_float"),w=b&&S,C=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:o,precision:i,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:v,maxAttributes:m,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:w,maxSamples:C}}const sd={Default:0,Instant:2},Mc={None:0,Info:3},EA=new Qr,Mhe=new yl,pp=6,Ihe=4,Rhe=4,Phe=4,Dhe=6,khe=8,sg=4,rg=4,TA=1,Lhe=.012,Ohe=.003,MA=1,IA=16777216;class bs extends jn{constructor(n=ta.ThreeD,s=!1,r=!1,o=!1,a=1,i=!0,l=!1,c=!1,u=1024,d=Mc.None,h=0,p=1,v=.3){super(EA,Mhe);mt(this,"buildSplatTree",function(n=[],s,r){return new Promise(o=>{this.disposeSplatTree(),this.baseSplatTree=new Ahe(8,1e3);const a=performance.now(),i=new Fn;this.baseSplatTree.processSplatMesh(this,l=>{this.getSplatColor(l,i);const c=this.getSceneIndexForSplat(l),u=n[c]||1;return i.w>=u},s,r).then(()=>{const l=performance.now()-a;if(this.logLevel>=Mc.Info&&console.log("SplatTree build: "+l+" ms"),this.disposed)o();else{this.splatTree=this.baseSplatTree,this.baseSplatTree=null;let c=0,u=0,d=0;this.splatTree.visitLeaves(h=>{const p=h.data.indexes.length;p>0&&(u+=p,d++,c++)}),this.logLevel>=Mc.Info&&(console.log(`SplatTree leaves: ${this.splatTree.countLeaves()}`),console.log(`SplatTree leaves with splats:${c}`),u=u/d,console.log(`Avg splat count per node: ${u}`),console.log(`Total splat count: ${this.getSplatCount()}`)),o()}})})});mt(this,"updateUniforms",function(){const n=new Lt;return function(s,r,o,a,i,l){if(this.getSplatCount()>0){if(n.set(s.x*this.devicePixelRatio,s.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(n),this.material.uniforms.basisViewport.value.set(1/n.x,1/n.y),this.material.uniforms.focal.value.set(r,o),this.material.uniforms.orthographicMode.value=a?1:0,this.material.uniforms.orthoZoom.value=i,this.material.uniforms.inverseFocalAdjustment.value=l,this.dynamicMode)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.transforms.value[u].copy(this.getScene(u).transform);if(this.enableOptionalEffects)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.sceneOpacity.value[u]=Bn(this.getScene(u).opacity,0,1),this.material.uniforms.sceneVisibility.value[u]=this.getScene(u).visible?1:0,this.material.uniformsNeedUpdate=!0;this.material.uniformsNeedUpdate=!0}}}());mt(this,"setupDistancesComputationTransformFeedback",function(){let n;return function(){const s=this.getMaxSplatCount();if(!this.renderer)return;const r=this.lastRenderer!==this.renderer,o=n!==s;if(!r&&!o)return;r?this.disposeDistancesComputationGPUResources():o&&this.disposeDistancesComputationGPUBufferResources();const a=this.renderer.getContext(),i=(p,v,m)=>{const y=p.createShader(v);if(!y)return console.error("Fatal error: gl could not create a shader object."),null;if(p.shaderSource(y,m),p.compileShader(y),!p.getShaderParameter(y,p.COMPILE_STATUS)){let _="unknown";v===p.VERTEX_SHADER?_="vertex shader":v===p.FRAGMENT_SHADER&&(_="fragement shader");const b=p.getShaderInfoLog(y);return console.error("Failed to compile "+_+" with these errors:"+b),p.deleteShader(y),null}return y};let l;this.integerBasedDistancesComputation?(l=`#version 300 es
                in ivec4 center;
                flat out int distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform ivec4 transforms[${an.MaxScenes}];
                        void main(void) {
                            ivec4 transform = transforms[sceneIndex];
                            distance = center.x * transform.x + center.y * transform.y + center.z * transform.z + transform.w * center.w;
                        }
                    `:l+=`
                        uniform ivec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `):(l=`#version 300 es
                in vec4 center;
                flat out float distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform mat4 transforms[${an.MaxScenes}];
                        void main(void) {
                            vec4 transformedCenter = transforms[sceneIndex] * vec4(center.xyz, 1.0);
                            distance = transformedCenter.z;
                        }
                    `:l+=`
                        uniform vec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `);const c=`#version 300 es
                precision lowp float;
                out vec4 fragColor;
                void main(){}
            `,u=a.getParameter(a.VERTEX_ARRAY_BINDING),d=a.getParameter(a.CURRENT_PROGRAM),h=d?a.getProgramParameter(d,a.DELETE_STATUS):!1;if(r&&(this.distancesTransformFeedback.vao=a.createVertexArray()),a.bindVertexArray(this.distancesTransformFeedback.vao),r){const p=a.createProgram(),v=i(a,a.VERTEX_SHADER,l),m=i(a,a.FRAGMENT_SHADER,c);if(!v||!m)throw new Error("Could not compile shaders for distances computation on GPU.");if(a.attachShader(p,v),a.attachShader(p,m),a.transformFeedbackVaryings(p,["distance"],a.SEPARATE_ATTRIBS),a.linkProgram(p),!a.getProgramParameter(p,a.LINK_STATUS)){const g=a.getProgramInfoLog(p);throw console.error("Fatal error: Failed to link program: "+g),a.deleteProgram(p),a.deleteShader(m),a.deleteShader(v),new Error("Could not link shaders for distances computation on GPU.")}this.distancesTransformFeedback.program=p,this.distancesTransformFeedback.vertexShader=v,this.distancesTransformFeedback.vertexShader=m}if(a.useProgram(this.distancesTransformFeedback.program),this.distancesTransformFeedback.centersLoc=a.getAttribLocation(this.distancesTransformFeedback.program,"center"),this.dynamicMode){this.distancesTransformFeedback.sceneIndexesLoc=a.getAttribLocation(this.distancesTransformFeedback.program,"sceneIndex");for(let p=0;p<this.scenes.length;p++)this.distancesTransformFeedback.transformsLocs[p]=a.getUniformLocation(this.distancesTransformFeedback.program,`transforms[${p}]`)}else this.distancesTransformFeedback.modelViewProjLoc=a.getUniformLocation(this.distancesTransformFeedback.program,"modelViewProj");(r||o)&&(this.distancesTransformFeedback.centersBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),a.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?a.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,a.INT,0,0):a.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,a.FLOAT,!1,0,0),this.dynamicMode&&(this.distancesTransformFeedback.sceneIndexesBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),a.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),a.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,a.UNSIGNED_INT,0,0))),(r||o)&&(this.distancesTransformFeedback.outDistancesBuffer=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),a.bufferData(a.ARRAY_BUFFER,s*4,a.STATIC_READ),r&&(this.distancesTransformFeedback.id=a.createTransformFeedback()),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),a.bindBufferBase(a.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),d&&h!==!0&&a.useProgram(d),u&&a.bindVertexArray(u),this.lastRenderer=this.renderer,n=s}}());mt(this,"fillTransformsArray",function(){const n=[];return function(s){n.length!==s.length&&(n.length=s.length);for(let r=0;r<this.scenes.length;r++){const a=this.getScene(r).transform.elements;for(let i=0;i<16;i++)n[r*16+i]=a[i]}s.set(n)}}());mt(this,"computeDistancesOnGPU",function(){const n=new Wt;return function(s,r){if(!this.renderer)return;const o=this.renderer.getContext(),a=o.getParameter(o.VERTEX_ARRAY_BINDING),i=o.getParameter(o.CURRENT_PROGRAM),l=i?o.getProgramParameter(i,o.DELETE_STATUS):!1;if(o.bindVertexArray(this.distancesTransformFeedback.vao),o.useProgram(this.distancesTransformFeedback.program),o.enable(o.RASTERIZER_DISCARD),this.dynamicMode)for(let d=0;d<this.scenes.length;d++)if(n.copy(this.getScene(d).transform),n.premultiply(s),this.integerBasedDistancesComputation){const h=bs.getIntegerMatrixArray(n),p=[h[2],h[6],h[10],h[14]];o.uniform4i(this.distancesTransformFeedback.transformsLocs[d],p[0],p[1],p[2],p[3])}else o.uniformMatrix4fv(this.distancesTransformFeedback.transformsLocs[d],!1,n.elements);else if(this.integerBasedDistancesComputation){const d=bs.getIntegerMatrixArray(s),h=[d[2],d[6],d[10]];o.uniform3i(this.distancesTransformFeedback.modelViewProjLoc,h[0],h[1],h[2])}else{const d=[s.elements[2],s.elements[6],s.elements[10]];o.uniform3f(this.distancesTransformFeedback.modelViewProjLoc,d[0],d[1],d[2])}o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),o.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?o.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,o.INT,0,0):o.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,o.FLOAT,!1,0,0),this.dynamicMode&&(o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),o.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),o.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,o.UNSIGNED_INT,0,0)),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),o.beginTransformFeedback(o.POINTS),o.drawArrays(o.POINTS,0,this.getSplatCount()),o.endTransformFeedback(),o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,0,null),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,null),o.disable(o.RASTERIZER_DISCARD);const c=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);o.flush();const u=new Promise(d=>{const h=()=>{if(this.disposed)d();else switch(o.clientWaitSync(c,0,0)){case o.TIMEOUT_EXPIRED:return this.computeDistancesOnGPUSyncTimeout=setTimeout(h),this.computeDistancesOnGPUSyncTimeout;case o.WAIT_FAILED:throw new Error("should never get here");default:this.computeDistancesOnGPUSyncTimeout=null,o.deleteSync(c);const y=o.getParameter(o.VERTEX_ARRAY_BINDING);o.bindVertexArray(this.distancesTransformFeedback.vao),o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),o.getBufferSubData(o.ARRAY_BUFFER,0,r),o.bindBuffer(o.ARRAY_BUFFER,null),y&&o.bindVertexArray(y),d()}};this.computeDistancesOnGPUSyncTimeout=setTimeout(h)});return i&&l!==!0&&o.useProgram(i),a&&o.bindVertexArray(a),u}}());mt(this,"getSplatCenter",function(){const n={};return function(s,r,o){this.getLocalSplatParameters(s,n,o),n.splatBuffer.getSplatCenter(n.localIndex,r,n.sceneTransform)}}());mt(this,"getSplatScaleAndRotation",function(){const n={},s=new Se;return function(r,o,a,i){this.getLocalSplatParameters(r,n,i),s.x=void 0,s.y=void 0,s.z=void 0,this.splatRenderMode===ta.TwoD&&(s.z=0),n.splatBuffer.getSplatScaleAndRotation(n.localIndex,o,a,n.sceneTransform,s)}}());mt(this,"getSplatColor",function(){const n={};return function(s,r){this.getLocalSplatParameters(s,n),n.splatBuffer.getSplatColor(n.localIndex,r)}}());this.renderer=void 0,this.splatRenderMode=n,this.dynamicMode=s,this.enableOptionalEffects=r,this.halfPrecisionCovariancesOnGPU=o,this.devicePixelRatio=a,this.enableDistancesComputationOnGPU=i,this.integerBasedDistancesComputation=l,this.antialiased=c,this.kernel2DSize=v,this.maxScreenSpaceSplatSize=u,this.logLevel=d,this.sphericalHarmonicsDegree=h,this.minSphericalHarmonicsDegree=0,this.sceneFadeInRateMultiplier=p,this.scenes=[],this.splatTree=null,this.baseSplatTree=null,this.splatDataTextures={},this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new Io,this.calculatedSceneCenter=new Se,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!1,this.lastRenderer=null,this.visible=!1}static buildScenes(n,s,r){const o=[];o.length=s.length;for(let a=0;a<s.length;a++){const i=s[a],l=r[a]||{};let c=l.position||[0,0,0],u=l.rotation||[0,0,0,1],d=l.scale||[1,1,1];const h=new Se().fromArray(c),p=new Nn().fromArray(u),v=new Se().fromArray(d),m=bs.createScene(i,h,p,v,l.splatAlphaRemovalThreshold||1,l.opacity,l.visible);n.add(m),o[a]=m}return o}static createScene(n,s,r,o,a,i=1,l=!0){return new _he(n,s,r,o,a,i,l)}static buildSplatIndexMaps(n){const s=[],r=[];let o=0;for(let a=0;a<n.length;a++){const l=n[a].getMaxSplatCount();for(let c=0;c<l;c++)s[o]=c,r[o]=a,o++}return{localSplatIndexMap:s,sceneIndexMap:r}}build(n,s,r=!0,o=!1,a,i,l=!0){this.sceneOptions=s,this.finalBuild=o;const c=bs.getTotalMaxSplatCountForSplatBuffers(n),u=bs.buildScenes(this,n,s);if(r)for(let y=0;y<this.scenes.length&&y<u.length;y++){const g=u[y],_=this.getScene(y);g.copyTransformData(_)}this.scenes=u;let d=3;for(let y of n){const g=y.getMinSphericalHarmonicsDegree();g<d&&(d=g)}this.minSphericalHarmonicsDegree=Math.min(d,this.sphericalHarmonicsDegree);let h=!1;if(n.length!==this.lastBuildScenes.length)h=!0;else for(let y=0;y<n.length;y++)if(n[y]!==this.lastBuildScenes[y].splatBuffer){h=!0;break}let p=!0;if((this.scenes.length!==1||this.lastBuildSceneCount!==this.scenes.length||this.lastBuildMaxSplatCount!==c||h)&&(p=!1),!p){this.boundingBox=new Io,l||(this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.firstRenderTime=-1),this.lastBuildScenes=[],this.lastBuildSplatCount=0,this.lastBuildMaxSplatCount=0,this.disposeMeshData(),this.geometry=She.build(c),this.splatRenderMode===ta.ThreeD?this.material=Lh.build(this.dynamicMode,this.enableOptionalEffects,this.antialiased,this.maxScreenSpaceSplatSize,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree,this.kernel2DSize):this.material=Oh.build(this.dynamicMode,this.enableOptionalEffects,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree);const y=bs.buildSplatIndexMaps(n);this.globalSplatIndexToLocalSplatIndexMap=y.localSplatIndexMap,this.globalSplatIndexToSceneIndexMap=y.sceneIndexMap}const v=this.getSplatCount(!0);this.enableDistancesComputationOnGPU&&this.setupDistancesComputationTransformFeedback();const m=this.refreshGPUDataFromSplatBuffers(p);for(let y=0;y<this.scenes.length;y++)this.lastBuildScenes[y]=this.scenes[y];return this.lastBuildSplatCount=v,this.lastBuildMaxSplatCount=this.getMaxSplatCount(),this.lastBuildSceneCount=this.scenes.length,o&&this.scenes.length>0&&this.buildSplatTree(s.map(y=>y.splatAlphaRemovalThreshold||1),a,i).then(()=>{this.onSplatTreeReadyCallback&&this.onSplatTreeReadyCallback(this.splatTree),this.onSplatTreeReadyCallback=null}),this.visible=this.scenes.length>0,m}freeIntermediateSplatData(){const n=s=>{delete s.source.data,delete s.image,s.onUpdate=null};delete this.splatDataTextures.baseData.covariances,delete this.splatDataTextures.baseData.centers,delete this.splatDataTextures.baseData.colors,delete this.splatDataTextures.baseData.sphericalHarmonics,delete this.splatDataTextures.centerColors.data,delete this.splatDataTextures.covariances.data,this.splatDataTextures.sphericalHarmonics&&delete this.splatDataTextures.sphericalHarmonics.data,this.splatDataTextures.sceneIndexes&&delete this.splatDataTextures.sceneIndexes.data,this.splatDataTextures.centerColors.texture.needsUpdate=!0,this.splatDataTextures.centerColors.texture.onUpdate=()=>{n(this.splatDataTextures.centerColors.texture)},this.splatDataTextures.covariances.texture.needsUpdate=!0,this.splatDataTextures.covariances.texture.onUpdate=()=>{n(this.splatDataTextures.covariances.texture)},this.splatDataTextures.sphericalHarmonics&&(this.splatDataTextures.sphericalHarmonics.texture?(this.splatDataTextures.sphericalHarmonics.texture.needsUpdate=!0,this.splatDataTextures.sphericalHarmonics.texture.onUpdate=()=>{n(this.splatDataTextures.sphericalHarmonics.texture)}):this.splatDataTextures.sphericalHarmonics.textures.forEach(s=>{s.needsUpdate=!0,s.onUpdate=()=>{n(s)}})),this.splatDataTextures.sceneIndexes&&(this.splatDataTextures.sceneIndexes.texture.needsUpdate=!0,this.splatDataTextures.sceneIndexes.texture.onUpdate=()=>{n(this.splatDataTextures.sceneIndexes.texture)})}dispose(){this.disposeMeshData(),this.disposeTextures(),this.disposeSplatTree(),this.enableDistancesComputationOnGPU&&(this.computeDistancesOnGPUSyncTimeout&&(clearTimeout(this.computeDistancesOnGPUSyncTimeout),this.computeDistancesOnGPUSyncTimeout=null),this.disposeDistancesComputationGPUResources()),this.scenes=[],this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.renderer=null,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new Io,this.calculatedSceneCenter=new Se,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!0,this.lastRenderer=null,this.visible=!1}disposeMeshData(){this.geometry&&this.geometry!==EA&&(this.geometry.dispose(),this.geometry=null),this.material&&(this.material.dispose(),this.material=null)}disposeTextures(){for(let n in this.splatDataTextures)if(this.splatDataTextures.hasOwnProperty(n)){const s=this.splatDataTextures[n];s.texture&&(s.texture.dispose(),s.texture=null)}this.splatDataTextures=null}disposeSplatTree(){this.splatTree&&(this.splatTree.dispose(),this.splatTree=null),this.baseSplatTree&&(this.baseSplatTree.dispose(),this.baseSplatTree=null)}getSplatTree(){return this.splatTree}onSplatTreeReady(n){this.onSplatTreeReadyCallback=n}getDataForDistancesComputation(n,s){const r=this.integerBasedDistancesComputation?this.getIntegerCenters(n,s,!0):this.getFloatCenters(n,s,!0),o=this.getSceneIndexes(n,s);return{centers:r,sceneIndexes:o}}refreshGPUDataFromSplatBuffers(n){const s=this.getSplatCount(!0);this.refreshDataTexturesFromSplatBuffers(n);const r=n?this.lastBuildSplatCount:0,{centers:o,sceneIndexes:a}=this.getDataForDistancesComputation(r,s-1);return this.enableDistancesComputationOnGPU&&this.refreshGPUBuffersForDistancesComputation(o,a,n),{from:r,to:s-1,count:s-r,centers:o,sceneIndexes:a}}refreshGPUBuffersForDistancesComputation(n,s,r=!1){const o=r?this.lastBuildSplatCount:0;this.updateGPUCentersBufferForDistancesComputation(r,n,o),this.updateGPUTransformIndexesBufferForDistancesComputation(r,s,o)}refreshDataTexturesFromSplatBuffers(n){const s=this.getSplatCount(!0),r=this.lastBuildSplatCount,o=s-1;n?this.updateBaseDataFromSplatBuffers(r,o):(this.setupDataTextures(),this.updateBaseDataFromSplatBuffers()),this.updateDataTexturesFromBaseData(r,o),this.updateVisibleRegion(n)}setupDataTextures(){const n=this.getMaxSplatCount(),s=this.getSplatCount(!0);this.disposeTextures();const r=(T,x)=>{const E=new Lt(4096,1024);for(;E.x*E.y*T<n*x;)E.y*=2;return E},o=T=>T>=1?Dhe:Rhe,a=T=>{const x=o(T),E=r(x,6);return{elementsPerTexelStored:x,texSize:E}};let i=this.getTargetCovarianceCompressionLevel();const l=0,c=this.getTargetSphericalHarmonicsCompressionLevel();let u,d,h;if(this.splatRenderMode===ta.ThreeD){const T=a(i);T.texSize.x*T.texSize.y>IA&&i===0&&(i=1),u=new Float32Array(n*pp)}else d=new Float32Array(n*3),h=new Float32Array(n*4);const p=new Float32Array(n*3),v=new Uint8Array(n*4);let m=Float32Array;c===1?m=Uint16Array:c===2&&(m=Uint8Array);const y=Ec(this.minSphericalHarmonicsDegree),g=this.minSphericalHarmonicsDegree?new m(n*y):void 0,_=r(rg,4),b=new Uint32Array(_.x*_.y*rg);bs.updateCenterColorsPaddedData(0,s-1,p,v,b);const S=new Fa(b,_.x,_.y,xc,Nr);if(S.internalFormat="RGBA32UI",S.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=S,this.material.uniforms.centersColorsTextureSize.value.copy(_),this.material.uniformsNeedUpdate=!0,this.splatDataTextures={baseData:{covariances:u,scales:d,rotations:h,centers:p,colors:v,sphericalHarmonics:g},centerColors:{data:b,texture:S,size:_}},this.splatRenderMode===ta.ThreeD){const T=a(i),x=T.elementsPerTexelStored,E=T.texSize;let M=i>=1?Uint32Array:Float32Array;const I=i>=1?khe:Phe,k=new M(E.x*E.y*I);i===0?k.set(u):bs.updatePaddedCompressedCovariancesTextureData(u,k,0,0,u.length);let U;if(i>=1)U=new Fa(k,E.x,E.y,xc,Nr),U.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=U;else{U=new Fa(k,E.x,E.y,Vs,po),this.material.uniforms.covariancesTexture.value=U;const B=new Fa(new Uint32Array(32),2,2,xc,Nr);B.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=B,B.needsUpdate=!0}U.needsUpdate=!0,this.material.uniforms.covariancesAreHalfFloat.value=i>=1?1:0,this.material.uniforms.covariancesTextureSize.value.copy(E),this.splatDataTextures.covariances={data:k,texture:U,size:E,compressionLevel:i,elementsPerTexelStored:x,elementsPerTexelAllocated:I}}else{const x=r(sg,6);let E=Float32Array,M=po;const I=new E(x.x*x.y*sg);bs.updateScaleRotationsPaddedData(0,s-1,d,h,I);const k=new Fa(I,x.x,x.y,Vs,M);k.needsUpdate=!0,this.material.uniforms.scaleRotationsTexture.value=k,this.material.uniforms.scaleRotationsTextureSize.value.copy(x),this.splatDataTextures.scaleRotations={data:I,texture:k,size:x,compressionLevel:l}}if(g){const T=c===2?Uo:bu;let x=y;x%2!==0&&x++;const E=4,M=Vs;let I=r(E,x);if(I.x*I.y<=IA){const k=I.x*I.y*E,U=new m(k);for(let P=0;P<s;P++){const N=y*P,L=x*P;for(let O=0;O<y;O++)U[L+O]=g[N+O]}const B=new Fa(U,I.x,I.y,M,T);B.needsUpdate=!0,this.material.uniforms.sphericalHarmonicsTexture.value=B,this.splatDataTextures.sphericalHarmonics={componentCount:y,paddedComponentCount:x,data:U,textureCount:1,texture:B,size:I,compressionLevel:c,elementsPerTexel:E}}else{const k=y/3;x=k,x%2!==0&&x++,I=r(E,x);const U=I.x*I.y*E,B=[this.material.uniforms.sphericalHarmonicsTextureR,this.material.uniforms.sphericalHarmonicsTextureG,this.material.uniforms.sphericalHarmonicsTextureB],P=[],N=[];for(let L=0;L<3;L++){const O=new m(U);P.push(O);for(let W=0;W<s;W++){const ee=y*W,Y=x*W;if(k>=3){for(let Z=0;Z<3;Z++)O[Y+Z]=g[ee+L*3+Z];if(k>=8)for(let Z=0;Z<5;Z++)O[Y+3+Z]=g[ee+9+L*5+Z]}}const $=new Fa(O,I.x,I.y,M,T);N.push($),$.needsUpdate=!0,B[L].value=$}this.material.uniforms.sphericalHarmonicsMultiTextureMode.value=1,this.splatDataTextures.sphericalHarmonics={componentCount:y,componentCountPerChannel:k,paddedComponentCount:x,data:P,textureCount:3,textures:N,size:I,compressionLevel:c,elementsPerTexel:E}}this.material.uniforms.sphericalHarmonicsTextureSize.value.copy(I),this.material.uniforms.sphericalHarmonics8BitMode.value=c===2?1:0;for(let k=0;k<this.scenes.length;k++){const U=this.scenes[k].splatBuffer;this.material.uniforms.sphericalHarmonics8BitCompressionRangeMin.value[k]=U.minSphericalHarmonicsCoeff,this.material.uniforms.sphericalHarmonics8BitCompressionRangeMax.value[k]=U.maxSphericalHarmonicsCoeff}this.material.uniformsNeedUpdate=!0}const w=r(TA,4),C=new Uint32Array(w.x*w.y*TA);for(let T=0;T<s;T++)C[T]=this.globalSplatIndexToSceneIndexMap[T];const A=new Fa(C,w.x,w.y,Mm,Nr);A.internalFormat="R32UI",A.needsUpdate=!0,this.material.uniforms.sceneIndexesTexture.value=A,this.material.uniforms.sceneIndexesTextureSize.value.copy(w),this.material.uniformsNeedUpdate=!0,this.splatDataTextures.sceneIndexes={data:C,texture:A,size:w},this.material.uniforms.sceneCount.value=this.scenes.length}updateBaseDataFromSplatBuffers(n,s){const r=this.splatDataTextures.covariances,o=r?r.compressionLevel:void 0,a=this.splatDataTextures.scaleRotations,i=a?a.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0;this.fillSplatDataArrays(this.splatDataTextures.baseData.covariances,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,this.splatDataTextures.baseData.sphericalHarmonics,void 0,o,i,c,n,s,n)}updateDataTexturesFromBaseData(n,s){const r=this.splatDataTextures.covariances,o=r?r.compressionLevel:void 0,a=this.splatDataTextures.scaleRotations,i=a?a.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0,u=this.splatDataTextures.centerColors,d=u.data,h=u.texture;bs.updateCenterColorsPaddedData(n,s,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,d);const p=this.renderer?this.renderer.properties.get(h):null;if(!p||!p.__webglTexture?h.needsUpdate=!0:this.updateDataTexture(d,u.texture,u.size,p,rg,Ihe,4,n,s),r){const b=r.texture,S=n*pp,w=s*pp;if(o===0)for(let A=S;A<=w;A++){const T=this.splatDataTextures.baseData.covariances[A];r.data[A]=T}else bs.updatePaddedCompressedCovariancesTextureData(this.splatDataTextures.baseData.covariances,r.data,n*r.elementsPerTexelAllocated,S,w);const C=this.renderer?this.renderer.properties.get(b):null;!C||!C.__webglTexture?b.needsUpdate=!0:o===0?this.updateDataTexture(r.data,r.texture,r.size,C,r.elementsPerTexelStored,pp,4,n,s):this.updateDataTexture(r.data,r.texture,r.size,C,r.elementsPerTexelAllocated,r.elementsPerTexelAllocated,2,n,s)}if(a){const b=a.data,S=a.texture,w=6,C=i===0?4:2;bs.updateScaleRotationsPaddedData(n,s,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,b);const A=this.renderer?this.renderer.properties.get(S):null;!A||!A.__webglTexture?S.needsUpdate=!0:this.updateDataTexture(b,a.texture,a.size,A,sg,w,C,n,s)}const v=this.splatDataTextures.baseData.sphericalHarmonics;if(v){let b=4;c===1?b=2:c===2&&(b=1);const S=(A,T,x,E,M)=>{const I=this.renderer?this.renderer.properties.get(A):null;!I||!I.__webglTexture?A.needsUpdate=!0:this.updateDataTexture(E,A,T,I,x,M,b,n,s)},w=l.componentCount,C=l.paddedComponentCount;if(l.textureCount===1){const A=l.data;for(let T=n;T<=s;T++){const x=w*T,E=C*T;for(let M=0;M<w;M++)A[E+M]=v[x+M]}S(l.texture,l.size,l.elementsPerTexel,A,C)}else{const A=l.componentCountPerChannel;for(let T=0;T<3;T++){const x=l.data[T];for(let E=n;E<=s;E++){const M=w*E,I=C*E;if(A>=3){for(let k=0;k<3;k++)x[I+k]=v[M+T*3+k];if(A>=8)for(let k=0;k<5;k++)x[I+3+k]=v[M+9+T*5+k]}}S(l.textures[T],l.size,l.elementsPerTexel,x,C)}}}const m=this.splatDataTextures.sceneIndexes,y=m.data;for(let b=this.lastBuildSplatCount;b<=s;b++)y[b]=this.globalSplatIndexToSceneIndexMap[b];const g=m.texture,_=this.renderer?this.renderer.properties.get(g):null;!_||!_.__webglTexture?g.needsUpdate=!0:this.updateDataTexture(y,m.texture,m.size,_,1,1,1,this.lastBuildSplatCount,s)}getTargetCovarianceCompressionLevel(){return this.halfPrecisionCovariancesOnGPU?1:0}getTargetSphericalHarmonicsCompressionLevel(){return Math.max(1,this.getMaximumSplatBufferCompressionLevel())}getMaximumSplatBufferCompressionLevel(){let n;for(let s=0;s<this.scenes.length;s++){const o=this.getScene(s).splatBuffer;(s===0||o.compressionLevel>n)&&(n=o.compressionLevel)}return n}getMinimumSplatBufferCompressionLevel(){let n;for(let s=0;s<this.scenes.length;s++){const o=this.getScene(s).splatBuffer;(s===0||o.compressionLevel<n)&&(n=o.compressionLevel)}return n}static computeTextureUpdateRegion(n,s,r,o,a){const i=a/o,l=n*i,c=Math.floor(l/r),u=c*r*o,d=s*i,h=Math.floor(d/r),p=h*r*o+r*o;return{dataStart:u,dataEnd:p,startRow:c,endRow:h}}updateDataTexture(n,s,r,o,a,i,l,c,u){const d=this.renderer.getContext(),h=bs.computeTextureUpdateRegion(c,u,r.x,a,i),p=h.dataEnd-h.dataStart,v=new n.constructor(n.buffer,h.dataStart*l,p),m=h.endRow-h.startRow+1,y=this.webGLUtils.convert(s.type),g=this.webGLUtils.convert(s.format,s.colorSpace),_=d.getParameter(d.TEXTURE_BINDING_2D);d.bindTexture(d.TEXTURE_2D,o.__webglTexture),d.texSubImage2D(d.TEXTURE_2D,0,0,h.startRow,r.x,m,g,y,v),d.bindTexture(d.TEXTURE_2D,_)}static updatePaddedCompressedCovariancesTextureData(n,s,r,o,a){let i=new DataView(s.buffer),l=r,c=0;for(let u=o;u<=a;u+=2)i.setUint16(l*2,n[u],!0),i.setUint16(l*2+2,n[u+1],!0),l+=2,c++,c>=3&&(l+=2,c=0)}static updateCenterColorsPaddedData(n,s,r,o,a){for(let i=n;i<=s;i++){const l=i*4,c=i*3,u=i*4;a[u]=fpe(o,l),a[u+1]=Xv(r[c]),a[u+2]=Xv(r[c+1]),a[u+3]=Xv(r[c+2])}}static updateScaleRotationsPaddedData(n,s,r,o,a){for(let l=n;l<=s;l++){const c=l*3,u=l*4,d=l*6;a[d]=r[c],a[d+1]=r[c+1],a[d+2]=r[c+2],a[d+3]=o[u],a[d+4]=o[u+1],a[d+5]=o[u+2]}}updateVisibleRegion(n){const s=this.getSplatCount(!0),r=new Se;if(!n){const a=new Se;this.scenes.forEach(i=>{a.add(i.splatBuffer.sceneCenter)}),a.multiplyScalar(1/this.scenes.length),this.calculatedSceneCenter.copy(a),this.material.uniforms.sceneCenter.value.copy(this.calculatedSceneCenter),this.material.uniformsNeedUpdate=!0}const o=n?this.lastBuildSplatCount:0;for(let a=o;a<s;a++){this.getSplatCenter(a,r,!0);const i=r.sub(this.calculatedSceneCenter).length();i>this.maxSplatDistanceFromSceneCenter&&(this.maxSplatDistanceFromSceneCenter=i)}this.maxSplatDistanceFromSceneCenter-this.visibleRegionBufferRadius>MA&&(this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter,this.visibleRegionRadius=Math.max(this.visibleRegionBufferRadius-MA,0)),this.finalBuild&&(this.visibleRegionRadius=this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter),this.updateVisibleRegionFadeDistance()}updateVisibleRegionFadeDistance(n=sd.Default){const s=Lhe*this.sceneFadeInRateMultiplier,r=Ohe*this.sceneFadeInRateMultiplier,o=this.finalBuild?s:r,a=n===sd.Default?o:r;this.visibleRegionFadeStartRadius=(this.visibleRegionRadius-this.visibleRegionFadeStartRadius)*a+this.visibleRegionFadeStartRadius;const l=(this.visibleRegionBufferRadius>0?this.visibleRegionFadeStartRadius/this.visibleRegionBufferRadius:0)>.99,c=l||n===sd.Instant?1:0;this.material.uniforms.visibleRegionFadeStartRadius.value=this.visibleRegionFadeStartRadius,this.material.uniforms.visibleRegionRadius.value=this.visibleRegionRadius,this.material.uniforms.firstRenderTime.value=this.firstRenderTime,this.material.uniforms.currentTime.value=performance.now(),this.material.uniforms.fadeInComplete.value=c,this.material.uniformsNeedUpdate=!0,this.visibleRegionChanging=!l}updateRenderIndexes(n,s){const r=this.geometry;r.attributes.splatIndex.set(n),r.attributes.splatIndex.needsUpdate=!0,s>0&&this.firstRenderTime===-1&&(this.firstRenderTime=performance.now()),r.instanceCount=s,r.setDrawRange(0,s)}updateTransforms(){for(let n=0;n<this.scenes.length;n++)this.getScene(n).updateTransform(this.dynamicMode)}setSplatScale(n=1){this.splatScale=n,this.material.uniforms.splatScale.value=n,this.material.uniformsNeedUpdate=!0}getSplatScale(){return this.splatScale}setPointCloudModeEnabled(n){this.pointCloudModeEnabled=n,this.material.uniforms.pointCloudModeEnabled.value=n?1:0,this.material.uniformsNeedUpdate=!0}getPointCloudModeEnabled(){return this.pointCloudModeEnabled}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(n=!1){return n?bs.getTotalSplatCountForScenes(this.scenes):this.lastBuildSplatCount}static getTotalSplatCountForScenes(n){let s=0;for(let r of n)r&&r.splatBuffer&&(s+=r.splatBuffer.getSplatCount());return s}static getTotalSplatCountForSplatBuffers(n){let s=0;for(let r of n)s+=r.getSplatCount();return s}getMaxSplatCount(){return bs.getTotalMaxSplatCountForScenes(this.scenes)}static getTotalMaxSplatCountForScenes(n){let s=0;for(let r of n)r&&r.splatBuffer&&(s+=r.splatBuffer.getMaxSplatCount());return s}static getTotalMaxSplatCountForSplatBuffers(n){let s=0;for(let r of n)s+=r.getMaxSplatCount();return s}disposeDistancesComputationGPUResources(){if(!this.renderer)return;const n=this.renderer.getContext();this.distancesTransformFeedback.vao&&(n.deleteVertexArray(this.distancesTransformFeedback.vao),this.distancesTransformFeedback.vao=null),this.distancesTransformFeedback.program&&(n.deleteProgram(this.distancesTransformFeedback.program),n.deleteShader(this.distancesTransformFeedback.vertexShader),n.deleteShader(this.distancesTransformFeedback.fragmentShader),this.distancesTransformFeedback.program=null,this.distancesTransformFeedback.vertexShader=null,this.distancesTransformFeedback.fragmentShader=null),this.disposeDistancesComputationGPUBufferResources(),this.distancesTransformFeedback.id&&(n.deleteTransformFeedback(this.distancesTransformFeedback.id),this.distancesTransformFeedback.id=null)}disposeDistancesComputationGPUBufferResources(){if(!this.renderer)return;const n=this.renderer.getContext();this.distancesTransformFeedback.centersBuffer&&(this.distancesTransformFeedback.centersBuffer=null,n.deleteBuffer(this.distancesTransformFeedback.centersBuffer)),this.distancesTransformFeedback.outDistancesBuffer&&(n.deleteBuffer(this.distancesTransformFeedback.outDistancesBuffer),this.distancesTransformFeedback.outDistancesBuffer=null)}setRenderer(n){if(n!==this.renderer){this.renderer=n;const s=this.renderer.getContext(),r=new Ehe(s),o=new The(s,r,{});if(r.init(o),this.webGLUtils=new TP(s,r),this.enableDistancesComputationOnGPU&&this.getSplatCount()>0){this.setupDistancesComputationTransformFeedback();const{centers:a,sceneIndexes:i}=this.getDataForDistancesComputation(0,this.getSplatCount()-1);this.refreshGPUBuffersForDistancesComputation(a,i)}}}updateGPUCentersBufferForDistancesComputation(n,s,r){if(!this.renderer)return;const o=this.renderer.getContext(),a=o.getParameter(o.VERTEX_ARRAY_BINDING);o.bindVertexArray(this.distancesTransformFeedback.vao);const i=this.integerBasedDistancesComputation?Uint32Array:Float32Array,l=16,c=r*l;if(o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),n)o.bufferSubData(o.ARRAY_BUFFER,c,s);else{const u=new i(this.getMaxSplatCount()*l);u.set(s),o.bufferData(o.ARRAY_BUFFER,u,o.STATIC_DRAW)}o.bindBuffer(o.ARRAY_BUFFER,null),a&&o.bindVertexArray(a)}updateGPUTransformIndexesBufferForDistancesComputation(n,s,r){if(!this.renderer||!this.dynamicMode)return;const o=this.renderer.getContext(),a=o.getParameter(o.VERTEX_ARRAY_BINDING);o.bindVertexArray(this.distancesTransformFeedback.vao);const i=r*4;if(o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),n)o.bufferSubData(o.ARRAY_BUFFER,i,s);else{const l=new Uint32Array(this.getMaxSplatCount()*4);l.set(s),o.bufferData(o.ARRAY_BUFFER,l,o.STATIC_DRAW)}o.bindBuffer(o.ARRAY_BUFFER,null),a&&o.bindVertexArray(a)}getSceneIndexes(n,s){let r;const o=s-n+1;r=new Uint32Array(o);for(let a=n;a<=s;a++)r[a]=this.globalSplatIndexToSceneIndexMap[a];return r}getLocalSplatParameters(n,s,r){r==null&&(r=!this.dynamicMode),s.splatBuffer=this.getSplatBufferForSplat(n),s.localIndex=this.getSplatLocalIndex(n),s.sceneTransform=r?this.getSceneTransformForSplat(n):null}fillSplatDataArrays(n,s,r,o,a,i,l,c=0,u=0,d=1,h,p,v=0,m){const y=new Se;y.x=void 0,y.y=void 0,this.splatRenderMode===ta.ThreeD?y.z=void 0:y.z=1;const g=new Wt;let _=0,b=this.scenes.length-1;m!=null&&m>=0&&m<=this.scenes.length&&(_=m,b=m);for(let S=_;S<=b;S++){l==null&&(l=!this.dynamicMode);const w=this.getScene(S),C=w.splatBuffer;let A;if(l&&(this.getSceneTransform(S,g),A=g),n&&C.fillSplatCovarianceArray(n,A,h,p,v,c),s||r){if(!s||!r)throw new Error('SplatMesh::fillSplatDataArrays() -> "scales" and "rotations" must both be valid.');C.fillSplatScaleRotationArray(s,r,A,h,p,v,u,y)}o&&C.fillSplatCenterArray(o,A,h,p,v),a&&C.fillSplatColorArray(a,w.minimumAlpha,h,p,v),i&&C.fillSphericalHarmonicsArray(i,this.minSphericalHarmonicsDegree,A,h,p,v,d),v+=C.getSplatCount()}}getIntegerCenters(n,s,r=!1){const o=s-n+1,a=new Float32Array(o*3);this.fillSplatDataArrays(null,null,null,a,null,null,void 0,void 0,void 0,void 0,n);let i,l=r?4:3;i=new Int32Array(o*l);for(let c=0;c<o;c++){for(let u=0;u<3;u++)i[c*l+u]=Math.round(a[c*3+u]*1e3);r&&(i[c*l+3]=1e3)}return i}getFloatCenters(n,s,r=!1){const o=s-n+1,a=new Float32Array(o*3);if(this.fillSplatDataArrays(null,null,null,a,null,null,void 0,void 0,void 0,void 0,n),!r)return a;let i=new Float32Array(o*4);for(let l=0;l<o;l++){for(let c=0;c<3;c++)i[l*4+c]=a[l*3+c];i[l*4+3]=1}return i}getSceneTransform(n,s){const r=this.getScene(n);r.updateTransform(this.dynamicMode),s.copy(r.transform)}getScene(n){if(n<0||n>=this.scenes.length)throw new Error("SplatMesh::getScene() -> Invalid scene index.");return this.scenes[n]}getSceneCount(){return this.scenes.length}getSplatBufferForSplat(n){return this.getScene(this.globalSplatIndexToSceneIndexMap[n]).splatBuffer}getSceneIndexForSplat(n){return this.globalSplatIndexToSceneIndexMap[n]}getSceneTransformForSplat(n){return this.getScene(this.globalSplatIndexToSceneIndexMap[n]).transform}getSplatLocalIndex(n){return this.globalSplatIndexToLocalSplatIndexMap[n]}static getIntegerMatrixArray(n){const s=n.elements,r=[];for(let o=0;o<16;o++)r[o]=Math.round(s[o]*1e3);return r}computeBoundingBox(n=!1,s){let r=this.getSplatCount();if(s!=null){if(s<0||s>=this.scenes.length)throw new Error("SplatMesh::computeBoundingBox() -> Invalid scene index.");r=this.scenes[s].splatBuffer.getSplatCount()}const o=new Float32Array(r*3);this.fillSplatDataArrays(null,null,null,o,null,null,n,void 0,void 0,void 0,void 0,s);const a=new Se,i=new Se;for(let l=0;l<r;l++){const c=l*3,u=o[c],d=o[c+1],h=o[c+2];(l===0||u<a.x)&&(a.x=u),(l===0||d<a.y)&&(a.y=d),(l===0||h<a.z)&&(a.z=h),(l===0||u>i.x)&&(i.x=u),(l===0||d>i.y)&&(i.y=d),(l===0||h>i.z)&&(i.z=h)}return new Io(a,i)}}var Bhe="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEbA2AAAGAQf39/f39/f39/f39/f39/fwBgAAF/AhIBA2VudgZtZW1vcnkCAwCAgAQDBAMAAQIHVAQRX193YXNtX2NhbGxfY3RvcnMAABhfX3dhc21fYXBwbHlfZGF0YV9yZWxvY3MAAAtzb3J0SW5kZXhlcwABE2Vtc2NyaXB0ZW5fdGxzX2luaXQAAgqWEAMDAAELihAEAXwDewN/A30gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEBA0AgAyABQQJ0IgVqIAIgACAFaigCAEECdGooAgAiBTYCACAFIAogBSAKSBshCiAFIA0gBSANShshDSABQQFqIgEgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiFWooAgAiFkECdGooAgAiFEcEQAJ/IAX9CQI4IAggFEEGdGoiDv0JAgwgDioCHP0gASAOKgIs/SACIA4qAjz9IAP95gEgBf0JAiggDv0JAgggDioCGP0gASAOKgIo/SACIA4qAjj9IAP95gEgBf0JAgggDv0JAgAgDioCEP0gASAOKgIg/SACIA4qAjD9IAP95gEgBf0JAhggDv0JAgQgDioCFP0gASAOKgIk/SACIA4qAjT9IAP95gH95AH95AH95AEiEf1f/QwAAAAAAECPQAAAAAAAQI9AIhL98gEiE/0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBP9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/REgDv0cAQJ/IBEgEf0NCAkKCwwNDg8AAAAAAAAAAP1fIBL98gEiEf0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9HAICfyAR/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAyESIBQhDwsgAyAVaiABIBZBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmogEf0bA2oiDjYCACAOIAogCiAOShshCiAOIA0gDSAOSBshDSACQQFqIgIgC0cNAAsMAwsCfyAFKgIIu/0UIAUqAhi7/SIB/QwAAAAAAECPQAAAAAAAQI9A/fIBIhH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIQ4CfyAR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyECAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQIgAv0RIA79HAEgBf0cAiESIAwhBQNAIAMgBUECdCICaiABIAAgAmooAgBBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmoiAjYCACACIAogAiAKSBshCiACIA0gAiANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEBA0AgAyABQQJ0IgVqAn8gAiAAIAVqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAFBAWoiASALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIRcgBSoCGCEYIAUqAgghGUH4////ByEKQYiAgIB4IQ0gDCEFA0ACfyAXIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCAZIAIqAgCUIBggAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIUaigCAEECdCIVaigCACIORwRAIAX9CQI4IAggDkEGdGoiD/0JAgwgDyoCHP0gASAPKgIs/SACIA8qAjz9IAP95gEgBf0JAiggD/0JAgggDyoCGP0gASAPKgIo/SACIA8qAjj9IAP95gEgBf0JAgggD/0JAgAgDyoCEP0gASAPKgIg/SACIA8qAjD9IAP95gEgBf0JAhggD/0JAgQgDyoCFP0gASAPKgIk/SACIA8qAjT9IAP95gH95AH95AH95AEhESAOIQ8LIAMgFGoCfyAR/R8DIAEgFUECdCIOQQxyaioCAJQgEf0fAiABIA5BCHJqKgIAlCAR/R8AIAEgDmoqAgCUIBH9HwEgASAOQQRyaioCAJSSkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSACQQFqIgIgC0cNAAsMAQtBiICAgHghDUH4////ByEKCyALIAxLBEAgCUEBa7MgDbIgCrKTlSEXIAwhDQNAAn8gFyADIA1BAnRqIgEoAgAgCmuylCIYi0MAAABPXQRAIBioDAELQYCAgIB4CyEOIAEgDjYCACAEIA5BAnRqIgEgASgCAEEBajYCACANQQFqIg0gC0cNAAsLIAlBAk8EQCAEKAIAIQ1BASEKA0AgBCAKQQJ0aiIBIAEoAgAgDWoiDTYCACAKQQFqIgogCUcNAAsLIAxBAEoEQCAMIQoDQCAGIApBAWsiAUECdCICaiAAIAJqKAIANgIAIApBAUshAiABIQogAg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCwsEAEEACw==",RA="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACEgEDZW52Bm1lbW9yeQIDAICABAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=",Fhe="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQrrDwICAAvlDwQBfAN7B30DfyALIAprIQwCQAJAIA4EQCANBEBB+P///wchCkGIgICAeCENIAsgDE0NAyAMIQUDQCADIAVBAnQiAWogAiAAIAFqKAIAQQJ0aigCACIBNgIAIAEgCiABIApIGyEKIAEgDSABIA1KGyENIAVBAWoiBSALRw0ACwwDCyAPBEAgCyAMTQ0CQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIcaigCACIdQQJ0aigCACIbRwRAAn8gBf0JAjggCCAbQQZ0aiIO/QkCDCAOKgIc/SABIA4qAiz9IAIgDioCPP0gA/3mASAF/QkCKCAO/QkCCCAOKgIY/SABIA4qAij9IAIgDioCOP0gA/3mASAF/QkCCCAO/QkCACAOKgIQ/SABIA4qAiD9IAIgDioCMP0gA/3mASAF/QkCGCAO/QkCBCAOKgIU/SABIA4qAiT9IAIgDioCNP0gA/3mAf3kAf3kAf3kASIR/V/9DAAAAAAAQI9AAAAAAABAj0AiEv3yASIT/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOAn8gE/0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9ESAO/RwBAn8gESAR/Q0ICQoLDA0ODwABAgMAAQID/V8gEv3yASIR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAgJ/IBH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/RwDIRIgGyEPCyADIBxqIAEgHUEEdGr9AAAAIBL9tQEiEf0bACAR/RsBaiAR/RsCaiAR/RsDaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAgi7/RQgBSoCGLv9IgH9DAAAAAAAQI9AAAAAAABAj0D98gEiEf0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBH9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQL9ESAO/RwBIAX9HAIhEiAMIQUDQCADIAVBAnQiAmogASAAIAJqKAIAQQR0av0AAAAgEv21ASIR/RsAIBH9GwFqIBH9GwJqIgI2AgAgAiAKIAIgCkgbIQogAiANIAIgDUobIQ0gBUEBaiIFIAtHDQALDAILIA0EQEH4////ByEKQYiAgIB4IQ0gCyAMTQ0CIAwhBQNAIAMgBUECdCIBagJ/IAIgACABaigCAEECdGoqAgC7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgD0UEQCALIAxNDQEgBSoCKCEUIAUqAhghFSAFKgIIIRZB+P///wchCkGIgICAeCENIAwhBQNAAn8gFCABIAAgBUECdCIHaigCAEEEdGoiAioCCJQgFiACKgIAlCAVIAIqAgSUkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDiADIAdqIA42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gBUEBaiIFIAtHDQALDAILIAsgDE0NAEF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiG2ooAgBBAnQiHGooAgAiDkcEQCAFKgI4IhQgCCAOQQZ0aiIPKgI8lCAFKgIoIhUgDyoCOJQgBSoCCCIWIA8qAjCUIAUqAhgiFyAPKgI0lJKSkiEYIBQgDyoCLJQgFSAPKgIolCAWIA8qAiCUIBcgDyoCJJSSkpIhGSAUIA8qAhyUIBUgDyoCGJQgFiAPKgIQlCAXIA8qAhSUkpKSIRogFCAPKgIMlCAVIA8qAgiUIBYgDyoCAJQgFyAPKgIElJKSkiEUIA4hDwsgAyAbagJ/IBggASAcQQJ0aiIOKgIMlCAZIA4qAgiUIBQgDioCAJQgGiAOKgIElJKSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAJBAWoiAiALRw0ACwwBC0GIgICAeCENQfj///8HIQoLIAsgDEsEQCAJQQFrsyANsiAKspOVIRQgDCENA0ACfyAUIAMgDUECdGoiASgCACAKa7KUIhWLQwAAAE9dBEAgFagMAQtBgICAgHgLIQ4gASAONgIAIAQgDkECdGoiASABKAIAQQFqNgIAIA1BAWoiDSALRw0ACwsgCUECTwRAIAQoAgAhDUEBIQoDQCAEIApBAnRqIgEgASgCACANaiINNgIAIApBAWoiCiAJRw0ACwsgDEEASgRAIAwhCgNAIAYgCkEBayIBQQJ0IgJqIAAgAmooAgA2AgAgCkEBSyABIQoNAAsLIAsgDEoEQCALIQoDQCAGIAsgBCADIApBAWsiCkECdCIBaigCAEECdGoiAigCACIFa0ECdGogACABaigCADYCACACIAVBAWs2AgAgCiAMSg0ACwsL",Nhe="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=";function Uhe(t){let e,n,s,r,o,a,i,l,c,u,d,h,p,v,m,y,g,_,b,S;function w(C,A,T,x,E,M,I){const k=performance.now();if(!s&&(new Uint32Array(n,i,E.byteLength/S.BytesPerInt).set(E),new Float32Array(n,u,I.byteLength/S.BytesPerFloat).set(I),x)){let L;r?L=new Int32Array(n,d,M.byteLength/S.BytesPerInt):L=new Float32Array(n,d,M.byteLength/S.BytesPerFloat),L.set(M)}y||(y=new Uint32Array(_)),new Float32Array(n,m,16).set(T),new Uint32Array(n,p,_).set(y),e.exports.sortIndexes(i,v,d,h,p,m,l,c,u,_,C,A,a,x,r,o);const U={sortDone:!0,splatSortCount:C,splatRenderCount:A,sortTime:0};if(!s){const P=new Uint32Array(n,l,A);(!g||g.length<A)&&(g=new Uint32Array(A)),g.set(P),U.sortedIndexes=g}const B=performance.now();U.sortTime=B-k,t.postMessage(U)}t.onmessage=C=>{if(C.data.centers)centers=C.data.centers,sceneIndexes=C.data.sceneIndexes,r?new Int32Array(n,v+C.data.range.from*S.BytesPerInt*4,C.data.range.count*4).set(new Int32Array(centers)):new Float32Array(n,v+C.data.range.from*S.BytesPerFloat*4,C.data.range.count*4).set(new Float32Array(centers)),o&&new Uint32Array(n,c+C.data.range.from*4,C.data.range.count).set(new Uint32Array(sceneIndexes)),b=C.data.range.from+C.data.range.count;else if(C.data.sort){const A=Math.min(C.data.sort.splatRenderCount||0,b),T=Math.min(C.data.sort.splatSortCount||0,b),x=C.data.sort.usePrecomputedDistances;let E,M,I;s||(E=C.data.sort.indexesToSort,I=C.data.sort.transforms,x&&(M=C.data.sort.precomputedDistances)),w(T,A,C.data.sort.modelViewProj,x,E,M,I)}else if(C.data.init){S=C.data.init.Constants,a=C.data.init.splatCount,s=C.data.init.useSharedMemory,r=C.data.init.integerBasedSort,o=C.data.init.dynamicMode,_=C.data.init.distanceMapRange,b=0;const A=r?S.BytesPerInt*4:S.BytesPerFloat*4,T=new Uint8Array(C.data.init.sorterWasmBytes),x=16*S.BytesPerFloat,E=a*S.BytesPerInt,M=a*A,I=x,k=r?a*S.BytesPerInt:a*S.BytesPerFloat,U=a*S.BytesPerInt,B=a*S.BytesPerInt,P=r?_*S.BytesPerInt*2:_*S.BytesPerFloat*2,N=o?a*S.BytesPerInt:0,L=o?S.MaxScenes*x:0,O=S.MemoryPageSize*32,$=E+M+I+k+U+P+B+N+L+O,W=Math.floor($/S.MemoryPageSize)+1,ee={module:{},env:{memory:new WebAssembly.Memory({initial:W,maximum:W,shared:!0})}};WebAssembly.compile(T).then(Y=>WebAssembly.instantiate(Y,ee)).then(Y=>{e=Y,i=0,v=i+E,m=v+M,d=m+I,h=d+k,p=h+U,l=p+P,c=l+B,u=c+N,n=ee.env.memory.buffer,s?t.postMessage({sortSetupPhase1Complete:!0,indexesToSortBuffer:n,indexesToSortOffset:i,sortedIndexesBuffer:n,sortedIndexesOffset:l,precomputedDistancesBuffer:n,precomputedDistancesOffset:d,transformsBuffer:n,transformsOffset:u}):t.postMessage({sortSetupPhase1Complete:!0})})}}}function zhe(t,e,n,s,r,o=an.DefaultSplatSortDistanceMapPrecision){const a=new Worker(URL.createObjectURL(new Blob(["(",Uhe.toString(),")(self)"],{type:"application/javascript"})));let i=Bhe;const l=YS()?IP():null;!n&&!e?(i=RA,l&&l.major<=16&&l.minor<4&&(i=Nhe)):n?e||l&&l.major<=16&&l.minor<4&&(i=Fhe):i=RA;const c=atob(i),u=new Uint8Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d);return a.postMessage({init:{sorterWasmBytes:u.buffer,splatCount:t,useSharedMemory:e,integerBasedSort:s,dynamicMode:r,distanceMapRange:1<<o,Constants:{BytesPerFloat:an.BytesPerFloat,BytesPerInt:an.BytesPerInt,MemoryPageSize:an.MemoryPageSize,MaxScenes:an.MaxScenes}}}),a}const nc={None:0,VR:1,AR:2};class su{static createButton(e,n={}){const s=document.createElement("button");function r(){let c=null;async function u(p){p.addEventListener("end",d),await e.xr.setSession(p),s.textContent="EXIT VR",c=p}function d(){c.removeEventListener("end",d),s.textContent="ENTER VR",c=null}s.style.display="",s.style.cursor="pointer",s.style.left="calc(50% - 50px)",s.style.width="100px",s.textContent="ENTER VR";const h={...n,optionalFeatures:["local-floor","bounded-floor","layers",...n.optionalFeatures||[]]};s.onmouseenter=function(){s.style.opacity="1.0"},s.onmouseleave=function(){s.style.opacity="0.5"},s.onclick=function(){c===null?navigator.xr.requestSession("immersive-vr",h).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",h).then(u).catch(p=>{console.warn(p)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",h).then(u).catch(p=>{console.warn(p)})}function o(){s.style.display="",s.style.cursor="auto",s.style.left="calc(50% - 75px)",s.style.width="150px",s.onmouseenter=null,s.onmouseleave=null,s.onclick=null}function a(){o(),s.textContent="VR NOT SUPPORTED"}function i(c){o(),console.warn("Exception when trying to call xr.isSessionSupported",c),s.textContent="VR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return s.id="VRButton",s.style.display="none",l(s),navigator.xr.isSessionSupported("immersive-vr").then(function(c){c?r():a(),c&&su.xrSessionIsGranted&&s.click()}).catch(i),s;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}static registerSessionGrantedListener(){if(typeof navigator<"u"&&"xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{su.xrSessionIsGranted=!0})}}}su.xrSessionIsGranted=!1;su.registerSessionGrantedListener();class $he{static createButton(e,n={}){const s=document.createElement("button");function r(){if(n.domOverlay===void 0){const h=document.createElement("div");h.style.display="none",document.body.appendChild(h);const p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("width",38),p.setAttribute("height",38),p.style.position="absolute",p.style.right="20px",p.style.top="20px",p.addEventListener("click",function(){c.end()}),h.appendChild(p);const v=document.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),v.setAttribute("stroke","#fff"),v.setAttribute("stroke-width",2),p.appendChild(v),n.optionalFeatures===void 0&&(n.optionalFeatures=[]),n.optionalFeatures.push("dom-overlay"),n.domOverlay={root:h}}let c=null;async function u(h){h.addEventListener("end",d),e.xr.setReferenceSpaceType("local"),await e.xr.setSession(h),s.textContent="STOP AR",n.domOverlay.root.style.display="",c=h}function d(){c.removeEventListener("end",d),s.textContent="START AR",n.domOverlay.root.style.display="none",c=null}s.style.display="",s.style.cursor="pointer",s.style.left="calc(50% - 50px)",s.style.width="100px",s.textContent="START AR",s.onmouseenter=function(){s.style.opacity="1.0"},s.onmouseleave=function(){s.style.opacity="0.5"},s.onclick=function(){c===null?navigator.xr.requestSession("immersive-ar",n).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",n).then(u).catch(h=>{console.warn(h)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",n).then(u).catch(h=>{console.warn(h)})}function o(){s.style.display="",s.style.cursor="auto",s.style.left="calc(50% - 75px)",s.style.width="150px",s.onmouseenter=null,s.onmouseleave=null,s.onclick=null}function a(){o(),s.textContent="AR NOT SUPPORTED"}function i(c){o(),console.warn("Exception when trying to call xr.isSessionSupported",c),s.textContent="AR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return s.id="ARButton",s.style.display="none",l(s),navigator.xr.isSessionSupported("immersive-ar").then(function(c){c?r():a()}).catch(i),s;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}}const og={Always:0,Never:2},Hhe=50,Vhe=.75,Whe=15e5,Ghe=10,Khe=2.5,jhe=60,Wa=class Wa{constructor(e={}){mt(this,"onKeyDown",function(){const e=new Se,n=new Wt,s=new Wt;return function(r){switch(e.set(0,0,-1),e.transformDirection(this.camera.matrixWorld),n.makeRotationAxis(e,Math.PI/128),s.makeRotationAxis(e,-Math.PI/128),r.code){case"KeyG":this.focalAdjustment+=.02,this.forceRenderNextFrame();break;case"KeyF":this.focalAdjustment-=.02,this.forceRenderNextFrame();break;case"ArrowLeft":this.camera.up.transformDirection(n);break;case"ArrowRight":this.camera.up.transformDirection(s);break;case"KeyC":this.showMeshCursor=!this.showMeshCursor;break;case"KeyU":this.showControlPlane=!this.showControlPlane;break;case"KeyI":this.showInfo=!this.showInfo,this.showInfo?this.infoPanel.show():this.infoPanel.hide();break;case"KeyO":this.usingExternalCamera||this.setOrthographicMode(!this.camera.isOrthographicCamera);break;case"KeyP":this.usingExternalCamera||this.splatMesh.setPointCloudModeEnabled(!this.splatMesh.getPointCloudModeEnabled());break;case"Equal":this.usingExternalCamera||this.splatMesh.setSplatScale(this.splatMesh.getSplatScale()+.05);break;case"Minus":this.usingExternalCamera||this.splatMesh.setSplatScale(Math.max(this.splatMesh.getSplatScale()-.05,0));break}}}());mt(this,"onMouseUp",function(){const e=new Lt;return function(n){e.copy(this.mousePosition).sub(this.mouseDownPosition),ec()-this.mouseDownTime<.5&&e.length()<2&&this.onMouseClick(n)}}());mt(this,"checkForFocalPointChange",function(){const e=new Lt,n=new Se,s=[];return function(){if(!this.transitioningCameraTarget&&(this.getRenderDimensions(e),s.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,e),this.raycaster.intersectSplatMesh(this.splatMesh,s),s.length>0)){const o=s[0].origin;n.copy(o).sub(this.camera.position),n.length()>Vhe&&(this.previousCameraTarget.copy(this.controls.target),this.nextCameraTarget.copy(o),this.transitioningCameraTarget=!0,this.transitioningCameraTargetStartTime=ec())}}}());mt(this,"updateSplatMesh",function(){const e=new Lt;return function(){if(!this.splatMesh)return;if(this.splatMesh.getSplatCount()>0){this.splatMesh.updateVisibleRegionFadeDistance(this.sceneRevealMode),this.splatMesh.updateTransforms(),this.getRenderDimensions(e);const s=this.camera.projectionMatrix.elements[0]*.5*this.devicePixelRatio*e.x,r=this.camera.projectionMatrix.elements[5]*.5*this.devicePixelRatio*e.y,o=this.camera.isOrthographicCamera?1/this.devicePixelRatio:1,a=this.focalAdjustment*o,i=1/a;this.adjustForWebXRStereo(e),this.splatMesh.updateUniforms(e,s*a,r*a,this.camera.isOrthographicCamera,this.camera.zoom||1,i)}}}());mt(this,"addSplatBuffers",function(){return function(e,n=[],s=!0,r=!0,o=!0,a=!1,i=!1,l=!0){if(this.isDisposingOrDisposed())return Promise.resolve();let c=null;const u=()=>{c!==null&&(this.loadingSpinner.removeTask(c),c=null)};return this.splatRenderReady=!1,new Promise(d=>{r&&(c=this.loadingSpinner.addTask("Processing splats...")),vr(()=>{if(this.isDisposingOrDisposed())d();else{const h=this.addSplatBuffersToMesh(e,n,s,o,a,l),p=this.splatMesh.getMaxSplatCount();this.sortWorker&&this.sortWorker.maxSplatCount!==p&&this.disposeSortWorker(),this.gpuAcceleratedSort||this.preSortMessages.push({centers:h.centers.buffer,sceneIndexes:h.sceneIndexes.buffer,range:{from:h.from,to:h.to,count:h.count}}),(!this.sortWorker&&p>0?this.setupSortWorker(this.splatMesh):Promise.resolve()).then(()=>{this.isDisposingOrDisposed()||this.runSplatSort(!0,!0).then(m=>{!this.sortWorker||!m?(this.splatRenderReady=!0,u(),d()):(i?this.splatRenderReady=!0:this.runAfterNextSort.push(()=>{this.splatRenderReady=!0}),this.runAfterNextSort.push(()=>{u(),d()}))})})}},!0)})}}());mt(this,"addSplatBuffersToMesh",function(){let e;return function(n,s,r=!0,o=!1,a=!1,i=!0){if(this.isDisposingOrDisposed())return;let l=[],c=[];a||(l=this.splatMesh.scenes.map(p=>p.splatBuffer)||[],c=this.splatMesh.sceneOptions?this.splatMesh.sceneOptions.map(p=>p):[]),l.push(...n),c.push(...s),this.renderer&&this.splatMesh.setRenderer(this.renderer);const u=p=>{if(this.isDisposingOrDisposed())return;const v=this.splatMesh.getSplatCount();o&&v>=Whe&&!p&&!e&&(this.loadingSpinner.setMinimized(!0,!0),e=this.loadingSpinner.addTask("Optimizing data structures..."))},d=p=>{this.isDisposingOrDisposed()||p&&e&&(this.loadingSpinner.removeTask(e),e=null)},h=this.splatMesh.build(l,c,!0,r,u,d,i);return r&&this.freeIntermediateSplatData&&this.splatMesh.freeIntermediateSplatData(),h}}());mt(this,"shouldRender",function(){let e=0;const n=new Se,s=new Nn,r=1e-4;return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return!1;let o=!1,a=!1;if(this.camera){const i=this.camera.position,l=this.camera.quaternion;a=Math.abs(i.x-n.x)>r||Math.abs(i.y-n.y)>r||Math.abs(i.z-n.z)>r||Math.abs(l.x-s.x)>r||Math.abs(l.y-s.y)>r||Math.abs(l.z-s.z)>r||Math.abs(l.w-s.w)>r}return o=this.renderMode!==og.Never&&(e===0||this.splatMesh.visibleRegionChanging||a||this.renderMode===og.Always||this.dynamicMode===!0||this.renderNextFrame),this.camera&&(n.copy(this.camera.position),s.copy(this.camera.quaternion)),e++,o}}());mt(this,"render",function(){return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return;const e=s=>{for(let r of s.children)if(r.visible)return!0;return!1},n=this.renderer.autoClear;e(this.threeScene)&&(this.renderer.render(this.threeScene,this.camera),this.renderer.autoClear=!1),this.renderer.render(this.splatMesh,this.camera),this.renderer.autoClear=!1,this.sceneHelper.getFocusMarkerOpacity()>0&&this.renderer.render(this.sceneHelper.focusMarker,this.camera),this.showControlPlane&&this.renderer.render(this.sceneHelper.controlPlane,this.camera),this.renderer.autoClear=n}}());mt(this,"updateFPS",function(){let e=ec(),n=0;return function(){if(this.consecutiveRenderFrames>jhe){const s=ec();s-e>=1?(this.currentFPS=n,n=0,e=s):n++}else this.currentFPS=null}}());mt(this,"updateForRendererSizeChanges",function(){const e=new Lt,n=new Lt;let s;return function(){this.usingExternalCamera||(this.renderer.getSize(n),(s===void 0||s!==this.camera.isOrthographicCamera||n.x!==e.x||n.y!==e.y)&&(this.camera.isOrthographicCamera?(this.camera.left=-n.x/2,this.camera.right=n.x/2,this.camera.top=n.y/2,this.camera.bottom=-n.y/2):this.camera.aspect=n.x/n.y,this.camera.updateProjectionMatrix(),e.copy(n),s=this.camera.isOrthographicCamera))}}());mt(this,"timingSensitiveUpdates",function(){let e;return function(){const n=ec();e||(e=n);const s=n-e;this.updateCameraTransition(n),this.updateFocusMarker(s),e=n}}());mt(this,"updateCameraTransition",function(){let e=new Se,n=new Se,s=new Se;return function(r){if(this.transitioningCameraTarget){n.copy(this.previousCameraTarget).sub(this.camera.position).normalize(),s.copy(this.nextCameraTarget).sub(this.camera.position).normalize();const o=Math.acos(n.dot(s)),i=(o/(Math.PI/3)*.65+.3)/o*(r-this.transitioningCameraTargetStartTime);e.copy(this.previousCameraTarget).lerp(this.nextCameraTarget,i),this.camera.lookAt(e),this.controls.target.copy(e),i>=1&&(this.transitioningCameraTarget=!1)}}}());mt(this,"updateFocusMarker",function(){const e=new Lt;let n=!1;return function(s){if(this.getRenderDimensions(e),this.transitioningCameraTarget){this.sceneHelper.setFocusMarkerVisibility(!0);const r=Math.max(this.sceneHelper.getFocusMarkerOpacity(),0);let o=Math.min(r+Ghe*s,1);this.sceneHelper.setFocusMarkerOpacity(o),this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e),n=!0,this.forceRenderNextFrame()}else{let r;if(n?r=1:r=Math.min(this.sceneHelper.getFocusMarkerOpacity(),1),r>0){this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e);let o=Math.max(r-Khe*s,0);this.sceneHelper.setFocusMarkerOpacity(o),o===0&&this.sceneHelper.setFocusMarkerVisibility(!1)}r>0&&this.forceRenderNextFrame(),n=!1}}}());mt(this,"updateMeshCursor",function(){const e=[],n=new Lt;return function(){this.showMeshCursor?(this.forceRenderNextFrame(),this.getRenderDimensions(n),e.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,n),this.raycaster.intersectSplatMesh(this.splatMesh,e),e.length>0?(this.sceneHelper.setMeshCursorVisibility(!0),this.sceneHelper.positionAndOrientMeshCursor(e[0].origin,this.camera)):this.sceneHelper.setMeshCursorVisibility(!1)):(this.sceneHelper.getMeschCursorVisibility()&&this.forceRenderNextFrame(),this.sceneHelper.setMeshCursorVisibility(!1))}}());mt(this,"updateInfoPanel",function(){const e=new Lt;return function(){if(!this.showInfo)return;const n=this.splatMesh.getSplatCount();this.getRenderDimensions(e);const s=this.controls?this.controls.target:null,r=this.showMeshCursor?this.sceneHelper.meshCursor.position:null,o=n>0?this.splatRenderCount/n*100:0;this.infoPanel.update(e,this.camera.position,s,this.camera.up,this.camera.isOrthographicCamera,r,this.currentFPS||"N/A",n,this.splatRenderCount,o,this.lastSortTime,this.focalAdjustment,this.splatMesh.getSplatScale(),this.splatMesh.getPointCloudModeEnabled())}}());mt(this,"runSplatSort",function(){const e=new Wt,n=[],s=new Se(0,0,-1),r=new Se(0,0,-1),o=new Se,a=new Se,i=[],l=[{angleThreshold:.55,sortFractions:[.125,.33333,.75]},{angleThreshold:.65,sortFractions:[.33333,.66667]},{angleThreshold:.8,sortFractions:[.5]}];return function(c=!1,u=!1){if(!this.initialized)return Promise.resolve(!1);if(this.sortRunning)return Promise.resolve(!0);if(this.splatMesh.getSplatCount()<=0)return this.splatRenderCount=0,Promise.resolve(!1);let d=0,h=0,p=!1,v=!1;if(r.set(0,0,-1).applyQuaternion(this.camera.quaternion),d=r.dot(s),h=a.copy(this.camera.position).sub(o).length(),!c&&!this.splatMesh.dynamicMode&&i.length===0&&(d<=.99&&(p=!0),h>=1&&(v=!0),!p&&!v))return Promise.resolve(!1);this.sortRunning=!0;let{splatRenderCount:m,shouldSortAll:y}=this.gatherSceneNodesForSort();y=y||u,this.splatRenderCount=m,e.copy(this.camera.matrixWorld).invert();const g=this.perspectiveCamera||this.camera;e.premultiply(g.projectionMatrix),this.splatMesh.dynamicMode||e.multiply(this.splatMesh.matrixWorld);let _=Promise.resolve(!0);return this.gpuAcceleratedSort&&(i.length<=1||i.length%2===0)&&(_=this.splatMesh.computeDistancesOnGPU(e,this.sortWorkerPrecomputedDistances)),_.then(()=>{if(i.length===0)if(this.splatMesh.dynamicMode||y)i.push(this.splatRenderCount);else{for(let w of l)if(d<w.angleThreshold){for(let C of w.sortFractions)i.push(Math.floor(this.splatRenderCount*C));break}i.push(this.splatRenderCount)}let b=Math.min(i.shift(),this.splatRenderCount);this.splatSortCount=b,n[0]=this.camera.position.x,n[1]=this.camera.position.y,n[2]=this.camera.position.z;const S={modelViewProj:e.elements,cameraPosition:n,splatRenderCount:this.splatRenderCount,splatSortCount:b,usePrecomputedDistances:this.gpuAcceleratedSort};return this.splatMesh.dynamicMode&&this.splatMesh.fillTransformsArray(this.sortWorkerTransforms),this.sharedMemoryForWorkers||(S.indexesToSort=this.sortWorkerIndexesToSort,S.transforms=this.sortWorkerTransforms,this.gpuAcceleratedSort&&(S.precomputedDistances=this.sortWorkerPrecomputedDistances)),this.sortPromise=new Promise(w=>{this.sortPromiseResolver=w}),this.preSortMessages.length>0&&(this.preSortMessages.forEach(w=>{this.sortWorker.postMessage(w)}),this.preSortMessages=[]),this.sortWorker.postMessage({sort:S}),i.length===0&&(o.copy(this.camera.position),s.copy(r)),!0}),_}}());mt(this,"gatherSceneNodesForSort",function(){const e=[];let n=null;const s=new Se,r=new Se,o=new Se,a=new Wt,i=new Wt,l=new Wt,c=new Se,u=new Se(0,0,-1),d=new Se,h=p=>d.copy(p.max).sub(p.min).length();return function(p=!1){this.getRenderDimensions(c);const v=c.y/2/Math.tan(this.camera.fov/2*cP.DEG2RAD),m=Math.atan(c.x/2/v),y=Math.atan(c.y/2/v),g=Math.cos(m),_=Math.cos(y),b=this.splatMesh.getSplatTree();if(b){i.copy(this.camera.matrixWorld).invert(),this.splatMesh.dynamicMode||i.multiply(this.splatMesh.matrixWorld);let S=0,w=0;for(let A=0;A<b.subTrees.length;A++){const T=b.subTrees[A];a.copy(i),this.splatMesh.dynamicMode&&(this.splatMesh.getSceneTransform(A,l),a.multiply(l));const x=T.nodesWithIndexes.length;for(let E=0;E<x;E++){const M=T.nodesWithIndexes[E];if(!M.data||!M.data.indexes||M.data.indexes.length===0)continue;o.copy(M.center).applyMatrix4(a);const I=o.length();o.normalize(),s.copy(o).setX(0).normalize(),r.copy(o).setY(0).normalize();const k=u.dot(r),U=u.dot(s),B=h(M),P=U<_-.6,N=k<g-.6;!p&&(N||P)&&I>B||(w+=M.data.indexes.length,e[S]=M,M.data.distanceToNode=I,S++)}}e.length=S,e.sort((A,T)=>A.data.distanceToNode<T.data.distanceToNode?-1:1);let C=w*an.BytesPerInt;for(let A=0;A<S;A++){const T=e[A],x=T.data.indexes.length,E=x*an.BytesPerInt;new Uint32Array(this.sortWorkerIndexesToSort.buffer,C-E,x).set(T.data.indexes),C-=E}return{splatRenderCount:w,shouldSortAll:!1}}else{const S=this.splatMesh.getSplatCount();if(!n||n.length!==S){n=new Uint32Array(S);for(let w=0;w<S;w++)n[w]=w}return this.sortWorkerIndexesToSort.set(n),{splatRenderCount:S,shouldSortAll:!0}}}}());if(e.cameraUp||(e.cameraUp=[0,1,0]),this.cameraUp=new Se().fromArray(e.cameraUp),e.initialCameraPosition||(e.initialCameraPosition=[0,10,15]),this.initialCameraPosition=new Se().fromArray(e.initialCameraPosition),e.initialCameraLookAt||(e.initialCameraLookAt=[0,0,0]),this.initialCameraLookAt=new Se().fromArray(e.initialCameraLookAt),this.dropInMode=e.dropInMode||!1,(e.selfDrivenMode===void 0||e.selfDrivenMode===null)&&(e.selfDrivenMode=!0),this.selfDrivenMode=e.selfDrivenMode&&!this.dropInMode,this.selfDrivenUpdateFunc=this.selfDrivenUpdate.bind(this),e.useBuiltInControls===void 0&&(e.useBuiltInControls=!0),this.useBuiltInControls=e.useBuiltInControls,this.rootElement=e.rootElement,this.ignoreDevicePixelRatio=e.ignoreDevicePixelRatio||!1,this.devicePixelRatio=this.ignoreDevicePixelRatio?1:window.devicePixelRatio||1,this.halfPrecisionCovariancesOnGPU=e.halfPrecisionCovariancesOnGPU||!1,this.threeScene=e.threeScene,this.renderer=e.renderer,this.camera=e.camera,this.gpuAcceleratedSort=e.gpuAcceleratedSort||!1,(e.integerBasedSort===void 0||e.integerBasedSort===null)&&(e.integerBasedSort=!0),this.integerBasedSort=e.integerBasedSort,(e.sharedMemoryForWorkers===void 0||e.sharedMemoryForWorkers===null)&&(e.sharedMemoryForWorkers=!0),this.sharedMemoryForWorkers=e.sharedMemoryForWorkers,this.dynamicScene=!!e.dynamicScene,this.antialiased=e.antialiased||!1,this.kernel2DSize=e.kernel2DSize===void 0?.3:e.kernel2DSize,this.webXRMode=e.webXRMode||nc.None,this.webXRMode!==nc.None&&(this.gpuAcceleratedSort=!1),this.webXRActive=!1,this.webXRSessionInit=e.webXRSessionInit||{},this.renderMode=e.renderMode||og.Always,this.sceneRevealMode=e.sceneRevealMode||sd.Default,this.focalAdjustment=e.focalAdjustment||1,this.maxScreenSpaceSplatSize=e.maxScreenSpaceSplatSize||1024,this.logLevel=e.logLevel||Mc.None,this.sphericalHarmonicsDegree=e.sphericalHarmonicsDegree||0,this.enableOptionalEffects=e.enableOptionalEffects||!1,(e.enableSIMDInSort===void 0||e.enableSIMDInSort===null)&&(e.enableSIMDInSort=!0),this.enableSIMDInSort=e.enableSIMDInSort,(e.inMemoryCompressionLevel===void 0||e.inMemoryCompressionLevel===null)&&(e.inMemoryCompressionLevel=0),this.inMemoryCompressionLevel=e.inMemoryCompressionLevel,(e.optimizeSplatData===void 0||e.optimizeSplatData===null)&&(e.optimizeSplatData=!0),this.optimizeSplatData=e.optimizeSplatData,(e.freeIntermediateSplatData===void 0||e.freeIntermediateSplatData===null)&&(e.freeIntermediateSplatData=!1),this.freeIntermediateSplatData=e.freeIntermediateSplatData,YS()){const s=IP();s.major<17&&(this.enableSIMDInSort=!1),s.major<16&&(this.sharedMemoryForWorkers=!1)}(e.splatRenderMode===void 0||e.splatRenderMode===null)&&(e.splatRenderMode=ta.ThreeD),this.splatRenderMode=e.splatRenderMode,this.sceneFadeInRateMultiplier=e.sceneFadeInRateMultiplier||1,this.splatSortDistanceMapPrecision=e.splatSortDistanceMapPrecision||an.DefaultSplatSortDistanceMapPrecision;const n=this.integerBasedSort?20:24;this.splatSortDistanceMapPrecision=Bn(this.splatSortDistanceMapPrecision,10,n),this.onSplatMeshChangedCallback=null,this.createSplatMesh(),this.controls=null,this.perspectiveControls=null,this.orthographicControls=null,this.orthographicCamera=null,this.perspectiveCamera=null,this.showMeshCursor=!1,this.showControlPlane=!1,this.showInfo=!1,this.sceneHelper=null,this.sortWorker=null,this.sortRunning=!1,this.splatRenderCount=0,this.splatSortCount=0,this.lastSplatSortCount=0,this.sortWorkerIndexesToSort=null,this.sortWorkerSortedIndexes=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.preSortMessages=[],this.runAfterNextSort=[],this.selfDrivenModeRunning=!1,this.splatRenderReady=!1,this.raycaster=new bhe,this.infoPanel=null,this.startInOrthographicMode=!1,this.currentFPS=0,this.lastSortTime=0,this.consecutiveRenderFrames=0,this.previousCameraTarget=new Se,this.nextCameraTarget=new Se,this.mousePosition=new Lt,this.mouseDownPosition=new Lt,this.mouseDownTime=null,this.resizeObserver=null,this.mouseMoveListener=null,this.mouseDownListener=null,this.mouseUpListener=null,this.keyDownListener=null,this.sortPromise=null,this.sortPromiseResolver=null,this.splatSceneDownloadPromises={},this.splatSceneDownloadAndBuildPromise=null,this.splatSceneRemovalPromise=null,this.loadingSpinner=new Cy(null,this.rootElement||document.body),this.loadingSpinner.hide(),this.loadingProgressBar=new phe(this.rootElement||document.body),this.loadingProgressBar.hide(),this.infoPanel=new hhe(this.rootElement||document.body),this.infoPanel.hide(),this.usingExternalCamera=!!(this.dropInMode||this.camera),this.usingExternalRenderer=!!(this.dropInMode||this.renderer),this.initialized=!1,this.disposing=!1,this.disposed=!1,this.disposePromise=null,this.dropInMode||this.init()}createSplatMesh(){this.splatMesh=new bs(this.splatRenderMode,this.dynamicScene,this.enableOptionalEffects,this.halfPrecisionCovariancesOnGPU,this.devicePixelRatio,this.gpuAcceleratedSort,this.integerBasedSort,this.antialiased,this.maxScreenSpaceSplatSize,this.logLevel,this.sphericalHarmonicsDegree,this.sceneFadeInRateMultiplier,this.kernel2DSize),this.splatMesh.frustumCulled=!1,this.onSplatMeshChangedCallback&&this.onSplatMeshChangedCallback()}init(){this.initialized||(this.rootElement||(this.usingExternalRenderer?this.rootElement=this.renderer.domElement||document.body:(this.rootElement=document.createElement("div"),this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.position="absolute",document.body.appendChild(this.rootElement))),this.setupCamera(),this.setupRenderer(),this.setupWebXR(this.webXRSessionInit),this.setupControls(),this.setupEventHandlers(),this.threeScene=this.threeScene||new wle,this.sceneHelper=new td(this.threeScene),this.sceneHelper.setupMeshCursor(),this.sceneHelper.setupFocusMarker(),this.sceneHelper.setupControlPlane(),this.loadingProgressBar.setContainer(this.rootElement),this.loadingSpinner.setContainer(this.rootElement),this.infoPanel.setContainer(this.rootElement),this.initialized=!0)}setupCamera(){if(!this.usingExternalCamera){const e=new Lt;this.getRenderDimensions(e),this.perspectiveCamera=new Lr(Hhe,e.x/e.y,.1,1e3),this.orthographicCamera=new KS(e.x/-2,e.x/2,e.y/2,e.y/-2,.1,1e3),this.camera=this.startInOrthographicMode?this.orthographicCamera:this.perspectiveCamera,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt)}}setupRenderer(){if(!this.usingExternalRenderer){const e=new Lt;this.getRenderDimensions(e),this.renderer=new dpe({antialias:!1,precision:"highp"}),this.renderer.setPixelRatio(this.devicePixelRatio),this.renderer.autoClear=!0,this.renderer.setClearColor(new gn(0),0),this.renderer.setSize(e.x,e.y),this.resizeObserver=new ResizeObserver(()=>{this.getRenderDimensions(e),this.renderer.setSize(e.x,e.y),this.forceRenderNextFrame()}),this.resizeObserver.observe(this.rootElement),this.rootElement.appendChild(this.renderer.domElement)}}setupWebXR(e){this.webXRMode&&(this.webXRMode===nc.VR?this.rootElement.appendChild(su.createButton(this.renderer,e)):this.webXRMode===nc.AR&&this.rootElement.appendChild($he.createButton(this.renderer,e)),this.renderer.xr.addEventListener("sessionstart",n=>{this.webXRActive=!0}),this.renderer.xr.addEventListener("sessionend",n=>{this.webXRActive=!1}),this.renderer.xr.enabled=!0,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt))}setupControls(){if(this.useBuiltInControls&&this.webXRMode===nc.None){this.usingExternalCamera?this.camera.isOrthographicCamera?this.orthographicControls=new fp(this.camera,this.renderer.domElement):this.perspectiveControls=new fp(this.camera,this.renderer.domElement):(this.perspectiveControls=new fp(this.perspectiveCamera,this.renderer.domElement),this.orthographicControls=new fp(this.orthographicCamera,this.renderer.domElement));for(let e of[this.orthographicControls,this.perspectiveControls])e&&(e.listenToKeyEvents(window),e.rotateSpeed=.5,e.maxPolarAngle=Math.PI*.75,e.minPolarAngle=.1,e.enableDamping=!0,e.dampingFactor=.05,e.target.copy(this.initialCameraLookAt),e.update());this.controls=this.camera.isOrthographicCamera?this.orthographicControls:this.perspectiveControls,this.controls.update()}}setupEventHandlers(){this.useBuiltInControls&&this.webXRMode===nc.None&&(this.mouseMoveListener=this.onMouseMove.bind(this),this.renderer.domElement.addEventListener("pointermove",this.mouseMoveListener,!1),this.mouseDownListener=this.onMouseDown.bind(this),this.renderer.domElement.addEventListener("pointerdown",this.mouseDownListener,!1),this.mouseUpListener=this.onMouseUp.bind(this),this.renderer.domElement.addEventListener("pointerup",this.mouseUpListener,!1),this.keyDownListener=this.onKeyDown.bind(this),window.addEventListener("keydown",this.keyDownListener,!1))}removeEventHandlers(){this.useBuiltInControls&&(this.renderer.domElement.removeEventListener("pointermove",this.mouseMoveListener),this.mouseMoveListener=null,this.renderer.domElement.removeEventListener("pointerdown",this.mouseDownListener),this.mouseDownListener=null,this.renderer.domElement.removeEventListener("pointerup",this.mouseUpListener),this.mouseUpListener=null,window.removeEventListener("keydown",this.keyDownListener),this.keyDownListener=null)}setRenderMode(e){this.renderMode=e}setActiveSphericalHarmonicsDegrees(e){this.splatMesh.material.uniforms.sphericalHarmonicsDegree.value=e,this.splatMesh.material.uniformsNeedUpdate=!0}onSplatMeshChanged(e){this.onSplatMeshChangedCallback=e}onMouseMove(e){this.mousePosition.set(e.offsetX,e.offsetY)}onMouseDown(){this.mouseDownPosition.copy(this.mousePosition),this.mouseDownTime=ec()}onMouseClick(e){this.mousePosition.set(e.offsetX,e.offsetY),this.checkForFocalPointChange()}getRenderDimensions(e){this.rootElement?(e.x=this.rootElement.offsetWidth,e.y=this.rootElement.offsetHeight):this.renderer.getSize(e)}setOrthographicMode(e){if(e===this.camera.isOrthographicCamera)return;const n=this.camera,s=e?this.orthographicCamera:this.perspectiveCamera;if(s.position.copy(n.position),s.up.copy(n.up),s.rotation.copy(n.rotation),s.quaternion.copy(n.quaternion),s.matrix.copy(n.matrix),this.camera=s,this.controls){const r=i=>{i.saveState(),i.reset()},o=this.controls,a=e?this.orthographicControls:this.perspectiveControls;r(a),r(o),a.target.copy(o.target),e?Wa.setCameraZoomFromPosition(s,n,o):Wa.setCameraPositionFromZoom(s,n,a),this.controls=a,this.camera.lookAt(this.controls.target)}}adjustForWebXRStereo(e){if(this.camera&&this.webXRActive){const s=this.renderer.xr.getCamera().projectionMatrix.elements[0],r=this.camera.projectionMatrix.elements[0];e.x*=r/s}}isLoadingOrUnloading(){return Object.keys(this.splatSceneDownloadPromises).length>0||this.splatSceneDownloadAndBuildPromise!==null||this.splatSceneRemovalPromise!==null}isDisposingOrDisposed(){return this.disposing||this.disposed}addSplatSceneDownloadPromise(e){this.splatSceneDownloadPromises[e.id]=e}removeSplatSceneDownloadPromise(e){delete this.splatSceneDownloadPromises[e.id]}setSplatSceneDownloadAndBuildPromise(e){this.splatSceneDownloadAndBuildPromise=e}clearSplatSceneDownloadAndBuildPromise(){this.splatSceneDownloadAndBuildPromise=null}addSplatScene(e,n={}){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");n.progressiveLoad&&this.splatMesh.scenes&&this.splatMesh.scenes.length>0&&(console.log('addSplatScene(): "progressiveLoad" option ignore because there are multiple splat scenes'),n.progressiveLoad=!1);const s=n.format!==void 0&&n.format!==null?n.format:_A(e),r=Wa.isProgressivelyLoadable(s)&&n.progressiveLoad,o=n.showLoadingUI!==void 0&&n.showLoadingUI!==null?n.showLoadingUI:!0;let a=null;o&&(this.loadingSpinner.removeAllTasks(),a=this.loadingSpinner.addTask("Downloading..."));const i=()=>{this.loadingProgressBar.hide(),this.loadingSpinner.removeAllTasks()},l=(m,y,g)=>{if(o)if(g===Yn.Downloading)if(m==100)this.loadingSpinner.setMessageForTask(a,"Download complete!");else if(r)this.loadingSpinner.setMessageForTask(a,"Downloading splats...");else{const _=y?`: ${y}`:"...";this.loadingSpinner.setMessageForTask(a,`Downloading${_}`)}else g===Yn.Processing&&this.loadingSpinner.setMessageForTask(a,"Processing splats...")};let c=!1,u=0;const d=(m,y)=>{o&&((m&&r||y&&!r)&&(this.loadingSpinner.removeTask(a),!y&&!c&&this.loadingProgressBar.show()),r&&(y?(c=!0,this.loadingProgressBar.hide()):this.loadingProgressBar.setProgress(u)))},h=(m,y,g)=>{u=m,l(m,y,g),n.onProgress&&n.onProgress(m,y,g)},p=(m,y,g)=>{!r&&n.onProgress&&n.onProgress(0,"0%",Yn.Processing);const _={rotation:n.rotation||n.orientation,position:n.position,scale:n.scale,splatAlphaRemovalThreshold:n.splatAlphaRemovalThreshold};return this.addSplatBuffers([m],[_],g,y&&o,o,r,r).then(()=>{!r&&n.onProgress&&n.onProgress(100,"100%",Yn.Processing),d(y,g)})};return(r?this.downloadAndBuildSingleSplatSceneProgressiveLoad.bind(this):this.downloadAndBuildSingleSplatSceneStandardLoad.bind(this))(e,s,n.splatAlphaRemovalThreshold,p.bind(this),h,i.bind(this),n.headers)}downloadAndBuildSingleSplatSceneStandardLoad(e,n,s,r,o,a,i){const l=this.downloadSplatSceneToSplatBuffer(e,s,o,!1,void 0,n,i),c=Qv(l.abortHandler);return l.then(u=>(this.removeSplatSceneDownloadPromise(l),r(u,!0,!0).then(()=>{c.resolve(),this.clearSplatSceneDownloadAndBuildPromise()}))).catch(u=>{a&&a(),this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(l),c.reject(this.updateError(u,`Viewer::addSplatScene -> Could not load file ${e}`))}),this.addSplatSceneDownloadPromise(l),this.setSplatSceneDownloadAndBuildPromise(c.promise),c.promise}downloadAndBuildSingleSplatSceneProgressiveLoad(e,n,s,r,o,a,i){let l=0,c=!1;const u=[],d=()=>{if(u.length>0&&!c&&!this.isDisposingOrDisposed()){c=!0;const y=u.shift();r(y.splatBuffer,y.firstBuild,y.finalBuild).then(()=>{c=!1,y.firstBuild?v.resolve():y.finalBuild&&(m.resolve(),this.clearSplatSceneDownloadAndBuildPromise()),u.length>0&&vr(()=>d())})}},h=(y,g)=>{this.isDisposingOrDisposed()||(g||u.length===0||y.getSplatCount()>u[0].splatBuffer.getSplatCount())&&(u.push({splatBuffer:y,firstBuild:l===0,finalBuild:g}),l++,d())},p=this.downloadSplatSceneToSplatBuffer(e,s,o,!0,h,n,i),v=Qv(p.abortHandler),m=Qv();return this.addSplatSceneDownloadPromise(p),this.setSplatSceneDownloadAndBuildPromise(m.promise),p.then(()=>{this.removeSplatSceneDownloadPromise(p)}).catch(y=>{this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(p);const g=this.updateError(y,"Viewer::addSplatScene -> Could not load one or more scenes");v.reject(g),a&&a(g)}),v.promise}addSplatScenes(e,n=!0,s=void 0){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");const r=e.length,o=[];let a;n&&(this.loadingSpinner.removeAllTasks(),a=this.loadingSpinner.addTask("Downloading..."));const i=(d,h,p,v)=>{o[d]=h;let m=0;for(let y=0;y<r;y++)m+=o[y]||0;m=m/r,p=`${m.toFixed(2)}%`,n&&v===Yn.Downloading&&this.loadingSpinner.setMessageForTask(a,m==100?"Download complete!":`Downloading: ${p}`),s&&s(m,p,v)},l=[],c=[];for(let d=0;d<e.length;d++){const h=e[d],p=h.format!==void 0&&h.format!==null?h.format:_A(h.path),v=this.downloadSplatSceneToSplatBuffer(h.path,h.splatAlphaRemovalThreshold,i.bind(this,d),!1,void 0,p,h.headers);l.push(v),c.push(v.promise)}const u=new $d((d,h)=>{Promise.all(c).then(p=>{n&&this.loadingSpinner.removeTask(a),s&&s(0,"0%",Yn.Processing),this.addSplatBuffers(p,e,!0,n,n,!1,!1).then(()=>{s&&s(100,"100%",Yn.Processing),this.clearSplatSceneDownloadAndBuildPromise(),d()})}).catch(p=>{n&&this.loadingSpinner.removeTask(a),this.clearSplatSceneDownloadAndBuildPromise(),h(this.updateError(p,"Viewer::addSplatScenes -> Could not load one or more splat scenes."))}).finally(()=>{this.removeSplatSceneDownloadPromise(u)})},d=>{for(let h of l)h.abort(d)});return this.addSplatSceneDownloadPromise(u),this.setSplatSceneDownloadAndBuildPromise(u),u}downloadSplatSceneToSplatBuffer(e,n=1,s=void 0,r=!1,o=void 0,a,i){try{if(a===tr.Splat||a===tr.KSplat||a===tr.Ply){const l=r?!1:this.optimizeSplatData;if(a===tr.Splat)return i_.loadFromURL(e,s,r,o,n,this.inMemoryCompressionLevel,l,i);if(a===tr.KSplat)return wy.loadFromURL(e,s,r,o,i);if(a===tr.Ply)return o_.loadFromURL(e,s,r,o,n,this.inMemoryCompressionLevel,l,this.sphericalHarmonicsDegree,i)}else if(a===tr.Spz)return a_.loadFromURL(e,s,n,this.inMemoryCompressionLevel,this.optimizeSplatData,this.sphericalHarmonicsDegree,i)}catch(l){throw this.updateError(l,null)}throw new Error(`Viewer::downloadSplatSceneToSplatBuffer -> File format not supported: ${e}`)}static isProgressivelyLoadable(e){return e===tr.Splat||e===tr.KSplat||e===tr.Ply}setupSortWorker(e){if(!this.isDisposingOrDisposed())return new Promise(n=>{const s=this.integerBasedSort?Int32Array:Float32Array,r=e.getSplatCount(),o=e.getMaxSplatCount();this.sortWorker=zhe(o,this.sharedMemoryForWorkers,this.enableSIMDInSort,this.integerBasedSort,this.splatMesh.dynamicMode,this.splatSortDistanceMapPrecision),this.sortWorker.onmessage=a=>{if(a.data.sortDone){if(this.sortRunning=!1,this.sharedMemoryForWorkers)this.splatMesh.updateRenderIndexes(this.sortWorkerSortedIndexes,a.data.splatRenderCount);else{const i=new Uint32Array(a.data.sortedIndexes.buffer,0,a.data.splatRenderCount);this.splatMesh.updateRenderIndexes(i,a.data.splatRenderCount)}this.lastSplatSortCount=this.splatSortCount,this.lastSortTime=a.data.sortTime,this.sortPromiseResolver(),this.sortPromiseResolver=null,this.forceRenderNextFrame(),this.runAfterNextSort.length>0&&(this.runAfterNextSort.forEach(i=>{i()}),this.runAfterNextSort.length=0)}else if(a.data.sortCanceled)this.sortRunning=!1;else if(a.data.sortSetupPhase1Complete){this.logLevel>=Mc.Info&&console.log("Sorting web worker WASM setup complete."),this.sharedMemoryForWorkers?(this.sortWorkerSortedIndexes=new Uint32Array(a.data.sortedIndexesBuffer,a.data.sortedIndexesOffset,o),this.sortWorkerIndexesToSort=new Uint32Array(a.data.indexesToSortBuffer,a.data.indexesToSortOffset,o),this.sortWorkerPrecomputedDistances=new s(a.data.precomputedDistancesBuffer,a.data.precomputedDistancesOffset,o),this.sortWorkerTransforms=new Float32Array(a.data.transformsBuffer,a.data.transformsOffset,an.MaxScenes*16)):(this.sortWorkerIndexesToSort=new Uint32Array(o),this.sortWorkerPrecomputedDistances=new s(o),this.sortWorkerTransforms=new Float32Array(an.MaxScenes*16));for(let i=0;i<r;i++)this.sortWorkerIndexesToSort[i]=i;if(this.sortWorker.maxSplatCount=o,this.logLevel>=Mc.Info){console.log("Sorting web worker ready.");const i=this.splatMesh.getSplatDataTextures(),l=i.covariances.size,c=i.centerColors.size;console.log("Covariances texture size: "+l.x+" x "+l.y),console.log("Centers/colors texture size: "+c.x+" x "+c.y)}n()}}})}updateError(e,n){return e instanceof MP?e:e instanceof kh?new Error("File type or server does not support progressive loading."):n?new Error(n):e}disposeSortWorker(){this.sortWorker&&this.sortWorker.terminate(),this.sortWorker=null,this.sortPromise=null,this.sortPromiseResolver&&(this.sortPromiseResolver(),this.sortPromiseResolver=null),this.preSortMessages=[],this.sortRunning=!1}removeSplatScene(e,n=!0){return this.removeSplatScenes([e],n)}removeSplatScenes(e,n=!0){if(this.isLoadingOrUnloading())throw new Error("Cannot remove splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot remove splat scene after dispose() is called.");let s;return this.splatSceneRemovalPromise=new Promise((r,o)=>{let a;n&&(this.loadingSpinner.removeAllTasks(),this.loadingSpinner.show(),a=this.loadingSpinner.addTask("Removing splat scene..."));const i=()=>{n&&(this.loadingSpinner.hide(),this.loadingSpinner.removeTask(a))},l=u=>{i(),this.splatSceneRemovalPromise=null,u?o(u):r()},c=()=>this.isDisposingOrDisposed()?(l(),!0):!1;s=this.sortPromise||Promise.resolve(),s.then(()=>{if(c())return;const u=[],d=[],h=[];for(let p=0;p<this.splatMesh.scenes.length;p++){let v=!1;for(let m of e)if(m===p){v=!0;break}if(!v){const m=this.splatMesh.scenes[p];u.push(m.splatBuffer),d.push(this.splatMesh.sceneOptions[p]),h.push({position:m.position.clone(),quaternion:m.quaternion.clone(),scale:m.scale.clone()})}}this.disposeSortWorker(),this.splatMesh.dispose(),this.sceneRevealMode=sd.Instant,this.createSplatMesh(),this.addSplatBuffers(u,d,!0,!1,!0).then(()=>{c()||(i(),this.splatMesh.scenes.forEach((p,v)=>{p.position.copy(h[v].position),p.quaternion.copy(h[v].quaternion),p.scale.copy(h[v].scale)}),this.splatMesh.updateTransforms(),this.splatRenderReady=!1,this.runSplatSort(!0).then(()=>{if(c()){this.splatRenderReady=!0;return}s=this.sortPromise||Promise.resolve(),s.then(()=>{this.splatRenderReady=!0,l()})}))}).catch(p=>{l(p)})})}),this.splatSceneRemovalPromise}start(){if(this.selfDrivenMode)this.webXRMode?this.renderer.setAnimationLoop(this.selfDrivenUpdateFunc):this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc),this.selfDrivenModeRunning=!0;else throw new Error("Cannot start viewer unless it is in self driven mode.")}stop(){this.selfDrivenMode&&this.selfDrivenModeRunning&&(this.webXRMode?this.renderer.setAnimationLoop(null):cancelAnimationFrame(this.requestFrameId),this.selfDrivenModeRunning=!1)}async dispose(){if(this.isDisposingOrDisposed())return this.disposePromise;let e=[],n=[];for(let s in this.splatSceneDownloadPromises)if(this.splatSceneDownloadPromises.hasOwnProperty(s)){const r=this.splatSceneDownloadPromises[s];n.push(r),e.push(r.promise)}return this.sortPromise&&e.push(this.sortPromise),this.disposing=!0,this.disposePromise=Promise.all(e).finally(()=>{this.stop(),this.orthographicControls&&(this.orthographicControls.dispose(),this.orthographicControls=null),this.perspectiveControls&&(this.perspectiveControls.dispose(),this.perspectiveControls=null),this.controls=null,this.splatMesh&&(this.splatMesh.dispose(),this.splatMesh=null),this.sceneHelper&&(this.sceneHelper.dispose(),this.sceneHelper=null),this.resizeObserver&&(this.resizeObserver.unobserve(this.rootElement),this.resizeObserver=null),this.disposeSortWorker(),this.removeEventHandlers(),this.loadingSpinner.removeAllTasks(),this.loadingSpinner.setContainer(null),this.loadingProgressBar.hide(),this.loadingProgressBar.setContainer(null),this.infoPanel.setContainer(null),this.camera=null,this.threeScene=null,this.splatRenderReady=!1,this.initialized=!1,this.renderer&&(this.usingExternalRenderer||(this.rootElement.removeChild(this.renderer.domElement),this.renderer.dispose()),this.renderer=null),this.usingExternalRenderer||document.body.removeChild(this.rootElement),this.sortWorkerSortedIndexes=null,this.sortWorkerIndexesToSort=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.disposed=!0,this.disposing=!1,this.disposePromise=null}),n.forEach(s=>{s.abort("Scene disposed")}),this.disposePromise}selfDrivenUpdate(){this.selfDrivenMode&&!this.webXRMode&&(this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc)),this.update(),this.shouldRender()?(this.render(),this.consecutiveRenderFrames++):this.consecutiveRenderFrames=0,this.renderNextFrame=!1}forceRenderNextFrame(){this.renderNextFrame=!0}update(e,n){this.dropInMode&&this.updateForDropInMode(e,n),!(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())&&(this.controls&&(this.controls.update(),this.camera.isOrthographicCamera&&!this.usingExternalCamera&&Wa.setCameraPositionFromZoom(this.camera,this.camera,this.controls)),this.runSplatSort(),this.updateForRendererSizeChanges(),this.updateSplatMesh(),this.updateMeshCursor(),this.updateFPS(),this.timingSensitiveUpdates(),this.updateInfoPanel(),this.updateControlPlane())}updateForDropInMode(e,n){this.renderer=e,this.splatMesh&&this.splatMesh.setRenderer(this.renderer),this.camera=n,this.controls&&(this.controls.object=n),this.init()}updateControlPlane(){this.showControlPlane?(this.sceneHelper.setControlPlaneVisibility(!0),this.sceneHelper.positionAndOrientControlPlane(this.controls.target,this.camera.up)):this.sceneHelper.setControlPlaneVisibility(!1)}getSplatMesh(){return this.splatMesh}getSplatScene(e){return this.splatMesh.getScene(e)}getSceneCount(){return this.splatMesh.getSceneCount()}isMobile(){return navigator.userAgent.includes("Mobi")}};mt(Wa,"setCameraPositionFromZoom",function(){const e=new Se;return function(n,s,r){const o=1/(s.zoom*.001);e.copy(r.target).sub(n.position).normalize().multiplyScalar(o).negate(),n.position.copy(r.target).add(e)}}()),mt(Wa,"setCameraZoomFromPosition",function(){const e=new Se;return function(n,s,r){const o=e.copy(r.target).sub(s.position).length();n.zoom=1/(o*.001)}}());let Ay=Wa;const qhe=K("p",{style:{color:"gray"}}," Try to drag and drop a character to the viewer for detail observation! ",-1),Yhe=K("img",{src:sie,class:"stage"},null,-1),Xhe={align:"center",style:{"font-family":"'Courier New', cursive, sans-serif"}},Qhe=se({__name:"GSReceiver",props:["showAddIcon","isFlashing","draggingIndex"],setup(t){const e=t,n=z([]),s=z([]),r=z([]),o=z([]),a=z(null);De([()=>e.showAddIcon,()=>e.isFlashing],([v,m])=>{o.value.forEach(y=>{y&&(y.style.display=v?"flex":"none",y.classList.toggle("flashing",m))})}),De(()=>e.draggingIndex,v=>{v!==null&&(console.log(`GaussianSplats3D received draggingIndex: ${v}`),a.value=v)});const i=z(!1),l=v=>{v.preventDefault();const m=v.target.closest(".overlay");if(m){const{top:y,left:g,width:_,height:b}=m.getBoundingClientRect(),S=v.clientX>=g&&v.clientX<=g+_&&v.clientY>=y&&v.clientY<=y+b;i.value=!0,S&&(m.style.style="block",m.style.border="2px dashed rgba(255, 0, 0, 0.5)",m.style.borderRadius="10px",m.style.background="transparent")}},c=v=>{v.preventDefault();const m=v.target.closest(".overlay");m&&(m.style.background="rgba(0, 0, 0, 0)",m.style.border="",m.style.borderRadius="")},u=v=>{v.preventDefault();const m=v.target.closest(".overlay");m&&(m.style.background="rgba(0, 0, 0, 0.0)"),i.value&&(console.log("----> gs"),m.style.style="none");const y=s.value.findIndex(g=>g&&g.contains(v.target));if(y!==-1&&(console.log("gsContainer, ",y),i.value)){if(console.log("[selected_index]:",a.value),a.value!==null&&a.value<h.value.length){const g=n.value[y];if(console.log("viewer",g),!g)return;p[y]=a.value,p.value[y]=h.value[a.value],console.log("splatFilesInViewers[gsContainerIndex] was set to ",p.value[y])}console.log("[drop in viewer]")}},d=z([{path:"/showcase/3dgs/m_1_new.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,1,-1],rotation:[0,0,0,1],scale:[.18,.18,.18]},{path:"/3dgs/converted.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!1,position:[3,5,5],rotation:[0,1,0,1],scale:[.5,.5,.5]},{path:"/showcase/3dgs/m_1.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!1,position:[0,0,-.5],rotation:[1,0,0,0],scale:[.5,.5,.5]},{path:"/showcase/3dgs/m_1.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,1,-1],rotation:[0,0,0,1],scale:[.18,.18,.18]}]),h=z([{path:"./showcase/3dgs/m_3_new.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/m_1_new.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/m_2_new.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/m_13.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/m_8.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/m_11_new.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/f_14_arm_down.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/f_0_arm_down.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/f_1_arm_down.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/f_2_arm_down.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/f_9_arm_down.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]},{path:"./showcase/3dgs/f_5_arm_down.splat",splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,0,0],rotation:[1,0,0,0],scale:[1,1,1]}]),p=z(new Array(d.value.length).fill(null));return wt(()=>{d.value.forEach((v,m)=>{r.value[m]=!1;const y=s.value[m];if(y){const g=document.createElement("div");g.className="overlay",g.innerText=" 3D ",g.style.borderRadius="10px",y.style.position="relative",y.appendChild(g);const _=new Ay({rootElement:y,cameraUp:[0,-1,0],initialCameraPosition:[-0,-.4,-1.2],initialCameraLookAt:[0,-.38,-1],sharedMemoryForWorkers:!1,dynamicScene:!1});y.addEventListener("mouseenter",()=>{g.style.display="none"}),y.addEventListener("mousemove",()=>{g.style.display="none"}),y.addEventListener("mouseleave",()=>{g.style.display="flex",g.style.border="",g.style.borderRadius=""}),De(()=>p.value[m],(b,S)=>{g.innerText="",b&&(console.log("viewer",m,"changed from",S,"to",b),S?_.addSplatScene(b.path,{splatAlphaRemovalThreshold:b.splatAlphaRemovalThreshold,showLoadingUI:b.showLoadingUI,position:b.position,rotation:b.rotation,scale:b.scale}).then(()=>{_.removeSplatScene(0).then(()=>{_.start(),_.perspectiveControls.stopListenToKeyEvents(),_.orthographicControls.stopListenToKeyEvents()})}):_.addSplatScene(b.path,{splatAlphaRemovalThreshold:b.splatAlphaRemovalThreshold,showLoadingUI:b.showLoadingUI,position:b.position,rotation:b.rotation,scale:b.scale}).then(()=>{_.start(),_.perspectiveControls.stopListenToKeyEvents(),_.orthographicControls.stopListenToKeyEvents()}))},{deep:!0}),n.value[m]=_}})}),Qt(()=>{n.value.forEach(v=>{v.dispose()})}),(v,m)=>{const y=et("el-row"),g=et("el-col");return D(),H("div",null,[j(y,{justify:"center"},{default:te(()=>[qhe]),_:1}),j(y,{justify:"center",gutter:10},{default:te(()=>[(D(!0),H(Ze,null,Tt(d.value,(_,b)=>(D(),_e(g,{key:b,xs:10,sm:10,md:4,lg:4,xl:4,class:"stage-container"},{default:te(()=>[K("div",{ref_for:!0,ref_key:"gsContainers",ref:s,class:"gs-container",onDragover:l,onDragleave:c,onDrop:u},[Ct(K("div",{ref_for:!0,ref_key:"addIconRefs",ref:o,class:"add-icon"},null,512),[[Vt,t.showAddIcon]])],544),Yhe,K("p",Xhe," STAGE "+Ne(b),1)]),_:2},1024))),128))]),_:1})])}}}),Zhe={__name:"Showcases",setup(t){const e=z(!1),n=z(!1),s=z(null),r=()=>{console.log("mouseenter in parent"),e.value=!0},o=()=>{console.log("mouseleave in parent"),e.value=!1},a=()=>{console.log("dragstart in parent"),n.value=!0},i=()=>{console.log("dragend in parent"),n.value=!1},l=c=>{console.log(`: ${c}`),s.value=c};return(c,u)=>(D(),H(Ze,null,[j(nie,{onMouseenter:r,onMouseleave:o,onDragstart:a,onDragend:i,onUpdateDraggingIndex:l}),j(Qhe,{showAddIcon:e.value,isFlashing:n.value,draggingIndex:s.value},null,8,["showAddIcon","isFlashing","draggingIndex"])],64))}},Jhe="modulepreload",eme=function(t){return"/singsPage/"+t},PA={},tme=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=eme(l),l in PA)return;PA[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Jhe,c||(d.as="script"),d.crossOrigin="",d.href=l,i&&d.setAttribute("nonce",i),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return e().catch(o)})},nme={class:"pdf-wrapper",style:{width:"100%",height:"600px",overflow:"auto",border:"1px solid #ccc"}},sme={__name:"FrameworkJS",setup(t){const e=z(null);return wt(async()=>{const n=await tme(()=>import("./pdf-yWl7uhZm.js").then(o=>o.p),[]);n.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.min.js",n.getDocument("./framework/framework.pdf").promise.then(o=>{o.getPage(1).then(a=>{const l=a.getViewport({scale:1.5}),c=e.value,u=c.getContext("2d");c.height=l.height,c.width=l.width;const d={canvasContext:u,viewport:l};a.render(d)})}).catch(o=>{console.error("Error loading PDF:",o)})}),(n,s)=>(D(),H("div",nme,[K("canvas",{ref_key:"pdfCanvas",ref:e},null,512)]))}},rme=Xr(sme,[["__scopeId","data-v-088d95a4"]]),ome="/singsPage/video/FinalAnim.mp4",ame={},FP=t=>(bl("data-v-c5a24e39"),t=t(),Sl(),t),ime=FP(()=>K("h1",{class:"section-title"},"Animation",-1)),lme=FP(()=>K("video",{controls:"",muted:"",preload:"",playsinline:""},[K("source",{src:ome,type:"video/mp4"})],-1));function cme(t,e){const n=et("el-divider"),s=et("el-row"),r=et("el-container"),o=et("el-col");return D(),H("div",null,[j(n),j(s,{justify:"center"},{default:te(()=>[ime]),_:1}),j(s,{justify:"center"},{default:te(()=>[j(o,{xs:20,sm:18,md:16,lg:16,xl:16},{default:te(()=>[j(r,{class:"video-container"},{default:te(()=>[lme]),_:1})]),_:1})]),_:1})])}const ume=Xr(ame,[["render",cme],["__scopeId","data-v-c5a24e39"]]),dme={components:{Title:Qre,AnimVideo:ume,Abstract:toe,Showcases:Zhe,Markdown:soe,BibTeX:uoe,Video:voe,Collapse:xoe,FrameworkJS:rme}};function fme(t,e,n,s,r,o){const a=et("Title"),i=et("AnimVideo"),l=et("Showcases"),c=et("Abstract"),u=et("Video"),d=et("FrameworkJS"),h=et("Collapse"),p=et("BibTeX");return D(),H(Ze,null,[j(a),j(i),j(l),j(c),j(u),j(d),j(h),j(p)],64)}const pme=Xr(dme,[["render",fme]]),NP=t=>(bl("data-v-ef91a384"),t=t(),Sl(),t),hme={class:"bg"},mme={class:"footer"},vme=["href"],gme=NP(()=>K("br",null,null,-1)),yme=NP(()=>K("br",null,null,-1)),bme=se({__name:"Footer",setup(t){const e={Nerfies:"https://github.com/nerfies/nerfies.github.io",Vue:"https://cn.vuejs.org/",Vite:"https://cn.vitejs.dev/",ElementPlus:"https://element-plus.org/zh-CN/",template:"https://github.com/JunyaoHu/academic-project-page-template-vue"};return(n,s)=>{const r=et("el-row"),o=et("el-watermark");return D(),H("div",hme,[j(o,{image:"./icon/FullLogo_200x300.png",width:30,height:20},{default:te(()=>[j(r,{justify:"center"},{default:te(()=>[K("p",mme,[St(" This page is inspired by "),K("a",{href:e.template}," this project ",8,vme),St(" , which integrates many useful components. "),gme,St(" Parts of this project were adopted directly from it, and here is my sincere appreciation to the author and the contribution. "),yme])]),_:1})]),_:1})])}}}),Sme=Xr(bme,[["__scopeId","data-v-ef91a384"]]),_me={components:{Header:gre,Banner:pre,Main:pme,Footer:Sme}};function wme(t,e,n,s,r,o){const a=et("Header"),i=et("el-header"),l=et("Main"),c=et("el-main"),u=et("Footer"),d=et("el-footer"),h=et("el-container"),p=et("el-backtop");return D(),H("div",null,[j(h,null,{default:te(()=>[j(i,null,{default:te(()=>[j(a)]),_:1}),j(c,null,{default:te(()=>[j(l)]),_:1}),j(d,null,{default:te(()=>[j(u)]),_:1})]),_:1}),j(p,{right:40,bottom:80})])}const Cme=Xr(_me,[["render",wme]]),UP=zE(Cme);UP.use(tre);UP.mount("#app");export{xa as a,Ame as g};
